(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{"./client/components/section-nav/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),l=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),r=n.n(l),c=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(c),p=n("./node_modules/@babel/runtime/helpers/inherits.js"),u=n.n(p),h=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),m=n.n(h),b=n("./node_modules/react/index.js"),f=n.n(b),v=n("./node_modules/prop-types/index.js"),w=n.n(v),y=n("./node_modules/classnames/index.js"),_=n.n(y),j=n("./node_modules/lodash/lodash.js"),g=n("./node_modules/gridicons/dist/index.js"),x=n.n(g),C=n("./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx"),k=n("./client/components/section-nav/tabs.jsx"),O=n("./client/components/section-nav/item.jsx"),D=n("./client/components/search/index.jsx"),S=function(e){function t(){var e,n;o()(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=r()(this,(e=d()(t)).call.apply(e,[this].concat(i))),n.state={mobileOpen:!1},n.renderDropdown=function(){return n.props.allowDropdown?f.a.createElement("div",{className:"section-nav__mobile-header",onClick:n.toggleMobileOpenState},f.a.createElement("span",{className:"section-nav__mobile-header-text"},n.props.selectedText),f.a.createElement(x.a,{icon:"chevron-down",size:18})):f.a.createElement("div",null)},n.getChildren=function(){return f.a.Children.map(n.props.children,function(e){var t={hasSiblingControls:this.hasSiblingControls,closeSectionNavMobilePanel:this.closeMobilePanel};return e?(e.type!==k.a||e.props.selectedText||"string"!=typeof this.props.selectedText||(t.selectedText=this.props.selectedText),e.type===k.a&&this.props.selectedCount&&(t.selectedCount=this.props.selectedCount),e.type===D.a&&(e.props.pinned&&(this.hasPinnedSearch=!0),t.onSearch=this.generateOnSearch(e.props.onSearch)),f.a.cloneElement(e,t)):null}.bind(m()(m()(n))))},n.closeMobilePanel=function(){window.innerWidth<480&&n.state.mobileOpen&&n.setState({mobileOpen:!1})},n.toggleMobileOpenState=function(){var e=!n.state.mobileOpen;n.setState({mobileOpen:e}),e&&n.props.onMobileNavPanelOpen()},n.generateOnSearch=function(e){return function(){e.apply(void 0,arguments),n.closeMobilePanel()}},n.checkForSiblingControls=function(e){n.hasSiblingControls=!1;var t=[D.a,C.a];f.a.Children.forEach(e,function(e,n){n&&e&&!Object(j.includes)(t,e.type)&&(this.hasSiblingControls=!0)}.bind(m()(m()(n))))},n}return u()(t,e),a()(t,[{key:"componentWillMount",value:function(){this.checkForSiblingControls(this.props.children)}},{key:"componentWillReceiveProps",value:function(e){this.checkForSiblingControls(e.children),this.hasSiblingControls||this.closeMobilePanel()}},{key:"render",value:function(){var e,t=this.getChildren();return t?(e=_()({"section-nav":!0,"is-open":this.state.mobileOpen,"has-pinned-items":this.hasPinnedSearch||this.props.hasPinnedItems},this.props.className),f.a.createElement("div",{className:e},this.renderDropdown(),f.a.createElement("div",{className:"section-nav__panel"},t))):(e=_()({"section-nav":!0,"is-empty":!0},this.props.className),f.a.createElement("div",{className:e},f.a.createElement("div",{className:"section-nav__panel"},f.a.createElement(O.a,null))))}}]),t}(b.Component);S.propTypes={selectedText:w.a.node,selectedCount:w.a.number,hasPinnedItems:w.a.bool,onMobileNavPanelOpen:w.a.func,className:w.a.string,allowDropdown:w.a.bool},S.defaultProps={onMobileNavPanelOpen:function(){},allowDropdown:!0},t.a=S},"./client/components/section-nav/item.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),l=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),r=n.n(l),c=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(c),p=n("./node_modules/@babel/runtime/helpers/inherits.js"),u=n.n(p),h=n("./node_modules/react/index.js"),m=n.n(h),b=n("./node_modules/prop-types/index.js"),f=n.n(b),v=n("./node_modules/classnames/index.js"),w=n.n(v),y=n("./node_modules/gridicons/dist/index.js"),_=n.n(y),j=n("./client/components/count/index.jsx"),g=n("./client/sections-helper.js"),x=function(e){function t(){var e,n;o()(this,t);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return n=r()(this,(e=d()(t)).call.apply(e,[this].concat(i))),n._preloaded=!1,n.preload=function(){!n._preloaded&&n.props.preloadSectionName&&(n._preloaded=!0,Object(g.b)(n.props.preloadSectionName))},n}return u()(t,e),a()(t,[{key:"render",value:function(){var e=this.props.itemType?this.props.itemType:"tab",t={"is-selected":this.props.selected,"is-external":this.props.isExternalLink};t["section-nav-"+e]=!0;var n,s,o=w()(this.props.className,t);return this.props.isExternalLink&&(n="_blank"),this.props.disabled||(s=this.props.onClick),m.a.createElement("li",{className:o},m.a.createElement("a",{href:this.props.path,target:n,className:"section-nav-"+e+"__link",onClick:s,onMouseEnter:this.preload,tabIndex:this.props.tabIndex||0,"aria-selected":this.props.selected,disabled:this.props.disabled,role:"menuitem",rel:this.props.isExternalLink?"external":null},m.a.createElement("span",{className:"section-nav-"+e+"__text"},this.props.children,"number"==typeof this.props.count&&m.a.createElement(j.a,{count:this.props.count,compact:this.props.compactCount})),this.props.isExternalLink?m.a.createElement(_.a,{icon:"external",size:18}):null))}}]),t}(h.PureComponent);x.propTypes={itemType:f.a.string,path:f.a.string,selected:f.a.bool,tabIndex:f.a.number,onClick:f.a.func,isExternalLink:f.a.bool,disabled:f.a.bool,count:f.a.oneOfType([f.a.number,f.a.bool]),compactCount:f.a.bool,className:f.a.string,preloadSectionName:f.a.string},t.a=x},"./client/components/section-nav/tabs.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(s),i=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(i),l=n("./node_modules/@babel/runtime/helpers/createClass.js"),r=n.n(l),c=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),d=n.n(c),p=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(p),h=n("./node_modules/@babel/runtime/helpers/inherits.js"),m=n.n(h),b=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),f=n.n(b),v=n("./node_modules/react/index.js"),w=n.n(v),y=n("./node_modules/react-dom/index.js"),_=n.n(y),j=n("./node_modules/prop-types/index.js"),g=n.n(j),x=n("./node_modules/classnames/index.js"),C=n.n(x),k=n("./node_modules/lodash/lodash.js"),O=n("./client/components/select-dropdown/item.jsx"),D=n("./client/components/select-dropdown/index.jsx"),S=n("./client/lib/viewport/index.js"),E=n("./client/lib/after-layout-flush/index.js"),I=n("./client/components/translatable/proptype.js"),N=480,T=function(e){function t(){var e,n;a()(this,t);for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return n=d()(this,(e=u()(t)).call.apply(e,[this].concat(i))),n.state={isDropdown:!1},n.getTabWidths=function(){var e=0;w.a.Children.forEach(n.props.children,function(t,n){if(t){var s=_.a.findDOMNode(this.refs["tab-"+n]).offsetWidth;e+=s}}.bind(f()(f()(n)))),n.tabsWidth=Math.max(e,n.tabsWidth||0)},n.getDropdown=function(){var e=w.a.Children.map(n.props.children,function(e,t){return e?w.a.createElement(O.a,o()({},e.props,{key:"navTabsDropdown-"+t}),e.props.children):null});return w.a.createElement(D.a,{className:"section-nav-tabs__dropdown",selectedText:n.props.selectedText,selectedCount:n.props.selectedCount},e)},n.setDropdown=function(){var e;if(window.innerWidth>N){if(!n.refs.navGroup)return;e=n.refs.navGroup.offsetWidth,n.getTabWidths(),e<=n.tabsWidth&&!n.state.isDropdown?n.setState({isDropdown:!0}):e>n.tabsWidth&&n.state.isDropdown&&n.setState({isDropdown:!1})}else window.innerWidth<=N&&n.state.isDropdown&&n.setState({isDropdown:!1})},n.setDropdownDebounced=Object(k.debounce)(n.setDropdown,300),n.setDropdownAfterLayoutFlush=Object(E.a)(n.setDropdown),n.keyHandler=function(e){switch(e.keyCode){case 32:case 13:e.preventDefault(),document.activeElement.click()}},n}return m()(t,e),r()(t,[{key:"componentDidMount",value:function(){this.setDropdownAfterLayoutFlush(),window.addEventListener("resize",this.setDropdownDebounced)}},{key:"componentDidUpdate",value:function(){this.setDropdownAfterLayoutFlush()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setDropdownDebounced),this.setDropdownDebounced.cancel(),this.setDropdownAfterLayoutFlush.cancel()}},{key:"render",value:function(){var e=w.a.Children.map(this.props.children,function(e,t){return e&&w.a.cloneElement(e,{ref:"tab-"+t})}),t=C()({"section-nav-tabs":!0,"is-dropdown":this.state.isDropdown,"is-open":this.state.isDropdownOpen,"has-siblings":this.props.hasSiblingControls}),n=Object(S.a)();return w.a.createElement("div",{className:"section-nav-group",ref:"navGroup"},w.a.createElement("div",{className:t},this.props.label&&w.a.createElement("h6",{className:"section-nav-group__label"},this.props.label),w.a.createElement("ul",{className:"section-nav-tabs__list",role:"menu",onKeyDown:this.keyHandler},e),this.state.isDropdown&&n>N&&this.getDropdown()))}}]),t}(v.Component);T.propTypes={selectedText:I.a,selectedCount:g.a.number,label:g.a.string,hasSiblingControls:g.a.bool},T.defaultProps={hasSiblingControls:!1},t.a=T},"./client/components/select-dropdown/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),l=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),r=n.n(l),c=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(c),p=n("./node_modules/@babel/runtime/helpers/inherits.js"),u=n.n(p),h=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),m=n.n(h),b=n("./node_modules/react-dom/index.js"),f=n.n(b),v=n("./node_modules/prop-types/index.js"),w=n.n(v),y=n("./node_modules/react/index.js"),_=n.n(y),j=n("./node_modules/lodash/lodash.js"),g=n("./node_modules/classnames/index.js"),x=n.n(g),C=n("./node_modules/gridicons/dist/index.js"),k=n.n(C),O=n("./client/components/select-dropdown/item.jsx"),D=n("./client/components/select-dropdown/separator.jsx"),S=n("./client/components/select-dropdown/label.jsx"),E=n("./client/components/count/index.jsx"),I=n("./client/components/translatable/proptype.js"),N=function(e){function t(e){var n;o()(this,t),n=r()(this,d()(t).call(this,e)),n.navigateItem=n.navigateItem.bind(m()(m()(n))),n.toggleDropdown=n.toggleDropdown.bind(m()(m()(n))),n.handleOutsideClick=n.handleOutsideClick.bind(m()(m()(n)));var s={isOpen:!1};return e.options.length&&(s.selected=n.getInitialSelectedItem(e)),n.state=s,n}return u()(t,e),a()(t,[{key:"componentWillMount",value:function(){this.setState({instanceId:++t.instances})}},{key:"componentWillReceiveProps",value:function(e){this.state.isOpen&&this.closeDropdown(),void 0!==this.state.selected&&this.props.initialSelected!==e.initialSelected&&this.setState({selected:e.initialSelected})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleOutsideClick)}},{key:"componentDidUpdate",value:function(e,t){this.state.isOpen?window.addEventListener("click",this.handleOutsideClick):window.removeEventListener("click",this.handleOutsideClick),this.state.isOpen!==t.isOpen&&this.props.onToggle({target:this,open:this.state.isOpen})}},{key:"getInitialSelectedItem",value:function(e){if(e=e||this.props,e.initialSelected)return e.initialSelected;if(e.options.length){var t=Object(j.find)(e.options,function(e){return!e.isLabel});return t&&t.value}}},{key:"getSelectedText",value:function(){var e=this.props,t=e.options,n=e.selectedText,s=this.state.selected;if(n)return n;var o=s||this.getInitialSelectedItem(this.props);return Object(j.result)(Object(j.find)(t,{value:o}),"label")}},{key:"getSelectedIcon",value:function(){var e=this.props,t=e.options,n=e.selectedIcon,s=this.state.selected;if(n)return n;var o=s||this.getInitialSelectedItem(this.props);return Object(j.result)(Object(j.find)(t,{value:o}),"icon")}},{key:"dropdownOptions",value:function(){var e=0,t=this;return this.props.children?_.a.Children.map(this.props.children,function(n,s){if(!n)return null;var o=_.a.cloneElement(n,{ref:n.type===O.a?"item-"+e:null,key:"item-"+s,isDropdownOpen:this.state.isOpen,onClick:function(e){t.refs.dropdownContainer.focus(),"function"==typeof n.props.onClick&&n.props.onClick(e)}});return n.type===O.a&&e++,o},this):this.props.options.map(function(t,n){if(!t)return _.a.createElement(D.a,{key:"dropdown-separator-"+this.state.instanceId+"-"+n});if(t.isLabel)return _.a.createElement(S.a,{key:"dropdown-label-"+this.state.instanceId+"-"+n},t.label);var s=_.a.createElement(O.a,{key:"dropdown-item-"+this.state.instanceId+"-"+t.value,ref:"item-"+e,isDropdownOpen:this.state.isOpen,selected:this.state.selected===t.value,onClick:this.onSelectItem(t),path:t.path,icon:t.icon},t.label);return e++,s},this)}},{key:"render",value:function(){var e=x()(this.props.className,{"select-dropdown":!0,"is-compact":this.props.compact,"is-open":this.state.isOpen,"has-count":"number"==typeof this.props.selectedCount}),t=this.getSelectedText(),n=this.getSelectedIcon();return _.a.createElement("div",{style:this.props.style,className:e},_.a.createElement("div",{ref:"dropdownContainer",className:"select-dropdown__container",onKeyDown:this.navigateItem,tabIndex:this.props.tabIndex||0,"aria-haspopup":"true","aria-owns":"select-submenu-"+this.state.instanceId,"aria-controls":"select-submenu-"+this.state.instanceId,"aria-expanded":this.state.isOpen,"data-tip-target":this.props.tipTarget,onClick:this.toggleDropdown},_.a.createElement("div",{id:"select-dropdown-"+this.state.instanceId,className:"select-dropdown__header"},_.a.createElement("span",{className:"select-dropdown__header-text"},n&&n.type===k.a?n:null,t),"number"==typeof this.props.selectedCount&&_.a.createElement(E.a,{count:this.props.selectedCount}),_.a.createElement(k.a,{icon:"chevron-down",size:18})),_.a.createElement("ul",{id:"select-submenu-"+this.state.instanceId,className:"select-dropdown__options",role:"menu","aria-labelledby":"select-dropdown-"+this.state.instanceId,"aria-expanded":this.state.isOpen},this.dropdownOptions())))}},{key:"toggleDropdown",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"openDropdown",value:function(){this.setState({isOpen:!0})}},{key:"closeDropdown",value:function(){this.state.isOpen&&(delete this.focused,this.setState({isOpen:!1}))}},{key:"onSelectItem",value:function(e){return this.selectItem.bind(this,e)}},{key:"selectItem",value:function(e){e&&(this.props.onSelect&&this.props.onSelect(e),this.setState({selected:e.value}),this.refs.dropdownContainer.focus())}},{key:"navigateItem",value:function(e){switch(e.keyCode){case 9:this.navigateItemByTabKey(e);break;case 32:case 13:e.preventDefault(),this.activateItem();break;case 38:e.preventDefault(),this.focusSibling("previous"),this.openDropdown();break;case 40:e.preventDefault(),this.focusSibling("next"),this.openDropdown();break;case 27:e.preventDefault(),this.closeDropdown(),this.refs.dropdownContainer.focus()}}},{key:"navigateItemByTabKey",value:function(e){if(this.state.isOpen){e.preventDefault();var t=e.shiftKey?"previous":"next";this.focusSibling(t)}}},{key:"activateItem",value:function(){if(!this.state.isOpen)return this.openDropdown();document.activeElement.click()}},{key:"focusSibling",value:function(e){if(this.state.isOpen){var t,n;this.props.options.length?(t=Object(j.map)(Object(j.filter)(this.props.options,function(e){return e&&!e.isLabel}),"value"),n="number"==typeof this.focused?this.focused:t.indexOf(this.state.selected)):(t=Object(j.filter)(this.props.children,function(e){return e.type===O.a}),n="number"==typeof this.focused?this.focused:Object(j.findIndex)(t,function(e){return e.props.selected}));var s="previous"===e?-1:1,o=n+s;o>=t.length||o<0||(f.a.findDOMNode(this.refs["item-"+o].refs.itemLink).focus(),this.focused=o)}}},{key:"handleOutsideClick",value:function(e){f.a.findDOMNode(this.refs.dropdownContainer).contains(e.target)||this.closeDropdown()}}]),t}(y.Component);N.propTypes={selectedText:I.a,selectedIcon:w.a.element,selectedCount:w.a.number,initialSelected:w.a.string,className:w.a.string,style:w.a.object,onSelect:w.a.func,onToggle:w.a.func,focusSibling:w.a.func,tabIndex:w.a.number,options:w.a.arrayOf(w.a.shape({value:w.a.string.isRequired,label:I.a.isRequired,path:w.a.string,icon:w.a.element}))},N.defaultProps={options:[],onSelect:function(){},onToggle:function(){},style:{}},N.instances=0,t.a=N},"./client/components/select-dropdown/item.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),i=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(i),l=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),r=n.n(l),c=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),d=n.n(c),p=n("./node_modules/@babel/runtime/helpers/inherits.js"),u=n.n(p),h=n("./node_modules/prop-types/index.js"),m=n.n(h),b=n("./node_modules/react/index.js"),f=n.n(b),v=n("./node_modules/classnames/index.js"),w=n.n(v),y=n("./node_modules/gridicons/dist/index.js"),_=n.n(y),j=n("./client/components/count/index.jsx"),g=n("./client/components/translatable/proptype.js"),x=function(e){function t(){return o()(this,t),r()(this,d()(t).apply(this,arguments))}return u()(t,e),a()(t,[{key:"render",value:function(){var e=w()(this.props.className,{"select-dropdown__item":!0,"is-selected":this.props.selected,"is-disabled":this.props.disabled,"has-icon":!!this.props.icon});return f.a.createElement("li",{className:"select-dropdown__option"},f.a.createElement("a",{ref:"itemLink",href:this.props.path,className:e,onClick:this.props.disabled?null:this.props.onClick,"data-bold-text":this.props.value||this.props.children,role:"menuitem",tabIndex:this.props.isDropdownOpen?0:"","aria-selected":this.props.selected,"data-e2e-title":this.props.e2eTitle},f.a.createElement("span",{className:"select-dropdown__item-text"},this.props.icon&&this.props.icon.type===_.a?this.props.icon:null,this.props.children),"number"==typeof this.props.count&&f.a.createElement("span",{"data-text":this.props.count,className:"select-dropdown__item-count"},f.a.createElement(j.a,{count:this.props.count,compact:this.props.compactCount}))))}}]),t}(b.Component);x.propTypes={children:g.a.isRequired,compactCount:m.a.bool,path:m.a.string,isDropdownOpen:m.a.bool,selected:m.a.bool,onClick:m.a.func,count:m.a.number,disabled:m.a.bool,icon:m.a.element},x.defaultProps={isDropdownOpen:!1,selected:!1},t.a=x},"./client/components/select-dropdown/label.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n("./node_modules/react/index.js"),o=n.n(s),i=function(e){return e.stopPropagation()};function a(e){return o.a.createElement("li",{onClick:i,className:"select-dropdown__label"},o.a.createElement("label",null,e.children))}},"./client/components/select-dropdown/separator.jsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),o=n.n(s);t.a=function(){return o.a.createElement("li",{className:"select-dropdown__separator"})}},"./client/lib/after-layout-flush/index.js":function(e,t,n){"use strict";function s(e){var t,n,s=void 0,o=void 0,i=(t=e,function(){void 0===o&&(o=setTimeout(function(){o=void 0,t()},0))});return"function"==typeof requestAnimationFrame&&(n=i,i=function(){void 0===s&&(s=requestAnimationFrame(function(){s=void 0,n()}))}),i.cancel=function(){void 0!==s&&(cancelAnimationFrame(s),s=void 0),void 0!==o&&(clearTimeout(o),o=void 0)},i}n.d(t,"a",function(){return s})},"./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),o=n.n(s),i=n("./node_modules/classnames/index.js"),a=n.n(i);t.a=function(e){var t=e.children,n=e.className;return o.a.createElement("div",{className:a()("comment-navigation__tab",n)},t)}}}]);