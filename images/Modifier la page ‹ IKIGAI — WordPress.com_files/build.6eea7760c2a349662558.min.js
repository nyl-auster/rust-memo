(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{"./client/auth/controller.js":function(e,t,n){"use strict";var r,i=n("./node_modules/react/index.js"),s=n.n(i),o=n("./node_modules/lodash/lodash.js"),a=n("./node_modules/page/page.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),f=n.n(m),_=n("./node_modules/@babel/runtime/helpers/createClass.js"),E=n.n(_),b=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),g=n.n(b),h=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),O=n.n(h),y=n("./node_modules/@babel/runtime/helpers/inherits.js"),j=n.n(y),v=n("./node_modules/gridicons/dist/index.js"),S=n.n(v),I=n("./node_modules/react-redux/es/index.js"),T=n("./node_modules/i18n-calypso/index.js"),C=n("./node_modules/superagent/lib/client.js"),R=n.n(C),A=n("./client/dispatcher/index.js"),N=n("./node_modules/key-mirror/index.js"),w=n.n(N),P=w()({AUTH_CODE_REQUEST:null,RECEIVE_AUTH_CODE_REQUEST:null,RESET_AUTH_CODE_REQUEST:null});function U(){r=null,A.a.handleViewAction({type:P.RESET_AUTH_CODE_REQUEST})}var D=n("./client/lib/store/index.js"),k=w()({READY:null,REQUESTING:null,COMPLETE:null}),L={status:k.READY,errorLevel:!1,errorMessage:!1};var M=Object(D.a)(function(e,t){var n=t.action;switch(n.type){case P.AUTH_CODE_REQUEST:return{status:k.REQUESTING,errorLevel:!1,errorMessage:!1};case P.RECEIVE_AUTH_CODE_REQUEST:return function(e){var t=e.data,n=e.error,r=null;return t&&t.body&&"needs_2fa"===t.body.error?Object.assign({},L,{status:k.COMPLETE}):(t&&t.body&&t.body.error_description?r=t.body.error_description:n&&(r=n.message),Object.assign({},L,{status:k.COMPLETE,errorLevel:"is-error",errorMessage:r}))}(n);case P.RESET_AUTH_CODE_REQUEST:return L}return e},L),x=n("./client/components/notice/index.jsx"),F=function(e){function t(){var e,n;f()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n=g()(this,(e=O()(t)).call.apply(e,[this].concat(s))),n.state=M.get(),n.refreshData=function(){n.setState(M.get())},n.requestSMSCode=function(e){var t,i;e.preventDefault(),t=n.props.username,i=n.props.password,r||(A.a.handleViewAction({type:P.AUTH_CODE_REQUEST}),R.a.post("/sms").send({username:t,password:i}).end(function(e,t){r=setTimeout(U,3e4),A.a.handleServerAction({type:P.RECEIVE_AUTH_CODE_REQUEST,data:t,error:e})}))},n}return j()(t,e),E()(t,[{key:"componentDidMount",value:function(){M.on("change",this.refreshData)}},{key:"componentWillUnmount",value:function(){M.off("change",this.refreshData)}},{key:"render",value:function(){var e=this.state,t=e.status,n=e.errorLevel,r=e.errorMessage,i="is-info",o=!1,a=s.a.createElement("a",{href:"#",onClick:this.requestSMSCode},this.props.translate("Send code via text message."));return t===k.REQUESTING&&(a=this.props.translate("Requesting code.")),t===k.COMPLETE&&(i="is-success",a=this.props.translate("Code sent.")),!1!==n&&(i=n,a=r,o=!0),s.a.createElement(x.b,{showDismiss:o,status:i,onDismissClick:U},a)}}]),t}(s.a.Component),V=Object(T.localize)(F),G=n("./node_modules/debug/src/browser.js"),q=n.n(G),H={AUTH_LOGIN:"AUTH_LOGIN",RECEIVE_AUTH_LOGIN:"RECEIVE_AUTH_LOGIN",AUTH_RESET:"AUTH_RESET"},W={ERROR_REQUIRES_2FA:"needs_2fa",ERROR_INVALID_OTP:"invalid_otp"},B=n("./client/lib/oauth-token/index.js"),Q=q()("calypso:auth:store"),z={requires2fa:!1,inProgress:!1,errorLevel:!1,errorMessage:!1};function Y(e){Q("Access token received"),B.b(e.body.access_token),document.location.replace("/")}var K=Object(D.a)(function(e,t){var n,r=t.action;switch(r.type){case H.AUTH_RESET:n=z;break;case H.AUTH_LOGIN:n={inProgress:!0,errorLevel:!1,errorMessage:!1};break;case H.RECEIVE_AUTH_LOGIN:r.error?n=function(e,t){var n={errorLevel:"is-error",requires2fa:!1,inProgress:!1};return n.errorMessage=t&&t.body?t.body.error_description:e.message,Q("Error processing login: "+n.errorMessage),t&&t.body&&(t.body.error===W.ERROR_REQUIRES_2FA?(n.requires2fa=!0,n.errorLevel="is-info"):t.body.error===W.ERROR_INVALID_OTP&&(n.requires2fa=!0)),n}(r.error,r.data):Y(r.data)}return n?Object.assign({},e,n):e},z),J=K,Z=n("./client/config/index.js"),$=n("./client/components/forms/form-button/index.jsx"),X=n("./client/components/forms/form-buttons-bar/index.jsx"),ee=n("./client/components/forms/form-fieldset/index.jsx"),te=n("./client/components/forms/form-password-input/index.jsx"),ne=n("./client/components/forms/form-text-input/index.jsx"),re=n("./client/lib/i18n-utils/browser.js"),ie=Object(T.localize)(function(e){var t=e.translate,n=Object(re.b)("https://wordpress.com/wp-login.php?action=lostpassword",Object(re.h)());return s.a.createElement("p",{className:"auth__lost-password"},s.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},t("Lost your password?")))}),se=n("./client/components/main/index.jsx"),oe=Object(T.localize)(function(e){var t=e.onClickClose,n=e.translate;return s.a.createElement("div",{className:"auth__self-hosted-instructions"},s.a.createElement("a",{href:"#",onClick:t,className:"auth__self-hosted-instructions-close"},s.a.createElement(S.a,{icon:"cross",size:24})),s.a.createElement("h2",null,n("Add self-hosted site")),s.a.createElement("p",null,n("By default when you sign into the WordPress.com app, you can edit blogs and sites hosted at WordPress.com")),s.a.createElement("p",null,n("If you'd like to edit your self-hosted WordPress blog or site, you can do that by following these instructions:")),s.a.createElement("ol",null,s.a.createElement("li",null,s.a.createElement("strong",null,n("Install the Jetpack plugin.")),s.a.createElement("br",null),s.a.createElement("a",{href:"http://jetpack.me/install/"},n("Please follow these instructions to install Jetpack")),"."),s.a.createElement("li",null,n("Connect Jetpack to WordPress.com.")),s.a.createElement("li",null,n('Now you can sign in to the app using the WordPress.com account Jetpack is connected to, and you can find your self-hosted site under the "My Sites" section.'))))}),ae=n("./client/components/wordpress-logo/index.jsx"),ce=n("./client/lib/analytics/index.js");function ue(e,t,n){A.a.handleViewAction({type:H.AUTH_LOGIN}),R.a.post("/oauth").send({username:e,password:t,auth_code:Object(o.replace)(n,/\s/g,"")}).end(function(e,t){!function(e,t){var n;e&&(n=t&&t.body?t.body.error:"status_"+e.status);n===W.ERROR_REQUIRES_2FA?(ce.default.tracks.recordEvent("calypso_oauth_login_needs2fa"),ce.default.mc.bumpStat("calypso_oauth_login","success-needs-2fa")):n?(ce.default.tracks.recordEvent("calypso_oauth_login_fail",{error:e.error}),ce.default.mc.bumpStat({calypso_oauth_login_error:n,calypso_oauth_login:"error"})):(ce.default.tracks.recordEvent("calypso_oauth_login_success"),ce.default.mc.bumpStat("calypso_oauth_login","success"))}(e,t),A.a.handleServerAction({type:H.RECEIVE_AUTH_LOGIN,data:t,error:e})})}var le=n("./client/state/analytics/actions.js"),de=function(e){function t(){var e,n;f()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=g()(this,(e=O()(t)).call.apply(e,[this].concat(i))),n.state=p()({login:"",password:"",auth_code:""},J.get()),n.getClickHandler=function(e){return function(){return n.props.recordGoogleEvent("Me","Clicked on "+e)}},n.getFocusHandler=function(e){return function(){return n.props.recordGoogleEvent("Me","Focused on "+e)}},n.refreshData=function(){n.setState(J.get())},n.focusInput=function(e){n.state.requires2fa&&!1===n.state.inProgress&&e.focus()},n.submitForm=function(e){e.preventDefault(),e.stopPropagation(),ue(n.state.login,n.state.password,n.state.auth_code)},n.toggleSelfHostedInstructions=function(){var e=!n.state.showInstructions;n.setState({showInstructions:e})},n.handleChange=function(e){var t=e.currentTarget,r=t.name,i=t.value;n.setState(l()({},r,i))},n}return j()(t,e),E()(t,[{key:"componentDidMount",value:function(){J.on("change",this.refreshData)}},{key:"componentWillUnmount",value:function(){J.off("change",this.refreshData)}},{key:"hasLoginDetails",value:function(){return""!==this.state.login&&""!==this.state.password}},{key:"canSubmitForm",value:function(){return!this.state.inProgress&&(this.state.requires2fa?parseInt(this.state.auth_code,10)>0:this.hasLoginDetails())}},{key:"render",value:function(){var e=this.props.translate,t=this.state,n=t.requires2fa,r=t.inProgress,i=t.errorMessage,o=t.errorLevel,a=t.showInstructions;return s.a.createElement(se.a,{className:"auth"},s.a.createElement("div",{className:"auth__content"},s.a.createElement(ae.a,null),s.a.createElement("form",{className:"auth__form",onSubmit:this.submitForm},s.a.createElement(ee.a,null,s.a.createElement("div",{className:"auth__input-wrapper"},s.a.createElement(S.a,{icon:"user"}),s.a.createElement(ne.a,{name:"login",disabled:n||r,placeholder:e("Email address or username"),onFocus:this.getFocusHandler("Username or email address"),value:this.state.login,onChange:this.handleChange})),s.a.createElement("div",{className:"auth__input-wrapper"},s.a.createElement(S.a,{icon:"lock"}),s.a.createElement(te.a,{name:"password",disabled:n||r,placeholder:e("Password"),onFocus:this.getFocusHandler("Password"),hideToggle:n,submitting:r,value:this.state.password,onChange:this.handleChange})),n&&s.a.createElement(ee.a,null,s.a.createElement(ne.a,{autoComplete:"off",name:"auth_code",type:"tel",ref:this.focusInput,disabled:r,placeholder:e("Verification code"),onFocus:this.getFocusHandler("Verification code"),value:this.state.auth_code,onChange:this.handleChange}))),s.a.createElement(X.a,null,s.a.createElement($.a,{disabled:!this.canSubmitForm(),onClick:this.getClickHandler("Sign in")},e(n?"Verify":"Sign in"))),!n&&s.a.createElement(ie,null),i&&s.a.createElement(x.b,{text:i,status:o,showDismiss:!1}),n&&s.a.createElement(V,{username:this.state.login,password:this.state.password})),s.a.createElement("a",{className:"auth__help",target:"_blank",rel:"noopener noreferrer",title:e("Visit the WordPress.com support site for help"),href:"https://en.support.wordpress.com/"},s.a.createElement(S.a,{icon:"help"})),s.a.createElement("div",{className:"auth__links"},s.a.createElement("a",{href:"#",onClick:this.toggleSelfHostedInstructions},e("Add self-hosted site")),s.a.createElement("a",{href:Object(Z.a)("signup_url")},e("Create account"))),a&&s.a.createElement(oe,{onClickClose:this.toggleSelfHostedInstructions})))}}]),t}(i.Component),pe=Object(I.b)(null,{recordGoogleEvent:le.g})(Object(T.localize)(de)),me=n("./client/components/button/index.jsx"),fe=n("./client/components/notice/notice-action.jsx"),_e=function(e){function t(){var e,n;f()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=g()(this,(e=O()(t)).call.apply(e,[this].concat(i))),n.getCreateAccountUrl=function(){return Z.a.isEnabled("devdocs")?"https://wordpress.com/start/developer":"https://wordpress.com/start"},n}return j()(t,e),E()(t,[{key:"render",value:function(){return s.a.createElement(se.a,{className:"auth auth__connect"},s.a.createElement(ae.a,{size:72}),Object(Z.a)("oauth_client_id")?s.a.createElement("div",{className:"auth__connect-intro"},s.a.createElement("p",{className:"auth__welcome"},this.props.translate("Welcome to Calypso. Authorize the application with your WordPress.com credentials to get started.")),s.a.createElement(me.a,{href:this.props.authUrl},this.props.translate("Authorize App"))):s.a.createElement(x.b,{status:"is-warning",text:this.props.translate("You need to set `oauth_client_id` in your config file."),showDismiss:!1},s.a.createElement(fe.a,{href:"https://developer.wordpress.com/apps/"},this.props.translate("Go to Developer Resources"))),s.a.createElement("a",{className:"auth__help",target:"_blank",rel:"noopener noreferrer",title:this.props.translate("Visit the Calypso GitHub repository for help"),href:"https://github.com/Automattic/wp-calypso"},s.a.createElement(S.a,{icon:"help"})),s.a.createElement("div",{className:"auth__links"},s.a.createElement("a",{href:this.getCreateAccountUrl()},this.props.translate("Create account"))))}}]),t}(s.a.Component),Ee=Object(T.localize)(_e),be=n("./client/lib/wp/browser.js"),ge=n("./node_modules/store/store.js"),he=n.n(ge),Oe=n("./node_modules/wpcom-oauth/index.js"),ye=n.n(Oe),je=n("./client/lib/user/index.js"),ve=n("./client/components/pulsing-dot/index.jsx");t.a={oauthLogin:function(e,t){Z.a.isEnabled("oauth")?B.a()?c()("/"):e.primary=s.a.createElement(pe,null):c()("/"),t()},checkToken:function(e,t){var n=["/oauth-login","/oauth","/start","/authorize","/api/oauth/token"].some(function(t){return Object(o.startsWith)(e.path,t)});if(!1===B.a()&&!n)return"desktop"===Object(Z.a)("env_id")||"desktop-development"===Object(Z.a)("env_id")?c()(Object(Z.a)("login_url")):c()("/authorize");t()},authorize:function(e,t){var n;if(Object(Z.a)("oauth_client_id")){var r=process.env.PORT||Object(Z.a)("port"),i={response_type:"token",client_id:Object(Z.a)("oauth_client_id"),client_secret:"n/a",url:{redirect:"http://calypso.localhost:"+r+"/api/oauth/token"}},o=ye()(i);n=o.urlToConnect({scope:"global",blog_id:0})}e.primary=s.a.createElement(Ee,{authUrl:n}),t()},getToken:function(e,t){e.hash&&e.hash.access_token&&(he.a.set("wpcom_token",e.hash.access_token),be.a.loadToken(e.hash.access_token)),e.hash&&e.hash.expires_in&&he.a.set("wpcom_token_expires_in",e.hash.expires_in),e.primary=s.a.createElement(se.a,{className:"auth"},s.a.createElement("p",{className:"auth__welcome"},"Loading user..."),s.a.createElement(ve.a,{active:!0}));var n=Object(je.default)();n.fetching=!1,n.fetch(),n.on("change",function(){Z.a.isEnabled("devdocs")?window.location="/devdocs/welcome":window.location="/"}),t()}}},"./client/blocks/all-sites/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/react-redux/es/index.js"),g=n("./node_modules/i18n-calypso/index.js"),h=n("./node_modules/lodash/lodash.js"),O=n("./node_modules/classnames/index.js"),y=n.n(O),j=n("./client/blocks/site-icon/index.jsx"),v=10,S=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.getMaxSites=function(){return n.props.sites.slice(0,v)},n.getSitesWithIcons=function(){return n.props.sites.filter(function(e){return e.icon}).slice(0,v)},n.getIcons=function(){var e=Object(h.union)(n.getSitesWithIcons(),n.getMaxSites()).slice(0,v);return e.map(function(e){return E.a.createElement(j.a,{site:e,key:e.ID+"-icon",size:14})})},n}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this.getIcons(),t="all-sites-icon has-"+this.getMaxSites().length+"-icons";return E.a.createElement("div",{className:t},e)}}]),t}(E.a.Component);S.displayName="AllSitesIcon",S.propTypes={sites:f.a.array.isRequired};var I=n("./client/components/count/index.jsx"),T=n("./client/state/selectors/get-sites.js"),C=n("./client/state/current-user/selectors.js"),R=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.onSelect=function(e){n.props.onSelect(e)},n}return p()(t,e),o()(t,[{key:"renderSiteCount",value:function(){return E.a.createElement(I.a,{count:this.props.count})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.href,r=e.domain,i=e.sites,s=e.translate,o=e.isHighlighted,a=e.isSelected,c=e.showCount,u=y()({"all-sites":!0,"is-selected":a,"is-highlighted":o});return E.a.createElement("div",{className:u},E.a.createElement("a",{className:"all-sites__content site__content",href:n,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onClick:this.onSelect},c&&this.renderSiteCount(),E.a.createElement("div",{className:"all-sites__info site__info"},E.a.createElement("span",{className:"all-sites__title site__title"},t||s("All My Sites")),r&&E.a.createElement("span",{className:"all-sites__domain site__domain"},r),E.a.createElement(S,{sites:i}))))}}]),t}(_.Component);R.defaultProps={onSelect:h.noop,href:null,isSelected:!1,isHighlighted:!1,showCount:!0,domain:""},R.propTypes={onSelect:f.a.func,href:f.a.string,isSelected:f.a.bool,isHighlighted:f.a.bool,showCount:f.a.bool,count:f.a.number,title:f.a.string,domain:f.a.string,onMouseEnter:f.a.func,onMouseLeave:f.a.func};t.a=Object(b.b)(function(e,t){var n=t.sites,r=void 0===n?Object(T.a)(e):n,i=t.count,s=void 0===i?Object(C.k)(e):i;return{sites:r,count:s}})(Object(g.localize)(R))},"./client/blocks/dismissible-card/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/react-redux/es/index.js"),g=n("./node_modules/redux/es/redux.js"),h=n("./node_modules/lodash/lodash.js"),O=n("./node_modules/gridicons/dist/index.js"),y=n.n(O),j=n("./client/components/card/index.jsx"),v=n("./client/components/data/query-preferences/index.jsx"),S=n("./client/state/preferences/actions.js"),I=n("./client/state/preferences/selectors.js"),T=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.isDismissed,r=e.onClick,i=e.dismissCard;return n?null:E.a.createElement(j.a,{className:t},E.a.createElement(v.a,null),E.a.createElement(y.a,{icon:"cross",className:"dismissible-card__close-icon",onClick:Object(h.flow)(r,i)}),this.props.children)}}]),t}(_.Component);T.propTypes={className:f.a.string,dismissCard:f.a.func,isDismissed:f.a.bool,temporary:f.a.bool,onClick:f.a.func,preferenceName:f.a.string.isRequired},T.defaultProps={onClick:h.noop},t.a=Object(b.b)(function(e,t){var n="dismissible-card-"+t.preferenceName;return{isDismissed:Object(I.b)(e,n)}},function(e,t){return Object(g.b)({dismissCard:function(){var e="dismissible-card-"+t.preferenceName;return t.temporary?Object(S.c)(e,!0):Object(S.b)(e,!0)}},e)})(T)},"./client/blocks/inline-help/constants.js":function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"j",function(){return d}),n.d(t,"h",function(){return p});var r="type",i="title",s="description",o="link",a="article",c="tour",u="video",l="contact",d="richresult",p=9619154},"./client/blocks/nps-survey/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/gridicons/dist/index.js"),g=n.n(b),h=n("./node_modules/react-redux/es/index.js"),O=n("./node_modules/classnames/index.js"),y=n.n(O),j=n("./node_modules/i18n-calypso/index.js"),v=n("./node_modules/lodash/lodash.js"),S=n("./client/components/button/index.jsx"),I=n("./client/components/card/index.jsx"),T=n("./client/components/forms/form-textarea/index.jsx"),C=n("./client/components/screen-reader-text/index.js"),R=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),A=n.n(R),N=function(e){function t(e){var n;return i()(this,t),n=c()(this,l()(t).call(this,e)),n.handleChange=n.handleChange.bind(A()(A()(n))),n}return p()(t,e),o()(t,[{key:"handleChange",value:function(e){this.props.onChange(parseInt(e.target.value,10))}},{key:"render",value:function(){var e=y()("nps-survey__recommendation-option",{"is-selected":this.props.selected});return E.a.createElement("label",{className:e},E.a.createElement("input",{type:"radio",name:"nps-survey-recommendation-option",value:this.props.value,checked:this.props.selected,disabled:this.props.disabled,onChange:this.handleChange}),E.a.createElement("span",null,this.props.value))}}]),t}(_.Component);N.propTypes={disabled:f.a.bool,selected:f.a.bool,value:f.a.number};var w=N,P=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"renderOption",value:function(e){return E.a.createElement(w,{key:e,value:e,selected:this.props.value===e,disabled:this.props.disabled,onChange:this.props.onChange})}},{key:"render",value:function(){var e=this,t=this.props.translate,n=Object(v.range)(0,11),r=n.map(function(t){return e.renderOption(t)});return E.a.createElement("div",{className:"nps-survey__recommendation-select"},E.a.createElement("div",{className:"nps-survey__scale-labels"},E.a.createElement("span",null,t("Unlikely")),E.a.createElement("span",{className:"nps-survey__very-likely-label"},t("Very likely"))),E.a.createElement("div",{className:"nps-survey__options"},r))}}]),t}(_.PureComponent);P.propTypes={disabled:f.a.bool};var U=Object(j.localize)(P),D=n("./client/state/nps-survey/actions.js"),k=n("./client/state/notices/actions.js"),L=n("./client/state/nps-survey/selectors.js"),M=n("./client/lib/analytics/index.js"),x=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.state={score:null,feedback:"",showFeedbackForm:!1},n.handleRecommendationSelectChange=function(e){n.setState({score:e})},n.handleFinishClick=function(){n.props.submitNpsSurvey(n.props.name,n.state.score),n.setState({showFeedbackForm:!0})},n.handleDismissClick=function(){n.props.hasAnswered||n.props.submitNpsSurveyWithNoScore(n.props.name),n.onClose(v.noop)},n.handleTextBoxChange=function(e){n.setState({feedback:Object(v.trim)(e.target.value)})},n.handleSendFeedbackClick=function(){n.props.sendNpsSurveyFeedback(n.props.name,n.state.feedback),n.onClose(n.showThanksNotice)},n.handleFeedbackFormClose=function(){n.onClose(n.showThanksNotice)},n.showThanksNotice=function(){n.props.successNotice(n.props.translate("Thanks for your feedback!"),{duration:5e3})},n.onClose=function(e){setTimeout(function(){n.props.onClose(e)},0)},n}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){M.default.mc.bumpStat("calypso_nps_survey","survey_displayed"),M.default.tracks.recordEvent("calypso_nps_survey_displayed")}},{key:"renderScoreForm",value:function(){var e=this.props.translate;return E.a.createElement(_.Fragment,null,E.a.createElement("div",{className:"nps-survey__question"},e("How likely are you to recommend WordPress.com to your friends, family, or colleagues?")),E.a.createElement("div",{className:"nps-survey__recommendation-select-wrapper"},E.a.createElement(U,{value:this.state.score,disabled:this.props.hasAnswered,onChange:this.handleRecommendationSelectChange})),E.a.createElement("div",{className:"nps-survey__buttons"},E.a.createElement(S.a,{primary:!0,className:"nps-survey__finish-button",disabled:this.props.hasAnswered,onClick:this.handleFinishClick},e("Submit")),E.a.createElement(S.a,{borderless:!0,className:"nps-survey__not-answer-button",disabled:this.props.hasAnswered,onClick:this.handleDismissClick},e("Close"))))}},{key:"renderFeedbackForm",value:function(){var e=this.props.translate;return E.a.createElement(_.Fragment,null,E.a.createElement("div",{className:"nps-survey__question"},e("What is the most important reason for your score?")),E.a.createElement("div",{className:"nps-survey__recommendation-select-wrapper"},E.a.createElement(T.a,{onChange:this.handleTextBoxChange,placeholder:e("Please input your thoughts here")})),E.a.createElement("div",{className:"nps-survey__buttons"},E.a.createElement(S.a,{primary:!0,className:"nps-survey__finish-button",disabled:!this.state.feedback,onClick:this.handleSendFeedbackClick},e("Submit")),E.a.createElement(S.a,{borderless:!0,className:"nps-survey__not-answer-button",onClick:this.handleFeedbackFormClose},e("Close"))))}},{key:"render",value:function(){var e=this.props.translate,t=y()("nps-survey",{"is-recommendation-selected":Number.isInteger(this.state.score),"is-submitted":this.props.hasAnswered});return E.a.createElement(I.a,{className:t},E.a.createElement(S.a,{borderless:!0,className:"nps-survey__close-button",onClick:this.state.showFeedbackForm?this.handleFeedbackFormClose:this.handleDismissClick},E.a.createElement(g.a,{icon:"cross"}),E.a.createElement(C.a,null,e("Close"))),E.a.createElement("div",{className:"nps-survey__question-screen"},this.state.showFeedbackForm?this.renderFeedbackForm():this.renderScoreForm()))}}]),t}(_.Component);x.propTypes={onClose:f.a.func,name:f.a.string};t.a=Object(h.b)(function(e){return{hasAnswered:Object(L.d)(e)}},{submitNpsSurvey:D.e,submitNpsSurveyWithNoScore:D.f,sendNpsSurveyFeedback:D.b,successNotice:k.f})(Object(j.localize)(x))},"./client/blocks/site-icon/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/index.js"),i=n.n(r),s=n("./node_modules/react/index.js"),o=n.n(s),a=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/lodash/lodash.js"),u=n("./node_modules/classnames/index.js"),l=n.n(u),d=n("./node_modules/gridicons/dist/index.js"),p=n.n(d),m=n("./client/components/image/index.js"),f=n("./client/components/spinner/index.jsx"),_=n("./client/components/data/query-sites/index.jsx"),E=n("./client/state/sites/selectors.js"),b=n("./client/state/selectors/get-site-icon-id.js"),g=n("./client/state/selectors/get-site-icon-url.js"),h=n("./client/state/selectors/get-media-item.js");var O=n("./client/lib/resize-image-url/index.js");function y(e){var t=e.siteId,n=e.site,r=e.iconUrl,i=e.size,s=e.imgSize,a=e.isTransientIcon,c=Object(O.a)(r,s),u=l()("site-icon",{"is-blank":!c,"is-transient":a}),d={height:i,width:i,lineHeight:i+"px",fontSize:i+"px"};return o.a.createElement("div",{className:u,style:d},!n&&t>0&&o.a.createElement(_.a,{siteId:t}),c?o.a.createElement(m.a,{className:"site-icon__img",src:c,alt:""}):o.a.createElement(p.a,{icon:"globe",size:Math.round(i/1.3)}),a&&o.a.createElement(f.a,null))}y.propTypes={siteId:i.a.number,site:i.a.object,iconUrl:i.a.string,size:i.a.number,imgSize:i.a.number,isTransientIcon:i.a.bool},y.defaultProps={imgSize:120,size:32};t.a=Object(a.b)(function(e,t){var n=t.site,r=t.siteId,i=t.imgSize,s=Object(E.l)(e,Object(c.get)(n,"ID",r));if(!s)return{iconUrl:Object(c.get)(n,"icon.img")};var o=Object(b.a)(e,s.ID);return{site:s,iconUrl:Object(g.a)(e,s.ID,i),isTransientIcon:function(e,t,n){return!!Object(c.get)(Object(h.a)(e,t,n),"transient")}(e,s.ID,o)}})(y)},"./client/blocks/site/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react/index.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/react-redux/es/index.js"),g=n("./node_modules/classnames/index.js"),h=n.n(g),O=n("./node_modules/lodash/lodash.js"),y=n("./node_modules/gridicons/dist/index.js"),j=n.n(y),v=n("./node_modules/i18n-calypso/index.js"),S=n("./client/blocks/site-icon/index.jsx"),I=n("./node_modules/@babel/runtime/helpers/extends.js"),T=n.n(I),C=n("./client/config/index.js"),R=n("./client/components/animate/index.jsx"),A=n("./client/components/button/index.jsx"),N=n("./client/components/external-link/index.jsx"),w=n("./client/state/analytics/actions.js"),P=n("./client/components/data/query-site-connection-status/index.jsx"),U=n("./client/state/sites/selectors.js"),D=n("./client/state/selectors/can-current-user.js"),k=n("./client/state/selectors/get-site-connection-status.js"),L=n("./client/state/selectors/is-requesting-site-connection-status.js"),M=n("./client/state/selectors/is-site-automated-transfer.js"),x=function(e){return f.a.createElement(N.a,T()({icon:!0,iconSize:12,target:"_blank"},e))},F=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.state={expand:!1},n.toggleExpand=function(){n.setState({expand:!n.state.expand});var e=n.state.expand?"Collapse":"Expand";n.props.recordGoogleEvent("Site-Indicator","Clicked to "+e+" the Site Indicator")},n.handlePluginsUpdate=function(){var e=n.props.siteUpdates;n.recordEvent("Clicked updates available link to plugins updates",e&&e.total)},n.handleThemesUpdate=function(){var e=n.props.siteUpdates;n.recordEvent("Clicked updates available link to theme updates",e&&e.total)},n.handleCoreUpdate=function(){n.recordEvent("Clicked updates available link to WordPress updates",1)},n.handleMultipleUpdate=function(){var e=n.props.siteUpdates;n.recordEvent("Clicked updates available link for multiple updates",e&&e.total)},n.handleGenericUpdate=function(){var e=n.props.siteUpdates;n.props.recordGoogleEvent("Site-Indicator","Clicked updates available link to wp-admin updates","Total Updates",e&&e.total)},n.handleJetpackUpdate=function(){n.props.recordGoogleEvent("Site-Indicator","Clicked Update Jetpack Now Link")},n}return p()(t,e),o()(t,[{key:"hasUpdate",value:function(){var e=this.props.siteUpdates;return e&&!this.hasError()&&e.total>0}},{key:"hasError",value:function(){return!1===this.props.siteIsConnected}},{key:"hasWarning",value:function(){var e=this.props,t=e.requestingConnectionStatus,n=e.site,r=e.siteIsConnected,i=e.siteIsJetpack;return!(!i||n.hasMinimumJetpackVersion)&&(!t&&r)}},{key:"showIndicator",value:function(){var e=this.props,t=e.siteIsAutomatedTransfer,n=e.siteIsJetpack,r=e.userCanManage;return r&&n&&!t&&(this.hasUpdate()||this.hasError()||this.hasWarning())}},{key:"updatesAvailable",value:function(){var e=this.props,t=e.site,n=e.siteUpdates,r=e.translate,i="/stats/activity/"+t.slug;return n.wordpress===n.total&&t.canUpdateFiles?f.a.createElement("span",null,r("A newer version of WordPress is available. {{link}}Update to %(version)s{{/link}}",{components:{link:f.a.createElement("a",{href:i,onClick:this.handleCoreUpdate})},args:{version:n.wp_update_version}})):n.plugins===n.total&&t.canUpdateFiles?f.a.createElement("span",null,f.a.createElement("a",{onClick:this.handlePluginsUpdate,href:"/plugins/updates/"+t.slug},r("There is a plugin update available.","There are plugin updates available.",{count:n.total}))):n.themes===n.total&&t.canUpdateFiles?f.a.createElement("span",null,f.a.createElement("a",{onClick:this.handleThemesUpdate,href:i},r("There is a theme update available.","There are theme updates available.",{count:n.total}))):n.themes+n.plugins+n.wordpress===n.total&&t.canUpdateFiles?f.a.createElement("span",null,f.a.createElement("a",{onClick:this.handleMultipleUpdate,href:i},r("There are updates available."))):f.a.createElement("span",null,f.a.createElement(x,{onClick:this.handleGenericUpdate,href:t.options.admin_url+"update-core.php"},r("There is an update available.","There are updates available.",{count:n.total})))}},{key:"recordEvent",value:function(e,t){window.scrollTo(0,0),this.setState({expand:!1}),this.props.recordGoogleEvent("Site-Indicator",e,"Total Updates",t)}},{key:"unsupportedJetpackVersion",value:function(){var e=this.props.translate;return f.a.createElement("span",null,e("Jetpack %(version)s is required. {{link}}Update now{{/link}}",{args:{version:Object(C.a)("jetpack_min_version")},components:{link:f.a.createElement(x,{onClick:this.handleJetpackUpdate,href:this.props.site.options.admin_url+"plugins.php?plugin_status=upgrade"})}}))}},{key:"errorAccessing",value:function(){var e,t=this.props,n=t.site,r=t.translate;return e=n?f.a.createElement("span",null,r("This site cannot be accessed."),f.a.createElement(A.a,{borderless:!0,compact:!0,scary:!0,href:"/settings/disconnect-site/"+n.slug,onClick:this.props.trackSiteDisconnect},r("Remove Site"))):f.a.createElement("span",null,r("This site cannot be accessed.")),e}},{key:"getText",value:function(){return this.hasWarning()?this.unsupportedJetpackVersion():this.hasUpdate()?this.updatesAvailable():this.hasError()?this.errorAccessing():null}},{key:"getIcon",value:function(){return this.hasWarning()?"notice":this.hasUpdate()?"sync":this.hasError()?"notice":void 0}},{key:"renderIndicator",value:function(){var e=h()({"is-expanded":this.state.expand,"is-update":this.hasUpdate(),"is-warning":this.hasWarning(),"is-error":this.hasError(),"is-action":!0,"site-indicator__main":!0});return f.a.createElement("div",{className:e},!this.state.expand&&f.a.createElement(R.a,{type:"appear"},f.a.createElement("button",{className:"site-indicator__button",onClick:this.toggleExpand},f.a.createElement(j.a,{icon:this.getIcon(),size:16}))),this.state.expand&&f.a.createElement("div",{className:"site-indicator__message"},f.a.createElement("div",{className:"site-indicator__action"},this.getText()),f.a.createElement("button",{className:"site-indicator__button",onClick:this.toggleExpand},f.a.createElement(R.a,{type:"appear"},f.a.createElement(j.a,{icon:"cross",size:18})))))}},{key:"render",value:function(){var e=this.props,t=e.site,n=e.siteIsJetpack;return f.a.createElement("div",{className:"site-indicator__wrapper"},n&&f.a.createElement(P.a,{siteId:t.ID}),this.showIndicator()&&this.renderIndicator())}}]),t}(m.Component);F.propTypes={site:E.a.object,siteIsJetpack:E.a.bool,siteUpdates:E.a.object,siteIsConnected:E.a.bool,requestingConnectionStatus:E.a.bool,recordGoogleEvent:E.a.func,recordTracksEvent:E.a.func};var V=Object(b.b)(function(e,t){var n=t.site;return{requestingConnectionStatus:n&&Object(L.a)(e,n.ID),siteIsConnected:n&&Object(k.a)(e,n.ID),siteIsJetpack:n&&Object(U.K)(e,n.ID),siteIsAutomatedTransfer:n&&Object(M.a)(e,n.ID),siteUpdates:n&&Object(U.A)(e,n.ID),userCanManage:n&&Object(D.a)(e,n.ID,"manage_options")}},{recordGoogleEvent:w.g,recordTracksEvent:w.i,trackSiteDisconnect:function(){return Object(w.b)(Object(w.g)("Jetpack","Clicked in site indicator to start Jetpack Disconnect flow"),Object(w.i)("calypso_jetpack_site_indicator_disconnect_start"))}})(Object(v.localize)(F)),G=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.onSelect=function(e){n.props.onSelect(e,n.props.site.ID)},n.onMouseEnter=function(e){n.props.onMouseEnter(e,n.props.site.ID)},n.onMouseLeave=function(e){n.props.onMouseLeave(e,n.props.site.ID)},n}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.site,n=e.translate;if(!t)return null;var r=h()({site:!0,"is-jetpack":t.jetpack,"is-primary":t.primary,"is-private":t.is_private,"is-redirect":t.options&&t.options.is_redirect,"is-selected":this.props.isSelected,"is-highlighted":this.props.isHighlighted,"is-compact":this.props.compact});return f.a.createElement("div",{className:r},f.a.createElement("a",{className:"site__content",href:this.props.homeLink?t.URL:this.props.href,"data-tip-target":this.props.tipTarget,target:this.props.externalLink&&"_blank",title:this.props.homeLink?n("View site %(domain)s",{args:{domain:t.domain}}):t.domain,onClick:this.onSelect,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,"aria-label":this.props.homeLink?n("View site %(domain)s",{args:{domain:t.domain}}):t.domain},f.a.createElement(S.a,{site:t,size:this.props.compact?24:32}),f.a.createElement("div",{className:"site__info"},f.a.createElement("div",{className:"site__title"},this.props.site.is_private&&f.a.createElement("span",{className:"site__badge"},f.a.createElement(j.a,{icon:"lock",size:14})),t.options&&t.options.is_redirect&&f.a.createElement("span",{className:"site__badge"},f.a.createElement(j.a,{icon:"block",size:14})),t.options&&t.options.is_domain_only&&f.a.createElement("span",{className:"site__badge"},f.a.createElement(j.a,{icon:"domains",size:14})),t.title),f.a.createElement("div",{className:"site__domain"},t.domain)),this.props.homeLink&&this.props.showHomeIcon&&f.a.createElement("span",{className:"site__home"},f.a.createElement(j.a,{icon:"house",size:18}))),this.props.indicator?f.a.createElement(V,{site:t}):null)}}]),t}(f.a.Component);G.defaultProps={onSelect:O.noop,onMouseEnter:O.noop,onMouseLeave:O.noop,href:null,indicator:!0,isSelected:!1,homeLink:!1,showHomeIcon:!0,compact:!1},G.propTypes={href:E.a.string,externalLink:E.a.bool,indicator:E.a.bool,onSelect:E.a.func,onMouseEnter:E.a.func,onMouseLeave:E.a.func,isSelected:E.a.bool,isHighlighted:E.a.bool,site:E.a.object,siteId:E.a.number,homeLink:E.a.bool,showHomeIcon:E.a.bool,compact:E.a.bool};t.a=Object(b.b)(function(e,t){var n=t.siteId,r=t.site;return{site:n?Object(U.l)(e,n):r}})(Object(v.localize)(G))},"./client/blocks/site/placeholder.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react/index.js"),f=n.n(m),_=n("./node_modules/debug/src/browser.js"),E=n.n(_),b=E()("calypso:my-sites:site"),g=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentDidMount",value:function(){b("The Site component is mounted.")}},{key:"render",value:function(){return f.a.createElement("div",{className:"site is-loading"},f.a.createElement("div",{className:"site__content"},f.a.createElement("div",{className:"site-icon"}),f.a.createElement("div",{className:"site__info"},f.a.createElement("div",{className:"site__title"},"This is an example"),f.a.createElement("div",{className:"site__domain"},"example.wordpress.com"))))}}]),t}(f.a.Component);g.displayName="SitePlaceholder"},"./client/boot/app.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/core-js/modules/es6.array.copy-within.js"),n("./node_modules/core-js/modules/es6.array.fill.js"),n("./node_modules/core-js/modules/es6.array.find.js"),n("./node_modules/core-js/modules/es6.array.find-index.js"),n("./node_modules/core-js/modules/es6.array.from.js"),n("./node_modules/core-js/modules/es7.array.includes.js"),n("./node_modules/core-js/modules/es6.array.iterator.js"),n("./node_modules/core-js/modules/es6.array.of.js"),n("./node_modules/core-js/modules/es6.array.sort.js"),n("./node_modules/core-js/modules/es6.array.species.js"),n("./node_modules/core-js/modules/es6.date.to-primitive.js"),n("./node_modules/core-js/modules/es6.function.has-instance.js"),n("./node_modules/core-js/modules/es6.function.name.js"),n("./node_modules/core-js/modules/es6.map.js"),n("./node_modules/core-js/modules/es6.math.acosh.js"),n("./node_modules/core-js/modules/es6.math.asinh.js"),n("./node_modules/core-js/modules/es6.math.atanh.js"),n("./node_modules/core-js/modules/es6.math.cbrt.js"),n("./node_modules/core-js/modules/es6.math.clz32.js"),n("./node_modules/core-js/modules/es6.math.cosh.js"),n("./node_modules/core-js/modules/es6.math.expm1.js"),n("./node_modules/core-js/modules/es6.math.fround.js"),n("./node_modules/core-js/modules/es6.math.hypot.js"),n("./node_modules/core-js/modules/es6.math.imul.js"),n("./node_modules/core-js/modules/es6.math.log1p.js"),n("./node_modules/core-js/modules/es6.math.log10.js"),n("./node_modules/core-js/modules/es6.math.log2.js"),n("./node_modules/core-js/modules/es6.math.sign.js"),n("./node_modules/core-js/modules/es6.math.sinh.js"),n("./node_modules/core-js/modules/es6.math.tanh.js"),n("./node_modules/core-js/modules/es6.math.trunc.js"),n("./node_modules/core-js/modules/es6.number.constructor.js"),n("./node_modules/core-js/modules/es6.number.epsilon.js"),n("./node_modules/core-js/modules/es6.number.is-finite.js"),n("./node_modules/core-js/modules/es6.number.is-integer.js"),n("./node_modules/core-js/modules/es6.number.is-nan.js"),n("./node_modules/core-js/modules/es6.number.is-safe-integer.js"),n("./node_modules/core-js/modules/es6.number.max-safe-integer.js"),n("./node_modules/core-js/modules/es6.number.min-safe-integer.js"),n("./node_modules/core-js/modules/es6.number.parse-float.js"),n("./node_modules/core-js/modules/es6.number.parse-int.js"),n("./node_modules/core-js/modules/es6.object.assign.js"),n("./node_modules/core-js/modules/es7.object.define-getter.js"),n("./node_modules/core-js/modules/es7.object.define-setter.js"),n("./node_modules/core-js/modules/es7.object.entries.js"),n("./node_modules/core-js/modules/es6.object.freeze.js"),n("./node_modules/core-js/modules/es6.object.get-own-property-descriptor.js"),n("./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js"),n("./node_modules/core-js/modules/es6.object.get-own-property-names.js"),n("./node_modules/core-js/modules/es6.object.get-prototype-of.js"),n("./node_modules/core-js/modules/es7.object.lookup-getter.js"),n("./node_modules/core-js/modules/es7.object.lookup-setter.js"),n("./node_modules/core-js/modules/es6.object.prevent-extensions.js"),n("./node_modules/core-js/modules/es6.object.is.js"),n("./node_modules/core-js/modules/es6.object.is-frozen.js"),n("./node_modules/core-js/modules/es6.object.is-sealed.js"),n("./node_modules/core-js/modules/es6.object.is-extensible.js"),n("./node_modules/core-js/modules/es6.object.keys.js"),n("./node_modules/core-js/modules/es6.object.seal.js"),n("./node_modules/core-js/modules/es6.object.set-prototype-of.js"),n("./node_modules/core-js/modules/es7.object.values.js"),n("./node_modules/core-js/modules/es6.promise.js"),n("./node_modules/core-js/modules/es7.promise.finally.js"),n("./node_modules/core-js/modules/es6.reflect.apply.js"),n("./node_modules/core-js/modules/es6.reflect.construct.js"),n("./node_modules/core-js/modules/es6.reflect.define-property.js"),n("./node_modules/core-js/modules/es6.reflect.delete-property.js"),n("./node_modules/core-js/modules/es6.reflect.get.js"),n("./node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js"),n("./node_modules/core-js/modules/es6.reflect.get-prototype-of.js"),n("./node_modules/core-js/modules/es6.reflect.has.js"),n("./node_modules/core-js/modules/es6.reflect.is-extensible.js"),n("./node_modules/core-js/modules/es6.reflect.own-keys.js"),n("./node_modules/core-js/modules/es6.reflect.prevent-extensions.js"),n("./node_modules/core-js/modules/es6.reflect.set.js"),n("./node_modules/core-js/modules/es6.reflect.set-prototype-of.js"),n("./node_modules/core-js/modules/es6.regexp.constructor.js"),n("./node_modules/core-js/modules/es6.regexp.flags.js"),n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.search.js"),n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/core-js/modules/es6.set.js"),n("./node_modules/core-js/modules/es6.symbol.js"),n("./node_modules/core-js/modules/es7.symbol.async-iterator.js"),n("./node_modules/core-js/modules/es6.string.anchor.js"),n("./node_modules/core-js/modules/es6.string.big.js"),n("./node_modules/core-js/modules/es6.string.blink.js"),n("./node_modules/core-js/modules/es6.string.bold.js"),n("./node_modules/core-js/modules/es6.string.code-point-at.js"),n("./node_modules/core-js/modules/es6.string.ends-with.js"),n("./node_modules/core-js/modules/es6.string.fixed.js"),n("./node_modules/core-js/modules/es6.string.fontcolor.js"),n("./node_modules/core-js/modules/es6.string.fontsize.js"),n("./node_modules/core-js/modules/es6.string.from-code-point.js"),n("./node_modules/core-js/modules/es6.string.includes.js"),n("./node_modules/core-js/modules/es6.string.italics.js"),n("./node_modules/core-js/modules/es6.string.link.js"),n("./node_modules/core-js/modules/es7.string.pad-start.js"),n("./node_modules/core-js/modules/es7.string.pad-end.js"),n("./node_modules/core-js/modules/es6.string.raw.js"),n("./node_modules/core-js/modules/es6.string.repeat.js"),n("./node_modules/core-js/modules/es6.string.small.js"),n("./node_modules/core-js/modules/es6.string.starts-with.js"),n("./node_modules/core-js/modules/es6.string.strike.js"),n("./node_modules/core-js/modules/es6.string.sub.js"),n("./node_modules/core-js/modules/es6.string.sup.js"),n("./node_modules/core-js/modules/es6.typed.array-buffer.js"),n("./node_modules/core-js/modules/es6.typed.int8-array.js"),n("./node_modules/core-js/modules/es6.typed.uint8-array.js"),n("./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js"),n("./node_modules/core-js/modules/es6.typed.int16-array.js"),n("./node_modules/core-js/modules/es6.typed.uint16-array.js"),n("./node_modules/core-js/modules/es6.typed.int32-array.js"),n("./node_modules/core-js/modules/es6.typed.uint32-array.js"),n("./node_modules/core-js/modules/es6.typed.float32-array.js"),n("./node_modules/core-js/modules/es6.typed.float64-array.js"),n("./node_modules/core-js/modules/es6.weak-map.js"),n("./node_modules/core-js/modules/es6.weak-set.js"),n("./node_modules/core-js/modules/web.timers.js"),n("./node_modules/core-js/modules/web.immediate.js"),n("./node_modules/core-js/modules/web.dom.iterable.js"),n("./node_modules/regenerator-runtime/runtime.js");var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=i()("calypso:local-storage"),o={},a=function(e,t){return o[e]=String(t),o[e]},c=function(e){return o.hasOwnProperty(e)?o[e]:null},u=function(e){return delete o[e]},l=function(){return o={},o},d=function(){return Object.keys(o).length};!function(e){e=e||window,e.localStorage||(s("localStorage is missing, setting to polyfill"),e.localStorage={});try{e.localStorage.setItem("localStorageTest",""),e.localStorage.removeItem("localStorageTest"),s("localStorage tested and working correctly")}catch(t){s("localStorage not working correctly, setting to polyfill"),e.localStorage.setItem=a,e.localStorage.getItem=c,e.localStorage.removeItem=u,e.localStorage.clear=l,e.localStorage.__defineGetter__("length",d)}}();var p=n("./node_modules/lodash/lodash.js"),m=n.n(p),f=n("./node_modules/page/page.js"),_=n.n(f),E=n("./node_modules/qs/lib/index.js"),b=n("./node_modules/url/url.js"),g=n.n(b),h=!1,O=[9,32,37,38,39,40];var y=function(){document.addEventListener("keydown",function(e){h||-1!==O.indexOf(e.keyCode)&&(h=!0,document.documentElement.classList.add("accessible-focus"))}),document.addEventListener("mouseup",function(){h&&(h=!1,document.documentElement.classList.remove("accessible-focus"))})},j=n("./client/lib/wp/localization/index.js"),v=n("./client/config/index.js"),S=n("./client/state/ui/actions.js"),I=n("./client/lib/touch-detect/index.js"),T=n("./client/state/ui/language/actions.js"),C=n("./client/state/users/actions.js");var R=function(e,t){var n,r;t.dispatch(Object(C.a)(e)),t.dispatch((n=e.ID,{type:"CURRENT_USER_ID_SET",userId:n})),t.dispatch((r=e.meta.data.flags.active_flags,{type:"CURRENT_USER_FLAGS_RECEIVE",flags:r}))},A=n("./client/lib/perfmon/index.js"),N=n("./client/state/ui/layout-focus/actions.js"),w=n("./client/state/analytics/actions.js"),P=n("./node_modules/i18n-calypso/index.js"),U=n.n(P),D=n("./node_modules/react/index.js"),k=n.n(D),L=n("./client/lib/analytics/index.js"),M=n("./client/components/empty-content/index.jsx"),x=i()("calypso:layout"),F=Object(P.localize)(function(e){var t=e.translate;return k.a.createElement(M.a,{illustration:"/calypso/images/illustrations/error.svg",title:t("We're sorry, but an unexpected error has occurred")})});function V(){var e=g.a.parse(location.href,!0);return"1"===e.query.retry}var G=n("./client/controller/index.web.js"),q=n("./client/lib/restore-last-path/index.js"),H=n("./client/utils.js"),W=n("./client/sections-helper.js"),B=n("./client/sections.js"),Q=n.n(B);Object(W.c)(Q.a);var z={},Y="";function K(e,t,n){var r=t.store.dispatch;G.g(e)(t),r({type:"SECTION_SET",isLoading:!1}),r(Object(N.a)()),n()}function J(e,t){var n=Object(H.a)(e);_()(n,function(e,n){var r=t.envId,i=e.store.dispatch;if(Y=t.name,r&&-1===r.indexOf(Object(v.a)("env_id")))return n();if(z[t.module])return K(t,e,n);if(!v.a.isEnabled("restore-last-location")||!Object(q.a)(e.path)){i({type:"SECTION_SET",isLoading:!0});var s=setTimeout(function(){return i(Object(w.a)("calypso_chunk_waiting",t.name))},400);Object(W.b)(t.name).then(function(r){return z[t.module]||(r.forEach(function(e){return e.default(G.b)}),z[t.module]=!0),Y===t.name?K(t,e,n):Promise.resolve()}).catch(function(n){console.error(n),V()?(i({type:"SECTION_SET",isLoading:!1}),function(e,t){x("Chunk %s could not be loaded",t),L.default.mc.bumpStat("calypso_chunk_error",t),e.primary=k.a.createElement(F,null)}(e,t.name)):function(e){if(!V()){var t=g.a.parse(location.href,!0);L.default.mc.bumpStat("calypso_chunk_retry",e),window.location.search=Object(E.stringify)(Object(p.assign)(t.query,{retry:"1"}))}}(t.name)}).then(function(){clearTimeout(s)})}})}var Z=n("./client/lib/protect-form/index.jsx"),$=n("./client/notices/index.js"),X=n("./client/auth/controller.js"),ee=i()("calypso"),te=function(){Q.a.forEach(function(e){return e.paths.forEach(function(t){return J(t,e)})})},ne=function(e){if(!e.get()){v.a.isEnabled("desktop")?_()("/",function(){v.a.isEnabled("oauth")?_.a.redirect("/authorize"):_.a.redirect("/log-in")}):v.a.isEnabled("devdocs/redirect-loggedout-homepage")&&_()("/",function(){_.a.redirect("/devdocs/start")});var t=Object(W.a)().reduce(function(e,t){return t.enableLoggedOut?e.concat(t.paths):e},[]);_()("*",function(e,n){if(e.path&&(r=e.path,Object(p.some)(t,function(e){return Object(p.startsWith)(r,e)||r.match(e)}))){if(Object(p.startsWith)(e.path,"/stats"))return _.a.redirect("/log-in/?redirect_to="+encodeURIComponent(e.path));n()}var r})}},re=function(e,t){if(ee("Executing Calypso locales."),window.i18nLocaleStrings){var n=JSON.parse(window.i18nLocaleStrings);t.dispatch(Object(T.b)(n))}window.i18nLocaleStrings||v.a.isEnabled("wpcom-user-bootstrap")||!e.get()||function(e,t){var n=e.get(),r=n.localeSlug,i=n.localeVariant;r&&t.dispatch(Object(T.a)(r,i))}(e,t)},ie=function(e,t){ee("Executing Calypso setup middlewares."),Object(A.a)(),function(e){_()("*",function(t,n){var r=g.a.parse(t.canonicalPath,!0);if(t.prevPath=r.path!==t.path&&r.path,t.query=r.query,t.hashstring=r.hash&&r.hash.substring(1)||"",t.hashstring)try{t.hash=Object(E.parse)(t.hashstring)}catch(e){ee("failed to query-string parse `location.hash`",e),t.hash={}}else t.hash={};t.store=e,t.redirect=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return isNaN(e)&&!n&&(n=e),_.a.replace(n,t.state,!1,!1)},"/wp-login.php"!==t.pathname?n():window.location.href=t.path}),_.a.exit("*",function(t,n){t.store||(t.store=e),n()})}(t),v.a.isEnabled("oauth")&&_()("*",X.a.checkToken),te(),ne(e),_()("*",function(e,t){e.store.dispatch(Object(S.e)(e.pathname,e.query)),t()}),_()("*",$.a.clearNoticesOnNavigation),_.a.exit("*",Z.b)},se=n("./node_modules/@babel/runtime/helpers/typeof.js"),oe=n.n(se),ae=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),ce=n.n(ae),ue=n("./node_modules/redux-thunk/es/index.js"),le=n("./node_modules/redux/es/redux.js"),de=n("./node_modules/redux-form/es/reducer.js"),pe=n("./client/state/utils.js"),me=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),fe=n.n(me),_e=Object(pe.c)(!1,fe()({},"ACCOUNT_CLOSE_SUCCESS",function(){return!0})),Ee=Object(pe.b)({isClosed:_e}),be=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),ge=n.n(be),he={actionHistory:[],shouldRecordActions:!0,historySize:100},Oe={clear:function(){return he.actionHistory=[]},filter:function(e){return he.actionHistory.filter(function(e){if(e instanceof RegExp)return function(t){var n=t.type;return e.test(n)};if("string"==typeof e)return function(t){var n=t.type;return n===e};if("function"==typeof e)return e;throw new TypeError("provide string or RegExp matching `action.type` or a predicate function")}(e))},setSize:function(e){return he.historySize=e},start:function(){return he.shouldRecordActions=!0},stop:function(){return he.shouldRecordActions=!1}};Object.defineProperty(Oe,"history",{enumerable:!0,get:function(){return he.actionHistory}});var ye=function(e){return function(){var t=e.apply(void 0,arguments);return"undefined"==typeof window?t:(Object.assign(window,{actionLog:Oe}),ge()({},t,{dispatch:function(e){return he.shouldRecordActions&&function(e){var t=he.actionHistory,n=he.historySize,r="function"==typeof e?{type:"thunk (hidden)"}:{};t.push(ge()({},e,r,{meta:ge()({},e.meta,{timestamp:Date.now()})})),t.length>2*n&&(he.actionHistory=t.slice(-1*n))}(e),t.dispatch(e)}}))}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVE_PROMOTIONS_RECEIVE":return ce()(t.activePromotions)}return e};je.schema={type:"array",items:{type:"string"}};var ve=Object(pe.b)({items:je,requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVE_PROMOTIONS_REQUEST":return!0;case"ACTIVE_PROMOTIONS_REQUEST_SUCCESS":case"ACTIVE_PROMOTIONS_REQUEST_FAILURE":return!1}return e},error:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVE_PROMOTIONS_REQUEST":case"ACTIVE_PROMOTIONS_REQUEST_SUCCESS":return!1;case"ACTIVE_PROMOTIONS_REQUEST_FAILURE":return!0}return e}}),Se=n("./client/state/activity-log/reducer.js"),Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.meta;switch(n){case"ANALYTICS_TRACKING_ON":return r.analytics.reduce(function(e,t){var n=t.payload.trackingTool;return ge()({},e,fe()({},n,!0))},e)}return e},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPLICATION_PASSWORD_DELETE_SUCCESS":return Object(p.reject)(e,{ID:t.appPasswordId});case"APPLICATION_PASSWORDS_RECEIVE":return t.appPasswords;default:return e}};Te.schema={type:"array",items:{type:"object",properties:{ID:{type:"integer"},generated:{type:"string"},name:{type:"string"}},required:["ID","generated","name"],additionalProperties:!1}};var Ce,Re,Ae,Ne,we,Pe=Object(pe.b)({items:Te,newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPLICATION_PASSWORD_CREATE_SUCCESS":return t.appPassword;case"APPLICATION_PASSWORD_NEW_CLEAR":return null;default:return e}}}),Ue=n("./client/state/data-layer/utils.js"),De=n("./client/state/data-layer/handler-registry.js"),ke=n("./client/lib/wp/browser.js"),Le=i()("calypso:data-layer:remove-duplicate-gets"),Me=new Map,xe=function(e){return"GET"===Object(p.get)(e,"method","").toUpperCase()},Fe=function(e){var t=e.path,n=e.apiNamespace,r=e.apiVersion,i=e.query;return JSON.stringify([t,n,r,Object(p.sortBy)(Object(p.toPairs)(i),p.head)])},Ve=function(e,t){var n=Math.round(e*Math.pow(2,t-1)/2),r=n+Object(p.random)(0,n);return Object(p.random)(e,3*r)},Ge=function(){return{name:"NO_RETRY"}},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.delay,n=void 0===t?1e3:t,r=e.maxAttempts,i=void 0===r?3:r;return{name:"EXPONENTIAL_BACKOFF",delay:Math.max(500,n),maxAttempts:Math.min(5,i)}}(),He=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return function(t){var n,r=t.nextError,i=t.originalRequest,s=t.store.dispatch;if(!r)return t;if(n=i,"GET"!==Object(p.get)(n,"method","").toUpperCase())return t;var o=i.options;o=void 0===o?{}:o;var a=o.retryPolicy,c=void 0===a?qe:a,u=c.delay,l=c.maxAttempts,d=c.name,m=Object(p.get)(i,"meta.dataLayer.retryCount",0)+1;return"NO_RETRY"===d||m>l?t:(setTimeout(function(){return s(Object(p.merge)(i,{meta:{dataLayer:{retryCount:m}}}))},e(u,m)),ge()({},t,{shouldAbort:!0}))}}(),function(e){var t=e.originalRequest;if(!xe(t))return e;var n=Fe(t),r=Me.get(n);if(!r)return Le("applyDuplicatesHandler has entered an impossible state! A HTTP request is exiting the http pipeline without having entered it. There must be a bug somewhere"),e;Me.delete(n);var i={failures:Object(p.unionWith)(e.failures||[],r.failures,p.isEqual),successes:Object(p.unionWith)(e.successes||[],r.successes,p.isEqual)};return ge()({},e,i)}],We=[function(e){var t=e.nextRequest;if(!xe(t))return e;if(Object(p.get)(t,"meta.dataLayer.retryCount",0)>0)return e;var n,r,i=Fe(t),s=Me.get(i),o=(n=s||{failures:[],successes:[]},r=t,{failures:Object(p.unionWith)(n.failures,Object(p.compact)([r.onFailure]),p.isEqual),successes:Object(p.unionWith)(n.successes,Object(p.compact)([r.onSuccess]),p.isEqual)});return Me.set(i,o),s?ge()({},e,{nextRequest:null}):e}],Be=function(e,t){return!0!==e.shouldAbort?t(e):e},Qe=function(e,t){return null!==e.nextRequest?t(e):e},ze=(Ce=He,function(e,t,n,r,i){return Object(p.pick)(Ce.reduce(Be,{originalRequest:e,store:t,originalData:n,originalError:r,originalHeaders:i,nextData:n,nextError:r,nextHeaders:i,failures:Object(p.compact)([e.onFailure]),successes:Object(p.compact)([e.onSuccess])}),["failures","nextData","nextError","nextHeaders","successes","shouldAbort"])}),Ye=function(e){return function(t,n){return e.reduce(Qe,{originalRequest:t,store:n,nextRequest:t}).nextRequest}}(We),Ke=function(e,t){return{meta:{dataLayer:{data:e,headers:t}}}},Je=function(e,t){return{meta:{dataLayer:{error:e,headers:t}}}},Ze=fe()({},"WPCOM_HTTP_REQUEST",[(Re=Ye,Ae=ze,function(e,t){var n=e.dispatch,r=Re(t,n);if(null!==r){var i=r.body,s=r.formData,o=r.method,a=r.onProgress,c=r.path,u=r.query,l=void 0===u?{}:u,d=o.toUpperCase(),m=function(e){return Object(p.get)({GET:ke.a.req.get.bind(ke.a.req),POST:ke.a.req.post.bind(ke.a.req)},e,null)}(d).apply(void 0,ce()(Object(p.compact)([{path:c,formData:s},ge()({},l),"POST"===d&&i,function(e,t,i){var s=Ae(r,{dispatch:n},t,e,i),o=s.failures,a=s.nextData,c=s.nextError,u=s.nextHeaders,l=s.shouldAbort,d=s.successes;return!0===l?null:c?o.forEach(function(e){return n(Object(pe.d)(e,Je(c,u)))}):d.forEach(function(e){return n(Object(pe.d)(e,Ke(a,u)))})}])));"POST"===d&&a&&(m.upload.onprogress=function(e){return n(Object(pe.d)(a,(t=e,r=t.total,i=t.loaded,{meta:{dataLayer:{progress:{total:r,loaded:i}}}})));var t,r,i})}})]),$e=n("./client/state/data-layer/http-data.js"),Xe=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),et=n.n(Xe),tt=n("./node_modules/superagent/lib/client.js"),nt=n.n(tt),rt=fe()({},"HTTP_REQUEST",[function(e,t){var n=e.dispatch,r=t.url,i=t.method,s=t.headers,o=void 0===s?[]:s,a=t.queryParams,c=void 0===a?[]:a,u=t.body,l=t.withCredentials,d=t.onSuccess,p=t.onFailure;if(function(e){return e.every(function(e){return Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]})}(o)){var m=nt()(i,r);l&&m.withCredentials();var f=c.map(function(e){var t=et()(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)}).join("&");f.length>0&&m.query(f),o.forEach(function(e){var t=et()(e,2),n=t[0],r=t[1];return m.set(n,r)}),m.accept("application/json"),u&&m.send(u),m.then(function(e){return n(Object(pe.d)(d,Ke(e)))},function(e){return n(Object(pe.d)(p,Je(e)))})}else{var _=new Error("Not all headers were of an array pair: [ 'key', 'value' ]");n(Object(pe.d)(p,Je(_)))}}]),it=n("./client/state/action-watchers/utils.js"),st=n("./client/state/http/actions.js"),ot=n("./client/state/data-layer/wpcom-http/utils.js"),at=i()("calypso:analytics:affiliate"),ct=fe()({},"AFFILIATE_REFERRAL",[Object(ot.a)(function(e,t){var n=e.dispatch,r=t.affiliateId,i=t.campaignId,s=t.urlPath;r&&!isNaN(r)&&(at("affiliate referrer request",t),n(Object(st.a)({method:"POST",url:"https://refer.wordpress.com/clicks/67402",headers:[["content-type","application/x-www-form-urlencoded; charset=UTF-8"]],body:{affiliate_id:r,campaign_id:i||"",referrer:s},withCredentials:!0},t)))},function(e,t,n){at("affiliate referrer request successful",n)},m.a)]),ut=n("./client/state/help/directly/actions.js"),lt=n("./client/lib/load-script/index.js"),dt="https://widgets.wp.com/directly/embed.js",pt="https://www.directly.com";function mt(){var e,t;window.DirectlyRTM=window.DirectlyRTM||function(){(window.DirectlyRTM.cq=window.DirectlyRTM.cq||[]).push(arguments)},window.DirectlyRTM("config",(e=Object(v.a)("directly_rtm_widget_ids"),t=Object(v.a)("directly_rtm_widget_environment"),{id:e[t],displayAskQuestion:!1}))}function ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _t().then(function(){var e;return(e=window).DirectlyRTM.apply(e,t)})}function _t(){return Ne instanceof Promise?Ne:(Ne=ke.a.undocumented().getDirectlyConfiguration().then(function(e){var t=e.isAvailable;return t?(mt(),function(){if(null===document.getElementById("directlyRTMScript")){var e=document.createElement("div");e.id="directlyRTMScript",e.src=pt,document.body.appendChild(e)}}(),new Promise(function(e,t){Object(lt.a)(dt,function(n){if(n)return t(new Error('Failed to load script "'+n.src+'".'));e()})})):Promise.reject(new Error("Directly Real-Time Messaging is not available at this time."))}),Ne)}var Et,bt,gt,ht=(we={},fe()(we,"DIRECTLY_ASK_QUESTION",[function(e,t){var n,r,i,s=e.dispatch;return(n=t.questionText,r=t.name,i=t.email,ft("navigate","/ask").then(function(){return ft("askQuestion",{questionText:n,name:r,email:i})})).then(function(){return s(Object(w.i)("calypso_directly_ask_question"))})}]),fe()(we,"DIRECTLY_INITIALIZATION_START",[function(e){var t=e.dispatch;return t(Object(w.i)("calypso_directly_initialization_start")),_t().then(function(){return t(Object(w.k)(Object(w.i)("calypso_directly_initialization_success"),Object(ut.b)()))}).catch(function(e){return t(Object(w.k)(Object(w.i)("calypso_directly_initialization_error",{error:e?e.toString():"Unknown error"}),Object(ut.c)()))})}]),we),Ot=Object(it.a)(ht,ct),yt=Ot,jt=n("./client/state/data-layer/wpcom-http/actions.js"),vt=n("./client/state/account-recovery/reset/actions.js"),St=fe()({},"ACCOUNT_RECOVERY_RESET_OPTIONS_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"GET",path:"/account-recovery/lookup",apiNamespace:"wpcom/v2",query:e.userData,retryPolicy:Ge()},e)},onSuccess:function(e,t){return[Object(vt.e)(t),Object(vt.j)(e.userData)]},onError:function(e,t){return Object(vt.d)(t)},fromApi:function(e){var t=e.primary_email,n=e.primary_sms,r=e.secondary_email,i=e.secondary_sms;return[{email:t.substring(0),sms:n.substring(0),name:"primary"},{email:r.substring(0),sms:i.substring(0),name:"secondary"}]}})]),It=fe()({},"ACCOUNT_RECOVERY_RESET_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",apiNamespace:"wpcom/v2",path:"/account-recovery/request-reset",body:ge()({},e.userData,{method:e.method})},e)},onSuccess:function(e){return[Object(vt.h)(e.method),{type:"ACCOUNT_RECOVERY_RESET_REQUEST_SUCCESS"}]},onError:function(e,t){return{type:"ACCOUNT_RECOVERY_RESET_REQUEST_ERROR",error:t.message}}})]),Tt=fe()({},"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",apiNamespace:"wpcom/v2",path:"/account-recovery/reset",body:ge()({},e.userData,{method:e.method,key:e.key,password:e.password})},e)},onSuccess:function(){return{type:"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_SUCCESS"}},onError:function(e,t){return{type:"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_ERROR",error:t.message}}})]),Ct=fe()({},"ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",apiNamespace:"wpcom/v2",path:"/account-recovery/validate",body:ge()({},e.userData,{method:e.method,key:e.key})},e)},onSuccess:function(e){var t=e.key;return[Object(vt.m)(),Object(vt.i)(t)]},onError:function(e,t){return Object(vt.l)(t)}})]),Rt=Object(it.a)(St,It,Tt,Ct),At=n("./client/state/active-promotions/actions.js"),Nt=Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/me/active-promotions"},e)},onSuccess:function(e,t){var n=t.active_promotions;return[Object(At.c)(),Object(At.a)(n)]},onError:function(e,t){return Object(At.b)(t instanceof Error?t.message:t)}}),wt=fe()({},"ACTIVE_PROMOTIONS_REQUEST",[Nt]),Pt=n("./client/state/activity-log/actions.js"),Ut=n("./client/state/notices/actions.js"),Dt=n("./client/state/data-layer/wpcom/sites/rewind/api-transformer.js"),kt=fe()({},"REWIND_ACTIVATE_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)(ge()({method:"POST",path:"/activity-log/"+e.siteId+"/rewind/activate",apiVersion:"1"},e.isVpMigrate?{body:{rewindOptIn:!0}}:{}),e)},onSuccess:function(e,t){var n=Object(Pt.g)(e.siteId);return void 0===Object(p.get)(t,"rewind_state",void 0)?n:[n,{type:"REWIND_STATE_UPDATE",siteId:e.siteId,data:Object(Dt.a)(t.rewind_state)}]},onError:function(e,t){var n=e.siteId,r=t.message;return[Object(Ut.b)(Object(P.translate)("Problem activating rewind: %(message)s",{args:{message:r}})),Object(Pt.f)(n)]}})]),Lt=fe()({},"REWIND_DEACTIVATE_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",path:"/activity-log/"+e.siteId+"/rewind/deactivate",apiVersion:"1"},e)},onSuccess:function(e){var t=e.siteId;return Object(Pt.m)(t)},onError:function(e,t){var n=e.siteId,r=t.message;return[Object(Ut.b)(Object(P.translate)("Problem deactivating rewind: %(message)s",{args:{message:r}})),Object(Pt.l)(n)]}})]),Mt=fe()({},"JETPACK_CREDENTIALS_DELETE",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"POST",path:"/activity-log/"+e.siteId+"/delete-credentials",body:{role:e.role}},ge()({},e))},onSuccess:function(e,t){var n=e.siteId,r=t.rewind_state,i={type:"JETPACK_CREDENTIALS_STORE",credentials:{main:null},siteId:n};try{return[i,{type:"REWIND_STATE_UPDATE",siteId:n,data:Object(Dt.a)(r)}]}catch(e){return i}},onError:p.noop})]),xt=n("./client/state/rewind/actions.js"),Ft=fe()({},"JETPACK_CREDENTIALS_AUTOCONFIGURE",[Object(ot.b)({fetch:function(e){var t=Object(Ut.f)(U.a.translate("Obtaining your credentials")),n=t.notice.noticeId;return[t,Object(jt.a)({apiVersion:"1.1",method:"POST",path:"/activity-log/"+e.siteId+"/rewind/activate"},ge()({},e,{noticeId:n}))]},onSuccess:function(e,t){var n=e.siteId,r=e.noticeId,i=t.rewind_state;return[{type:"JETPACK_CREDENTIALS_STORE",credentials:{main:{type:"auto"}},siteId:n},Object(Ut.f)(U.a.translate("Your credentials have been auto configured."),{duration:4e3,id:r}),Object(xt.a)(n),function(){try{return{type:"REWIND_STATE_UPDATE",siteId:n,data:Object(Dt.a)(i)}}catch(e){}}]},onError:function(e){var t=e.noticeId;return Object(Ut.b)(U.a.translate("Error auto configuring your credentials."),{duration:4e3,id:t})}})]),Vt=n("./client/lib/make-json-schema-parser/index.js"),Gt=function(e){var t=parseInt(e.restore_id,10);if(Number.isNaN(t))throw new Vt.a("missing numeric restore id - found `${ data.restore_id }`");return t},qt=function(e,t){return Object(jt.a)({apiVersion:"1",method:"POST",path:"/activity-log/"+e.siteId+"/rewind/to/"+e.timestamp,body:t},e)},Ht=function(e,t){var n=e.siteId;return[Object(Pt.e)(n,t),Object(xt.a)(n)]},Wt=function(e,t){var n=e.siteId,r=e.timestamp;return t.hasOwnProperty("schemaErrors")?Object(w.k)(Object(w.i)("calypso_rewind_to_missing_restore_id",{site_id:n,timestamp:r}),Object(Ut.b)(Object(P.translate)("Oops, something went wrong. We've been notified and are working on resolving this issue."))):Object(w.k)(Object(w.i)("calypso_rewind_to_unknown_error",t),Object(Ut.b)(Object(P.translate)("Oops, something went wrong. Please try again soon or contact support for help.")))},Bt=(Et={},fe()(Et,"REWIND_RESTORE",[Object(ot.b)({fetch:function(e){return qt(e)},onSuccess:Ht,onError:Wt,fromApi:Gt})]),fe()(Et,"REWIND_CLONE",[Object(ot.b)({fetch:function(e){return qt(e,e.payload)},onSuccess:Ht,onError:Wt,fromApi:Gt})]),Et),Qt=new Map,zt=fe()({},"REWIND_RESTORE_PROGRESS_REQUEST",[Object(ot.b)({fetch:function(e){var t=e.restoreId,n=e.siteId,r=n+"-"+t,i=Qt.get(r)||-1/0,s=Date.now();if(!(s-i<1500))return Qt.set(r,s),Object(jt.a)({apiVersion:"1",method:"GET",path:"/activity-log/"+n+"/rewind/"+t+"/restore-status"},e)},onSuccess:function(e,t){var n=e.siteId,r=e.restoreId,i=e.timestamp;return Object(Pt.u)(n,i,r,t)},onError:function(){return Object(Ut.b)(Object(P.translate)("Hmm, we can't update the status of your restore. Please refresh this page."),{id:"AL_REW_RESTORESTATUS_ERR"})},fromApi:function(e){var t=e.restore_status;t=void 0===t?{}:t;var n=t.error_code,r=void 0===n?"":n,i=t.failure_reason,s=void 0===i?"":i,o=t.message,a=void 0===o?"":o,c=t.percent,u=void 0===c?0:c,l=t.status,d=void 0===l?"":l,p=t.rewind_id,m=void 0===p?"":p,f=t.context,_=void 0===f?"":f;return{errorCode:r,failureReason:s,message:a,percent:+u,status:d,rewindId:m,context:_}}})]),Yt=fe()({},"REWIND_BACKUP",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",apiNamespace:"wpcom/v2",path:"/sites/"+e.siteId+"/rewind/downloads",body:{rewindId:e.rewindId}},e)},onSuccess:function(e){var t=e.siteId;return Object(Pt.d)(t)},onError:function(e,t){var n=e.siteId;return Object(Pt.j)(n,Object(p.pick)(t,["error","status","message"]))},fromApi:function(e){if(!e.hasOwnProperty("downloadId"))throw new Error("Missing downloadId field in response");return!0}})]),Kt=Object(it.a)(Ft,Bt,zt,Yt),Jt=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Zt=n.n(Jt),$t=n("./client/state/happychat/utils.js"),Xt=n("./client/state/happychat/selectors/has-active-happychat-session.js"),en=n("./client/state/happychat/selectors/is-happychat-available.js"),tn=n("./client/state/happychat/selectors/is-happychat-connection-uninitialized.js"),nn=n("./client/state/happychat/connection/actions.js"),rn=n("./client/state/happychat/ui/actions.js"),sn=void 0!==("undefined"==typeof window?"undefined":oe()(window))?function(e){return window.open(e,"_blank")}:function(e){return _()(e)},on=fe()({},"JETPACK_CREDENTIALS_UPDATE",[function(e){var t=e.dispatch,n=e.getState,r=n(),i=Object($t.a)(r);Object(tn.a)(r)&&t(Object(nn.a)(i()))},Object(ot.b)({fetch:function(e){var t=Object(Ut.f)(U.a.translate("Testing connection"),{duration:3e4}),n=t.notice.noticeId,r=e.credentials,i=r.path,s=Zt()(r,["path"]),o=ge()({},s,{abspath:i});return[t,Object(jt.a)({apiVersion:"1.1",method:"POST",path:"/activity-log/"+e.siteId+"/update-credentials",body:{credentials:o}},ge()({},e,{noticeId:n}))]},onSuccess:function(e,t){var n=t.rewind_state;return[{type:"JETPACK_CREDENTIALS_UPDATE_SUCCESS",siteId:e.siteId},{type:"JETPACK_CREDENTIALS_STORE",credentials:{main:e.credentials},siteId:e.siteId},Object(Ut.f)(U.a.translate("Your site is now connected."),{duration:4e3,id:e.noticeId}),function(){try{return{type:"REWIND_STATE_UPDATE",siteId:e.siteId,data:Object(Dt.a)(n)}}catch(e){}}()]},onError:function(e,t){return function(n,r){n({type:"JETPACK_CREDENTIALS_UPDATE_FAILURE",error:t,siteId:e.siteId});var i=function(){var e=r(),t=Object(en.a)(e)||Object(Xt.a)(e);return t?n(Object(rn.f)()):sn("/help")},s=U.a.translate,o={duration:1e4,id:e.noticeId},a=function(e,t){return n(Object(Ut.b)(e,t?ge()({},o,t):o))},c=function(i){var s=Object(w.i)("calypso_rewind_creds_update_failure",{site_id:e.siteId,error:t.error,status_code:t.statusCode,host:e.credentials.host,kpri:e.credentials.krpi?"provided but [omitted here]":"not provided",pass:e.credentials.pass?"provided but [omitted here]":"not provided",path:e.credentials.path,port:e.credentials.port,protocol:e.credentials.protocol,user:e.credentials.user});n(Object(Xt.a)(r())?Object(w.k)(s,Object(nn.n)(i)):s)};switch(t.error){case"service_unavailable":a(s("A error occurred when we were trying to validate your site information. Please make sure your credentials and host URL are correct and try again. If you need help, please click on the support chat link."),{button:s("Support chat"),onClick:i}),c("Rewind Credentials: update request failed on timeout (could be us or remote site)");break;case"missing_args":a(s("Something seems to be missing  please fill out all the required fields.")),c("Rewind Credentials: missing API args (contact a dev)");break;case"invalid_args":a(s("The information you entered seems to be incorrect. Let's take another look to ensure everything is in the right place.")),c("Rewind Credentials: invalid API args (contact a dev)");break;case"invalid_credentials":a(s("We couldn't connect to your site. Please verify your credentials and give it another try.")),c("Rewind Credentials: invalid credentials");break;case"invalid_wordpress_path":a(s("We looked for `wp-config.php` in the WordPress installation path you provided but couldn't find it."),{button:s("Get help"),onClick:i}),c("Rewind Credentials: can't find WordPress installation files");break;case"read_only_install":a(s("It looks like your server is read-only. To create backups and rewind your site, we need permission to write to your server."),{button:s("Get help"),onClick:i}),c("Rewind Credentials: creds only seem to provide read-only access");break;case"unreachable_path":a(s("We tried to access your WordPress installation through its publicly available URL, but it didn't work. Please make sure the directory is accessible and try again.")),c("Rewind Credentials: creds might be for wrong site on right server");break;default:a(s("Error saving. Please check your credentials and try again.")),c("Rewind Credentials: unknown failure saving credentials")}}}})]),an=Object(it.a)(kt,Lt,Mt,Kt,on),cn=n("./client/state/checklist/actions.js"),un=function(e,t){return Object(cn.a)(e.siteId,t)},ln=Object(ot.b)({fetch:function(e){return Object(jt.a)({path:"/sites/"+e.siteId+"/checklist",method:"GET",apiNamespace:"rest/v1",query:{http_envelope:1}},e)},onSuccess:un,onError:p.noop}),dn=Object(ot.b)({fetch:function(e){return Object(jt.a)({path:"/sites/"+e.siteId+"/checklist",method:"POST",apiNamespace:"rest/v1",query:{http_envelope:1},body:{taskId:e.taskId}},e)},onSuccess:un,onError:p.noop}),pn=(bt={},fe()(bt,"SITE_CHECKLIST_REQUEST",[ln]),fe()(bt,"SITE_CHECKLIST_TASK_UPDATE",[dn]),bt),mn=n("./client/state/posts/selectors.js"),fn=n("./client/state/comments/actions.js"),_n=n("./client/state/comments/selectors.js"),En=n("./client/state/selectors/get-site-comment.js"),bn=n("./client/lib/formatting/index.js"),gn=(gt={},fe()(gt,"COMMENTS_REQUEST",[Object(ot.b)({fetch:function(e){return function(t,n){var r=e.siteId,i=e.postId,s=e.query,o=e.direction,a=Object(_n.j)(n(),r,i),c=Object(_n.i)(n(),r,i),u="before"===o&&Object(p.isDate)(a)&&a.toISOString&&a.toISOString(),l="after"===o&&Object(p.isDate)(c)&&c.toISOString&&c.toISOString();t(Object(jt.a)({method:"GET",path:"/sites/"+r+"/posts/"+i+"/replies",apiVersion:"1.1",query:Object(p.pickBy)(ge()({},s,{after:l,before:u}))},e))}},onSuccess:function(e,t){var n=t.comments,r=t.found,i=e.siteId,s=e.postId,o=e.direction,a={type:"COMMENTS_RECEIVE",siteId:i,postId:s,comments:function(e){return Object(p.map)(e,function(e){return e.author?ge()({},e,{author:ge()({},e.author,{name:Object(bn.b)(Object(p.get)(e,["author","name"]))})}):e})}(n),direction:o};return r>-1?[a,{type:"COMMENTS_COUNT_RECEIVE",siteId:i,postId:s,totalCommentsCount:r}]:a},onError:function(e){var t=e.siteId,n=e.postId;return function(e,r){var i=Object(mn.l)(r(),t,n),s=i&&i.title&&i.title.trim().slice(0,20).trim().concat(""),o=s?Object(P.translate)("Could not retrieve comments for %(postTitle)s",{args:{postTitle:s}}):Object(P.translate)("Could not retrieve comments for requested post");e(Object(Ut.b)(o,{duration:5e3}))}}})]),fe()(gt,"COMMENTS_DELETE",[Object(ot.b)({fetch:function(e){return function(t,n){var r=e.siteId,i=e.commentId;if(!Object(p.startsWith)(i,"placeholder")){var s=Object(En.a)(n(),r,i);t(Object(jt.a)({method:"POST",apiVersion:"1.1",path:"/sites/"+r+"/comments/"+i+"/delete"},ge()({},e,{comment:s})))}}},onSuccess:function(e){var t=e.options,n=e.refreshCommentListQuery,r=Object(p.get)(t,"showSuccessNotice",!1);return Object(p.compact)([r&&Object(Ut.f)(Object(P.translate)("Comment deleted permanently."),{duration:5e3,id:"comment-notice",isPersistent:!0}),!!n&&Object(fn.k)(n)])},onError:function(e){var t=e.siteId,n=e.postId,r=e.comment,i=Object(Ut.b)(Object(P.translate)("Could not delete the comment."),{duration:5e3,isPersistent:!0});return r?[i,{type:"COMMENTS_RECEIVE",siteId:t,postId:n,comments:[r],skipSort:!!Object(p.get)(r,"parent.ID"),meta:{comment:{context:"add"}}}]:i}})]),gt),hn=n("./client/state/concierge/actions.js"),On=n("./client/me/concierge/constants.js"),yn=n("./client/state/data-layer/wpcom/concierge/schedules/appointments/book/schema.json"),jn=Object(Vt.c)(yn),vn=function(e){var t=e.type,n="CONCIERGE_APPOINTMENT_RESCHEDULE"===t?"calypso_concierge_appointment_rescheduling_successful":"calypso_concierge_appointment_booking_successful";return Object(w.k)(Object(w.i)(n),Object(hn.g)(On.c))},Sn=function(e,t){var n=e.type,r="CONCIERGE_APPOINTMENT_RESCHEDULE"===n?"calypso_concierge_appointment_rescheduling_error":"calypso_concierge_appointment_booking_error";return[Object(w.k)(Object(w.i)(r),Object(hn.g)(On.e)),Object(Ut.b)(function(e){switch(e){case On.b:return Object(P.translate)("This session is no longer available. Please select a different time.");case On.a:return Object(P.translate)("You already have an upcoming appointment. A second can not be scheduled yet.");default:return Object(P.translate)("We could not book your appointment. Please try again later.")}}(t.code))]},In=fe()({},"CONCIERGE_APPOINTMENT_CREATE",[Object(ot.b)({fetch:function(e){return[Object(hn.g)(On.d),Object(jt.a)({method:"POST",path:"/concierge/schedules/"+e.scheduleId+"/appointments",apiNamespace:"wpcom/v2",body:(t=e,n=t.beginTimestamp,r=t.customerId,i=t.siteId,s=t.meta,{begin_timestamp:Math.ceil(n/1e3),customer_id:r,site_id:i,meta:JSON.stringify(s)})},e)];var t,n,r,i,s},onSuccess:vn,onError:Sn,fromApi:jn})]),Tn=n("./client/state/data-layer/wpcom/concierge/schedules/appointments/cancel/schema.json"),Cn=Object(Vt.c)(Tn),Rn=fe()({},"CONCIERGE_APPOINTMENT_CANCEL",[Object(ot.b)({fetch:function(e){return[Object(hn.g)(On.g),Object(jt.a)({method:"POST",path:"/concierge/schedules/"+e.scheduleId+"/appointments/"+e.appointmentId+"/cancel",apiNamespace:"wpcom/v2",body:{}},e)]},onSuccess:function(){return Object(w.k)(Object(w.i)("calypso_concierge_appointment_cancellation_successful"),Object(hn.g)(On.f))},onError:function(){return[Object(Ut.b)("We couldn't cancel your session, please try again later."),Object(w.k)(Object(w.i)("calypso_concierge_appointment_cancellation_error"),Object(hn.g)(On.h))]},fromApi:Cn})]),An=n("./client/state/data-layer/wpcom/concierge/schedules/appointments/detail/schema.json"),Nn=function(e){var t=e.begin_timestamp,n=e.end_timestamp,r=e.schedule_id,i=Zt()(e,["begin_timestamp","end_timestamp","schedule_id"]);return ge()({beginTimestamp:1e3*t,endTimestamp:1e3*n,scheduleId:r},i)},wn=Object(Vt.c)(An,Nn),Pn=fe()({},"CONCIERGE_APPOINTMENT_DETAILS_REQUEST",[Object(ot.b)({fetch:function(e){var t=e.appointmentId,n=e.scheduleId;return Object(jt.a)({method:"GET",path:"/concierge/schedules/"+n+"/appointments/"+t+"/detail",apiNamespace:"wpcom/v2",retryPolicy:Ge()},e)},onSuccess:function(e,t){var n=e.appointmentId;return Object(hn.f)(n,t)},onError:function(){return Object(Ut.b)(Object(P.translate)("We could not find your appointment. Please try again later."))},fromApi:wn})]),Un=fe()({},"CONCIERGE_APPOINTMENT_RESCHEDULE",[Object(ot.b)({fetch:function(e){return[Object(hn.g)(On.d),Object(jt.a)({method:"POST",path:"/concierge/schedules/"+e.scheduleId+"/appointments/"+e.appointmentId+"/reschedule",apiNamespace:"wpcom/v2",body:(t=e,n=t.appointmentDetails,r=t.beginTimestamp,{begin_timestamp:Math.ceil(r/1e3),meta:JSON.stringify(n.meta)})},e)];var t,n,r},onSuccess:vn,onError:Sn,fromApi:jn})]),Dn=Object(it.a)(In,Rn,Pn,Un),kn=n("./client/state/data-layer/wpcom/concierge/schedules/initial/schema.json"),Ln=function(e){return 1e3*e},Mn=Object(Vt.c)(kn,function(e){var t=null===e.next_appointment?null:Nn(e.next_appointment);return{availableTimes:e.available_times.map(Ln),nextAppointment:t}}),xn=fe()({},"CONCIERGE_INITIAL_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"GET",path:"/concierge/schedules/"+e.scheduleId+"/initial",apiNamespace:"wpcom/v2"},e)},onSuccess:function(e,t){return Object(hn.h)(t)},onError:function(){return Object(Ut.b)(Object(P.translate)("We couldn't load our Concierge schedule. Please try again later."))},fromApi:Mn})]),Fn=Object(it.a)(Dn,xn),Vn=Object(it.a)(Fn),Gn=fe()({},"COUNTRIES_DOMAINS_FETCH",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/domains/supported-countries/"},e)},onSuccess:function(e,t){return{type:"COUNTRIES_DOMAINS_UPDATED",countries:t}},onError:function(){return Object(Ut.b)(Object(P.translate)("We couldn't load the countries list."))}})]),qn=n("./client/state/domains/transfer/actions.js"),Hn=fe()({},"DOMAIN_TRANSFER_IPS_TAG_SAVE",[Object(ot.b)({fetch:function(e){var t=e.domain,n=e.ipsTag;return[Object(qn.b)(t,{saveStatus:"saving"}),Object(jt.a)({apiVersion:"1",method:"POST",path:"/domains/"+t+"/transfer/",body:{domainStatus:JSON.stringify({command:"set-ips-tag",payload:{ips_tag:n}})}},e)]},onSuccess:function(e){var t=e.domain,n=e.selectedRegistrar;return Object(qn.b)(t,{selectedRegistrar:n,saveStatus:"success"})},onError:function(e){var t=e.domain,n=e.selectedRegistrar;return[Object(qn.b)(t,{selectedRegistrar:n,saveStatus:"error"}),Object(Ut.b)(Object(P.translate)("IPS tag save failed!"),{duration:2e4,id:"ips-tag-save-failure-notice",isPersistent:!0,href:"https://wordpress.com/help/contact",button:"Get Help",showDismiss:!1})]}})]),Wn=n("./client/state/domains/management/validation-schemas/actions.js"),Bn=fe()({},"DOMAIN_MANAGEMENT_VALIDATION_SCHEMAS_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1",method:"GET",path:"/domains/validation-schemas/"+Object(p.join)(Object(p.get)(e,"tlds",[]),",")},e)},onSuccess:function(e,t){return Object(Wn.a)(t)},onError:function(e,t){var n=e.tlds;return w.b.apply(void 0,ce()(Object(p.flatMap)(n,function(e){return[Object(w.a)("form_validation_schema_exceptions","load_"+e),Object(w.i)("calypso_domain_contact_validation_schema_load_failure",{tld:e,error:JSON.stringify(t)})]})))}})]),Qn=Object(it.a)(Gn,Hn,Bn);var zn,Yn=fe()({},"GRAVATAR_UPLOAD_REQUEST",[Object(ot.a)(function(e,t){var n=e.dispatch,r=t.email,i=t.file;n(Object(jt.a)({method:"POST",path:"/gravatar-upload",body:{},apiNamespace:"wpcom/v2",formData:[["account",r],["filedata",i]]},t))},function(e,t){var n=e.dispatch,r=t.file,i=new FileReader;i.addEventListener("load",function(){n({type:"GRAVATAR_UPLOAD_RECEIVE",src:i.result}),n(Object(w.k)(Object(w.i)("calypso_edit_gravatar_upload_success"),{type:"GRAVATAR_UPLOAD_REQUEST_SUCCESS"}))}),i.readAsDataURL(r)},function(e){var t=e.dispatch;t(Object(w.k)(Object(w.b)(Object(w.i)("calypso_edit_gravatar_upload_failure"),Object(w.a)("calypso_gravatar_update_error","unsuccessful_http_response")),{type:"GRAVATAR_UPLOAD_REQUEST_FAILURE"}))})]),Kn=n("./client/state/i18n/language-names/actions.js"),Jn=Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"GET",apiNamespace:"wpcom/v2",path:"/i18n/language-names"},e)},onSuccess:function(e,t){return[Object(Kn.a)(t)]},onError:p.noop}),Zn=fe()({},"I18N_LANGUAGE_NAMES_REQUEST",[Jn]),$n=Object(it.a)(Zn),Xn=n("./client/state/jetpack/connection/actions.js"),er=fe()({},"JETPACK_USER_CONNECTION_CHANGE_OWNER",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"POST",path:"/jetpack-blogs/"+e.siteId+"/rest-api/",body:{path:"/jetpack/v4/connection/owner/",body:JSON.stringify({owner:e.newOwnerWporgId}),json:!0}},e)},onSuccess:function(e){var t=e.newOwnerWpcomDisplayName,n=e.siteId;return[Object(Ut.f)(Object(P.translate)("Site owner changed to %(user)s.",{args:{user:t}})),Object(Xn.d)(n)]},onError:function(e){var t=e.newOwnerWpcomDisplayName;return Object(Ut.b)(Object(P.translate)("Site owner could not be changed to %(user)s. Please contact support.",{args:{user:t}}))}})]),tr=n("./client/state/jetpack-remote-install/actions.js"),nr=fe()({},"JETPACK_REMOTE_INSTALL",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",path:"/jetpack-install/"+encodeURIComponent(e.url),query:{user:e.user,password:e.password}},e)},onSuccess:function(e){var t=e.url,n=Object(w.k)(Object(w.i)("calypso_jpc_remoteinstall_api_success",{url:t}));return n(Object(tr.b)(t))},onError:function(e,t){var n=e.url,r=e.user,i=e.password,s=e.meta.dataLayer,o=s.retryCount,a=void 0===o?0:o,c=Object(w.k)(Object(w.i)("calypso_jpc_remoteinstall_api_fail",{url:n,error:t.error,error_message:t.message,status:t.status}));return Object(p.includes)(t.message,"timed out")&&a<3?{type:"JETPACK_REMOTE_INSTALL",url:n,user:r,password:i,meta:{dataLayer:{retryCount:a+1,trackRequest:!0}}}:c(Object(tr.c)(n,t.error,t.message))}})]),rr=n("./client/state/selectors/get-jetpack-settings.js"),ir=n("./client/state/selectors/get-site-url.js"),sr=n("./client/state/selectors/get-unconnected-site-url.js"),or=function(e){return Object.keys(e).reduce(function(t,n){switch(n){case"carousel_background_color":t[n]=""===e[n]?"black":e[n];break;case"custom-content-types":case"jetpack_testimonial":case"jetpack_portfolio":case"jetpack_testimonial_posts_per_page":case"jetpack_portfolio_posts_per_page":break;case"jetpack_protect_global_whitelist":var r=Object(p.get)(e[n],["local"],[]);t[n]=r.join("\n");break;case"infinite-scroll":break;case"infinite_scroll":void 0!==e["infinite-scroll"]&&(e["infinite-scroll"]?t[n]=e[n]?"scroll":"button":t[n]="default",t["infinite-scroll"]=e["infinite-scroll"]);break;default:t[n]=e[n]}return t},{})},ar=n("./client/state/jetpack/settings/actions.js"),cr=n("./client/lib/route/index.js"),ur=function(e){return function(e){var t=ge()({},e);return Object(p.forEach)({minileven:["wp_mobile_excerpt","wp_mobile_featured_images","wp_mobile_app_promos"],subscriptions:["stb_enabled","stc_enabled"],likes:["social_notifications_like","social_notifications_reblog","social_notifications_subscribe"],markdown:["wpcom_publish_comments_with_markdown"],protect:["jetpack_protect_global_whitelist"],sso:["jetpack_sso_match_by_email","jetpack_sso_require_two_step"],"after-the-deadline":["onpublish","onupdate","guess_lang","Bias Language","Cliches","Complex Expression","Diacritical Marks","Double Negative","Hidden Verbs","Jargon Language","Passive voice","Phrases to Avoid","Redundant Expression","ignored_phrases"],comments:["highlander_comment_form_prompt","jetpack_comment_form_color_scheme"],carousel:["carousel_background_color","carousel_display_exif"],stats:["admin_bar","hide_smile","count_roles","roles"]},function(n,r){e[r]||(t=Object(p.omit)(t,n)),t=Object(p.omit)(t,r)}),t}(function(e){return Object.keys(e).reduce(function(t,n){switch(n){case"akismet":case"custom-content-types":case"infinite-scroll":case"jetpack_portfolio":case"jetpack_testimonial":case"jetpack_testimonial_posts_per_page":case"jetpack_portfolio_posts_per_page":case"post_by_email_address":"regenerate"===e[n]&&(t[n]=e[n]);break;case"infinite_scroll":"default"===e[n]?t["infinite-scroll"]=!1:(t["infinite-scroll"]=!0,t[n]="scroll"===e[n]);break;default:t[n]=e[n]}return t},{})}(e))},lr=(zn={},fe()(zn,"JETPACK_SETTINGS_REQUEST",[Object(ot.a)(function(e,t){var n=e.dispatch,r=t.siteId,i=t.query;return n(Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/jetpack-blogs/"+r+"/rest-api/",query:{path:"/jetpack/v4/settings/",query:JSON.stringify(i),json:!0}},t))},function(e,t,n){var r=e.dispatch,i=t.siteId;r(Object(ar.e)(i,n))},function(e,t){var n=e.dispatch,r=e.getState,i=t.siteId,s=r(),o=Object(ir.a)(s,i)||Object(sr.a)(s,i),a={id:"jpo-communication-error-"+i};return o&&(a.button=Object(P.translate)("Visit site admin"),a.href=Object(cr.j)(o)+"wp-admin/admin.php?page=jetpack"),n(Object(Ut.b)(Object(P.translate)("Something went wrong."),a))},{fromApi:function(e){if(!e.data)throw new Error("missing settings");return or(e.data)}})]),fe()(zn,"JETPACK_SETTINGS_SAVE",[Object(ot.a)(function(e,t){var n=e.dispatch,r=e.getState,i=t.settings,s=t.siteId,o=Object(rr.a)(r(),s),a=Object(p.omit)(i,["onboarding.jpUser","onboarding.token"]);return n(Object(ar.e)(s,a)),n(Object(jt.a)({apiVersion:"1.1",method:"POST",path:"/jetpack-blogs/"+s+"/rest-api/",body:{path:"/jetpack/v4/settings/",body:JSON.stringify(ur(i)),json:!0}},ge()({},t,{meta:ge()({},t.meta,{settings:o})})))},function(e,t,n){var r=e.dispatch,i=t.siteId,s=n.data,o=(s.code,s.message,Zt()(s,["code","message"]));return r(Object(ar.d)(i,o))},function(e,t,n){var r=e.dispatch,i=n.message,s=t.settings,o=t.siteId,a=t.type,c=t.meta.dataLayer,u=c.retryCount,l=void 0===u?0:u;if(!0!==Object(p.get)(s,["onboarding","installWooCommerce"])||!Object(p.startsWith)(i,"cURL error 28")||l>2)return function(e,t,n){var r=e.dispatch,i=t.siteId,s=n.meta.settings;r(Object(ar.e)(i,s)),r(Object(Ut.b)(Object(P.translate)("An unexpected error occurred. Please try again later."),{id:"jpo-notice-error-"+i,duration:5e3}))}({dispatch:r},{siteId:o},t);r({settings:s,siteId:o,type:a,meta:{dataLayer:{retryCount:l+1,trackRequest:!0}}})})]),zn),dr=n("./client/state/i18n/locale-suggestions/actions.js"),pr=Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/locale-guess"},e)},onSuccess:function(e,t){return Object(dr.a)(t)},onError:p.noop}),mr=fe()({},"I18N_LOCALE_SUGGESTIONS_REQUEST",[pr]),fr=n("./client/state/login/selectors.js"),_r=n("./client/lib/i18n-utils/browser.js"),Er=n("./client/state/login/actions.js"),br=Object(ot.a)(function(e,t){e.dispatch(Object(st.a)({url:Object(_r.b)("https://wordpress.com/wp-login.php?action=two-step-authentication-endpoint",Object(_r.h)()),method:"POST",headers:[["Content-Type","application/x-www-form-urlencoded"]],withCredentials:!0,body:{user_id:Object(fr.t)(e.getState()),auth_type:"push",remember_me:!0,two_step_nonce:Object(fr.n)(e.getState(),"push"),two_step_push_token:Object(fr.s)(e.getState()),client_id:Object(v.a)("wpcom_signup_id"),client_secret:Object(v.a)("wpcom_signup_key")}},t))},function(e,t,n){var r=e.dispatch;return r(Object(Er.k)(Object(p.get)(n,"body.data.token_links")))},function(e,t,n){var r=!n.status,i=Object(p.get)(n,"response.body.data.two_step_nonce");if(i)e.dispatch({type:"TWO_FACTOR_AUTHENTICATION_UPDATE_NONCE",nonceType:"push",twoStepNonce:i});else if(!r)throw e.dispatch({type:"TWO_FACTOR_AUTHENTICATION_PUSH_POLL_STOP"}),new Error("Unable to continue polling because of error");Object(fr.q)(e.getState())&&setTimeout(function(){return br(e,{type:t.type})},5e3)}),gr=fe()({},"TWO_FACTOR_AUTHENTICATION_PUSH_POLL_START",[function(e,t){return e.dispatch(Object(Ue.a)(t)),br(e,t)}]),hr=fe()({},"LOGSTASH",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",apiVersion:"1.1",path:"/logstash",body:e.params})},onSuccess:p.noop,onError:p.noop})]),Or=n("./client/state/account/actions.js");var yr=fe()({},"ACCOUNT_CLOSE",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",apiVersion:"1.1",path:"/me/account/close",body:{}},e)},onSuccess:function(){return Object(Or.b)()},onError:function(){return Object(Ut.b)(Object(P.translate)("Sorry, there was a problem closing your account. Please contact support."))},fromApi:function(e){if(!e.success)throw new Error("Account closure was unsuccessful",e);return e}})]),jr=yr,vr=n("./client/state/reader/site-blocks/actions.js");var Sr=fe()({},"READER_SITE_UNBLOCK",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",apiVersion:"1.1",path:"/me/block/sites/"+e.payload.siteId+"/delete",body:{}},e)},onSuccess:function(){return Object(Ut.d)(Object(P.translate)("The site has been successfully unblocked."),{duration:5e3})},onError:function(e){var t=e.payload.siteId;return function(e){e(Object(Ut.b)(Object(P.translate)("Sorry, there was a problem unblocking that site."))),e(Object(Ue.a)(Object(vr.a)(t)))}},fromApi:function(e){if(!e.success)throw new Error("Site unblock was unsuccessful",e);return e}})]);var Ir=fe()({},"READER_SITE_BLOCK",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",apiVersion:"1.1",path:"/me/block/sites/"+e.payload.siteId+"/new",body:{}},e)},onSuccess:function(){return Object(Ut.f)(Object(P.translate)("The site has been successfully blocked."),{duration:5e3})},onError:function(e){var t=e.payload.siteId;return function(e){e(Object(Ut.b)(Object(P.translate)("Sorry, there was a problem blocking that site."))),e(Object(Ue.a)(Object(vr.b)(t)))}},fromApi:function(e){if(!e.success)throw new Error("Site block was unsuccessful",e);return e}})]),Tr=Object(it.a)(Sr,Ir),Cr=Object(it.a)(Tr),Rr=n("./client/state/connected-applications/actions.js"),Ar=fe()({},"CONNECTED_APPLICATION_DELETE",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"POST",path:"/me/connected-applications/"+e.appId+"/delete"},e)},onSuccess:function(e){var t=e.appId;return[Object(Rr.b)(t),Object(Ut.f)(Object(P.translate)("This application no longer has access to your WordPress.com account."),{duration:8e3,id:"connected-app-notice-success-"+t})]},onError:function(){return Object(Ut.b)(Object(P.translate)("The connected application was not disconnected. Please try again."),{duration:8e3,id:"connected-app-notice-error"})}})]),Nr=fe()({},"CONNECTED_APPLICATIONS_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/me/connected-applications"},e)},onSuccess:function(e,t){return Object(Rr.c)(t)},onError:p.noop,fromApi:Object(Vt.c)({type:"object",properties:{connected_applications:{type:"array",items:{type:"object",properties:{ID:{type:"string"},URL:{type:"string"},authorized:{type:"string"},description:{type:"string"},icon:{type:"string"},permissions:{type:"array",items:{type:"object",properties:{description:{type:"string"},name:{type:"string"}},required:["description","name"],additionalProperties:!1}},scope:{type:"string"},site:{oneOf:[{type:"boolean"},{type:"object",properties:{site_ID:{type:"string"},site_URL:{type:"string"},site_name:{type:"string"}},required:["site_ID","site_URL","site_name"],additionalProperties:!1}]},title:{type:"string"}},required:["ID"],additionalProperties:!1}}},additionalProperties:!1},function(e){return e.connected_applications},{})})]),wr=Object(it.a)(Nr,Ar),Pr=n("./client/state/user-devices/actions.js"),Ur=fe()({},"USER_DEVICES_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/notifications/devices"},e)},onSuccess:function(e,t){return Object(Pr.b)(t)},onError:function(){return Object(Ut.b)(Object(P.translate)("We couldn't load your devices, please try again."))},fromApi:function(e){return Object(p.keyBy)(e.map(function(e){var t=e.device_id,n=e.device_name;return{id:t,name:n}}),"id")}})]),Dr=fe()({},"NOTIFICATION_SETTINGS_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/me/notifications/settings"},e)},onSuccess:function(e,t){return function(e){return{type:"NOTIFICATION_SETTINGS_UPDATE",settings:e}}(t)},onError:function(){return Object(Ut.b)(Object(P.translate)("We couldn't load your notification settings, please try again."))}})]),kr=Dr,Lr=n("./client/state/profile-links/actions.js"),Mr=fe()({},"USER_PROFILE_LINKS_ADD",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.2",method:"POST",path:"/me/settings/profile-links/new",body:{links:e.profileLinks}},e)},onSuccess:function(e,t){var n=[Object(Lr.e)(e.profileLinks)];return t.duplicate?n.push(Object(Lr.b)(t.duplicate)):t.malformed?n.push(Object(Lr.d)(t.malformed)):n.push(Object(Lr.i)(t.profile_links)),n},onError:function(e,t){var n=e.profileLinks;return Object(Lr.c)(n,t)}})]),xr=fe()({},"USER_PROFILE_LINKS_DELETE",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"POST",path:"/me/settings/profile-links/"+e.linkSlug+"/delete"},e)},onSuccess:function(e){var t=e.linkSlug;return Object(Lr.h)(t)},onError:function(e,t){var n=e.linkSlug;return Object(Lr.g)(n,t)}})]),Fr=fe()({},"USER_PROFILE_LINKS_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/me/settings/profile-links"},e)},onSuccess:function(e,t){var n=t.profile_links;return Object(Lr.i)(n)},onError:p.noop})]),Vr=Object(it.a)(Fr,Mr,xr);var Gr,qr=n("./client/state/user-settings/actions.js"),Hr=new Set(["display_name","description","user_URL"]);function Wr(e){return Object(p.mapValues)(e,function(e,t){return Hr.has(t)?Object(bn.b)(e):e})}var Br,Qr=Object(it.a)((Gr={},fe()(Gr,"USER_SETTINGS_REQUEST",[Object(ot.a)(function(e,t){var n=e.dispatch;return n(Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/me/settings"},t))},function(e,t,n){var r=e.dispatch;r(Object(qr.c)(Wr(n)))},p.noop)]),fe()(Gr,"USER_SETTINGS_SAVE",[Object(ot.a)(function(e,t){var n,r=e.dispatch,i=e.getState,s=t.settingsOverride,o=s||(n=i(),n.userSettings.unsavedSettings);Object(p.isEmpty)(o)||r(Object(jt.a)({apiVersion:"1.1",method:"POST",path:"/me/settings",body:o},t))},function(e,t,r){var i=e.dispatch,s=t.settingsOverride;i(Object(qr.c)(Wr(r))),i(Object(qr.a)(s?Object(p.keys)(s):null));var o=n("./client/lib/user/index.js"),a=o.default?o.default:o;a().fetch()},p.noop)]),Gr),Vr),zr=fe()({},"EMAIL_VERIFY_REQUEST",[Object(ot.a)(function(e,t){var n=e.dispatch;n(Object(jt.a)({apiVersion:"1.1",method:"POST",path:"/me/send-verification-email"},t))},function(e){var t=e.dispatch;t({type:"EMAIL_VERIFY_REQUEST_SUCCESS"})},function(e,t,n){var r=e.dispatch;r({type:"EMAIL_VERIFY_REQUEST_FAILURE",message:n.message})})]),Yr=fe()({},"COUNTRIES_PAYMENTS_FETCH",[Object(ot.a)(function(e,t){var n=e.dispatch;return n(Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/me/transactions/supported-countries/"},t))},function(e,t,n){var r=e.dispatch;return r({type:"COUNTRIES_PAYMENTS_UPDATED",countries:n})},function(e){var t=e.dispatch;return t(Object(Ut.b)(Object(P.translate)("We couldn't load the countries list.")))})]),Kr=n("./client/state/order-transactions/actions.js"),Jr=n("./client/state/data-layer/wpcom/me/transactions/order/schema.json"),Zr=n("./client/state/order-transactions/constants.js"),$r=Object(Vt.c)(Jr,function(e){var t=e.order_id,n=e.user_id,r=e.receipt_id,i=e.processing_status;return{orderId:t,userId:n,receiptId:r,processingStatus:function(e){switch(e){case"processing":return Zr.a.PROCESSING;case"success":return Zr.a.SUCCESS;case"payment-failure":return Zr.a.FAILURE;case"error":return Zr.a.ERROR;default:return Zr.a.UNKNOWN}}(i)}}),Xr=fe()({},"ORDER_TRANSACTION_FETCH",[Object(ot.b)({fetch:function(e){return Object(jt.a)({path:"/me/transactions/order/"+e.orderId,method:"GET",apiNamespace:"rest/v1",query:{http_envelope:1}},e)},onSuccess:function(e,t){var n=e.orderId;return Object(Kr.b)(n,t)},onError:function(e,t){var n=e.orderId;return Object(Kr.c)(n,t)},fromApi:$r})]),ei=n("./client/state/application-passwords/actions.js"),ti=fe()({},"APPLICATION_PASSWORD_DELETE",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"POST",path:"/me/two-step/application-passwords/"+e.appPasswordId+"/delete"},e)},onSuccess:function(e){var t=e.appPasswordId;return Object(ei.e)(t)},onError:function(){return Object(Ut.b)(Object(P.translate)("The application password was not successfully deleted. Please try again."),{duration:8e3})}})]),ni=fe()({},"APPLICATION_PASSWORD_CREATE",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"POST",path:"/me/two-step/application-passwords/new",body:{application_name:e.applicationName}},e)},onSuccess:function(e,t){return[Object(ei.c)(t),Object(ei.g)()]},onError:function(){return Object(Ut.b)(Object(P.translate)("There was a problem creating your application password. Please try again."),{duration:8e3})},fromApi:Object(Vt.c)({type:"object",properties:{application_password:{type:"string"},message:{type:"string"},success:{type:"boolean"}},required:["application_password"],additionalProperties:!1},function(e){return e.application_password})})]),ri=fe()({},"APPLICATION_PASSWORDS_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/me/two-step/application-passwords"},e)},onSuccess:function(e,t){return Object(ei.f)(t)},onError:p.noop,fromApi:Object(Vt.c)({type:"object",properties:{application_passwords:{type:"array",items:{type:"object",properties:{ID:{type:"integer"},generated:{type:"string"},name:{type:"string"}},required:["ID","generated","name"],additionalProperties:!1}}},additionalProperties:!1},function(e){return e.application_passwords})})]),ii=Object(it.a)(ri,ni,ti),si=Object(it.a)(ii),oi=Object(it.a)(jr,Cr,wr,Yr,Ur,kr,Qr,zr,si,Xr),ai=fe()({},"COUNTRIES_SMS_FETCH",[Object(ot.a)(function(e,t){var n=e.dispatch;return n(Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/meta/sms-country-codes/"},t))},function(e,t,n){var r=e.dispatch;return r({type:"COUNTRIES_SMS_UPDATED",countries:n})},function(e){var t=e.dispatch;return t(Object(Ut.b)(Object(P.translate)("We couldn't load the countries list.")))})]),ci=Object(it.a)(ai),ui=n("./client/state/posts/revisions/actions.js"),li=Object(ot.a)(function(e,t){var n=e.dispatch,r=t.siteId,i=t.postId,s=t.postType,o=t.comparisons;n(Object(jt.a)({apiVersion:"1.1",path:"/sites/"+r+"/"+s+"/"+i+"/diffs",method:"GET",query:{comparisons:o}},t))},function(e,t,n){var r=e.dispatch,i=t.siteId,s=t.postId;r(Object(ui.e)(i,s)),r(Object(ui.c)(ge()({siteId:i,postId:s},n)))},function(e,t,n){var r=e.dispatch,i=t.siteId,s=t.postId;return r(Object(ui.d)(i,s,n))}),di=fe()({},"POST_REVISIONS_REQUEST",[li]),pi=Object(it.a)(di),mi=n("./client/state/privacy-policy/actions.js"),fi=fe()({},"PRIVACY_POLICY_REQUEST",[Object(ot.a)(function(e,t){var n=e.dispatch;return n(Object(jt.a)({method:"GET",path:"/privacy-policy",apiNamespace:"wpcom/v2"},t))},function(e,t,n){var r=e.dispatch;return r(Object(mi.a)(Object(p.get)(n,"entities",{})))})]),_i=n("./client/state/reader/feed-searches/actions.js"),Ei=n("./client/state/reader/feed-searches/query-key.js"),bi=n("./client/state/reader/feeds/actions.js");var gi=(Br={},fe()(Br,"READER_FEED_SEARCH_REQUEST",[Object(ot.b)({fetch:function(e){if(e.payload&&e.payload.query)return Object(jt.a)({path:"/read/feed",method:"GET",apiVersion:"1.1",query:{q:e.payload.query,offset:e.payload.offset,exclude_followed:e.payload.excludeFollowed,sort:e.payload.sort}},e)},onSuccess:function(e,t){var n=t.feeds,r=t.total;return Object(_i.c)(Object(Ei.a)(e.payload),n,r)},onError:function(e){var t=Object(P.translate)("Could not get results for query: %(query)s",{args:{query:Object(p.truncate)(e.payload.query,{length:50})}});return Object(Ut.b)(t)},fromApi:function(e){var t=Object(p.map)(e.feeds,function(e){return ge()({},e,{feed_URL:e.subscribe_URL})}),n=e.total>200?200:e.total;return{feeds:t,total:n}}})]),fe()(Br,"READER_FEED_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/read/feed/"+encodeURIComponent(e.payload.ID),retryPolicy:Ge()},e)},onSuccess:function(e,t){return Object(bi.b)(t)},onError:function(e,t){return Object(bi.a)(e.payload.ID,t)}})]),Br),hi=n("./client/state/reader/follows/actions.js");function Oi(e){var t=oe()(e);if("string"===t&&/^\d+$/.test(e)){var n=Number(e);return 0===n?void 0:n}if("number"===t){if(0===e||isNaN(e)||!isFinite(e)||e!==Math.floor(e))return;return e}}var yi=function(e){var t=e&&e.subscriptions&&Object(p.isArray)(e.subscriptions);return t},ji=function(e){return e&&Object(p.omitBy)({ID:Number(e.ID),URL:e.URL,feed_URL:e.URL,blog_ID:Oi(e.blog_ID),feed_ID:Oi(e.feed_ID),date_subscribed:Date.parse(e.date_subscribed),delivery_methods:e.delivery_methods,is_owner:e.is_owner},p.isUndefined)},vi=function(e){return yi(e)?Object(p.map)(e.subscriptions,ji):[]};function Si(e,t,n){var r=e.dispatch;r(Object(Ut.b)(Object(P.translate)("Sorry, there was a problem following %(url)s. Please try again.",{args:{url:t.payload.feedUrl}}),{duration:5e3})),n&&n.info&&r(Object(hi.c)(t.payload.feedUrl,n.info)),r(Object(Ue.a)(Object(hi.i)(t.payload.feedUrl)))}var Ii,Ti=fe()({},"READER_FOLLOW",[Object(ot.a)(function(e,t){var n=e.dispatch,r=t.payload.feedUrl;n(Object(jt.a)({method:"POST",path:"/read/following/mine/new",apiVersion:"1.1",body:{url:r,source:Object(v.a)("readerFollowingSource")},onSuccess:t,onFailure:t}))},function(e,t,n){if(n&&n.subscribed){var r=ji(n.subscription);e.dispatch(Object(Ue.a)(Object(hi.a)(t.payload.feedUrl,r)))}else Si(e,t,n)},Si)]),Ci=n("./client/state/reader/feeds/selectors.js"),Ri=n("./client/state/reader/sites/selectors.js"),Ai=n("./client/reader/get-helpers.js"),Ni=fe()({},"READER_UNFOLLOW",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",path:"/read/following/mine/delete",apiVersion:"1.1",body:{url:e.payload.feedUrl,source:Object(v.a)("readerFollowingSource")},onSuccess:e,onFailure:e})},onSuccess:function(e){return Object(Ue.a)(e)},onError:function(e){return function(t,n){var r=e.payload.feedUrl,i=Object(Ri.b)(n(),r),s=Object(Ci.b)(n(),r),o=Object(Ai.d)({feed:s,site:i})||r;t(Object(Ut.b)(Object(P.translate)("Sorry, there was a problem unfollowing %(siteTitle)s. Please try again.",{args:{siteTitle:o}}),{duration:5e3})),t(Object(Ue.a)(Object(hi.a)(e.payload.feedUrl)))}},fromApi:function(e){if(!e)throw new Error("Invalid API response: missing data");if(e.subscribed)throw new Error("Did not unfollow");return e.subscribed}})]),wi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:"READER_FOLLOWS_SYNC_PAGE",payload:{page:e,meta:n,number:t}}},Pi=!1,Ui=null,Di=function(){return Pi};var ki=10;function Li(e){Pi=!1,e.dispatch(Object(Ut.b)(Object(P.translate)("Sorry, we had a problem fetching your Reader subscriptions.")))}var Mi=(Ii={},fe()(Ii,"READER_FOLLOWS_SYNC_START",[function(e){Di()||(Pi=!0,Ui=new Set,e.dispatch(wi(1)))}]),fe()(Ii,"READER_FOLLOWS_SYNC_PAGE",[Object(ot.a)(function(e,t){e.dispatch(Object(jt.a)({method:"GET",path:"/read/following/mine",apiVersion:"1.2",query:{page:t.payload.page,number:t.payload.number,meta:t.payload.meta},onSuccess:t,onError:t}))},function(e,t,n){if(yi(n)){var r=n.page,i=n.number,s=vi(n),o=null;(1===r||i>0)&&(o=n.total_subscriptions),e.dispatch(Object(hi.b)({follows:s,totalCount:o})),Object(p.forEach)(s,function(e){Ui.add(e.feed_URL)}),i>0&&r<=ki&&Di()?e.dispatch(wi(r+1)):(e.dispatch(Object(hi.h)(Array.from(Ui))),Ui=null,Pi=!1)}else Li(e)},Li)]),fe()(Ii,"READER_FOLLOW",[function(e,t){Ui&&Ui.add(t.payload.feedUrl)}]),Ii),xi=Object(it.a)(Mi,Ti,Ni),Fi=n("./client/state/reader/recommended-sites/actions.js"),Vi=fe()({},"READER_RECOMMENDED_SITES_REQUEST",[Object(ot.a)(function(e,t){var n=e.dispatch,r=t.payload,i=r.seed,s=void 0===i?1:i,o=r.number,a=void 0===o?10:o,c=r.offset,u=void 0===c?0:c;n(Object(jt.a)({method:"GET",path:"/read/recommendations/sites",query:{number:a,offset:u,seed:s,posts_per_site:0},apiVersion:"1.2",onSuccess:t,onFailure:t}))},function(e,t,n){n.sites&&e.dispatch(Object(Fi.a)({sites:function(e){return e?Object(p.map)(e.sites,function(t){return{feedId:t.feed_id,blogId:t.blog_id,title:Object(bn.b)(t.blog_title),url:t.blog_url,railcar:t.railcar,algorithm:e.algorithm}}):[]}(n),seed:t.payload.seed,offset:t.payload.offset}))},p.noop)]),Gi=Object(it.a)(Vi);function qi(e){return Object(p.includes)(["instantly","daily","weekly"],e)?{delivery_frequency:e}:{}}function Hi(e,t){var n=e.dispatch;n(Object(Ut.b)(Object(P.translate)("Sorry, we had a problem subscribing. Please try again."))),n(Object(Ue.a)(Object(hi.k)(t.payload.blogId)))}var Wi=fe()({},"READER_SUBSCRIBE_TO_NEW_POST_EMAIL",[Object(ot.a)(function(e,t){var n=e.dispatch;n(Object(jt.a)({method:"POST",path:"/read/site/"+t.payload.blogId+"/post_email_subscriptions/new",body:qi(Object(p.get)(t,["payload","deliveryFrequency"])),apiVersion:"1.2",onSuccess:t,onFailure:t}))},function(e,t,n){var r=!(!n||!n.subscribed);r?e.dispatch(Object(Ue.a)(Object(hi.m)(t.payload.blogId,Object(p.get)(n,["subscription","delivery_frequency"])))):Hi(e,t)},Hi)]),Bi=function(e,t){return Object(p.find)(e.reader.follows.items,function(e){return e.blog_ID==t})};function Qi(e,t){var n=e.dispatch,r=t.payload.blogId,i=t.meta.previousState;n(Object(Ut.b)(Object(P.translate)("Sorry, we had a problem updating that subscription. Please try again."))),n(Object(Ue.a)(Object(hi.m)(r,i)))}var zi=fe()({},"READER_UPDATE_NEW_POST_EMAIL_SUBSCRIPTION",[Object(ot.a)(function(e,t){var n=e.dispatch,r=e.getState,i=Object(p.merge)({},t,{meta:{previousState:Object(p.get)(Bi(r(),t.payload.blogId),["delivery_frequency","email","post_delivery_frequency"])}});n(Object(jt.a)({method:"POST",path:"/read/site/"+t.payload.blogId+"/post_email_subscriptions/update",apiVersion:"1.2",body:qi(Object(p.get)(t,["payload","deliveryFrequency"])),onSuccess:i,onFailure:i}))},function(e,t,n){n&&n.success||Qi(e,t)},Qi)]);function Yi(e,t){var n=e.dispatch;n(Object(Ut.b)(Object(P.translate)("Sorry, we had a problem unsubscribing. Please try again."))),n(Object(Ue.a)(Object(hi.f)(t.payload.blogId)))}var Ki=fe()({},"READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL",[Object(ot.a)(function(e,t){var n=e.dispatch;n(Object(jt.a)({method:"POST",path:"/read/site/"+t.payload.blogId+"/post_email_subscriptions/delete",apiVersion:"1.2",body:{},onSuccess:t,onFailure:t}))},function(e,t,n){var r=!(!n||!n.subscribed);r&&Yi(e,t)},Yi)]),Ji=Object(it.a)(Wi,zi,Ki);function Zi(e,t){var n=e.dispatch;n(Object(Ut.b)(Object(P.translate)("Sorry, we had a problem subscribing. Please try again."))),n(Object(Ue.a)(Object(hi.j)(t.payload.blogId)))}var $i=fe()({},"READER_SUBSCRIBE_TO_NEW_COMMENT_EMAIL",[Object(ot.a)(function(e,t){var n=e.dispatch;n(Object(jt.a)({method:"POST",path:"/read/site/"+t.payload.blogId+"/comment_email_subscriptions/new",body:{},apiVersion:"1.2",onSuccess:t,onFailure:t}))},function(e,t,n){var r=!(!n||!n.subscribed);r||Zi(e,t)},Zi)]);function Xi(e,t){var n=e.dispatch;n(Object(Ut.b)(Object(P.translate)("Sorry, we had a problem unsubscribing. Please try again."))),n(Object(Ue.a)(Object(hi.e)(t.payload.blogId)))}var es=fe()({},"READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL",[Object(ot.a)(function(e,t){var n=e.dispatch;n(Object(jt.a)({method:"POST",path:"/read/site/"+t.payload.blogId+"/comment_email_subscriptions/delete",apiVersion:"1.2",body:{},onSuccess:t,onFailure:t}))},function(e,t,n){var r=!(!n||!n.subscribed);r&&Xi(e,t)},Xi)]),ts=Object(it.a)($i,es),ns=Object(it.a)(ts,Ji);var rs=fe()({},"READER_SUBSCRIBE_TO_NEW_POST_NOTIFICATIONS",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",apiNamespace:"wpcom/v2",path:"/read/sites/"+e.payload.blogId+"/notification-subscriptions/new",body:{}},e)},onSuccess:p.noop,onError:function(e){return[Object(Ut.b)(Object(P.translate)("Sorry, we had a problem subscribing you to notifications. Please try again.")),Object(Ue.a)(Object(hi.l)(e.payload.blogId))]},fromApi:function(e){var t=!(!e||!e.subscribed);if(!t)throw new Error("Subscription to new post notifications failed with response: "+JSON.stringify(e));return e}})]);var is=fe()({},"READER_UNSUBSCRIBE_TO_NEW_POST_NOTIFICATIONS",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",apiNamespace:"wpcom/v2",path:"/read/sites/"+e.payload.blogId+"/notification-subscriptions/delete",body:{}},e)},onSuccess:p.noop,onError:function(e){return[Object(Ut.b)(Object(P.translate)("Sorry, we had a problem unsubscribing you from notifications. Please try again.")),Object(Ue.a)(Object(hi.g)(e.payload.blogId))]},fromApi:function(e){var t=!(!e||!1!==e.subscribed);if(!t)throw new Error("Unsubscription from new post notifications failed with response: "+JSON.stringify(e));return e}})]),ss=Object(it.a)(rs,is),os=n("./client/state/reader/conversations/actions.js"),as=n("./client/state/reader/conversations/utils.js");function cs(e,t){var n=t.siteId,r=t.postId;return Object(p.get)(e,["reader","conversations","items",Object(as.a)(n,r)],null)}function us(e,t){var n=e.dispatch,r=t.payload,i=r.siteId,s=r.postId,o=t.meta.previousState;n(Object(Ut.b)(Object(P.translate)("Sorry, we had a problem following that conversation. Please try again."))),n(Object(Ue.a)(Object(os.c)({siteId:i,postId:s,followStatus:o})))}var ls=fe()({},"READER_CONVERSATION_FOLLOW",[Object(ot.a)(function(e,t){var n=e.dispatch,r=e.getState,i=Object(p.merge)({},t,{meta:{previousState:cs(r(),{siteId:t.payload.siteId,postId:t.payload.postId})}});n(Object(jt.a)({method:"POST",apiNamespace:"wpcom/v2",path:"/read/sites/"+t.payload.siteId+"/posts/"+t.payload.postId+"/follow",body:{}},i))},function(e,t,n){var r=!(!n||!n.success);r?e.dispatch(Object(Ut.f)(Object(P.translate)("The conversation has been successfully followed."),{duration:5e3})):us(e,t)},us)]);function ds(e,t){var n=e.dispatch,r=t.payload,i=r.siteId,s=r.postId,o=t.meta.previousState;n(Object(Ut.b)(Object(P.translate)("Sorry, we had a problem unfollowing that conversation. Please try again."))),n(Object(Ue.a)(Object(os.c)({siteId:i,postId:s,followStatus:o})))}var ps=fe()({},"READER_CONVERSATION_MUTE",[Object(ot.a)(function(e,t){var n=e.dispatch,r=e.getState,i=Object(p.merge)({},t,{meta:{previousState:cs(r(),{siteId:t.payload.siteId,postId:t.payload.postId})}});n(Object(jt.a)({method:"POST",apiNamespace:"wpcom/v2",path:"/read/sites/"+t.payload.siteId+"/posts/"+t.payload.postId+"/mute",body:{}},i))},function(e,t,n){var r=!(!n||!n.success);r?e.dispatch(Object(Ut.d)(Object(P.translate)("The conversation has been successfully unfollowed."),{duration:5e3})):ds(e,t)},ds)]),ms=Object(it.a)(ls,ps),fs=n("./client/state/reader/sites/actions.js"),_s=["ID","name","title","URL","icon","is_following","is_jetpack","description","is_private","feed_ID","feed_URL","capabilities","prefer_feed","subscribers_count","options","subscription","is_blocked"];var Es=fe()({},"READER_SITE_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1.1",method:"GET",path:"/read/sites/"+e.payload.ID,query:{fields:_s.join(","),options:["is_mapped_domain","unmapped_url","is_redirect"].join(",")},retryPolicy:Ge()},e)},onSuccess:function(e,t){return Object(Ue.a)(Object(fs.b)(t))},onError:function(e,t){return Object(Ue.a)(Object(fs.a)(e,t))}})]),bs=Object(it.a)(Es,ss,ms),gs=n("./client/state/data-layer/wpcom/read/streams/index.js"),hs=n("./client/state/reader/tags/items/actions.js");function Os(e){if(!e||!e.tag&&!e.tags)throw new Error("invalid tags response: "+JSON.stringify(e));var t=Object(p.compact)(Object(p.concat)([],Object(p.isObject)(e.tag)&&e.tag,Object(p.isArray)(e.tags)&&e.tags));return Object(p.map)(t,function(e){return{id:e.ID,displayName:Object(bn.b)(e.display_name),url:"/tag/"+e.slug,title:Object(bn.b)(e.title),slug:e.slug.toLowerCase()}})}var ys=fe()({},"READER_FOLLOW_TAG_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({path:"/read/tags/"+e.payload.slug+"/mine/new",method:"POST",apiVersion:"1.1",onSuccess:e,onFailure:e})},onSuccess:function(e,t){return Object(hs.a)({payload:t})},onError:function(e,t){if(!t||"already_subscribed"!==t.error){var n=Object(P.translate)("Could not follow tag: %(tag)s",{args:{tag:e.payload.slug}});return Object(Ut.b)(n)}},fromApi:function(e){if(!1===e.subscribed)throw new Error("following tag failed with response: "+JSON.stringify(e));var t=Object(p.find)(e.tags,{ID:e.added_tag});return Os({tag:t}).map(function(e){return ge()({},e,{isFollowing:!0})})}})]);var js=fe()({},"READER_UNFOLLOW_TAG_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({path:"/read/tags/"+e.payload.slug+"/mine/delete",method:"POST",apiVersion:"1.1",onSuccess:e,onFailure:e})},onSuccess:function(e,t){return Object(hs.b)({payload:t})},onError:function(e,t){var n=Object(P.translate)("Could not unfollow tag: %(tag)s",{args:{tag:e.payload.slug}});return Object(Ut.b)(n)},fromApi:function(e){if(e.subscribed)throw new Error("failed to unsubscribe to tag with response: "+JSON.stringify(e));return e.removed_tag}})]);var vs=function(e){return!Object(p.get)(e,"payload.slug")};var Ss=fe()({},"READER_TAGS_REQUEST",[Object(ot.b)({fetch:function(e){var t=e.payload&&e.payload.slug?"/read/tags/"+e.payload.slug:"/read/tags";return Object(jt.a)({path:t,method:"GET",apiVersion:"1.2",onSuccess:e,onFailure:e})},onSuccess:function(e,t){var n=vs(e),r=n;return n&&(t=Object(p.map)(t,function(e){return ge()({},e,{isFollowing:!0})})),Object(hs.a)({payload:t,resetFollowingData:r})},onError:function(e,t){if(404===Object(p.get)(Object(ot.c)(e),"status")){var n=e.payload.slug;return Object(hs.a)({payload:[{id:n,slug:n,error:!0}]})}var r=e.payload&&e.payload.slug?Object(P.translate)("Could not load tag, try refreshing the page"):Object(P.translate)("Could not load your followed tags, try refreshing the page");return[Object(Ut.b)(r),Object(hs.a)({payload:[]})]},fromApi:Os})]),Is=Object(it.a)(Ss,ys,js),Ts=fe()({},"READER_TEAMS_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"GET",path:"/read/teams",apiVersion:"1.2"},e)},onSuccess:function(e,t){return{type:"READER_TEAMS_RECEIVE",payload:t}},onError:function(e){return{type:"READER_TEAMS_RECEIVE",payload:e,error:!0}}})]),Cs=Object(it.a)(gi,xi,Gi,ns,bs,gs.c,Is,Ts),Rs=n("./client/state/automated-transfer/actions.js"),As=n("./client/state/automated-transfer/constants.js"),Ns={transfer_already_exists:As.a.TRANSFER_ALREADY_EXISTS,no_business_plan:As.a.NO_BUSINESS_PLAN,no_jetpack_sites:As.a.NO_JETPACK_SITES,no_vip_sites:As.a.NO_VIP_SITES,site_private:As.a.SITE_PRIVATE,site_graylisted:As.a.SITE_GRAYLISTED,non_admin_user:As.a.NON_ADMIN_USER,not_using_custom_domain:As.a.NOT_USING_CUSTOM_DOMAIN,not_domain_owner:As.a.NOT_DOMAIN_OWNER,no_wpcom_nameservers:As.a.NO_WPCOM_NAMESERVERS,not_resolving_to_wpcom:As.a.NOT_RESOLVING_TO_WPCOM,no_ssl_certificate:As.a.NO_SSL_CERTIFICATE,email_unverified:As.a.EMAIL_UNVERIFIED,excessive_disk_space:As.a.EXCESSIVE_DISK_SPACE},ws=function(e){var t=e.errors,n=void 0===t?[]:t;return n.map(function(e){var t=e.code;return Object(p.get)(Ns,t,"")}).filter(p.identity)},Ps=function(e){return{lastUpdate:Date.now(),eligibilityHolds:ws(e),eligibilityWarnings:(t=e,n=t.warnings,r=void 0===n?{}:n,Object.keys(r).reduce(function(e,t){return e.concat(r[t])},[]).map(function(e){var t=e.description,n=e.name,r=e.support_url;return{name:n,description:t,supportUrl:r}}))};var t,n,r},Us=fe()({},"AUTOMATED_TRANSFER_ELIGIBILITY_REQUEST",[Object(ot.a)(function(e,t){var n=e.dispatch,r=t.siteId;n(Object(jt.a)({method:"GET",path:"/sites/"+r+"/automated-transfers/eligibility",apiVersion:"1"},t))},function(e,t,n){var r=e.dispatch,i=t.siteId;r(Object(w.k)(function(e){var t=Object(p.get)(e,"is_eligible",!1),n=Object(p.get)(e,"warnings.plugins",[]),r=Object(p.get)(e,"warnings.widgets",[]),i=!(Object(p.isEmpty)(n)&&Object(p.isEmpty)(r)),s={has_warnings:i,plugins:Object(p.map)(n,"id").join(","),widgets:Object(p.map)(r,"id").join(",")};return t?Object(w.i)("calypso_automated_transfer_eligibility_eligible",s):(s.holds=ws(e).join(","),Object(w.i)("calypso_automated_transfer_eligibility_ineligible",s))}(n),Object(Rs.f)(i,Ps(n))))},function(e,t,n){throw new Error(n)})]),Ds=n("./client/state/plugins/upload/actions.js"),ks=function(e,t,n){var r=e.dispatch,i=t.siteId;r(Object(w.i)("calypso_automated_transfer_inititate_failure",{context:"plugin_upload",error:n.error})),function(e,t){"invalid_input"!==t.error?"api_success_false"!==t.error?t.error?e(Object(Ut.b)(Object(P.translate)("Upload problem: %(error)s.",{args:{error:t.error}}))):e(Object(Ut.b)(Object(P.translate)("Problem uploading the plugin."))):e(Object(Ut.b)(Object(P.translate)("The uploaded file is not a valid plugin."))):e(Object(Ut.b)(Object(P.translate)("The uploaded file is not a valid zip.")))}(r,n),r(Object(Ds.c)(i,n))},Ls=fe()({},"AUTOMATED_TRANSFER_INITIATE_WITH_PLUGIN_ZIP",[Object(ot.a)(function(e,t){var n=e.dispatch,r=t.siteId,i=t.pluginZip;n(Object(w.i)("calypso_automated_transfer_inititate_transfer",{context:"plugin_upload"})),n(Object(jt.a)({method:"POST",path:"/sites/"+r+"/automated-transfers/initiate",apiVersion:"1",formData:[["plugin_zip",i]]},t))},function(e,t,n){var r=e.dispatch,i=t.siteId,s=n.success;!1!==s?(r(Object(w.i)("calypso_automated_transfer_inititate_success",{context:"plugin_upload"})),r(Object(Rs.b)(i))):ks({dispatch:r},{siteId:i},{error:"api_success_false"})},ks,{onProgress:function(e,t,n){var r=e.dispatch,i=t.siteId,s=n.loaded,o=n.total,a=o?s/o*100:0;r(Object(Ds.d)(i,a))}})]),Ms=n("./client/state/sites/actions.js"),xs=fe()({},"AUTOMATED_TRANSFER_STATUS_REQUEST",[Object(ot.a)(function(e,t){var n=e.dispatch,r=t.siteId;n(Object(jt.a)({method:"GET",path:"/sites/"+r+"/automated-transfers/status",apiVersion:"1"},t))},function(e,t,n){var r=e.dispatch,i=t.siteId,s=n.status,o=n.uploaded_plugin_slug,a=n.transfer_id,c=o;r(Object(Rs.e)(i,s,c)),s!==As.b.ERROR&&s!==As.b.COMPLETE&&Object(p.delay)(r,3e3,Object(Rs.b)(i)),s===As.b.COMPLETE&&(r(Object(w.i)("calypso_automated_transfer_complete",{context:"plugin_upload",transfer_id:a,uploaded_plugin_slug:o})),r(Object(Ms.e)(i)))},function(e,t){var n=e.dispatch,r=t.siteId;n(Object(Rs.a)(r))})]),Fs=Object(it.a)(Us,Ls,xs),Vs=n("./client/state/sites/blog-stickers/actions.js");var Gs,qs,Hs,Ws=fe()({},"SITES_BLOG_STICKER_ADD",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",path:"/sites/"+e.payload.blogId+"/blog-stickers/add/"+e.payload.stickerName,body:{},apiVersion:"1.1"},e)},onSuccess:function(e){return Object(Ut.f)(Object(P.translate)("The sticker {{i}}%s{{/i}} has been successfully added.",{args:e.payload.stickerName,components:{i:k.a.createElement("i",null)}}),{duration:5e3})},onError:function(e){return[Object(Ut.b)(Object(P.translate)("Sorry, we had a problem adding that sticker. Please try again.")),Object(Ue.a)(Object(Vs.d)(e.payload.blogId,e.payload.stickerName))]},fromApi:function(e){if(!e.success)throw new Error("Adding blog sticker was unsuccessful",e);return e}})]),Bs=fe()({},"SITES_BLOG_STICKER_REMOVE",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"POST",path:"/sites/"+e.payload.blogId+"/blog-stickers/remove/"+e.payload.stickerName,body:{},apiVersion:"1.1"},e)},onSuccess:function(e){return Object(Ut.d)(Object(P.translate)("The sticker {{i}}%s{{/i}} has been removed.",{args:e.payload.stickerName,components:{i:k.a.createElement("i",null)}}),{duration:5e3})},onError:function(e){return[Object(Ut.b)(Object(P.translate)("Sorry, we had a problem removing that sticker. Please try again.")),Object(Ue.a)(Object(Vs.a)(e.payload.blogId,e.payload.stickerName))]},fromApi:function(e){if(!e.success)throw new Error("Blog sticker removal was unsuccessful on the server");return e}})]),Qs=function(){return Object(Ut.b)(Object(P.translate)("Sorry, we had a problem retrieving blog stickers. Please try again."))},zs=fe()({},"SITES_BLOG_STICKER_LIST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"GET",path:"/sites/"+e.payload.blogId+"/blog-stickers",body:{},apiVersion:"1.1"},e)},onSuccess:function(e,t){return t&&Object(p.isArray)(t)?Object(Vs.c)(e.payload.blogId,t):Qs()},onError:Qs})]),Ys=Object(it.a)(zs,Ws,Bs),Ks=fe()({},"COMMENT_COUNTS_REQUEST",[Object(ot.b)({fetch:function(e){var t=e.siteId,n=e.postId;return Object(jt.a)({method:"GET",path:"/sites/"+t+"/comment-counts",apiVersion:"1.0",query:{post_id:n}},e)},onSuccess:function(e,t){var n=Object(p.mapValues)(t,function(e){return parseInt(e)}),r=n.all,i=n.approved,s=n.pending,o=n.post_trashed,a=n.spam,c=n.total_comments,u=n.trash,l=e.siteId,d=e.postId;return{type:"COMMENT_COUNTS_UPDATE",siteId:l,postId:d,all:r,approved:i,pending:s,postTrashed:o,spam:a,totalComments:c,trash:u}},onError:function(){}})]),Js=Object(it.a)(Ks),Zs=function(e,t,n){var r=t.siteId,i=t.postId,s=t.parentCommentId,o=t.commentText,a=function(e,t,n){return{ID:"placeholder-"+(new Date).getTime(),parent:!!n&&{ID:n},date:(new Date).toISOString(),content:e,status:"pending",type:"comment",post:{ID:t},isPlaceholder:!0,placeholderState:"PENDING"}}(o,i,s);e({type:"COMMENTS_RECEIVE",siteId:r,postId:i,comments:[a],skipSort:!!s}),e(Object(jt.a)({method:"POST",apiVersion:"1.1",path:n,body:{content:o},onSuccess:ge()({},t,{placeholderId:a.ID}),onFailure:ge()({},t,{placeholderId:a.ID})}))},$s=function(e,t,n){var r=e.dispatch,i=t.siteId,s=t.postId,o=t.parentCommentId,a=t.placeholderId,c=t.refreshCommentListQuery;r(Object(Ue.a)({type:"COMMENTS_DELETE",siteId:i,postId:s,commentId:a})),r({type:"COMMENTS_RECEIVE",siteId:i,postId:s,comments:[n],skipSort:!!o,meta:{comment:{context:"add"}}}),r({type:"COMMENTS_COUNT_INCREMENT",siteId:i,postId:s}),c&&r(Object(fn.k)(c))},Xs=function(e,t,n){var r=e.dispatch,i=e.getState,s=t.siteId,o=t.postId,a=t.parentCommentId,c=t.placeholderId,u=Object(mn.l)(i(),s,o),l=u&&u.title&&u.title.trim().slice(0,20).trim().concat(""),d=l?Object(P.translate)("Could not add a reply to %(postTitle)s",{args:{postTitle:l}}):Object(P.translate)("Could not add a reply to this post");r({type:"COMMENTS_WRITE_ERROR",siteId:s,postId:o,commentId:c,parentCommentId:a,error:d,errorType:n&&n.error}),r(Object(Ut.b)(d,{duration:5e3}))},eo=fe()({},"COMMENTS_REPLY_WRITE",[Object(ot.a)(function(e,t){var n=e.dispatch;return Zs(n,t,"/sites/"+t.siteId+"/comments/"+t.parentCommentId+"/replies/new")},$s,Xs)]),to=eo,no=fe()({},"COMMENTS_UNLIKE",[Object(ot.a)(function(e,t){var n=e.dispatch;n(Object(jt.a)({method:"POST",apiVersion:"1.1",path:"/sites/"+t.siteId+"/comments/"+t.commentId+"/likes/mine/delete"},t))},function(e,t,n){var r=e.dispatch,i=t.siteId,s=t.postId,o=t.commentId,a=n.like_count;return r(Object(Ue.a)({type:"COMMENTS_UNLIKE",siteId:i,postId:s,commentId:o,like_count:a}))},function(e,t){var n=e.dispatch,r=t.siteId,i=t.postId,s=t.commentId;n(Object(Ue.a)({type:"COMMENTS_LIKE",siteId:r,postId:i,commentId:s})),n(Object(Ut.b)(Object(P.translate)("Could not unlike this comment")))})]),ro=no,io=fe()({},"COMMENTS_LIKE",[Object(ot.a)(function(e,t){var n=e.dispatch;n(Object(jt.a)({method:"POST",apiVersion:"1.1",path:"/sites/"+t.siteId+"/comments/"+t.commentId+"/likes/new"},t))},function(e,t,n){var r=e.dispatch,i=t.siteId,s=t.postId,o=t.commentId,a=n.like_count;return r(Object(Ue.a)({type:"COMMENTS_LIKE",siteId:i,postId:s,commentId:o,like_count:a}))},function(e,t){var n=e.dispatch,r=t.siteId,i=t.postId,s=t.commentId;n(Object(Ue.a)({type:"COMMENTS_UNLIKE",siteId:r,postId:i,commentId:s})),n(Object(Ut.b)(Object(P.translate)("Could not like this comment")))})]),so=Object(it.a)(ro,io),oo=n("./client/state/selectors/get-raw-site.js"),ao=function(e,t,n){return{type:"COMMENTS_QUERY_UPDATE",siteId:e,comments:t,query:n}},co=(Gs={},fe()(Gs,"COMMENTS_CHANGE_STATUS",[Object(ot.a)(function(e,t){var n=e.dispatch,r=e.getState,i=t.siteId,s=t.commentId,o=t.status,a=Object(p.get)(Object(En.a)(r(),t.siteId,t.commentId),"status");n(Object(jt.a)({method:"POST",path:"/sites/"+i+"/comments/"+s,apiVersion:"1.1",body:{status:o}},ge()({},t,{meta:Object.assign({},t.meta,{comment:{previousStatus:a}})})))},function(e,t){var n=e.dispatch,r=t.commentId,i=t.refreshCommentListQuery;n(Object(Ut.e)("comment-notice-error-"+r)),i&&n(Object(fn.k)(i))},function(e,t){var n=e.dispatch,r=t.commentId,i=t.status,s=Object(p.get)(t,"meta.comment.previousStatus");n(Object(Ut.e)("comment-notice-"+r)),n(Object(Ue.a)(ge()({},Object(p.omit)(t,["meta"]),{status:s})));var o={approved:Object(P.translate)("We couldn't approve this comment."),unapproved:Object(P.translate)("We couldn't unapprove this comment."),spam:Object(P.translate)("We couldn't mark this comment as spam."),trash:Object(P.translate)("We couldn't move this comment to trash.")},a=Object(P.translate)("We couldn't update this comment.");n(Object(Ut.b)(Object(p.get)(o,i,a),{button:Object(P.translate)("Try again"),id:"comment-notice-error-"+r,onClick:function(){return n(Object(p.omit)(t,["meta"]))}}))})]),fe()(Gs,"COMMENTS_LIST_REQUEST",[Object(ot.a)(function(e,t){var n=e.dispatch;if("site"===Object(p.get)(t,"query.listType")){var r=t.query,i=r.postId,s=r.siteId,o=r.status,a=void 0===o?"unapproved":o,c=r.type,u=void 0===c?"comment":c,l=i?"/sites/"+s+"/posts/"+i+"/replies":"/sites/"+s+"/comments",d=ge()({},Object(p.omit)(t.query,["listType","postId","siteId"]),{status:a,type:u});n(Object(jt.a)({method:"GET",path:l,apiVersion:"1.1",query:d},t))}},function(e,t,n){var r=e.dispatch,i=t.query,s=n.comments,o=i.siteId,a=i.status;if(0===s.length)return r(ao(o,[],i)),void r({type:"COMMENTS_TREE_SITE_ADD",siteId:o,status:a,tree:[]});r(ao(o,s,i));var c=Object(p.groupBy)(s,function(e){var t=e.post.ID;return t});Object(p.forEach)(c,function(e,t){return r(Object(fn.f)({siteId:o,postId:parseInt(t,10),comments:e}))})},function(e,t){var n=e.dispatch,r=e.getState,i=t.query.siteId,s=Object(oo.a)(r(),i),o=s&&s.name?Object(P.translate)("Failed to retrieve comments for site %(siteName)s",{args:{siteName:s.name}}):Object(P.translate)("Failed to retrieve comments for your site");n(Object(Ut.b)(o))})]),fe()(Gs,"COMMENT_REQUEST",[Object(ot.b)({fetch:function(e){var t=e.siteId,n=e.commentId,r=e.query;return Object(jt.a)(Object.assign({method:"GET",path:"/sites/"+t+"/comments/"+n,apiVersion:"1.1",query:r},r.force&&{retryPolicy:Ge()}),e)},onSuccess:function(e,t){var n=e.siteId,r=t&&t.post&&t.post.ID;return Object(fn.f)({siteId:n,postId:r,comments:[t],commentById:!0})},onError:function(e){var t=e.siteId,n=e.commentId,r=e.query,i=void 0===r?{}:r,s=i.force,o=Zt()(i,["force"]);return"wpcom"===s?Object(fn.i)({siteId:t,commentId:n,query:o}):Object(fn.g)({siteId:t,commentId:n})}})]),fe()(Gs,"COMMENTS_EDIT",[Object(ot.a)(function(e,t){var n=e.dispatch,r=e.getState,i=t.siteId,s=t.commentId,o=t.comment,a=Object(En.a)(r(),t.siteId,t.commentId),c=o.authorDisplayName||o.authorUrl||o.commentContent||o.commentDate?{author:o.authorDisplayName,author_url:o.authorUrl,content:o.commentContent,date:o.commentDate}:o;n(Object(jt.a)({method:"POST",path:"/sites/"+i+"/comments/"+s,apiVersion:"1.1",body:c},ge()({},t,{originalComment:a})))},function(e,t,n){e.dispatch(Object(Ut.e)("comment-notice-error-"+t.commentId)),e.dispatch(Object(Ue.a)(ge()({},Object(p.omit)(t,["originalComment"]),{comment:n})))},function(e,t){var n=e.dispatch;n(Object(Ue.a)(ge()({},Object(p.omit)(t,["originalComment"]),{comment:t.originalComment}))),n(Object(Ut.e)("comment-notice-"+t.commentId)),n(Object(Ut.b)(Object(P.translate)("We couldn't update this comment."),{id:"comment-notice-error-"+t.commentId}))})]),Gs),uo=Object(it.a)(co,to,so),lo=function(e,t){var n=parseInt(t,10),r=Object(p.isArray)(e[0])?e:[e,[]],i=et()(r,2),s=i[0],o=i[1];return Object(p.flatten)([s.map(function(e){return[e,n,0]}),o.map(function(e){var t=et()(e,2),r=t[0],i=t[1];return[r,n,i]})])},po=function(e,t,n){return Object(p.map)(Object(p.flatMap)(e,lo),function(e){var r=et()(e,3),i=r[0],s=r[1],o=r[2];return{commentId:i,commentParentId:o,postId:s,status:t,type:n}})},mo=fe()({},"COMMENTS_TREE_SITE_REQUEST",[Object(ot.a)(function(e,t){var n=e.dispatch,r=t.query,i=r.siteId,s=r.status,o=void 0===s?"unapproved":s;n(Object(jt.a)({method:"GET",path:"/sites/"+i+"/comments-tree",apiVersion:"1.1",query:{status:"unapproved"===o?"pending":o}},t))},function(e,t,n){var r=e.dispatch,i=t.query,s=i.siteId,o=i.status,a=ce()(po(n.comments_tree,o,"comment")).concat(ce()(po(n.pingbacks_tree,o,"pingback")),ce()(po(n.trackbacks_tree,o,"trackback")));r({type:"COMMENTS_TREE_SITE_ADD",siteId:s,status:o,tree:a})},function(e,t){var n=e.dispatch,r=e.getState,i=t.query,s=i.siteId,o=Object(oo.a)(r(),s),a=o&&o.name?Object(P.translate)("Failed to retrieve comments for site %(siteName)s",{args:{siteName:o.name}}):Object(P.translate)("Failed to retrieve comments for your site");n(Object(Ut.b)(a))})]),fo=Object(it.a)(mo),_o=n("./client/state/data-layer/wpcom/sites/jitm/schema.json"),Eo=n("./client/state/jitm/actions.js"),bo=n("./client/state/ui/selectors.js"),go=n("./client/state/sites/selectors.js"),ho={hasInitializedSites:!1,hasInitializedSection:!1,lastSection:null,lastSite:null},Oo=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})},yo=function(e){var t=e.data;return t.map(function(e){return{message:Oo(e.content.message),description:Oo(e.content.description),featureClass:e.feature_class,callToAction:Oo(e.CTA.message),id:e.id}})},jo=function(e,t,n){if(ho.hasInitializedSites&&ho.hasInitializedSection){var r=ho.lastSite;Object(go.K)(e,r)&&t(Object(jt.a)({apiNamespace:"rest",method:"GET",path:"/v1.1/jetpack-blogs/"+r+"/rest-api/",query:{path:"/jetpack/v4/jitm",query:JSON.stringify({message_path:"calypso:"+ho.lastSection+":admin_notices"}),http_envelope:1}},ge()({},n,{messagePath:ho.lastSection})))}},vo=function(e,t,n){var r=e.dispatch,i=e.getState,s=t.siteId,o=t.site_id,a=t.messagePath;void 0===o&&void 0===o&&(s=Object(bo.e)(i())),r(Object(Eo.c)(s||o,a,n))},So=function(e,t){var n=e.dispatch,r=t.siteId,i=t.site_id,s=t.messagePath;return n(Object(Eo.a)(r||i,s))},Io=(qs={},fe()(qs,"SECTION_SET",[Object(ot.a)(function(e,t){var n=e.getState,r=e.dispatch,i=Object(p.get)(t,["section","name"]);if(!ho.hasInitializedSection||!t.section||ho.lastSection!==i){switch(t.isLoading){case!1:return void(ho.hasInitializedSection=!0);case!0:return void(ho.hasInitializedSection=!1)}ho.lastSection=i,jo(n(),r,t)}},vo,So,{fromApi:Object(Vt.c)(_o,yo)})]),fe()(qs,"SELECTED_SITE_SET",[Object(ot.a)(function(e,t){var n=e.getState,r=e.dispatch;ho.hasInitializedSites&&ho.lastSite===t.siteId||(ho.hasInitializedSites=!!t.siteId,ho.lastSite=t.siteId,jo(n(),r,t))},vo,So,{fromApi:Object(Vt.c)(_o,yo)})]),fe()(qs,"JITM_DISMISS",[Object(ot.a)(function(e,t){var n=e.dispatch;return n(Object(jt.a)({apiNamespace:"rest",method:"POST",path:"/jetpack-blogs/"+t.siteId+"/rest-api/",query:{path:"/jetpack/v4/jitm",body:JSON.stringify({feature_class:t.featureClass,id:t.id}),http_envelope:1,json:!1}},t))},p.noop,p.noop,{})]),qs),To=n("./client/state/media/actions.js"),Co=i()("calypso:middleware-media");var Ro=(Hs={},fe()(Hs,"MEDIA_REQUEST",[Object(ot.b)({fetch:function(e){return Co("Request media for site %d using query %o",e.siteId,e.query),[Object(To.g)(e.siteId,e.query),Object(jt.a)({method:"GET",path:"/sites/"+e.siteId+"/media",apiVersion:"1.1"},e)]},onSuccess:function(e,t){var n=e.siteId,r=e.query,i=t.media,s=t.found;return[Object(To.d)(n,i,s,r),Object(To.j)(n,r)]},onError:function(e){var t=e.siteId,n=e.query;return Object(To.c)(t,n)}})]),fe()(Hs,"MEDIA_ITEM_REQUEST",[Object(ot.b)({fetch:function(e){var t=e.mediaId,n=e.query,r=e.siteId;return Co("Request media item %d for site %d",t,r),[Object(To.h)(r,n),Object(jt.a)({apiVersion:"1.2",method:"GET",path:"/sites/"+r+"/media/"+t,query:n},e)]},onSuccess:function(e,t){var n=e.mediaId,r=e.siteId;return[Object(To.d)(r,t),Object(To.i)(r,n)]},onError:function(e){var t=e.mediaId,n=e.siteId;return Object(To.b)(n,t)}})]),Hs),Ao=n("./client/state/data-layer/wpcom/sites/memberships/index.js"),No=n("./client/state/sites/plans/actions.js"),wo=function(e){return{duration:8e3,id:"sites-plan-transfer-notice-"+e}},Po=fe()({},"SITE_PLAN_OWNERSHIP_TRANSFER",[Object(ot.b)({fetch:function(e){return Object(jt.a)({apiVersion:"1",method:"POST",path:"/sites/"+e.siteId+"/plan-transfer",query:{new_user_id:e.newOwnerUserId}},e)},onSuccess:function(e){var t=e.siteId;return[Object(Ut.f)(Object(P.translate)("Plan purchaser has been changed successfully."),wo(t)),Object(No.c)(t)]},onError:function(e,t){var n=e.siteId,r=t.message;return Object(Ut.b)(r,wo(n))}})]),Uo=n("./client/dispatcher/index.js"),Do=fe()({},"PLUGIN_UPLOAD",[Object(ot.b)({fetch:function(e){var t=e.siteId,n=e.file;return[Object(w.i)("calypso_plugin_upload"),Object(jt.a)({method:"POST",path:"/sites/"+t+"/plugins/new",apiVersion:"1",formData:[["zip[]",n]]},e)]},onSuccess:function(e,t){var n=e.siteId;return function(e,r){var i=t.slug,s=r(),o=Object(go.l)(s,n);e(Object(w.i)("calypso_plugin_upload_complete",{plugin_id:i})),e(Object(Ds.b)(n,i)),Uo.a.handleServerAction({type:"RECEIVE_INSTALLED_PLUGIN",action:"PLUGIN_UPLOAD",site:o,plugin:t,data:t})}},onError:function(e,t){var n=e.siteId;return[Object(w.i)("calypso_plugin_upload_error",{error_code:t.error,error_message:t.message}),function(e){var t={exists:Object(P.translate)("This plugin is already installed on your site."),"too large":Object(P.translate)("The plugin zip file must be smaller than 10MB."),incompatible:Object(P.translate)("The uploaded file is not a compatible plugin."),unsupported_mime_type:Object(P.translate)("The uploaded file is not a valid zip.")},n=Object(p.toLower)(e.error+e.message),r=Object(p.find)(t,function(e,t){return Object(p.includes)(n,t)});return r?Object(Ut.b)(r):e.error?Object(Ut.b)(Object(P.translate)("Upload problem: %(error)s.",{args:{error:e.error}})):Object(Ut.b)(Object(P.translate)("Problem installing the plugin."))}(t),Object(Ds.c)(n,t)]},onProgress:function(e,t){var n=e.siteId,r=t.loaded,i=t.total,s=i?r/i*100:i;return Object(Ds.d)(n,s)}})]),ko=Do,Lo=n("./client/state/post-types/actions.js"),Mo=Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"GET",path:"/sites/"+e.siteId+"/post-types"},e)},onSuccess:function(e,t){return Object(Lo.a)(e.siteId,t.post_types)},onError:p.noop}),xo=fe()({},"POST_TYPES_REQUEST",[Mo]),Fo=n("./client/state/posts/likes/actions.js");var Vo=fe()({},"POST_LIKE",[Object(ot.b)({fetch:function(e){var t={};return e.source&&(t.source=e.source),Object(jt.a)({method:"POST",path:"/sites/"+e.siteId+"/posts/"+e.postId+"/likes/new",body:{},apiVersion:"1.1",query:t},e)},onSuccess:function(e,t){var n=e.siteId,r=e.postId,i=t.likeCount,s=t.liker;return Object(Fo.a)(n,r,i,s)},onError:function(e){var t=e.siteId,n=e.postId;return Object(Ue.a)(Object(Fo.f)(t,n))},fromApi:function(e){if(!e.success)throw new Error("Unsuccessful like API call");return{likeCount:+e.like_count,liker:e.liker}}})]);var Go=fe()({},"POST_UNLIKE",[Object(ot.b)({fetch:function(e){var t={};return e.source&&(t.source=e.source),Object(jt.a)({method:"POST",path:"/sites/"+e.siteId+"/posts/"+e.postId+"/likes/mine/delete",apiVersion:"1.1",body:{},query:t},e)},onSuccess:function(e,t){var n=e.siteId,r=e.postId,i=t.likeCount,s=t.liker;return Object(Fo.d)(n,r,i,s)},onError:function(e){var t=e.siteId,n=e.postId;return Object(Ue.a)(Object(Fo.b)(t,n))},fromApi:function(e){if(!e.success)throw new Error("Unsuccessful unlike API request");return{likeCount:+e.like_count,liker:e.liker}}})]),qo=Go,Ho=Object(it.a)(Vo,qo,fe()({},"POST_LIKES_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"GET",path:"/sites/"+e.siteId+"/posts/"+e.postId+"/likes",apiVersion:"1.1"},e)},fromApi:function(e){return{found:+e.found,iLike:!!e.i_like,likes:e.likes}},onSuccess:function(e,t){var n=e.siteId,r=e.postId;return Object(Fo.c)(n,r,t)},onError:function(){}})])),Wo=fe()({},"COMMENTS_WRITE",[Object(ot.a)(function(e,t){var n=e.dispatch;return Zs(n,t,"/sites/"+t.siteId+"/posts/"+t.postId+"/replies/new")},$s,Xs)]),Bo=Wo,Qo=Object(it.a)(Ho,Bo),zo=n("./client/state/data-layer/wpcom/sites/simple-payments/index.js"),Yo=function(e){return Object(p.omitBy)({ID:e.id,display_name:e.name,username:e.slug},p.isUndefined)},Ko=function(e,t){var n=e.dispatch,r=t.siteId,i=t.ids,s=t.page,o=void 0===s?1:s,a=t.perPage,c=void 0===a?10:a;n(Object(jt.a)({path:"/sites/"+r+"/users",method:"GET",apiNamespace:"wp/v2",query:{include:i,page:o,per_page:c}},t))},Jo=Object(ot.a)(Ko,function(e,t,n){var r=e.dispatch,i=t.page,s=void 0===i?1:i,o=t.perPage,a=void 0===o?10:o,c=Object(p.map)(n,Yo);Object(p.get)(Object(ot.c)(t),"X-WP-TotalPages",0)>s&&Ko({dispatch:r},ge()({},Object(p.omit)(t,"meta"),{page:s+1,perPage:a})),Object(p.map)(c,Object(p.flow)(C.a,r))},p.noop),Zo=fe()({},"USERS_REQUEST",[Jo]),$o=n("./client/state/google-my-business/actions.js"),Xo=fe()({},"GOOGLE_MY_BUSINESS_STATS_REQUEST",[Object(ot.a)(function(e,t){var n=e.dispatch,r=t.siteId,i=t.statType,s=t.interval,o=void 0===s?"week":s,a=t.aggregation,c=void 0===a?"total":a;n(Object(jt.a)({path:"/sites/"+r+"/stats/google-my-business/"+i,method:"GET",query:{interval:o,aggregation:c}},t))},function(e,t,n){var r=e.dispatch,i=t.siteId,s=t.statType,o=t.interval,a=t.aggregation;r(Object($o.e)(i,s,o,a,function(e){return Object(Ue.b)(e)}(n)))},function(e,t,n){var r=e.dispatch,i=t.siteId,s=t.statType,o=t.interval,a=t.aggregation;r(Object($o.d)(i,s,o,a,n))})]),ea=Object(it.a)(Fs,Ys,Js,uo,fo,v.a.isEnabled("jitms")?Io:null,Ro,v.a.isEnabled("memberships")?Ao.a:null,Po,ko,xo,Qo,zo.b,Zo,Xo),ta=fe()({},"THEME_FILTERS_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"GET",apiVersion:"1.2",path:"/theme-filters"},e)},onSuccess:function(e,t){return{type:"THEME_FILTERS_ADD",filters:t}},onError:function(){return Object(Ut.b)(U.a.translate("Problem fetching theme filters."))}})]),na=n("./client/state/timezones/actions.js"),ra=function(e){return Object(p.fromPairs)(Object(p.map)(e,function(e){var t=e.label,n=e.value;return[n,t]}))},ia=fe()({},"TIMEZONES_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"GET",path:"/timezones",apiNamespace:"wpcom/v2"},e)},onSuccess:function(e,t){return Object(na.b)(t)},onError:p.noop,fromApi:function(e){var t=e.manual_utc_offsets,n=e.timezones,r=e.timezones_by_continent;return{rawOffsets:ra(t),labels:ra(n),byContinents:Object(p.mapValues)(r,function(e){return Object(p.map)(e,function(e){var t=e.value;return t})})}}})]),sa=Object(ot.b)({fetch:function(e){return Object(jt.a)({path:"/users/"+e.usernameOrEmail+"/auth-options",method:"GET",apiVersion:"1.1",retryPolicy:Ge()},e)},onSuccess:function(e,t){var n=Object(p.get)(t,"passwordless");return[{type:"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS",data:{type:n?"passwordless":"regular"}},Object(w.j)("calypso_login_block_login_form_get_auth_type_success")]},onError:function(e,t){var n=t.error,r=t.message;return[{type:"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE",error:{code:n,message:r,field:"usernameOrEmail"}},Object(w.j)("calypso_login_block_login_form_get_auth_type_failure",{error_code:n,error_message:r})]}}),oa=fe()({},"LOGIN_AUTH_ACCOUNT_TYPE_REQUESTING",[sa]),aa=n("./client/state/ui/editor/video-editor/actions.js"),ca=Object(ot.b)({fetch:function(e){if("file"in e.params||"atTime"in e.params){var t=e.params,n=t.atTime,r=t.file,i=Object.assign({apiVersion:"1.1",method:"POST",path:"/videos/"+e.videoId+"/poster"},r&&{formData:[["poster",r]]},void 0!==n&&{body:{at_time:n}});return Object(jt.a)(i,e)}},onSuccess:function(e,t){var n=t.poster;return Object(aa.a)(n)},onError:aa.b,onProgress:function(e,t){var n="loaded"in t&&"total"in t,r=n?Math.min(Math.round(t.loaded/(Number.EPSILON+t.total)*100),100):0;return Object(aa.c)(r)}}),ua=fe()({},"VIDEO_EDITOR_UPDATE_POSTER",[ca]),la=Object(it.a)(ua),da=n("./client/state/wordads/earnings/actions.js"),pa=fe()({},"WORDADS_EARNINGS_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"GET",path:"/sites/"+e.siteId+"/wordads/earnings"},e)},onSuccess:function(e,t){var n=e.siteId,r=t.earnings;return Object(da.a)(n,r)},onError:function(e,t){return Object(Ut.b)(t)}})]),ma=n("./client/state/wordads/status/actions.js"),fa=fe()({},"WORDADS_STATUS_REQUEST",[Object(ot.b)({fetch:function(e){return Object(jt.a)({method:"GET",path:"/sites/"+e.siteId+"/wordads/status"},e)},onSuccess:function(e,t){var n=e.siteId;return Object(ma.a)(n,t)},onError:function(e,t){return Object(Ut.b)(t)}})]),_a=Object(it.a)(pa,fa),Ea=Object(it.a)(Rt,wt,an,pn,gn,Vn,Qn,Yn,$n,er,nr,lr,mr,gr,hr,oi,ci,pi,fi,Cs,ea,ta,ia,oa,la,_a),ba=Ea;Object(De.b)("httpData",$e.a),Object(De.b)("httpHandlers",rt),Object(De.b)("wpcomHttpHandlers",Ze),Object(De.b)("thirdPartyHandlers",yt),Object(De.b)("wpcomHandlers",ba);var ga,ha,Oa,ya,ja,va,Sa,Ia,Ta,Ca,Ra,Aa,Na,wa,Pa,Ua,Da,ka,La,Ma,xa,Fa,Va,Ga=(ga=De.a,function(e){return function(t){return function(n){var r=ga(n.type);if(!r)return t(n);var i=n.meta;if(i){var s=i.dataLayer;if(s&&!0===s.doBypass)return t(n)}r.forEach(function(t){return t(e,n)}),function(e){var t=e.meta;if(!t)return!0;var n=t.dataLayer;return!n||!(n.data||n.error||n.headers||n.progress)}(n)&&t(Object(Ue.a)(n))}}}),qa=n("./client/lib/url/index.js"),Ha=n("./client/state/activity-log/utils.js"),Wa=n("./client/state/selectors/get-activity-log-filter.js"),Ba=function(e){return function(t){return function(n){switch(n.type){case"ACTIVITY_LOG_FILTER_SET":case"ACTIVITY_LOG_FILTER_UPDATE":var r=t(n);if(Object(p.get)(n,["meta","skipUrlUpdate"])||!/^[/]stats[/]activity[/]/.test(document.location.pathname))return r;var i=Object(Wa.a)(e.getState(),n.siteId),s=Object(Ha.b)(i);return _()(Object(qa.a)(s,window.location.pathname+window.location.hash)),r;case"NAVIGATE":return n.path&&_()(n.path),t(n);default:return t(n)}}}},Qa=n("./client/state/invites/selectors.js"),za=n("./client/state/posts/actions.js"),Ya=n("./client/me/purchases/paths.js"),Ka=n("./client/state/account-recovery/settings/selectors.js"),Ja={"infinite-scroll":(ha={},fe()(ha,"JETPACK_MODULE_ACTIVATE_SUCCESS",Object(P.translate)("Infinite scroll is now on.")),fe()(ha,"JETPACK_MODULE_DEACTIVATE_SUCCESS",Object(P.translate)("Infinite scroll is now off.")),fe()(ha,"JETPACK_MODULE_ACTIVATE_FAILURE",Object(P.translate)("Infinite scroll could not be switched on.")),fe()(ha,"JETPACK_MODULE_DEACTIVATE_FAILURE",Object(P.translate)("Infinite scroll could not be switched off.")),ha)},Za=function(e){var t=e.type,n=e.moduleSlug,r=e.silent;if(r)return null;var i,s={duration:1e4},o=Ja[n]&&Ja[n][t];switch(t){case"JETPACK_MODULE_ACTIVATE_SUCCESS":case"JETPACK_MODULE_DEACTIVATE_SUCCESS":o=o||Object(P.translate)("Settings saved successfully!"),i="success";break;case"JETPACK_MODULE_ACTIVATE_FAILURE":case"JETPACK_MODULE_DEACTIVATE_FAILURE":o=o||Object(P.translate)("There was a problem saving your changes. Please try again."),i="error"}return o?"success"===i?Object(Ut.f)(o,s):"error"===i?Object(Ut.b)(o,s):void 0:null},$a=function(e){var t=e.connection;return Object(Ut.f)(Object(P.translate)("The %(service)s account was successfully disconnected.",{args:{service:t.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})},Xa=function(e){var t=e.error;return Object(Ut.b)(Object(P.translate)("The %(service)s account was unable to be disconnected.",{args:{service:t.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})},ec=(Oa={},fe()(Oa,"ACCOUNT_RECOVERY_SETTINGS_FETCH_FAILED",function(){return Object(Ut.b)(Object(P.translate)("An error occurred while fetching your account recovery settings."))}),fe()(Oa,"ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS",function(e){var t=e.target;return function(e,n){return e(Object(Ut.f)(function(e,t){switch(e){case"phone":var n=Object(Ka.b)(t());return null==n?Object(P.translate)("Successfully added. Please check your phone for the validation code."):Object(P.translate)("Successfully updated. Please check your phone for the validation code.");case"email":var r=Object(Ka.a)(t());return r?Object(P.translate)("Successfully updated. Please check your mailbox for the validation email."):Object(P.translate)("Successfully added. Please check your mailbox for the validation email.");default:return Object(P.translate)("Successfully updated the recovery option.",{comment:"Recovery option: generic term for methods of account recovery, i.e emails or sms."})}}(t,n)))}}),fe()(Oa,"ACCOUNT_RECOVERY_SETTINGS_UPDATE_FAILED",function(e){var t=e.target;return Object(Ut.b)(function(e){switch(e){case"phone":return Object(P.translate)("An error occurred while updating your account recovery phone number.");case"email":return Object(P.translate)("An error occurred while updating your account recovery email.");default:return Object(P.translate)("An error occurred while updating your account recovery options.",{comment:"Recovery option: generic term for methods of account recovery, i.e emails or sms."})}}(t))}),fe()(Oa,"ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS",function(e){var t=e.target;return Object(Ut.f)(function(e){switch(e){case"phone":return Object(P.translate)("Successfully removed recovery SMS number.");case"email":return Object(P.translate)("Successfully removed recovery email address.");default:return Object(P.translate)("Successfully removed the recovery option.",{comment:"Recovery option: generic term for methods of account recovery, i.e emails or sms."})}}(t))}),fe()(Oa,"ACCOUNT_RECOVERY_SETTINGS_DELETE_FAILED",function(e){var t=e.target;return Object(Ut.b)(function(e){switch(e){case"phone":return Object(P.translate)("An error occurred while deleting your account recovery phone number.");case"email":return Object(P.translate)("An error occurred while deleting your account recovery email.");default:return Object(P.translate)("An error occurred while deleting your account recovery options.",{comment:"Recovery option: generic term for methods of account recovery, i.e emails or sms."})}}(t))}),fe()(Oa,"ACCOUNT_RECOVERY_SETTINGS_RESEND_VALIDATION_SUCCESS",function(e){var t=e.target;return Object(Ut.f)(function(e){switch(e){case"phone":return Object(P.translate)("The validation code has been resent successfully. Please check your phone.");case"email":return Object(P.translate)("The validation email has been resent successfully. Please check your mailbox.");default:return Object(P.translate)("The validation has been resent successfully.")}}(t))}),fe()(Oa,"ACCOUNT_RECOVERY_SETTINGS_RESEND_VALIDATION_FAILED",function(e){var t=e.target;return Object(Ut.b)(function(e){switch(e){case"phone":return Object(P.translate)("We've encountered a problem sending you the validation code. Please try again later.");case"email":return Object(P.translate)("We've encountered a problem sending you the validation email. Please try again later.");default:return Object(P.translate)("We've encountered a problem. Please try again later.")}}(t))}),fe()(Oa,"ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_SUCCESS",function(){return Object(Ut.f)(Object(P.translate)("Your recovery SMS number has been validated successfully."))}),fe()(Oa,"ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_FAILED",function(){return Object(Ut.b)(Object(P.translate)("There was a problem validating your recovery SMS number. Please try again later."))}),fe()(Oa,"BILLING_RECEIPT_EMAIL_SEND_FAILURE",function(){return Object(Ut.b)(Object(P.translate)("There was a problem sending your receipt. Please try again later or contact support."))}),fe()(Oa,"BILLING_RECEIPT_EMAIL_SEND_SUCCESS",function(){return Object(Ut.f)(Object(P.translate)("Your receipt was sent by email successfully."))}),fe()(Oa,"BILLING_TRANSACTION_REQUEST_FAILURE",function(e){var t=e.transactionId,n=e.error,r="transaction-fetch-"+t;return"invalid_receipt"===n.error?Object(Ut.b)(Object(P.translate)("Sorry, we couldn't find receipt #%s.",{args:t}),{id:r,displayOnNextPage:!0,duration:5e3}):Object(Ut.b)(Object(P.translate)("Sorry, we weren't able to load the requested receipt."),{id:r,displayOnNextPage:!0,button:Object(P.translate)("Try again"),href:Object(Ya.d)(t)})}),fe()(Oa,"GRAVATAR_RECEIVE_IMAGE_FAILURE",function(e){return Object(Ut.b)(e.errorMessage)}),fe()(Oa,"GRAVATAR_UPLOAD_REQUEST_FAILURE",function(){return Object(Ut.b)(Object(P.translate)("Hmm, your new Gravatar was not saved. Please try uploading again."))}),fe()(Oa,"GRAVATAR_UPLOAD_REQUEST_SUCCESS",function(){return Object(Ut.f)(Object(P.translate)("You successfully uploaded a new Gravatar  looking sharp!"))}),fe()(Oa,"INVITES_DELETE_REQUEST_SUCCESS",function(e){var t=e.inviteIds;return Object(Ut.f)(Object(P.translate)("Invite deleted.","Invites deleted.",{count:t.length}),{displayOnNextPage:!0})}),fe()(Oa,"INVITES_DELETE_REQUEST_FAILURE",function(e){return function(t,n){var r=!0,i=!1,s=void 0;try{for(var o,a=e.inviteIds[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var c=o.value,u=Object(Qa.d)(n(),e.siteId,c);t(Object(Ut.b)(Object(P.translate)("An error occurred while deleting the invite for %s.",{args:Object(p.truncate)(u.user.email,{length:20})})))}}catch(e){i=!0,s=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw s}}}}),fe()(Oa,"INVITE_RESEND_REQUEST_FAILURE",function(){return Object(Ut.b)(Object(P.translate)("Invitation failed to resend."))}),fe()(Oa,"JETPACK_MODULE_ACTIVATE_SUCCESS",Za),fe()(Oa,"JETPACK_MODULE_DEACTIVATE_SUCCESS",Za),fe()(Oa,"JETPACK_MODULE_ACTIVATE_FAILURE",Za),fe()(Oa,"JETPACK_MODULE_DEACTIVATE_FAILURE",Za),fe()(Oa,"KEYRING_CONNECTION_DELETE",$a),fe()(Oa,"KEYRING_CONNECTION_DELETE_FAILURE",Xa),fe()(Oa,"POST_DELETE_FAILURE",function(e){return function(t,n){var r,i=Object(mn.l)(n(),e.siteId,e.postId);r=i?Object(P.translate)('An error occurred while deleting "%s"',{args:[Object(p.truncate)(i.title,{length:24})]}):Object(P.translate)("An error occurred while deleting the post"),t(Object(Ut.b)(r))}}),fe()(Oa,"POST_DELETE_SUCCESS",function(){return Object(Ut.f)(Object(P.translate)("Post successfully deleted"))}),fe()(Oa,"POST_RESTORE_FAILURE",function(e){return function(t,n){var r,i=Object(mn.l)(n(),e.siteId,e.postId);r=i?Object(P.translate)('An error occurred while restoring "%s"',{args:[Object(p.truncate)(i.title,{length:24})]}):Object(P.translate)("An error occurred while restoring the post"),t(Object(Ut.b)(r))}}),fe()(Oa,"POST_RESTORE_SUCCESS",function(){return Object(Ut.f)(Object(P.translate)("Post successfully restored"))}),fe()(Oa,"POST_SAVE_SUCCESS",function(e){var t=e.post,n=e.savedPost;return function(e){switch(t.status){case"trash":var r="trash_"+n.global_ID;e(Object(Ut.f)(Object(P.translate)("Post successfully moved to trash."),{id:r,button:Object(P.translate)("Undo"),onClick:function(){e(Object(Ut.e)(r)),e(Object(za.i)(n.site_ID,n.ID))}}));break;case"publish":e(Object(Ut.f)(Object(P.translate)("Post successfully published")))}}}),fe()(Oa,"PUBLICIZE_CONNECTION_CREATE",function(e){var t=e.connection;return Object(Ut.f)(Object(P.translate)("The %(service)s account was successfully connected.",{args:{service:t.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})}),fe()(Oa,"PUBLICIZE_CONNECTION_CREATE_FAILURE",function(e){var t=e.error;return Object(Ut.b)(t.message||Object(P.translate)("An error occurred while connecting the account.",{context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})}),fe()(Oa,"PUBLICIZE_CONNECTION_DELETE",$a),fe()(Oa,"PUBLICIZE_CONNECTION_DELETE_FAILURE",Xa),fe()(Oa,"PUBLICIZE_CONNECTION_UPDATE",function(e){var t=e.connection;return Object(Ut.f)(Object(P.translate)("The %(service)s account was successfully updated.",{args:{service:t.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})}),fe()(Oa,"PUBLICIZE_CONNECTION_UPDATE_FAILURE",function(e){var t=e.error;return Object(Ut.b)(Object(P.translate)("The %(service)s account was unable to be updated.",{args:{service:t.label},context:"Sharing: Publicize reconnection confirmation"}),{id:"publicize"})}),fe()(Oa,"GUIDED_TRANSFER_HOST_DETAILS_SAVE_SUCCESS",function(){return Object(Ut.f)(Object(P.translate)("Thanks for confirming those details!"))}),fe()(Oa,"SITE_DELETE",function(e){var t=e.siteId;return function(e,n){var r=Object(go.p)(n(),t);e(Object(Ut.f)(Object(P.translate)("%(siteDomain)s is being deleted.",{args:{siteDomain:r}}),{duration:5e3,id:"site-delete"}))}}),fe()(Oa,"SITE_DELETE_FAILURE",function(e){var t=e.error;return"active-subscriptions"===t.error?Object(Ut.b)(Object(P.translate)("You must cancel any active subscriptions prior to deleting your site."),{id:"site-delete",showDismiss:!1,button:Object(P.translate)("Manage Purchases"),href:Ya.j}):Object(Ut.b)(t.message)}),fe()(Oa,"SITE_DELETE_RECEIVE",function(e){var t=e.siteId;return function(e,n){var r=Object(go.p)(n(),t);e(Object(Ut.f)(Object(P.translate)("%(siteDomain)s has been deleted.",{args:{siteDomain:r}}),{duration:5e3,id:"site-delete"}))}}),fe()(Oa,"SITE_MONITOR_SETTINGS_UPDATE_SUCCESS",function(){return Object(Ut.f)(Object(P.translate)("Settings saved successfully!"))}),fe()(Oa,"SITE_MONITOR_SETTINGS_UPDATE_FAILURE",function(){return Object(Ut.f)(Object(P.translate)("There was a problem saving your changes. Please, try again."))}),fe()(Oa,"THEME_DELETE_FAILURE",function(e){var t=e.themeId;return Object(Ut.b)(Object(P.translate)("Problem deleting %(themeId)s. Check theme is not active.",{args:{themeId:t},context:"Themes: Theme delete failure"}))}),fe()(Oa,"THEME_DELETE_SUCCESS",function(e){var t=e.themeName;return Object(Ut.f)(Object(P.translate)("Deleted theme %(themeName)s.",{args:{themeName:t},context:"Themes: Theme delete confirmation"}),{duration:5e3})}),fe()(Oa,"THEME_ACTIVATE_FAILURE",function(e){var t=e.error;return Object(p.includes)(t.error,"theme_not_found")?Object(Ut.b)(Object(P.translate)("Theme not yet available for this site")):Object(Ut.b)(Object(P.translate)("Unable to activate theme. Contact support."))}),Oa),tc=function(e){return function(t){return function(n){var r=t(n);if(!Object(p.get)(n,"meta.notices.skip")&&ec.hasOwnProperty(n.type)){var i=ec[n.type](n);i&&e.dispatch(i)}return r}}},nc=function(){return{helloDolly:n("./client/extensions/hello-dolly/state/reducer.js"),woocommerce:n("./client/extensions/woocommerce/state/reducer.js"),wpJobManager:n("./client/extensions/wp-job-manager/state/reducer.js"),wpSuperCache:n("./client/extensions/wp-super-cache/state/reducer.js"),zoninator:n("./client/extensions/zoninator/state/reducer.js")}},rc=Object(pe.c)("CHECKING",(ya={},fe()(ya,"CONNECTION_LOST",function(){return"OFFLINE"}),fe()(ya,"CONNECTION_RESTORED",function(){return"ONLINE"}),ya)),ic=Object(pe.b)({connectionState:rc}),sc=Object(pe.b)({isRequesting:Object(pe.c)(!1,(ja={},fe()(ja,"ACCOUNT_RECOVERY_RESET_OPTIONS_REQUEST",p.stubTrue),fe()(ja,"ACCOUNT_RECOVERY_RESET_OPTIONS_RECEIVE",p.stubFalse),fe()(ja,"ACCOUNT_RECOVERY_RESET_OPTIONS_ERROR",p.stubFalse),ja)),error:Object(pe.c)(null,(va={},fe()(va,"ACCOUNT_RECOVERY_RESET_OPTIONS_REQUEST",function(){return null}),fe()(va,"ACCOUNT_RECOVERY_RESET_OPTIONS_RECEIVE",function(){return null}),fe()(va,"ACCOUNT_RECOVERY_RESET_OPTIONS_ERROR",function(e,t){var n=t.error;return n}),va)),items:Object(pe.c)([],(Sa={},fe()(Sa,"ACCOUNT_RECOVERY_RESET_OPTIONS_RECEIVE",function(e,t){var n=t.items;return n}),fe()(Sa,"ACCOUNT_RECOVERY_RESET_OPTIONS_REQUEST",function(){return[]}),fe()(Sa,"ACCOUNT_RECOVERY_RESET_OPTIONS_ERROR",function(){return[]}),Sa))}),oc=Object(pe.c)({},fe()({},"ACCOUNT_RECOVERY_RESET_UPDATE_USER_DATA",function(e,t){return t.userData})),ac=Object(pe.c)(null,fe()({},"ACCOUNT_RECOVERY_RESET_SET_METHOD",function(e,t){return t.method})),cc=Object(pe.b)({isRequesting:Object(pe.c)(!1,(Ia={},fe()(Ia,"ACCOUNT_RECOVERY_RESET_REQUEST",p.stubTrue),fe()(Ia,"ACCOUNT_RECOVERY_RESET_REQUEST_SUCCESS",p.stubFalse),fe()(Ia,"ACCOUNT_RECOVERY_RESET_REQUEST_ERROR",p.stubFalse),Ia)),error:Object(pe.c)(null,(Ta={},fe()(Ta,"ACCOUNT_RECOVERY_RESET_REQUEST",function(){return null}),fe()(Ta,"ACCOUNT_RECOVERY_RESET_REQUEST_SUCCESS",function(){return null}),fe()(Ta,"ACCOUNT_RECOVERY_RESET_REQUEST_ERROR",function(e,t){var n=t.error;return n}),Ta))}),uc=Object(pe.c)(null,fe()({},"ACCOUNT_RECOVERY_RESET_SET_VALIDATION_KEY",function(e,t){return t.key})),lc=Object(pe.b)({isRequesting:Object(pe.c)(!1,(Ca={},fe()(Ca,"ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST",p.stubTrue),fe()(Ca,"ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST_SUCCESS",p.stubFalse),fe()(Ca,"ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST_ERROR",p.stubFalse),Ca)),error:Object(pe.c)(null,(Ra={},fe()(Ra,"ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST",function(){return null}),fe()(Ra,"ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST_SUCCESS",function(){return null}),fe()(Ra,"ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST_ERROR",function(e,t){var n=t.error;return n}),Ra))}),dc=Object(pe.b)({isRequesting:Object(pe.c)(!1,(Aa={},fe()(Aa,"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST",p.stubTrue),fe()(Aa,"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_SUCCESS",p.stubFalse),fe()(Aa,"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_ERROR",p.stubFalse),Aa)),succeeded:Object(pe.c)(!1,(Na={},fe()(Na,"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST",p.stubFalse),fe()(Na,"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_SUCCESS",p.stubTrue),fe()(Na,"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_ERROR",p.stubFalse),Na)),error:Object(pe.c)(null,(wa={},fe()(wa,"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST",function(){return null}),fe()(wa,"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_SUCCESS",function(){return null}),fe()(wa,"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_ERROR",function(e,t){var n=t.error;return n}),wa))}),pc=Object(pe.b)({options:sc,userData:oc,method:ac,requestReset:cc,key:uc,validate:lc,resetPassword:dc}),mc=function(e){return function(t,n){var r=n.target;return ge()({},t,fe()({},r,e))}},fc=Object(pe.c)({},(Pa={},fe()(Pa,"ACCOUNT_RECOVERY_SETTINGS_UPDATE",mc(!0)),fe()(Pa,"ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS",mc(!1)),fe()(Pa,"ACCOUNT_RECOVERY_SETTINGS_UPDATE_FAILED",mc(!1)),Pa)),_c=Object(pe.c)({},(Ua={},fe()(Ua,"ACCOUNT_RECOVERY_SETTINGS_DELETE",mc(!0)),fe()(Ua,"ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS",mc(!1)),fe()(Ua,"ACCOUNT_RECOVERY_SETTINGS_DELETE_FAILED",mc(!1)),Ua)),Ec=Object(pe.c)({},(Da={},fe()(Da,"ACCOUNT_RECOVERY_SETTINGS_RESEND_VALIDATION",mc(!0)),fe()(Da,"ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS",mc(!0)),Da)),bc=Object(pe.c)(null,(ka={},fe()(ka,"ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS",function(e,t){var n=t.settings;return function(e){if(!e)return null;var t=e.country_code,n=e.country_numeric_code,r=e.number,i=e.number_full;return{countryCode:t,countryNumericCode:n,number:r,numberFull:i}}(n.phone)}),fe()(ka,"ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS",function(e,t){var n=t.target,r=t.value;return"phone"===n?r:e}),fe()(ka,"ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS",function(e,t){var n=t.target;return"phone"===n?null:e}),ka)),gc=Object(pe.c)("",(La={},fe()(La,"ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS",function(e,t){var n=t.settings;return n.email}),fe()(La,"ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS",function(e,t){var n=t.target,r=t.value;return"email"===n?r:e}),fe()(La,"ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS",function(e,t){var n=t.target;return"email"===n?"":e}),La)),hc=Object(pe.c)(!1,(Ma={},fe()(Ma,"ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS",function(e,t){var n=t.settings;return n.phone_validated}),fe()(Ma,"ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS",function(e,t){var n=t.target;return"phone"!==n&&e}),fe()(Ma,"ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS",function(e,t){var n=t.target;return"phone"!==n&&e}),fe()(Ma,"ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_SUCCESS",function(){return!0}),Ma)),Oc=Object(pe.c)(!1,(xa={},fe()(xa,"ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE",function(){return!0}),fe()(xa,"ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_SUCCESS",function(){return!1}),fe()(xa,"ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_FAILED",function(){return!1}),xa)),yc=Object(pe.c)(!1,(Fa={},fe()(Fa,"ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS",function(e,t){var n=t.settings;return n.email_validated}),fe()(Fa,"ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS",function(e,t){var n=t.target;return"email"!==n&&e}),fe()(Fa,"ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS",function(e,t){var n=t.target;return"email"!==n&&e}),Fa)),jc=Object(pe.c)(!1,fe()({},"ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS",function(){return!0})),vc=Object(pe.b)({data:Object(pe.b)({phone:bc,phoneValidated:hc,email:gc,emailValidated:yc}),isReady:jc,isUpdating:fc,isDeleting:_c,isValidatingPhone:Oc,hasSentValidation:Ec}),Sc=Object(pe.c)(!1,(Va={},fe()(Va,"ACCOUNT_RECOVERY_SETTINGS_FETCH",function(){return!0}),fe()(Va,"ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS",function(){return!1}),fe()(Va,"ACCOUNT_RECOVERY_SETTINGS_FETCH_FAILED",function(){return!1}),Va)),Ic=Object(pe.b)({settings:vc,reset:pc,isFetchingSettings:Sc}),Tc={eligibilityHolds:[],eligibilityWarnings:[],lastUpdate:0},Cc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTOMATED_TRANSFER_ELIGIBILITY_UPDATE":return{eligibilityHolds:Object(p.sortBy)(t.eligibilityHolds),eligibilityWarnings:Object(p.sortBy)(t.eligibilityWarnings,Object(p.property)("name")),lastUpdate:t.lastUpdate}}return e};Cc.hasCustomPersistence=!0;var Rc=Cc,Ac={type:"object",properties:{lastUpdate:{type:"number",minimum:0},eligibilityHolds:{type:"array",items:{type:"string"}},eligibilityWarnings:{type:"array",items:{type:"object",properties:{name:{type:"string"},description:{type:"string"},supportUrl:{type:"string"}}}}}},Nc={type:"object",properties:{eligibility:Ac,status:{type:["string","null"]}}},wc={type:"object",patternProperties:{"^\\d+$":Nc}},Pc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTOMATED_TRANSFER_ELIGIBILITY_UPDATE":return e||As.b.INQUIRING;case"THEME_TRANSFER_INITIATE_REQUEST":return As.b.START;case"THEME_TRANSFER_INITIATE_FAILURE":return As.b.FAILURE;case"AUTOMATED_TRANSFER_STATUS_SET":return t.status;case"THEME_TRANSFER_STATUS_RECEIVE":return"complete"===t.status?As.b.COMPLETE:e}return e};Pc.hasCustomPersistence=!0;var Uc,Dc,kc,Lc,Mc,xc,Fc=Object(pe.b)({eligibility:Rc,status:Pc,fetchingStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTOMATED_TRANSFER_STATUS_REQUEST":return!0;case"AUTOMATED_TRANSFER_STATUS_REQUEST_FAILURE":return!1;default:return e}}}),Vc=Object(pe.g)(wc,Object(pe.e)("siteId",Fc)),Gc=Object(pe.c)(!1,(Uc={},fe()(Uc,"BILLING_TRANSACTION_REQUEST",function(){return!0}),fe()(Uc,"BILLING_TRANSACTION_REQUEST_FAILURE",function(){return!1}),fe()(Uc,"BILLING_TRANSACTION_REQUEST_SUCCESS",function(){return!1}),Uc)),qc=Object(pe.c)(!1,(Dc={},fe()(Dc,"BILLING_TRANSACTION_REQUEST_FAILURE",function(){return!0}),fe()(Dc,"BILLING_TRANSACTION_REQUEST_SUCCESS",function(){return!1}),fe()(Dc,"BILLING_TRANSACTION_ERROR_CLEAR",function(){return!1}),Dc)),Hc=Object(pe.c)(null,fe()({},"BILLING_TRANSACTION_RECEIVE",function(e,t){var n=t.receipt;return n})),Wc=Object(pe.e)("transactionId",Object(pe.b)({requesting:Gc,error:qc,data:Hc})),Bc=Object(pe.c)({},fe()({},"BILLING_TRANSACTIONS_RECEIVE",function(e,t){var n=t.past,r=t.upcoming;return{past:n,upcoming:r}}),{type:"object",additionalProperties:!1,properties:{past:{type:"array",items:{type:"object",properties:{id:{type:"string"},service:{type:"string"},amount:{type:"string"},icon:{type:"string"},date:{type:"string"},desc:{type:"string"},org:{type:"string"},url:{type:"string"},support:{type:"string"},pay_ref:{type:"string"},pay_part:{type:"string"},cc_type:{type:"string"},cc_num:{type:"string"},cc_name:{type:"string"},cc_email:{type:"string"},credit:{type:"string"},items:{type:"array",items:{type:"object"}}}}},upcoming:{type:"array",items:{type:"object",properties:{id:{type:"string"},blog_id:{type:"string"},plan:{type:"string"},amount:{type:"string"},date:{type:"string"},product:{type:"string"},interval:{type:"string"},icon:{type:"string"},domain:{type:["string","null"]}}}}}}),Qc=Object(pe.c)(!1,(kc={},fe()(kc,"BILLING_TRANSACTIONS_REQUEST",function(){return!0}),fe()(kc,"BILLING_TRANSACTIONS_REQUEST_FAILURE",function(){return!1}),fe()(kc,"BILLING_TRANSACTIONS_REQUEST_SUCCESS",function(){return!1}),kc)),zc=Object(pe.c)({},(Lc={},fe()(Lc,"BILLING_RECEIPT_EMAIL_SEND",function(e,t){var n=t.receiptId;return ge()({},e,fe()({},n,!0))}),fe()(Lc,"BILLING_RECEIPT_EMAIL_SEND_FAILURE",function(e,t){var n=t.receiptId;return ge()({},e,fe()({},n,!1))}),fe()(Lc,"BILLING_RECEIPT_EMAIL_SEND_SUCCESS",function(e,t){var n=t.receiptId;return ge()({},e,fe()({},n,!1))}),Lc)),Yc=Object(pe.b)({items:Bc,requesting:Qc,sendingReceiptEmail:zc,individualTransactions:Wc}),Kc=Object(pe.c)({},(Mc={},fe()(Mc,"SITE_CHECKLIST_RECEIVE",function(e,t){var n=t.siteId,r=t.checklist;return ge()({},e,fe()({},n,r))}),fe()(Mc,"SITE_CHECKLIST_TASK_UPDATE",function(e,t){var n=t.siteId,r=t.taskId,i=e[n],s=Object(p.assign)({},i.tasks,fe()({},r,!0));return ge()({},e,fe()({},n,Object(p.assign)({},i,{tasks:s})))}),Mc),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object"}}}),Jc=Object(pe.b)({items:Kc}),Zc=n("./client/state/comments/reducer.js");var $c,Xc,eu=Object(pe.c)(null,(xc={},fe()(xc,"CONCIERGE_APPOINTMENT_DETAILS_REQUEST",function(){return null}),fe()(xc,"CONCIERGE_APPOINTMENT_DETAILS_UPDATE",function(e,t){return t.appointmentDetails}),xc)),tu=Object(pe.e)("appointmentId",eu),nu=Object(pe.c)(null,($c={},fe()($c,"CONCIERGE_INITIAL_REQUEST",function(){return null}),fe()($c,"CONCIERGE_INITIAL_UPDATE",function(e,t){return t.initial.availableTimes}),$c)),ru=nu,iu=Object(pe.c)(null,(Xc={},fe()(Xc,"CONCIERGE_INITIAL_REQUEST",function(){return null}),fe()(Xc,"CONCIERGE_INITIAL_UPDATE",function(e,t){return t.initial.nextAppointment}),Xc)),su=iu,ou=Object(pe.c)("",fe()({},"CONCIERGE_SIGNUP_FORM_UPDATE",function(e,t){return t.signupForm.message})),au=Object(pe.c)(P.moment.tz.guess(),fe()({},"CONCIERGE_SIGNUP_FORM_UPDATE",function(e,t){return t.signupForm.timezone})),cu=Object(pe.c)(!1,fe()({},"CONCIERGE_SIGNUP_FORM_UPDATE",function(e,t){return t.signupForm.isRebrandCitiesSite})),uu=Object(pe.c)("",fe()({},"CONCIERGE_SIGNUP_FORM_UPDATE",function(e,t){return t.signupForm.firstname})),lu=Object(pe.c)("",fe()({},"CONCIERGE_SIGNUP_FORM_UPDATE",function(e,t){return t.signupForm.lastname})),du=Object(pe.c)(null,fe()({},"CONCIERGE_UPDATE_BOOKING_STATUS",function(e,t){return t.status})),pu=Object(pe.b)({firstname:uu,lastname:lu,message:ou,timezone:au,status:du,isRebrandCitiesSite:cu}),mu=Object(pe.b)({appointmentDetails:tu,availableTimes:ru,nextAppointment:su,signupForm:pu}),fu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONNECTED_APPLICATION_DELETE_SUCCESS":return Object(p.reject)(e,{ID:t.appId});case"CONNECTED_APPLICATIONS_RECEIVE":return t.apps;default:return e}};fu.schema={type:"array",items:{type:"object",properties:{ID:{type:"string"},URL:{type:"string"},authorized:{type:"string"},description:{type:"string"},icon:{type:"string"},permissions:{type:"array",items:{type:"object",properties:{description:{type:"string"},name:{type:"string"}},required:["description","name"],additionalProperties:!1}},scope:{type:"string"},site:{oneOf:[{type:"boolean"},{type:"object",properties:{site_ID:{type:"string"},site_URL:{type:"string"},site_name:{type:"string"}},required:["site_ID","site_URL","site_name"],additionalProperties:!1}]},title:{type:"string"}},required:["ID"],additionalProperties:!1}};var _u,Eu,bu,gu,hu,Ou=fu,yu=function(e){return function(){var t=e.apply(void 0,arguments);return"undefined"!=typeof window&&(Object.assign(window,t),Object.defineProperty(window,"state",{enumerable:!0,get:t.getState})),t}},ju=function(e,t){var n;return Object(pe.c)({isFetching:!1,items:[]},(n={},fe()(n,e,function(e){return ge()({},e,{isFetching:!0})}),fe()(n,t,function(e,t){return{isFetching:!1,items:t.countries}}),n))},vu=ju("COUNTRIES_DOMAINS_FETCH","COUNTRIES_DOMAINS_UPDATED"),Su=ju("COUNTRIES_PAYMENTS_FETCH","COUNTRIES_PAYMENTS_UPDATED"),Iu=ju("COUNTRIES_SMS_FETCH","COUNTRIES_SMS_UPDATED"),Tu=Object(pe.b)({domains:vu,payments:Su,sms:Iu}),Cu=Object(pe.c)({},fe()({},"COUNTRY_STATES_RECEIVE",function(e,t){return ge()({},e,fe()({},t.countryCode,t.countryStates))}),{type:"object",additionalProperties:!1,patternProperties:{"^[a-z]{2}$":{type:"array",items:{type:"object",properties:{code:{type:"string"},name:{type:"string"}},required:["code","name"]}}}}),Ru=Object(pe.c)({},(_u={},fe()(_u,"COUNTRY_STATES_REQUEST",function(e,t){var n=t.countryCode;return ge()({},e,fe()({},n,!0))}),fe()(_u,"COUNTRY_STATES_REQUEST_SUCCESS",function(e,t){var n=t.countryCode;return ge()({},e,fe()({},n,!1))}),fe()(_u,"COUNTRY_STATES_REQUEST_FAILURE",function(e,t){var n=t.countryCode;return ge()({},e,fe()({},n,!1))}),_u)),Au=Object(pe.b)({isFetching:Ru,items:Cu}),Nu=Object(pe.c)(!1,(Eu={},fe()(Eu,"GRAVATAR_UPLOAD_REQUEST",function(){return!0}),fe()(Eu,"GRAVATAR_UPLOAD_REQUEST_SUCCESS",function(){return!1}),fe()(Eu,"GRAVATAR_UPLOAD_REQUEST_FAILURE",function(){return!1}),Eu)),wu=Object(pe.c)({},fe()({},"GRAVATAR_UPLOAD_RECEIVE",function(e,t){return{src:t.src}})),Pu=Object(pe.b)({isUploading:Nu,tempImage:wu}),Uu=Object(pe.c)(null,(bu={},fe()(bu,"EMAIL_VERIFY_REQUEST",function(){return"requesting"}),fe()(bu,"EMAIL_VERIFY_REQUEST_SUCCESS",function(){return"sent"}),fe()(bu,"EMAIL_VERIFY_REQUEST_FAILURE",function(){return"error"}),fe()(bu,"EMAIL_VERIFY_STATE_RESET",function(){return null}),bu)),Du=Object(pe.c)("",(gu={},fe()(gu,"EMAIL_VERIFY_REQUEST",function(){return""}),fe()(gu,"EMAIL_VERIFY_REQUEST_SUCCESS",function(){return""}),fe()(gu,"EMAIL_VERIFY_REQUEST_FAILURE",function(e,t){var n=t.message;return n}),fe()(gu,"EMAIL_VERIFY_STATE_RESET",function(){return""}),gu)),ku=Object(pe.b)({status:Uu,errorMessage:Du}),Lu=Object(pe.c)(null,fe()({},"CURRENT_USER_ID_SET",function(e,t){return t.userId}),{type:["integer","null"],minimum:0}),Mu=Object(pe.c)([],fe()({},"CURRENT_USER_FLAGS_RECEIVE",function(e,t){return t.flags}),{type:"array"}),xu=Object(pe.c)(null,(hu={},fe()(hu,"PLANS_RECEIVE",function(e,t){return Object(p.get)(t.plans[0],"currency_code",e)}),fe()(hu,"SITE_PLANS_FETCH_COMPLETED",function(e,t){return Object(p.get)(t.plans[0],"currencyCode",e)}),hu),{type:["string","null"]});function Fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_RECEIVE":case"SITES_RECEIVE":var n=t.site?[t.site]:t.sites;return Object(p.reduce)(n,function(t,n){return!n.capabilities||Object(p.isEqual)(n.capabilities,t[n.ID])?t:(t===e&&(t=ge()({},e)),t[n.ID]=n.capabilities,t)},e)}return e}Fu.schema={type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",properties:{edit_pages:{type:"boolean"},edit_posts:{type:"boolean"},edit_others_posts:{type:"boolean"},edit_others_pages:{type:"boolean"},delete_posts:{type:"boolean"},delete_others_posts:{type:"boolean"},edit_theme_options:{type:"boolean"},edit_users:{type:"boolean"},list_users:{type:"boolean"},manage_categories:{type:"boolean"},manage_options:{type:"boolean"},promote_users:{type:"boolean"},publish_posts:{type:"boolean"},upload_files:{type:"boolean"},delete_users:{type:"boolean"},remove_users:{type:"boolean"},view_stats:{type:"boolean"}}}}};var Vu,Gu,qu,Hu,Wu,Bu=Object(pe.b)({id:Lu,currencyCode:xu,capabilities:Fu,flags:Mu,gravatarStatus:Pu,emailVerification:ku}),Qu=Object(pe.c)("",fe()({},"DOCUMENT_HEAD_TITLE_SET",function(e,t){return t.title}),{type:"string"}),zu=Object(pe.c)(0,(Vu={},fe()(Vu,"DOCUMENT_HEAD_UNREAD_COUNT_SET",function(e,t){return t.count}),fe()(Vu,"ROUTE_SET",function(){return 0}),Vu),{type:"number"}),Yu=Object(pe.c)([{property:"og:site_name",content:"WordPress.com"}],fe()({},"DOCUMENT_HEAD_META_SET",function(e,t){return t.meta}),{type:"array",items:{type:"object",properties:{name:{type:"string"},property:{type:"string"},content:{type:"string"}}}}),Ku=Object(pe.c)([],fe()({},"DOCUMENT_HEAD_LINK_SET",function(e,t){return t.link}),{type:"array",items:{type:"object",properties:{href:{type:"string"},rel:{type:"string"}}}}),Ju=Object(pe.b)({link:Ku,meta:Yu,title:Qu,unreadCount:zu}),Zu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOMAIN_MANAGEMENT_VALIDATION_SCHEMAS_ADD":return ge()({},e,t.schemas);default:return e}},$u=Object(pe.c)(!1,(Gu={},fe()(Gu,"DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_REQUEST",p.stubTrue),fe()(Gu,"DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_REQUEST_SUCCESS",p.stubFalse),fe()(Gu,"DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_REQUEST_FAILURE",p.stubFalse),Gu)),Xu=Object(pe.e)("domain",Object(pe.c)(!1,(qu={},fe()(qu,"DOMAIN_MANAGEMENT_WHOIS_REQUEST",p.stubTrue),fe()(qu,"DOMAIN_MANAGEMENT_WHOIS_REQUEST_SUCCESS",p.stubFalse),fe()(qu,"DOMAIN_MANAGEMENT_WHOIS_REQUEST_FAILURE",p.stubFalse),qu))),el=Object(pe.c)({},(Hu={},fe()(Hu,"DOMAIN_MANAGEMENT_WHOIS_SAVE",function(e,t){var n=t.domain;return ge()({},e,fe()({},n,{saving:!0,status:"pending",error:!1}))}),fe()(Hu,"DOMAIN_MANAGEMENT_WHOIS_SAVE_SUCCESS",function(e,t){var n=t.domain;return ge()({},e,fe()({},n,{saving:!1,status:"success",error:!1}))}),fe()(Hu,"DOMAIN_MANAGEMENT_WHOIS_SAVE_FAILURE",function(e,t){var n=t.domain,r=t.error;return ge()({},e,fe()({},n,{saving:!1,status:"error",error:r}))}),Hu)),tl=Object(pe.c)({},(Wu={},fe()(Wu,"DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_RECEIVE",function(e,t){var n=t.data;return ge()({},e,{_contactDetailsCache:rl(n)})}),fe()(Wu,"DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_UPDATE",function(e,t){var n=t.data;return Object(p.merge)({},rl(e),{_contactDetailsCache:rl(n)})}),fe()(Wu,"DOMAIN_MANAGEMENT_WHOIS_RECEIVE",function(e,t){var n=t.domain,r=t.whoisData;return ge()({},e,fe()({},n,r))}),fe()(Wu,"DOMAIN_MANAGEMENT_WHOIS_UPDATE",function(e,t){var n=t.domain,r=t.whoisData;return Object(p.merge)({},e,fe()({},n,ge()({},e[n],r)))}),Wu),{type:"object",additionalProperties:!0,patternProperties:{first_name:{type:"string"},last_name:{type:"string"},email:{type:"string"},phone:{type:"string"},address1:{type:"string"},address2:{type:"string"},city:{type:"string"},state:{type:"string"},postal_code:{type:"string"},country_code:{type:"string"}}}),nl=Object(pe.b)({items:tl,isRequestingContactDetailsCache:$u,isRequestingWhois:Xu,isSaving:el,validationSchemas:Zu});function rl(e){var t=e._contactDetailsCache?["_contactDetailsCache","extra"]:"extra";return e&&Object(p.isArray)(Object(p.get)(e,t))?Object(p.omit)(e,t):e}var il=n("./client/state/domains/suggestions/utils.js");function sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOMAINS_SUGGESTIONS_RECEIVE":var n=Object(il.a)(t.queryObject);return n?Object.assign({},e,fe()({},n,t.suggestions)):e}return e}sl.schema={type:"object",additionalProperties:!1,patternProperties:{"^\\{[^\\}]*\\}$":{type:"array",items:{type:"object",required:["domain_name"],properties:{domain_name:{type:"string"},cost:{type:"string"},product_id:{type:"integer"},product_slug:{type:"string"}}}}}};var ol=Object(pe.b)({items:sl,requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOMAINS_SUGGESTIONS_REQUEST":case"DOMAINS_SUGGESTIONS_REQUEST_FAILURE":case"DOMAINS_SUGGESTIONS_REQUEST_SUCCESS":var n=Object(il.a)(t.queryObject);return n?Object.assign({},e,fe()({},n,"DOMAINS_SUGGESTIONS_REQUEST"===t.type)):e}return e},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.queryObject&&Object(il.a)(t.queryObject);switch(t.type){case"DOMAINS_SUGGESTIONS_REQUEST":case"DOMAINS_SUGGESTIONS_REQUEST_SUCCESS":return n?Object.assign({},e,fe()({},n,null)):e;case"DOMAINS_SUGGESTIONS_REQUEST_FAILURE":return n?Object.assign({},e,fe()({},n,t.error)):e}return e}}),al=Object(pe.c)({},fe()({},"DOMAIN_TRANSFER_UPDATE",function(e,t){var n=t.domain,r=t.options;return ge()({},e,fe()({},n,r))}),{type:"object",patternProperties:{saveStatus:{type:"string"},selectedRegistrar:{type:"object"}}}),cl=Object(pe.b)({items:al}),ul=Object(pe.b)({management:nl,suggestions:ol,transfer:cl});var ll,dl,pl,ml,fl,_l,El,bl=Object(pe.b)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOOGLE_APPS_USERS_FETCH_COMPLETED":return Object(p.uniqBy)(e.concat(t.items),"email")}return e},loaded:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GOOGLE_APPS_USERS_FETCH":return!1;case"GOOGLE_APPS_USERS_FETCH_FAILED":case"GOOGLE_APPS_USERS_FETCH_COMPLETED":return!0}return e}}),gl=Object(pe.c)(null,(ll={},fe()(ll,"GOOGLE_MY_BUSINESS_STATS_RECEIVE",function(e,t){var n=t.data;return n}),fe()(ll,"GOOGLE_MY_BUSINESS_STATS_REQUEST",function(){return null}),fe()(ll,"GOOGLE_MY_BUSINESS_STATS_FAILURE",function(){return null}),ll)),hl=Object(pe.c)(null,(dl={},fe()(dl,"GOOGLE_MY_BUSINESS_STATS_RECEIVE",function(){return null}),fe()(dl,"GOOGLE_MY_BUSINESS_STATS_REQUEST",function(){return null}),fe()(dl,"GOOGLE_MY_BUSINESS_STATS_FAILURE",function(e,t){var n=t.error;return n}),dl)),Ol=Object(pe.e)("siteId",Object(pe.b)({stats:Object(pe.e)("statType",Object(pe.e)("interval",Object(pe.e)("aggregation",gl))),statsError:Object(pe.e)("statType",Object(pe.e)("interval",Object(pe.e)("aggregation",hl)))})),yl=Object(pe.c)(null,fe()({},"HELP_COURSES_RECEIVE",function(e,t){var n=t.courses;return n})),jl=Object(pe.b)({items:yl}),vl=n("./client/state/help/directly/constants.js"),Sl=Object(pe.c)(vl.d,(pl={},fe()(pl,"DIRECTLY_INITIALIZATION_START",function(){return vl.b}),fe()(pl,"DIRECTLY_INITIALIZATION_SUCCESS",function(){return vl.c}),fe()(pl,"DIRECTLY_INITIALIZATION_ERROR",function(){return vl.a}),pl)),Il=Object(pe.b)({questionAsked:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIRECTLY_ASK_QUESTION":var n=t.questionText,r=t.name,i=t.email;return{questionText:n,name:r,email:i}}return e},status:Sl}),Tl=Object(pe.c)(!1,(ml={},fe()(ml,"HELP_TICKET_CONFIGURATION_REQUEST",function(){return!0}),fe()(ml,"HELP_TICKET_CONFIGURATION_REQUEST_SUCCESS",function(){return!1}),fe()(ml,"HELP_TICKET_CONFIGURATION_REQUEST_FAILURE",function(){return!1}),ml)),Cl=Object(pe.c)(!1,fe()({},"HELP_TICKET_CONFIGURATION_REQUEST_SUCCESS",function(e,t){var n=t.configuration;return n.is_user_eligible})),Rl=Object(pe.c)(!1,fe()({},"HELP_TICKET_CONFIGURATION_REQUEST_SUCCESS",function(){return!0})),Al=Object(pe.c)(null,(fl={},fe()(fl,"HELP_TICKET_CONFIGURATION_REQUEST",function(){return null}),fe()(fl,"HELP_TICKET_CONFIGURATION_REQUEST_SUCCESS",function(){return null}),fe()(fl,"HELP_TICKET_CONFIGURATION_REQUEST_FAILURE",function(e,t){var n=t.error;return n}),fe()(fl,"HELP_TICKET_CONFIGURATION_DISMISS_ERROR",function(){return null}),fl)),Nl=Object(pe.b)({isReady:Rl,isRequesting:Tl,isUserEligible:Cl,requestError:Al}),wl=Object(pe.c)(null,fe()({},"HELP_CONTACT_FORM_SITE_SELECT",function(e,t){return t.siteId})),Pl=Object(pe.b)({courses:jl,directly:Il,ticket:Nl,selectedSiteId:wl}),Ul=Object(pe.b)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"I18N_LANGUAGE_NAMES_ADD":return t.items;default:return e}}}),Dl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"I18N_LOCALE_SUGGESTIONS_ADD":return t.items;default:return e}},kl=Object(pe.b)({languageNames:Ul,localeSuggestions:Dl}),Ll={type:"array",items:{type:"object",properties:{key:{type:"string"},role:{type:"string"},isPending:{type:"boolean"},inviteDate:{type:"string"},acceptedDate:{anyOf:[{type:"string"},{enum:[null]}]},user:{type:"object",properties:{login:{type:"string"},email:{anyOf:[{type:"string"},{enum:[!1]}]},name:{type:"string"},avatar_URL:{type:"string"}},additionalProperties:!1},invitedBy:{type:"object",properties:{login:{type:"string"},name:{type:"string"},avatar_URL:{type:"string"}},additionalProperties:!1}},additionalProperties:!1}},Ml={type:"object",patternProperties:{"^\\d+$":{type:"object",properties:{pending:Ll,accepted:Ll},required:["pending","accepted"],additionalProperties:!1}}};var xl=Object(pe.c)({},(_l={},fe()(_l,"INVITES_REQUEST_SUCCESS",function(e,t){var n={pending:[],accepted:[]};return t.invites.forEach(function(e){var t=Object(p.pick)(e.user,"login","email","name","avatar_URL"),r=Object(p.pick)(e.invited_by,"name","login","avatar_URL"),i={key:e.invite_key,role:e.role,isPending:e.is_pending,inviteDate:e.invite_date,acceptedDate:e.accepted_date,user:t,invitedBy:r};i.isPending?n.pending.push(i):n.accepted.push(i)}),ge()({},e,fe()({},t.siteId,n))}),fe()(_l,"INVITES_DELETE_REQUEST_SUCCESS",function(e,t){return ge()({},e,fe()({},t.siteId,{accepted:Fl(e[t.siteId].accepted,t.inviteIds),pending:Fl(e[t.siteId].pending,t.inviteIds)}))}),_l),Ml);function Fl(e,t){return e.filter(function(e){return!Object(p.includes)(t,e.key)})}var Vl=Object(pe.c)({},(El={},fe()(El,"INVITES_REQUEST_SUCCESS",function(e,t){return ge()({},e,fe()({},t.siteId,t.found))}),fe()(El,"INVITES_DELETE_REQUEST_SUCCESS",function(e,t){return ge()({},e,fe()({},t.siteId,e[t.siteId]-t.inviteIds.length))}),El));var Gl,ql,Hl=Object(pe.b)({requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVITES_REQUEST":case"INVITES_REQUEST_SUCCESS":case"INVITES_REQUEST_FAILURE":return Object.assign({},e,fe()({},t.siteId,"INVITES_REQUEST"===t.type))}return e},items:xl,counts:Vl,requestingResend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVITE_RESEND_REQUEST":var n=Object.assign({},e[t.siteId],fe()({},t.inviteId,"requesting"));return Object.assign({},e,fe()({},t.siteId,n));case"INVITE_RESEND_REQUEST_SUCCESS":var r=Object.assign({},e[t.siteId],fe()({},t.inviteId,"success"));return Object.assign({},e,fe()({},t.siteId,r));case"INVITE_RESEND_REQUEST_FAILURE":var i=Object.assign({},e[t.siteId],fe()({},t.inviteId,"failure"));return Object.assign({},e,fe()({},t.siteId,i))}return e},deleting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVITES_DELETE_REQUEST":var n=Object.assign({},e[t.siteId],Object(p.zipObject)(t.inviteIds,Object(p.map)(t.inviteIds,function(){return"requesting"})));return Object.assign({},e,fe()({},t.siteId,n));case"INVITES_DELETE_REQUEST_FAILURE":var r=Object.assign({},e[t.siteId],Object(p.zipObject)(t.inviteIds,Object(p.map)(t.inviteIds,function(){return"failure"})));return Object.assign({},e,fe()({},t.siteId,r));case"INVITES_DELETE_REQUEST_SUCCESS":var i=Object.assign({},e[t.siteId],Object(p.zipObject)(t.inviteIds,Object(p.map)(t.inviteIds,function(){return"success"})));return Object.assign({},e,fe()({},t.siteId,i))}return e}});var Wl,Bl=Object(pe.c)({searchQuery:"",items:{},selectedResult:-1,shouldOpenSelectedResult:!1},(Gl={},fe()(Gl,"INLINE_HELP_SEARCH_REQUEST",function(e,t){return ge()({},e,{searchQuery:t.searchQuery})}),fe()(Gl,"INLINE_HELP_SEARCH_REQUEST_SUCCESS",function(e,t){return ge()({},e,{selectedResult:-1,items:ge()({},e.items,fe()({},t.searchQuery,t.searchResults))})}),fe()(Gl,"INLINE_HELP_SELECT_RESULT",function(e,t){return ge()({},e,{selectedResult:t.resultIndex})}),fe()(Gl,"INLINE_HELP_SELECT_NEXT_RESULT",function(e){return e.items[e.searchQuery]&&e.items[e.searchQuery].length?ge()({},e,{selectedResult:(e.selectedResult+1)%e.items[e.searchQuery].length}):ge()({},e,{selectedResult:-1})}),fe()(Gl,"INLINE_HELP_SELECT_PREVIOUS_RESULT",function(e){if(e.items[e.searchQuery]&&e.items[e.searchQuery].length){var t=(e.selectedResult-1)%e.items[e.searchQuery].length;return ge()({},e,{selectedResult:t<0?e.items[e.searchQuery].length-1:t})}return ge()({},e,{selectedResult:-1})}),Gl)),Ql=Object(pe.c)({isShowingQandASuggestions:!1},(ql={},fe()(ql,"INLINE_HELP_CONTACT_FORM_RESET",function(e){return ge()({},e,{isShowingQandASuggestions:!1})}),fe()(ql,"INLINE_HELP_CONTACT_FORM_SHOW_QANDA",function(e){return ge()({},e,{isShowingQandASuggestions:!0})}),ql)),zl=Object(pe.b)({requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INLINE_HELP_SEARCH_REQUEST":return ge()({},e,fe()({},t.searchQuery,!0));case"INLINE_HELP_SEARCH_REQUEST_SUCCESS":case"INLINE_HELP_SEARCH_REQUEST_FAILURE":return ge()({},e,fe()({},t.searchQuery,!1))}return e},search:Bl,contactForm:Ql}),Yl=Object(pe.c)({postId:null,postUrl:null,isVisible:!1},(Wl={},fe()(Wl,"SUPPORT_ARTICLE_DIALOG_OPEN",function(e,t){var n=t.postId,r=t.postUrl,i=void 0===r?null:r;return{postUrl:i,postId:n,isVisible:!0}}),fe()(Wl,"SUPPORT_ARTICLE_DIALOG_CLOSE",function(e){return ge()({},e,{isVisible:!1})}),Wl)),Kl=n("./client/state/jetpack-connect/constants.js"),Jl=n("./client/state/jetpack-connect/utils.js");var Zl=Object(pe.e)("slug",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.attemptNumber;switch(n){case"JETPACK_CONNECT_RETRY_AUTH":return!e||Object(Jl.a)(e.timestamp,Kl.a)?{attempt:0,timestamp:Date.now()}:{attempt:r,timestamp:e.timestamp};case"JETPACK_CONNECT_COMPLETE_FLOW":return}return e});Zl.schema={type:"object",additionalProperties:!1,patternProperties:{"^.+$":{type:"object",additionalProperties:!1,required:["attempt","timestamp"],properties:{attempt:{type:"integer",minimum:0},timestamp:{type:"integer"}}}}};var $l=Zl;var Xl=Object(pe.g)({anyOf:[{type:"object",additionalProperties:!1,properties:{}},{type:"object",additionalProperties:!0,required:["timestamp"],properties:{authorizationCode:{type:"string"},authorizeError:{anyOf:[{type:"object",properties:{error:{type:"string"},message:{type:"string"},status:{type:"integer"}}},{type:"boolean"},{type:"null"}]},authorizeSuccess:{type:"boolean"},clientId:{type:"integer"},clientNotResponding:{type:"boolean"},isAuthorizing:{type:"boolean"},plansUrl:{type:"string"},siteReceived:{type:"boolean"},timestamp:{type:"integer"},userAlreadyConnected:{type:"boolean"}}}]},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JETPACK_CONNECT_AUTHORIZE":return Object.assign({},e,{isAuthorizing:!0,authorizeSuccess:!1,authorizeError:!1});case"JETPACK_CONNECT_AUTHORIZE_RECEIVE":if(Object(p.isEmpty)(t.error)&&t.data){var n=t.data.plans_url;return Object.assign({},e,{authorizeError:!1,authorizeSuccess:!0,plansUrl:n,siteReceived:!1})}return Object.assign({},e,{isAuthorizing:!1,authorizeError:t.error,authorizeSuccess:!1});case"JETPACK_CONNECT_AUTHORIZE_LOGIN_COMPLETE":return Object.assign({},e,{authorizationCode:t.data.code});case"JETPACK_CONNECT_AUTHORIZE_RECEIVE_SITE_LIST":return Object.assign({},e,{siteReceived:!0,isAuthorizing:!1});case"JETPACK_CONNECT_QUERY_SET":return{authorizeError:!1,authorizeSuccess:!1,clientId:t.clientId,isAuthorizing:!1,timestamp:t.timestamp,userAlreadyConnected:!1};case"SITE_REQUEST_FAILURE":return e.clientId===t.siteId?Object.assign({},e,{clientNotResponding:!0}):e;case"JETPACK_CONNECT_USER_ALREADY_CONNECTED":return Object.assign({},e,{userAlreadyConnected:!0});case"JETPACK_CONNECT_COMPLETE_FLOW":return{};case"DESERIALIZE":return Object(Jl.a)(e.timestamp,Kl.c)?{}:e;default:return e}});var ed,td,nd,rd=Object(pe.b)({jetpackConnectSite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JETPACK_CONNECT_CHECK_URL":return{url:t.url,isFetching:!0,isFetched:!1,isDismissed:!1,installConfirmedByUser:null,data:{}};case"JETPACK_CONNECT_CHECK_URL_RECEIVE":return t.url===e.url?Object.assign({},e,{isFetching:!1,isFetched:!0,data:t.data}):e;case"JETPACK_CONNECT_DISMISS_URL_STATUS":return t.url===e.url?Object.assign({},e,{installConfirmedByUser:null,isDismissed:!0}):e;case"JETPACK_CONNECT_CONFIRM_JETPACK_STATUS":return Object.assign({},e,{installConfirmedByUser:t.status});case"JETPACK_CONNECT_COMPLETE_FLOW":return{}}return e},jetpackSSO:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JETPACK_CONNECT_SSO_VALIDATION_REQUEST":return Object.assign({},e,{isValidating:!0});case"JETPACK_CONNECT_SSO_VALIDATION_SUCCESS":return Object.assign({},e,{isValidating:!1,validationError:!1,nonceValid:t.success,blogDetails:t.blogDetails,sharedDetails:t.sharedDetails});case"JETPACK_CONNECT_SSO_VALIDATION_ERROR":return Object.assign({},e,{isValidating:!1,validationError:t.error,nonceValid:!1});case"JETPACK_CONNECT_SSO_AUTHORIZE_REQUEST":return Object.assign({},e,{isAuthorizing:!0});case"JETPACK_CONNECT_SSO_AUTHORIZE_SUCCESS":return Object.assign({},e,{isAuthorizing:!1,authorizationError:!1,ssoUrl:t.ssoUrl});case"JETPACK_CONNECT_SSO_AUTHORIZE_ERROR":return Object.assign({},e,{isAuthorizing:!1,authorizationError:t.error,ssoUrl:!1})}return e},jetpackConnectAuthorize:Xl,jetpackAuthAttempts:$l}),id=Object(pe.e)("siteId",Object(pe.c)({},fe()({},"JETPACK_CONNECTION_STATUS_RECEIVE",function(e,t){var n=t.status;return n}))),sd=Object(pe.e)("siteId",Object(pe.c)({},(ed={},fe()(ed,"JETPACK_CONNECTION_STATUS_REQUEST",p.stubTrue),fe()(ed,"JETPACK_CONNECTION_STATUS_REQUEST_FAILURE",p.stubFalse),fe()(ed,"JETPACK_CONNECTION_STATUS_REQUEST_SUCCESS",p.stubFalse),ed))),od=Object(pe.e)("siteId",Object(pe.c)({},fe()({},"JETPACK_USER_CONNECTION_DATA_RECEIVE",function(e,t){var n=t.data;return n}))),ad=Object(pe.e)("siteId",Object(pe.c)({},(td={},fe()(td,"JETPACK_USER_CONNECTION_DATA_REQUEST",p.stubTrue),fe()(td,"JETPACK_USER_CONNECTION_DATA_REQUEST_FAILURE",p.stubFalse),fe()(td,"JETPACK_USER_CONNECTION_DATA_REQUEST_SUCCESS",p.stubFalse),td))),cd=Object(pe.e)("siteId",Object(pe.c)({},(nd={},fe()(nd,"JETPACK_DISCONNECT_REQUEST",p.stubTrue),fe()(nd,"JETPACK_DISCONNECT_REQUEST_FAILURE",p.stubFalse),fe()(nd,"JETPACK_DISCONNECT_REQUEST_SUCCESS",p.stubFalse),nd))),ud=Object(pe.b)({items:id,requests:sd,dataItems:od,dataRequests:ad,disconnectRequests:cd}),ld=Object(pe.e)("siteId",function(e,t){var n=t.type,r=t.credentials;return"JETPACK_CREDENTIALS_STORE"===n?"object"===oe()(r)?r:{}:e});ld.schema={type:"object",items:{type:"object",properties:{abspath:{type:"string"},host:{type:"string"},port:{type:"number"},protocol:{type:"string"},pass:{type:"boolean"},user:{type:"string"}}}};var dd,pd,md,fd=Object(pe.e)("siteId",function(e,t){var n=t.type;switch(n){case"JETPACK_CREDENTIALS_UPDATE":return"pending";case"JETPACK_CREDENTIALS_UPDATE_SUCCESS":return"success";case"JETPACK_CREDENTIALS_UPDATE_FAILURE":return"failed"}return e}),_d=Object(pe.b)({items:ld,requestStatus:fd}),Ed=function(e){return function(t,n){var r=n.siteId,i=n.moduleSlug;return Object(p.merge)({},t,fe()({},r,fe()({},i,{active:e})))}},bd=function(e){return function(t,n){var r=n.siteId,i=n.moduleSlug;return Object(p.merge)({},t,fe()({},r,fe()({},i,e)))}},gd=function(e){return function(t,n){var r=n.siteId;return Object(p.merge)({},t,fe()({},r,{fetchingModules:e}))}},hd=function(){return function(e,t){var n=t.siteId,r=t.settings,i=e,s=Object(p.pickBy)(r,function(t,r){return void 0!==Object(p.get)(e,[n,r])});return Object(p.forEach)(s,function(e,t){i=Object.assign({},i,fe()({},n,ge()({},i[n],fe()({},t,ge()({},i[n][t],{active:e})))))}),i}},Od=Object(pe.c)({},(dd={},fe()(dd,"JETPACK_MODULE_ACTIVATE_SUCCESS",Ed(!0)),fe()(dd,"JETPACK_MODULE_DEACTIVATE_SUCCESS",Ed(!1)),fe()(dd,"JETPACK_MODULES_RECEIVE",function(e,t){var n=t.siteId,r=t.modules;return Object(p.merge)({},e,fe()({},n,r))}),fe()(dd,"JETPACK_SETTINGS_UPDATE",hd()),fe()(dd,"JETPACK_SETTINGS_SAVE_SUCCESS",hd()),dd)),yd=Object(pe.c)({},(pd={},fe()(pd,"JETPACK_MODULE_ACTIVATE",bd({activating:!0})),fe()(pd,"JETPACK_MODULE_ACTIVATE_FAILURE",bd({activating:!1})),fe()(pd,"JETPACK_MODULE_ACTIVATE_SUCCESS",bd({activating:!1})),fe()(pd,"JETPACK_MODULE_DEACTIVATE",bd({deactivating:!0})),fe()(pd,"JETPACK_MODULE_DEACTIVATE_FAILURE",bd({deactivating:!1})),fe()(pd,"JETPACK_MODULE_DEACTIVATE_SUCCESS",bd({deactivating:!1})),fe()(pd,"JETPACK_MODULES_REQUEST",gd(!0)),fe()(pd,"JETPACK_MODULES_REQUEST_FAILURE",gd(!1)),fe()(pd,"JETPACK_MODULES_REQUEST_SUCCESS",gd(!1)),pd)),jd=Object(pe.b)({items:Od,requests:yd}),vd=Object(pe.e)("siteId",Object(pe.c)({},(md={},fe()(md,"JETPACK_ONBOARDING_CREDENTIALS_RECEIVE",function(e,t){var n=t.credentials;return n}),fe()(md,"JETPACK_CONNECT_AUTHORIZE_RECEIVE",function(){}),md),{type:"object",additionalProperties:!1,required:["siteUrl","token","userEmail"],properties:{siteUrl:{type:"string"},token:{type:"string"},userEmail:{type:"string"}}}));vd.hasCustomPersistence=!0;var Sd,Id=Object(pe.b)({credentials:vd}),Td={type:"object",additionalProperties:!0,properties:{onboarding:{type:"object",additionalProperties:!1,properties:{siteTitle:{type:"string"},siteDescription:{type:"string"},siteType:{anyOf:[{type:"string"},{type:"boolean"}]},homepageFormat:{anyOf:[{type:"string"},{type:"boolean"}]},addContactForm:{anyOf:[{type:"integer",minimum:0},{type:"boolean"}]},businessAddress:{anyOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{name:{type:"string"},street:{type:"string"},city:{type:"string"},state:{type:"string"},zip:{type:"string"},country:{type:"string"}}}]},installWooCommerce:{type:"boolean"},stats:{type:"boolean"}}}}},Cd=Object(pe.e)("siteId",Object(pe.c)({},(Sd={},fe()(Sd,"JETPACK_MODULE_ACTIVATE_SUCCESS",function(e,t){var n=t.moduleSlug;return ge()({},e,fe()({},n,!0))}),fe()(Sd,"JETPACK_MODULE_DEACTIVATE_SUCCESS",function(e,t){var n=t.moduleSlug;return ge()({},e,fe()({},n,!1))}),fe()(Sd,"JETPACK_MODULES_RECEIVE",function(e,t){var n=t.modules,r=Object(p.mapValues)(n,function(e){return e.active}),i=Object.keys(n).reduce(function(e,t){return ge()({},e,Object(p.mapValues)(n[t].options,function(e){return e.current_value}))},{});return ge()({},e,r,or(i))}),fe()(Sd,"JETPACK_SETTINGS_SAVE_SUCCESS",function(e,t){var n=t.settings.post_by_email_address;return n&&n!==e.post_by_email_address?ge()({},e,{post_by_email_address:n}):e}),fe()(Sd,"JETPACK_SETTINGS_UPDATE",function(e,t){var n=t.settings;return Object(p.merge)({},e,n)}),Sd),Td));Cd.hasCustomPersistence=!0;Object(pe.b)({settings:Cd});var Rd=Object(pe.b)({connection:ud,credentials:_d,modules:jd,onboarding:Id,settings:Cd}),Ad=Object(pe.e)("url",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"JETPACK_REMOTE_INSTALL_SUCCESS":return!0;case"JETPACK_REMOTE_INSTALL":return!1;default:return e}}),Nd=Object(pe.e)("url",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.errorCode;switch(n){case"JETPACK_REMOTE_INSTALL_FAILURE":return r;case"JETPACK_REMOTE_INSTALL_SUCCESS":case"JETPACK_REMOTE_INSTALL":return null;default:return e}}),wd=Object(pe.e)("url",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.errorMessage;switch(n){case"JETPACK_REMOTE_INSTALL_FAILURE":return r;case"JETPACK_REMOTE_INSTALL_SUCCESS":case"JETPACK_REMOTE_INSTALL":return null;default:return e}}),Pd=Object(pe.b)({errorCode:Nd,errorMessage:wd,isComplete:Ad});var Ud,Dd=Object(pe.b)({syncStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JETPACK_SYNC_START_REQUEST":return Object.assign({},e,fe()({},t.siteId,{}));case"JETPACK_SYNC_STATUS_REQUEST":return Object.assign({},e,fe()({},t.siteId,Object.assign({},Object(p.get)(e,[t.siteId],{}),{isRequesting:!0})));case"JETPACK_SYNC_STATUS_SUCCESS":var n=Object(p.get)(e,[t.siteId],{}),r=Object(p.get)(n,"lastSuccessfulStatus",!1),i=Object(p.get)(t,"data.started")&&!Object(p.get)(t,"data.finished");return(r||i)&&(r=Date.now()),Object.assign({},e,fe()({},t.siteId,Object.assign({isRequesting:!1,error:!1,lastSuccessfulStatus:r,errorCounter:0},Object(p.pick)(t.data,["started","queue_finished","sent_started","finished","queue","sent","is_scheduled","total","config","queue_size","queue_lag","full_queue_size","full_queue_lag"]))));case"JETPACK_SYNC_STATUS_ERROR":var s=Object(p.get)(e,[t.siteId,"errorCounter"],0);return Object.assign({},e,fe()({},t.siteId,Object.assign({isRequesting:!1,error:t.error,errorCounter:s+1},Object(p.pick)(t.data,["started","queue_finished","sent_started","finished","queue","sent","is_scheduled","total","config","queue_size","queue_lag","full_queue_size","full_queue_lag"]))))}return e},fullSyncRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JETPACK_SYNC_START_REQUEST":return Object.assign({},e,fe()({},t.siteId,Object.assign({},Object(p.get)(e,[t.siteId],{}),{isRequesting:!0,scheduled:!1,lastRequested:Date.now()})));case"JETPACK_SYNC_START_SUCCESS":return Object.assign({},e,fe()({},t.siteId,Object.assign({},Object(p.get)(e,[t.siteId],{}),{isRequesting:!1,scheduled:Object(p.get)(t,"data.scheduled"),error:!1})));case"JETPACK_SYNC_START_ERROR":return Object.assign({},e,fe()({},t.siteId,Object.assign({},Object(p.get)(e,[t.siteId],{}),{isRequesting:!1,scheduled:!1,error:t.error})))}return e}}),kd=Object(pe.e)("keyedPath",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.jitms;return"JITM_SET"===n?r:e}),Ld=Object(pe.b)({sitePathJITM:kd}),Md=Object(pe.c)(!1,(Ud={},fe()(Ud,"HAPPINESS_ENGINEERS_FETCH",function(){return!0}),fe()(Ud,"HAPPINESS_ENGINEERS_FETCH_FAILURE",function(){return!1}),fe()(Ud,"HAPPINESS_ENGINEERS_FETCH_SUCCESS",function(){return!1}),Ud)),xd=Object(pe.c)(null,fe()({},"HAPPINESS_ENGINEERS_RECEIVE",function(e,t){var n=t.happinessEngineers;return Object(p.map)(n,"avatar_URL")}),{type:["array","null"],additionalProperties:!1,items:{type:"string"}}),Fd=Object(pe.b)({requesting:Md,items:xd}),Vd=n("./client/state/happychat/constants.js"),Gd={type:"array",additionalProperties:!1,items:{type:"object",additionalProperties:!1,required:["id","source","message","timestamp","user_id","type"],properties:{id:{type:"string"},source:{type:"string"},message:{type:"string"},name:{type:"string"},image:{type:"string"},timestamp:{type:["number","string"]},user_id:{type:["number","string"]},type:{type:"string"},links:{type:"array"}}}},qd=function(e){return e<17e8?1e3*e:e},Hd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE":case"HAPPYCHAT_IO_RECEIVE_MESSAGE":return Date.now()}return e};Hd.schema={type:"number"};var Wd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SERIALIZE":return Object(p.takeRight)(e,Vd.s);case"HAPPYCHAT_IO_RECEIVE_MESSAGE":if(Object(p.get)(t,"message.meta.forOperator",!1))return e;var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_RECEIVE_MESSAGE":var n=t.message;return{id:n.id,source:n.source,message:n.text,name:n.user.name,image:n.user.avatarURL,timestamp:qd(n.timestamp),user_id:n.user.id,type:Object(p.get)(n,"type","message"),links:Object(p.get)(n,"meta.links")}}return e}({},t),r=Object(p.find)(e,function(e){var t=e.id;return n.id===t});return r?e:Object(p.concat)(e,[n]);case"HAPPYCHAT_IO_REQUEST_TRANSCRIPT_TIMEOUT":return e;case"HAPPYCHAT_IO_REQUEST_TRANSCRIPT_RECEIVE":var i=Object(p.filter)(t.messages,function(t){return!!t.id&&(!Object(p.get)(t,"meta.forOperator",!1)&&!Object(p.find)(e,{id:t.id}))});return function(e){return Object(p.sortBy)(e,function(e){return parseInt(e.timestamp,10)})}(e.concat(Object(p.map)(i,function(e){return{id:e.id,source:e.source,message:e.text,name:e.user.name,image:e.user.picture,timestamp:qd(e.timestamp),user_id:e.user.id,type:Object(p.get)(e,"type","message"),links:Object(p.get)(e,"meta.links")}})))}return e};Wd.schema=Gd;var Bd=Object(pe.b)({status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vd.f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_RECEIVE_STATUS":return t.status}return e},timeline:Wd,lastActivityTimestamp:Hd}),Qd=Object(pe.b)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_RECEIVE_INIT":return null;case"HAPPYCHAT_IO_RECEIVE_DISCONNECT":return t.error}return e},isAvailable:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_RECEIVE_ACCEPT":return t.isAvailable}return e},localizedSupport:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_RECEIVE_LOCALIZED_SUPPORT":return t.isAvailable}return e},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vd.p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_INIT":return Vd.l;case"HAPPYCHAT_IO_RECEIVE_INIT":return Vd.k;case"HAPPYCHAT_IO_RECEIVE_DISCONNECT":return Vd.m;case"HAPPYCHAT_IO_RECEIVE_RECONNECTING":return Vd.n}return e}}),zd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SERIALIZE":return null===e?Date.now():e;case"HAPPYCHAT_BLUR":return Date.now();case"HAPPYCHAT_FOCUS":return null}return e};zd.schema={type:"number"};var Yd,Kd,Jd,Zd,$d,Xd,ep,tp,np,rp,ip,sp,op,ap,cp,up,lp,dp,pp,mp,fp=Object(pe.b)({currentMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE":return"";case"HAPPYCHAT_SET_CURRENT_MESSAGE":return t.message}return e},isMinimizing:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_MINIMIZING":return!!t.isMinimizing}return e},isOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_OPEN":return!!t.isOpen}return e},lostFocusAt:zd}),_p=Object(pe.c)(null,fe()({},"HAPPYCHAT_IO_RECEIVE_INIT",function(e,t){var n=t.user.geoLocation;return n&&n.country_long&&n.city?n:e}),{type:["object","null"],properties:{city:{type:"string"},country_long:{type:"string"},country_short:{type:"string"},region:{type:"string"}}}),Ep=Object(pe.c)(null,fe()({},"HAPPYCHAT_ELIGIBILITY_SET",function(e,t){return t.isEligible}),{type:["boolean","null"]}),bp=Object(pe.c)(null,fe()({},"PRESALE_PRECANCELLATION_CHAT_AVAILABILITY_SET",function(e,t){return t.availability}),{type:["object","null"],properties:{precancellation:{type:"boolean"},presale:{type:"boolean"}}}),gp=Object(pe.b)({geoLocation:_p,isEligible:Ep,isPresalesPrecancellationEligible:bp}),hp=Object(pe.b)({chat:Bd,connection:Qd,ui:fp,user:gp}),Op=n("./client/state/login/magic-login/constants.js"),yp=Object(pe.c)(null,(Yd={},fe()(Yd,"MAGIC_LOGIN_HIDE_REQUEST_FORM",function(){return null}),fe()(Yd,"MAGIC_LOGIN_RESET_REQUEST_FORM",function(){return Op.e}),fe()(Yd,"MAGIC_LOGIN_SHOW_CHECK_YOUR_EMAIL_PAGE",function(){return Op.b}),fe()(Yd,"MAGIC_LOGIN_SHOW_INTERSTITIAL_PAGE",function(){return Op.c}),fe()(Yd,"MAGIC_LOGIN_SHOW_LINK_EXPIRED",function(){return Op.d}),Yd)),jp=Object(pe.c)(!1,(Kd={},fe()(Kd,"MAGIC_LOGIN_HIDE_REQUEST_FORM",function(){return!1}),fe()(Kd,"MAGIC_LOGIN_HIDE_REQUEST_NOTICE",function(){return!1}),fe()(Kd,"MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_ERROR",function(){return!1}),fe()(Kd,"MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_FETCH",function(){return!0}),fe()(Kd,"MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_SUCCESS",function(){return!1}),Kd)),vp=Object(pe.c)(!1,(Jd={},fe()(Jd,"MAGIC_LOGIN_REQUEST_AUTH_ERROR",function(){return!1}),fe()(Jd,"MAGIC_LOGIN_REQUEST_AUTH_FETCH",function(){return!0}),fe()(Jd,"MAGIC_LOGIN_REQUEST_AUTH_SUCCESS",function(){return!1}),fe()(Jd,"MAGIC_LOGIN_SHOW_INTERSTITIAL_PAGE",function(){return!1}),Jd)),Sp=Object(pe.c)(!1,(Zd={},fe()(Zd,"MAGIC_LOGIN_REQUEST_AUTH_ERROR",function(){return!1}),fe()(Zd,"MAGIC_LOGIN_REQUEST_AUTH_FETCH",function(){return!1}),fe()(Zd,"MAGIC_LOGIN_REQUEST_AUTH_SUCCESS",function(){return!0}),Zd)),Ip=Object(pe.c)(null,($d={},fe()($d,"MAGIC_LOGIN_REQUEST_AUTH_ERROR",function(e,t){var n=t.error;return n}),fe()($d,"MAGIC_LOGIN_REQUEST_AUTH_FETCH",function(){return null}),fe()($d,"MAGIC_LOGIN_REQUEST_AUTH_SUCCESS",function(){return null}),$d)),Tp=Object(pe.c)(null,(Xd={},fe()(Xd,"MAGIC_LOGIN_HIDE_REQUEST_NOTICE",function(){return null}),fe()(Xd,"MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_ERROR",function(e,t){var n=t.error;return n}),fe()(Xd,"MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_FETCH",function(){return null}),fe()(Xd,"MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_SUCCESS",function(){return null}),fe()(Xd,"MAGIC_LOGIN_RESET_REQUEST_FORM",function(){return null}),Xd)),Cp=Object(pe.c)(!1,(ep={},fe()(ep,"MAGIC_LOGIN_HIDE_REQUEST_NOTICE",function(){return!1}),fe()(ep,"MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_ERROR",function(){return!1}),fe()(ep,"MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_FETCH",function(){return!1}),fe()(ep,"MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_SUCCESS",function(){return!0}),fe()(ep,"MAGIC_LOGIN_RESET_REQUEST_FORM",function(){return!1}),ep)),Rp=Object(pe.b)({isFetchingAuth:vp,isFetchingEmail:jp,requestAuthError:Ip,requestAuthSuccess:Sp,requestEmailError:Tp,requestEmailSuccess:Cp,currentView:yp}),Ap=n("./client/lib/paths/index.js"),Np=Object(pe.c)(!1,(tp={},fe()(tp,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST",function(){return!0}),fe()(tp,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE",function(){return!1}),fe()(tp,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS",function(){return!1}),fe()(tp,"LOGIN_REQUEST",function(){return!0}),fe()(tp,"LOGIN_REQUEST_FAILURE",function(){return!1}),fe()(tp,"LOGIN_REQUEST_SUCCESS",function(){return!1}),fe()(tp,"SOCIAL_LOGIN_REQUEST",function(){return!0}),fe()(tp,"SOCIAL_LOGIN_REQUEST_FAILURE",function(){return!1}),fe()(tp,"SOCIAL_LOGIN_REQUEST_SUCCESS",function(){return!1}),fe()(tp,"SOCIAL_DISCONNECT_ACCOUNT_REQUEST",function(){return!0}),fe()(tp,"SOCIAL_DISCONNECT_ACCOUNT_REQUEST_FAILURE",function(){return!1}),fe()(tp,"SOCIAL_DISCONNECT_ACCOUNT_REQUEST_SUCCESS",function(){return!1}),tp)),wp=Object(pe.b)({original:Object(pe.c)(null,fe()({},"ROUTE_SET",function(e,t){var n=t.path,r=t.query;return Object(p.startsWith)(n,"/log-in")&&r.redirect_to||e})),sanitized:Object(pe.c)(null,(np={},fe()(np,"LOGIN_REQUEST",function(){return null}),fe()(np,"LOGIN_REQUEST_FAILURE",function(){return null}),fe()(np,"LOGIN_REQUEST_SUCCESS",function(e,t){var n=t.data;return Object(p.get)(n,"redirect_to",null)}),fe()(np,"SOCIAL_LOGIN_REQUEST",function(){return null}),fe()(np,"SOCIAL_LOGIN_REQUEST_FAILURE",function(){return null}),fe()(np,"SOCIAL_LOGIN_REQUEST_SUCCESS",function(e,t){var n=t.data;return Object(p.get)(n,"redirect_to",null)}),fe()(np,"SOCIAL_CONNECT_ACCOUNT_REQUEST",function(){return null}),fe()(np,"SOCIAL_CONNECT_ACCOUNT_REQUEST_FAILURE",function(){return null}),fe()(np,"SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS",function(e,t){return Object(p.get)(t,"redirect_to",null)}),fe()(np,"LOGOUT_REQUEST",function(){return null}),fe()(np,"LOGOUT_REQUEST_FAILURE",function(){return null}),fe()(np,"LOGOUT_REQUEST_SUCCESS",function(){return function(e,t){var n=t.data;return Object(p.get)(n,"redirect_to",null)}}),np))}),Pp=Object(pe.c)(null,(rp={},fe()(rp,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST",function(){return!0}),fe()(rp,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE",function(){return!1}),fe()(rp,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS",function(){return!1}),fe()(rp,"LOGIN_REQUEST",function(){return!0}),fe()(rp,"LOGIN_REQUEST_FAILURE",function(){return!1}),fe()(rp,"LOGIN_REQUEST_SUCCESS",function(){return!0}),fe()(rp,"ROUTE_SET",function(){return!1}),fe()(rp,"SOCIAL_LOGIN_REQUEST",function(){return!0}),fe()(rp,"SOCIAL_LOGIN_REQUEST_FAILURE",function(){return!1}),fe()(rp,"SOCIAL_LOGIN_REQUEST_SUCCESS",function(){return!0}),rp)),Up=Object(pe.c)(null,(ip={},fe()(ip,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST",function(){return null}),fe()(ip,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE",function(e,t){var n=t.error;return n}),fe()(ip,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS",function(){return null}),fe()(ip,"LOGIN_REQUEST",function(){return null}),fe()(ip,"LOGIN_REQUEST_FAILURE",function(e,t){var n=t.error;return n}),fe()(ip,"LOGIN_REQUEST_SUCCESS",function(){return null}),fe()(ip,"TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST",function(){return null}),fe()(ip,"TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_FAILURE",function(e,t){var n=t.error;return n}),fe()(ip,"SOCIAL_CREATE_ACCOUNT_REQUEST",function(){return null}),fe()(ip,"SOCIAL_CREATE_ACCOUNT_REQUEST_FAILURE",function(e,t){var n=t.error;return n}),fe()(ip,"SOCIAL_CREATE_ACCOUNT_REQUEST_SUCCESS",function(){return null}),fe()(ip,"SOCIAL_CONNECT_ACCOUNT_REQUEST",function(){return null}),fe()(ip,"SOCIAL_CONNECT_ACCOUNT_REQUEST_FAILURE",function(e,t){var n=t.error;return n}),fe()(ip,"SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS",function(){return null}),fe()(ip,"SOCIAL_DISCONNECT_ACCOUNT_REQUEST",function(){return null}),fe()(ip,"SOCIAL_DISCONNECT_ACCOUNT_REQUEST_FAILURE",function(e,t){var n=t.error;return n}),fe()(ip,"SOCIAL_DISCONNECT_ACCOUNT_REQUEST_SUCCESS",function(){return null}),fe()(ip,"ROUTE_SET",function(){return null}),fe()(ip,"LOGIN_FORM_UPDATE",function(){return null}),ip)),Dp=Object(pe.c)(null,(sp={},fe()(sp,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST",function(){return null}),fe()(sp,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE",function(){return!1}),fe()(sp,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS",function(){return!0}),fe()(sp,"LOGIN_REQUEST",function(){return null}),fe()(sp,"LOGIN_REQUEST_FAILURE",function(){return!1}),fe()(sp,"LOGIN_REQUEST_SUCCESS",function(){return!0}),fe()(sp,"SOCIAL_CREATE_ACCOUNT_REQUEST",function(){return null}),fe()(sp,"SOCIAL_CREATE_ACCOUNT_REQUEST_SUCCESS",function(){return!0}),fe()(sp,"SOCIAL_CONNECT_ACCOUNT_REQUEST",function(){return null}),fe()(sp,"SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS",function(){return!0}),fe()(sp,"SOCIAL_DISCONNECT_ACCOUNT_REQUEST",function(){return null}),fe()(sp,"SOCIAL_DISCONNECT_ACCOUNT_REQUEST_SUCCESS",function(){return!0}),sp)),kp=Object(pe.c)(null,(op={},fe()(op,"TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST",function(e,t){var n=t.notice;return n}),fe()(op,"TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_FAILURE",function(){return null}),fe()(op,"TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_SUCCESS",function(e,t){var n=t.notice;return n}),fe()(op,"SOCIAL_CREATE_ACCOUNT_REQUEST",function(e,t){var n=t.notice;return n}),fe()(op,"SOCIAL_CREATE_ACCOUNT_REQUEST_FAILURE",function(){return null}),fe()(op,"ROUTE_SET",function(e,t){return t.path===Object(Ap.a)({isNative:!0,twoFactorAuthType:"sms"})?e:null}),op)),Lp=function(e,t){var n=t.twoStepNonce,r=t.nonceType;return Object.assign({},e,fe()({},"two_step_nonce_"+r,n))},Mp=["push_web_token","phone_number","two_step_id","two_step_nonce","two_step_supported_auth_types","two_step_notification_sent","two_step_nonce_backup","two_step_nonce_sms","two_step_nonce_authenticator","two_step_nonce_push","user_id"],xp=Object(pe.c)(null,(ap={},fe()(ap,"LOGIN_REQUEST",function(){return null}),fe()(ap,"LOGIN_REQUEST_FAILURE",function(){return null}),fe()(ap,"LOGIN_REQUEST_SUCCESS",function(e,t){var n=t.data;if(n){var r=Object(p.pick)(n,Mp);if(!Object(p.isEmpty)(r))return r}return null}),fe()(ap,"SOCIAL_LOGIN_REQUEST",function(){return null}),fe()(ap,"SOCIAL_LOGIN_REQUEST_FAILURE",function(){return null}),fe()(ap,"SOCIAL_LOGIN_REQUEST_SUCCESS",function(e,t){var n=t.data;if(n){var r=Object(p.pick)(n,Mp);if(!Object(p.isEmpty)(r))return r}return null}),fe()(ap,"SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS",function(){return null}),fe()(ap,"TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_FAILURE",function(e,t){var n=t.twoStepNonce;return Lp(e,{twoStepNonce:n,nonceType:"sms"})}),fe()(ap,"TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_SUCCESS",function(e,t){var n=t.twoStepNonce;return Lp(e,{twoStepNonce:n,nonceType:"sms"})}),fe()(ap,"TWO_FACTOR_AUTHENTICATION_UPDATE_NONCE",Lp),ap)),Fp=Object(pe.c)(!1,(cp={},fe()(cp,"TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST",function(){return!0}),fe()(cp,"TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_FAILURE",function(){return!1}),fe()(cp,"TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_SUCCESS",function(){return!1}),cp)),Vp=Object(pe.c)(null,(up={},fe()(up,"TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST",function(){return null}),fe()(up,"TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_FAILURE",function(e,t){var n=t.error;return n}),fe()(up,"TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_SUCCESS",function(){return null}),fe()(up,"ROUTE_SET",function(){return null}),fe()(up,"LOGIN_FORM_UPDATE",function(){return null}),up)),Gp=Object(pe.c)({inProgress:!1,success:!1},(lp={},fe()(lp,"TWO_FACTOR_AUTHENTICATION_PUSH_POLL_START",function(e){return ge()({},e,{inProgress:!0,success:!1})}),fe()(lp,"TWO_FACTOR_AUTHENTICATION_PUSH_POLL_STOP",function(e){return ge()({},e,{inProgress:!1})}),fe()(lp,"TWO_FACTOR_AUTHENTICATION_PUSH_POLL_COMPLETED",function(e){return ge()({},e,{inProgress:!1,success:!0})}),lp)),qp=Object(pe.c)({isCreating:!1,createError:null},(dp={},fe()(dp,"SOCIAL_CREATE_ACCOUNT_REQUEST",function(){return{isCreating:!0}}),fe()(dp,"SOCIAL_CREATE_ACCOUNT_REQUEST_FAILURE",function(e,t){var n=t.error;return{isCreating:!1,createError:n}}),fe()(dp,"SOCIAL_CREATE_ACCOUNT_REQUEST_SUCCESS",function(e,t){var n=t.data,r=n.username,i=n.bearerToken;return{isCreating:!1,username:r,bearerToken:i,createError:null}}),fe()(dp,"SOCIAL_LOGIN_REQUEST_FAILURE",function(e,t){var n=t.error;return ge()({},e,{requestError:n})}),fe()(dp,"USER_RECEIVE",function(e){return ge()({},e,{bearerToken:null,username:null,createError:null})}),fe()(dp,"LOGIN_REQUEST",function(e){return ge()({},e,{createError:null})}),dp)),Hp=function(e,t){var n=t.error,r=t.authInfo;return"user_exists"===n.code?{isLinking:!0,email:n.email,authInfo:r}:e},Wp=Object(pe.c)({isLinking:!1},(pp={},fe()(pp,"SOCIAL_CREATE_ACCOUNT_REQUEST_FAILURE",Hp),fe()(pp,"SOCIAL_LOGIN_REQUEST_FAILURE",Hp),fe()(pp,"SOCIAL_CREATE_ACCOUNT_REQUEST_SUCCESS",function(){return{isLinking:!1}}),fe()(pp,"SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS",function(){return{isLinking:!1}}),fe()(pp,"USER_RECEIVE",function(){return{isLinking:!1}}),pp)),Bp=Object(pe.c)(null,(mp={},fe()(mp,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST",function(){return null}),fe()(mp,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE",function(){return null}),fe()(mp,"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS",function(e,t){var n=t.data.type;return n}),fe()(mp,"LOGIN_AUTH_ACCOUNT_TYPE_RESET",function(){return null}),fe()(mp,"ROUTE_SET",function(){return null}),mp)),Qp=Object(pe.b)({authAccountType:Bp,isFormDisabled:Pp,isRequesting:Np,isRequestingTwoFactorAuth:Fp,magicLogin:Rp,redirectTo:wp,requestError:Up,requestNotice:kp,requestSuccess:Dp,socialAccount:qp,socialAccountLink:Wp,twoFactorAuth:xp,twoFactorAuthPushPoll:Gp,twoFactorAuthRequestError:Vp}),zp=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),Yp=n.n(zp),Kp=n("./node_modules/@babel/runtime/helpers/createClass.js"),Jp=n.n(Kp),Zp=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),$p=n.n(Zp),Xp=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),em=n.n(Xp),tm=n("./node_modules/@babel/runtime/helpers/inherits.js"),nm=n.n(tm),rm=n("./node_modules/moment/moment.js"),im=n.n(rm),sm=n("./node_modules/@babel/runtime/helpers/get.js"),om=n.n(sm),am=function(){function e(){Yp()(this,e)}return Jp()(e,null,[{key:"omit",value:function(e){var t=this.OMIT_NULL_VALUES,n=this.DEFAULT_QUERY;return t||n?Object(p.omitBy)(e,function(e,r){return!(!t||null!==e)||!(!n||n[r]!==e)}):e}},{key:"stringify",value:function(e){var t=this.omit(e),n=Object(p.sortBy)(Object(p.toPairs)(t),function(e){return e[0]});return JSON.stringify(n)}},{key:"parse",value:function(e){return this.omit(Object(p.fromPairs)(JSON.parse(e)))}}]),e}();am.DEFAULT_QUERY=null,am.OMIT_NULL_VALUES=!1;var cm=function(){function e(t,n){Yp()(this,e),this.data=Object.assign({items:{},queries:{}},t),this.options=Object.assign({itemKey:"ID"},n)}return Jp()(e,[{key:"getItem",value:function(e){return this.data.items[e]}},{key:"getItems",value:function(e){var t=this;if(!e)return Object(p.values)(this.data.items);var n=this.constructor.QueryKey.stringify(e),r=Object(p.get)(this.data.queries,[n,"itemKeys"]);return r?r.map(function(e){return t.getItem(e)}):null}},{key:"getFound",value:function(e){var t=this.constructor.QueryKey.stringify(e);return Object(p.get)(this.data.queries,[t,"found"],null)}},{key:"removeItem",value:function(e){return this.removeItems([e])}},{key:"removeItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.receive(t.map(function(t){var n;return n={},fe()(n,e.options.itemKey,t),fe()(n,"__DELETE",!0),n}),{patch:!0})}},{key:"receive",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(t)||(t=[t]);var r,i=Object(p.reduce)(t,function(t,r){var i=r[e.options.itemKey],s=e.getItem(i),o=e.constructor.mergeItem(s,r,n.patch);return void 0===o?s?Object(p.omit)(t,i):t:(s&&Object(p.isEqual)(o,s)||(t===e.data.items&&(t=Object(p.clone)(t)),t[i]=o),t)},this.data.items),s=i!==this.data.items,o=this.data.queries,a=!1;if(!s&&!n.query)return this;if(n.query){var c,u,l=Object(p.map)(t,this.options.itemKey);if(r=this.constructor.QueryKey.stringify(n.query),a=!this.data.queries[r],!a&&Object(p.isEqual)(this.data.queries[r].itemKeys,l)||(c=n.mergeQuery&&!a?Object(p.difference)(this.data.queries[r].itemKeys,l):l),n.found>=0&&n.found!==Object(p.get)(o,[r,"found"])&&(u=n.found),c||u>=0){s=!0;var d=Object.assign({},o[r]);c&&(d.itemKeys=c),u>=0&&(d.found=u),o=Object.assign({},o,fe()({},r,d))}}return o=Object(p.reduce)(o,function(o,c,u){o[u]=c;var l=r&&r===u;if(l&&(a||!n.mergeQuery))return o;var d=!l,m=e.constructor.QueryKey.parse(u),f=!1;return t.forEach(function(t){var n=t[e.options.itemKey],r=i[n],s=o[u].itemKeys.indexOf(n);-1!==s?r&&e.constructor.matches(m,r)||(o[u]===c&&(o[u]=Object(p.clone)(c)),o[u].itemKeys=ce()(o[u].itemKeys.slice(0,s)).concat(ce()(o[u].itemKeys.slice(s+1))),d&&Number.isFinite(o[u].found)&&o[u].found--):r&&e.constructor.matches(m,r)&&(o[u]===c&&(o[u]=Object(p.clone)(c)),d&&Number.isFinite(o[u].found)&&o[u].found++,o[u].itemKeys=Object(p.get)(o,[u,"itemKeys"],[]).concat(n),f=!0)}),f&&e.constructor.sort(o[u].itemKeys,i,m),s=s||o[u]!==c,o},{}),s?new this.constructor(Object.assign({},this.data,{items:i,queries:o}),this.options):this}}],[{key:"mergeItem",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){if(t.__DELETE)return;return Object.assign({},e,t)}return t}},{key:"matches",value:function(e,t){return!!t}},{key:"compare",value:function(e,t,n){return t===n?0:n-t}},{key:"sort",value:function(e,t,n){var r=this;e.sort(function(e,i){return t[e]&&t[i]?r.compare(n,t[e],t[i]):0})}}]),e}();cm.QueryKey=am;var um=["number","offset","page"],lm=function(e){function t(){return Yp()(this,t),$p()(this,em()(t).apply(this,arguments))}return nm()(t,e),Jp()(t,null,[{key:"stringify",value:function(e){return om()(em()(t),"stringify",this).call(this,Object(p.omit)(e,um))}},{key:"parse",value:function(e){return Object(p.omit)(om()(em()(t),"parse",this).call(this,e),um)}}]),t}(am),dm=function(e){function t(){return Yp()(this,t),$p()(this,em()(t).apply(this,arguments))}return nm()(t,e),Jp()(t,[{key:"getItems",value:function(e){if(!e)return om()(em()(t.prototype),"getItems",this).call(this,e);var n=this.getItemsIgnoringPage(e,!0);if(!n)return n;var r=e.page||this.constructor.DefaultQuery.page,i=e.number||this.constructor.DefaultQuery.number,s=(r-1)*i;return n.slice(s,s+i)}},{key:"getItemsIgnoringPage",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var r=om()(em()(t.prototype),"getItems",this).call(this,Object(p.omit)(e,um));return!r||n?r:r.filter(function(e){return void 0!==e})}},{key:"getNumberOfPages",value:function(e){var t=this.getFound(e);if(null===t)return t;var n=e.number||this.constructor.DefaultQuery.number;return Math.ceil(t/n)}},{key:"receive",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r;r.query&&(i=Object.assign({mergeQuery:!0},r,{query:Object(p.omit)(r.query,um)}));var s=om()(em()(t.prototype),"receive",this).call(this,e,i);if(this===s)return s;if(!this.constructor.hasQueryPaginationKeys(r.query))return s;var o=this.constructor.QueryKey.stringify(r.query),a=r.query.page||this.constructor.DefaultQuery.page,c=r.query.number||this.constructor.DefaultQuery.number,u=(a-1)*c,l=s.data.queries[o];Array.isArray(e)||(e=[e]);var d=e.map(function(e){return e[n.options.itemKey]}),m=Object(p.cloneDeep)(l);if(m.hasOwnProperty("found")&&e.length<c){var f=this.data.queries[o];f&&f.hasOwnProperty("found")&&(m.found=Math.max(f.found,m.found))}return m.itemKeys=ce()(Object(p.range)(0,u).map(function(e){var t=l.itemKeys[e];if(!Object(p.includes)(d,t))return t})).concat(ce()(Object(p.range)(0,c).map(function(e){return d[e]})),ce()(l.itemKeys.slice(u+c).filter(function(e){return e&&!Object(p.includes)(d,e)}))),m.hasOwnProperty("found")&&(m.itemKeys=Object(p.range)(0,m.found).map(function(e){return m.itemKeys[e]})),new this.constructor(Object.assign({},s.data,{queries:Object.assign({},s.data.queries,fe()({},o,m))}),s.options)}}],[{key:"hasQueryPaginationKeys",value:function(e){return!!e&&um.some(function(t){return e.hasOwnProperty(t)})}}]),t}(cm);dm.QueryKey=lm,dm.DefaultQuery={number:20,page:1};var pm={context:"display",http_envelope:!1,pretty:!1,number:20,offset:0,page:1,order:"DESC",order_by:"date",mime_type:"",search:""},mm=function(e){function t(){return Yp()(this,t),$p()(this,em()(t).apply(this,arguments))}return nm()(t,e),t}(lm);mm.DEFAULT_QUERY=pm,mm.OMIT_NULL_VALUES=!0;var fm,_m,Em=function(e){function t(){return Yp()(this,t),$p()(this,em()(t).apply(this,arguments))}return nm()(t,e),Jp()(t,null,[{key:"matches",value:function(e,t){return Object(p.every)(ge()({},this.DefaultQuery,e),function(e,n){switch(n){case"search":return!e||t.title&&Object(p.includes)(t.title.toLowerCase(),e.toLowerCase());case"mime_type":return!e||new RegExp("^"+e.replace(/(^%|(\/)%?)$/,"$2.+").split("/").map(function(e){return e.replace(/[^-*.+a-zA-Z0-9]/g,"")}).concat(".+").slice(0,2).join("/")+"$").test(t.mime_type);case"post_ID":return e===t.post_ID;case"after":case"before":var r=im()(e,im.a.ISO_8601),i=/after$/.test(n)?"isAfter":"isBefore";return r.isValid()&&im()(t.date)[i](r)}return!0})}},{key:"compare",value:function(e,t,n){var r;switch(e.order_by){case"ID":r=t.ID-n.ID;break;case"title":r=t.title.localeCompare(n.title);break;case"date":default:r=im()(t.date).diff(n.date)}return e.order&&!/^desc$/i.test(e.order)||(r*=-1),r||0}}]),t}(dm);Em.QueryKey=mm,Em.DefaultQuery=pm;var bm,gm,hm=function(){var e;function t(e,t,n,r){for(var i,s,o=arguments.length,a=new Array(o>4?o-4:0),c=4;c<o;c++)a[c-4]=arguments[c];if(!e[t])return r?ge()({},e,fe()({},t,(s=new Em)[n].apply(s,a))):e;var u=(i=e[t])[n].apply(i,a);return u===e[t]?e:ge()({},e,fe()({},t,u))}return Object(pe.c)({},(e={},fe()(e,"MEDIA_RECEIVE",function(e,n){var r=n.siteId,i=n.media,s=n.found,o=n.query;return t(e,r,"receive",!0,i,{found:s,query:o})}),fe()(e,"MEDIA_DELETE",function(e,n){var r=n.siteId,i=n.mediaIds;return t(e,r,"removeItems",!0,i)}),e))}(),Om=Object(pe.c)({},(fm={},fe()(fm,"MEDIA_REQUESTING",function(e,t){var n=t.siteId,r=t.query;return ge()({},e,fe()({},n,ge()({},e[n],fe()({},Em.QueryKey.stringify(r),!0))))}),fe()(fm,"MEDIA_REQUEST_SUCCESS",function(e,t){var n=t.siteId,r=t.query;return ge()({},e,fe()({},n,Object(p.omit)(e[n],Em.QueryKey.stringify(r))))}),fe()(fm,"MEDIA_REQUEST_FAILURE",function(e,t){var n=t.siteId,r=t.query;return ge()({},e,fe()({},n,Object(p.omit)(e[n],Em.QueryKey.stringify(r))))}),fm)),ym=Object(pe.c)({},(_m={},fe()(_m,"MEDIA_ITEM_REQUESTING",function(e,t){var n=t.siteId,r=t.mediaId;return ge()({},e,fe()({},n,ge()({},e[n],fe()({},r,!0))))}),fe()(_m,"MEDIA_ITEM_REQUEST_SUCCESS",function(e,t){var n=t.siteId,r=t.mediaId;return ge()({},e,fe()({},n,Object(p.omit)(e[n],r)))}),fe()(_m,"MEDIA_ITEM_REQUEST_FAILURE",function(e,t){var n=t.siteId,r=t.mediaId;return ge()({},e,fe()({},n,Object(p.omit)(e[n],r)))}),_m)),jm=Object(pe.b)({queries:hm,queryRequests:Om,mediaItemRequests:ym}),vm=Object(pe.c)({},fe()({},"MEMBERSHIPS_CONNECTED_ACCOUNTS_RECEIVE",function(e,t){return ge()({},e,t.accounts)})),Sm=Object(pe.c)(!1,(bm={},fe()(bm,"MEMBERSHIPS_CONNECTED_ACCOUNTS_RECEIVE",function(){return!1}),fe()(bm,"MEMBERSHIPS_CONNECTED_ACCOUNTS_LIST",function(){return!0}),bm)),Im=Object(pe.b)({accounts:vm,isFetching:Sm}),Tm={currency:{type:"string",metaKey:"spay_currency"},price:{type:"string",metaKey:"spay_price"},status:{type:"string",metaKey:"spay_status"},email:{type:"string",metaKey:"spay_email"},formatted_price:{type:"string",metaKey:"spay_formatted_price"},stripe_account:{type:"string"},renewal_schedule:{type:"string"}},Cm={type:"object",properties:ge()({title:{type:"string"},description:{type:"string"},ID:{type:"number"}},Tm)},Rm={type:"object",patternProperties:{"^\\d+$":{type:"array",items:Cm}},additionalProperties:!1},Am=(Object.keys(Tm).reduce(function(e,t){return e[Tm[t].metaKey]=t,e},{}),Rm);var Nm,wm,Pm,Um,Dm,km,Lm,Mm,xm,Fm=Object(pe.c)({},(gm={},fe()(gm,"MEMBERSHIPS_PRODUCTS_RECEIVE",function(e,t){var n=t.siteId,r=t.products;return ge()({},e,fe()({},n,r))}),fe()(gm,"MEMBERSHIPS_PRODUCT_RECEIVE",function(e,t){var n=t.siteId,r=t.product;return ge()({},e,fe()({},n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=0,r=e.map(function(e){return e.ID===t.ID?(n=1,t):e});return n?r:[t].concat(ce()(r))}(e[n],r)))}),gm),Am),Vm=Object(pe.b)({items:Fm}),Gm=Object(pe.c)([],(Nm={},fe()(Nm,"MEMBERSHIPS_SUBSCRIPTIONS_RECEIVE",function(e,t){var n=t.subscriptions;return n}),fe()(Nm,"MEMBERSHIPS_SUBSCRIPTION_STOP_SUCCESS",function(e,t){var n=t.subscriptionId;return e.filter(function(e){return e.ID!==n})}),Nm)),qm=Object(pe.c)([],(wm={},fe()(wm,"MEMBERSHIPS_SUBSCRIPTION_STOP",function(e,t){var n=t.subscriptionId;return ge()({},e,fe()({},n,"start"))}),fe()(wm,"MEMBERSHIPS_SUBSCRIPTION_STOP_SUCCESS",function(e,t){var n=t.subscriptionId;return ge()({},e,fe()({},n,"success"))}),fe()(wm,"MEMBERSHIPS_SUBSCRIPTION_STOP_FAILURE",function(e,t){var n=t.subscriptionId;return ge()({},e,fe()({},n,"fail"))}),wm)),Hm=Object(pe.b)({items:Gm,stoppingSubscription:qm}),Wm=Object(pe.b)({connectedAccounts:Im,productList:Vm,subscriptions:Hm}),Bm=Object(pe.c)({},(Pm={},fe()(Pm,"NOTICE_CREATE",function(e,t){var n=t.notice;return ge()({},e,fe()({},n.noticeId,n))}),fe()(Pm,"NOTICE_REMOVE",function(e,t){var n=t.noticeId;return e.hasOwnProperty(n)?Object(p.omit)(e,n):e}),fe()(Pm,"ROUTE_SET",function(e){return Object(p.reduce)(e,function(e,t,n){if(!t.isPersistent&&!t.displayOnNextPage)return e;var r=t;return r.displayOnNextPage&&(r=ge()({},r,{displayOnNextPage:!1})),e[n]=r,e},{})}),Pm)),Qm=Object(pe.c)({},fe()({},"NOTICE_CREATE",function(e,t){var n=t.notice;return ge()({},e,fe()({},n.noticeId,Date.now()))})),zm=Object(pe.b)({items:Bm,lastTimeShown:Qm}),Ym=n("./client/state/nps-survey/constants.js"),Km=Object(pe.c)(!1,fe()({},"NPS_SURVEY_SET_ELIGIBILITY",function(e,t){return t.isSessionPicked})),Jm=Object(pe.c)(!1,fe()({},"NPS_SURVEY_MARK_SHOWN_THIS_SESSION",function(){return!0})),Zm=Object(pe.c)(Ym.a,(Um={},fe()(Um,"NPS_SURVEY_SUBMIT_REQUESTING",function(){return Ym.c}),fe()(Um,"NPS_SURVEY_SUBMIT_REQUEST_FAILURE",function(){return Ym.d}),fe()(Um,"NPS_SURVEY_SUBMIT_REQUEST_SUCCESS",function(){return Ym.b}),fe()(Um,"NPS_SURVEY_SUBMIT_WITH_NO_SCORE_REQUESTING",function(){return Ym.c}),fe()(Um,"NPS_SURVEY_SUBMIT_WITH_NO_SCORE_REQUEST_FAILURE",function(){return Ym.d}),fe()(Um,"NPS_SURVEY_SUBMIT_WITH_NO_SCORE_REQUEST_SUCCESS",function(){return Ym.b}),fe()(Um,"NPS_SURVEY_SEND_FEEDBACK_REQUESTING",function(){return Ym.c}),fe()(Um,"NPS_SURVEY_SEND_FEEDBACK_REQUEST_FAILURE",function(){return Ym.d}),fe()(Um,"NPS_SURVEY_SEND_FEEDBACK_REQUEST_SUCCESS",function(){return Ym.b}),Um)),$m=Object(pe.c)(null,(Dm={},fe()(Dm,"NPS_SURVEY_SUBMIT_REQUESTING",function(e,t){return t.surveyName}),fe()(Dm,"NPS_SURVEY_SUBMIT_WITH_NO_SCORE_REQUESTING",function(e,t){return t.surveyName}),fe()(Dm,"NPS_SURVEY_SEND_FEEDBACK_REQUESTING",function(e,t){return t.surveyName}),Dm)),Xm=Object(pe.c)(null,fe()({},"NPS_SURVEY_SUBMIT_REQUESTING",function(e,t){return t.score})),ef=Object(pe.c)(null,fe()({},"NPS_SURVEY_SEND_FEEDBACK_REQUESTING",function(e,t){return t.feedback})),tf=Object(pe.b)({isSessionEligible:Km,wasShownThisSession:Jm,surveyState:Zm,surveyName:$m,score:Xm,feedback:ef}),nf=Object(pe.c)({930:{id:930,name:"vaultpress",title:"Vaultpress",icon:"https://vaultpress.com/images/vaultpress-wpcc-nav-2x.png"},973:{id:973,name:"akismet",title:"Akismet",icon:"https://akismet.com/img/akismet-wpcc-logo-2x.png"},978:{id:978,name:"polldaddy",title:"Polldaddy",icon:"https://polldaddy.com/images/polldaddy-wpcc-logo-2x.png"},1854:{id:1854,name:"gravatar",title:"Gravatar",icon:"https://gravatar.com/images/grav-logo-2x.png"},50019:{id:50019,name:"woo",title:"WooCommerce",icon:"https://woocommerce.com/wp-content/themes/woo/images/logo-woocommerce@2x.png"},50915:{id:50915,name:"woo",title:"WooCommerce",icon:"https://woocommerce.com/wp-content/themes/woo/images/logo-woocommerce@2x.png"},50916:{id:50916,name:"woo",title:"WooCommerce.com",icon:"https://woocommerce.com/wp-content/themes/woo/images/logo-woocommerce@2x.png"}},fe()({},"OAUTH2_CLIENT_DATA_REQUEST_SUCCESS",function(e,t){var n=t.data,r=Object.assign({},e[n.id],n);return Object.assign({},e,fe()({},n.id,r))})),rf=Object(pe.e)("orderId",Object(pe.c)(null,(km={},fe()(km,"ORDER_TRANSACTION_FETCH",function(){return null}),fe()(km,"ORDER_TRANSACTION_FETCH_ERROR",function(){return null}),fe()(km,"ORDER_TRANSACTION_SET",function(e,t){var n=t.transaction;return n}),km))),sf=Object(pe.e)("orderId",Object(pe.c)(!1,(Lm={},fe()(Lm,"ORDER_TRANSACTION_FETCH",function(){return!0}),fe()(Lm,"ORDER_TRANSACTION_FETCH_ERROR",function(){return!1}),fe()(Lm,"ORDER_TRANSACTION_SET",function(){return!1}),Lm))),of=Object(pe.e)("orderId",Object(pe.c)(null,(Mm={},fe()(Mm,"ORDER_TRANSACTION_FETCH",function(){return null}),fe()(Mm,"ORDER_TRANSACTION_FETCH_ERROR",function(e,t){return t.error}),fe()(Mm,"ORDER_TRANSACTION_SET",function(){return null}),Mm))),af=Object(pe.b)({items:rf,isFetching:sf,errors:of}),cf=Object(pe.c)({},(xm={},fe()(xm,"PAGE_TEMPLATES_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()(xm,"PAGE_TEMPLATES_REQUEST_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(xm,"PAGE_TEMPLATES_REQUEST_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),xm)),uf=Object(pe.c)({},fe()({},"PAGE_TEMPLATES_RECEIVE",function(e,t){var n=t.siteId,r=t.templates;return ge()({},e,fe()({},n,r))}),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"array",items:{type:"object",required:["label","file"],properties:{label:{type:"string"},file:{type:"string"}}}}}}),lf=Object(pe.b)({requesting:cf,items:uf}),df=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLANS_RECEIVE":return t.plans.slice(0)}return e};df.schema={type:"array",items:{type:"object",required:["product_id"],properties:{android_sku:{type:"string"},apple_sku:{type:"string"},available:{type:"string"},bill_period:{type:"number"},bill_period_label:{type:"string"},bundle_product_ids:{type:"array"},cost:{type:"number"},capability:{type:"string"},currency_code:{type:"string"},description:{type:"string"},feature_1:{type:"string"},feature_2:{type:"string"},feature_3:{type:"string"},feature_4:{type:"string"},feature_5:{type:"string"},features_highlight:{type:["null","array"]},formatted_price:{type:"string"},formatted_original_price:{type:"string"},height:{type:"number"},icon:{type:"string"},icon_active:{type:"string"},multi:{type:"number"},original:{type:"number"},price:{type:"string"},prices:{type:"object"},product_id:{type:"number"},product_name:{type:"string"},product_name_en:{type:"string"},product_name_short:{type:["string","null"]},product_slug:{type:"string"},product_type:{type:"string"},raw_price:{type:"number"},saving:{type:"number"},shortdesc:{type:"string"},store:{type:["number","null"]},support_document:{type:"string"},tagline:{type:["string","null"]},width:{type:"number"}}}};var pf=Object(pe.b)({items:df,requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLANS_REQUEST":case"PLANS_REQUEST_SUCCESS":case"PLANS_REQUEST_FAILURE":return"PLANS_REQUEST"===t.type}return e},error:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLANS_REQUEST":case"PLANS_REQUEST_SUCCESS":return!1;case"PLANS_REQUEST_FAILURE":return!0}return e}});function mf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Object.assign({},e,fe()({},t,Object.assign({},e[t],n)))}var ff=Object(pe.b)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.pluginSlug;switch(n){case"WPORG_PLUGIN_DATA_RECEIVE":return t.data?mf(e,r,Object.assign({fetched:!0,wporg:!0},t.data)):mf(e,r,Object.assign({fetched:!1,wporg:!1}));default:return e}},fetchingItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WPORG_PLUGIN_DATA":return Object.assign({},e,fe()({},t.pluginSlug,!0));case"WPORG_PLUGIN_DATA_RECEIVE":return Object.assign({},e,fe()({},t.pluginSlug,!1))}return e}});function _f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGIN_SETUP_INSTRUCTIONS_RECEIVE":return Object.assign({},e,fe()({},t.siteId,t.data));case"PLUGIN_SETUP_INSTALL":case"PLUGIN_SETUP_ACTIVATE":case"PLUGIN_SETUP_CONFIGURE":case"PLUGIN_SETUP_FINISH":case"PLUGIN_SETUP_ERROR":return void 0!==e[t.siteId]?Object.assign({},e,fe()({},t.siteId,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGIN_SETUP_INSTRUCTIONS_RECEIVE":return t.data;case"PLUGIN_SETUP_INSTALL":case"PLUGIN_SETUP_ACTIVATE":case"PLUGIN_SETUP_CONFIGURE":case"PLUGIN_SETUP_FINISH":case"PLUGIN_SETUP_ERROR":return e.map(function(e){return function(e,t){switch(t.type){case"PLUGIN_SETUP_INSTALL":case"PLUGIN_SETUP_ACTIVATE":case"PLUGIN_SETUP_CONFIGURE":case"PLUGIN_SETUP_FINISH":return e.slug!==t.slug?e:Object.assign({},e,{status:Ef(e.status,t)});case"PLUGIN_SETUP_ERROR":return e.slug!==t.slug?e:Object.assign({},e,{status:Ef(e.status,t),error:t.error});default:return e}}(e,t)});default:return e}}(e[t.siteId],t))):e;case"SERIALIZE":return Object(p.mapValues)(e,function(e){return e.map(function(e){return null!==e.error?Object.assign({},e,{error:e.error.toString()}):e})});default:return e}}function Ef(e,t){switch(t.type){case"PLUGIN_SETUP_INSTALL":return"install";case"PLUGIN_SETUP_ACTIVATE":return"activate";case"PLUGIN_SETUP_CONFIGURE":return"configure";case"PLUGIN_SETUP_FINISH":return"done";default:return e||"wait"}}_f.schema={type:"object",patternProperties:{"^[0-9]+$":{type:"array",items:{required:["slug","key"],properties:{name:{type:"string"},slug:{type:"string"},key:{type:"string"},status:{type:"string"},error:{type:["object","string","null"]}}}}},additionalProperties:!1};var bf=Object(pe.b)({isRequesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGIN_SETUP_INSTRUCTIONS_FETCH":return Object.assign({},e,fe()({},t.siteId,!0));case"PLUGIN_SETUP_INSTRUCTIONS_RECEIVE":return Object.assign({},e,fe()({},t.siteId,!1));default:return e}},hasRequested:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGIN_SETUP_INSTRUCTIONS_RECEIVE":return Object.assign({},e,fe()({},t.siteId,!0));default:return e}},plugins:_f});function gf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGIN_ACTIVATE_REQUEST":case"PLUGIN_DEACTIVATE_REQUEST":case"PLUGIN_UPDATE_REQUEST":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST":case"PLUGIN_INSTALL_REQUEST":case"PLUGIN_REMOVE_REQUEST":return Object.assign({},e,{status:"inProgress",action:t.action});case"PLUGIN_ACTIVATE_REQUEST_SUCCESS":case"PLUGIN_DEACTIVATE_REQUEST_SUCCESS":case"PLUGIN_UPDATE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS":case"PLUGIN_INSTALL_REQUEST_SUCCESS":case"PLUGIN_REMOVE_REQUEST_SUCCESS":return Object.assign({},e,{status:"completed",action:t.action});case"PLUGIN_ACTIVATE_REQUEST_FAILURE":case"PLUGIN_DEACTIVATE_REQUEST_FAILURE":case"PLUGIN_UPDATE_REQUEST_FAILURE":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_FAILURE":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_FAILURE":case"PLUGIN_INSTALL_REQUEST_FAILURE":case"PLUGIN_REMOVE_REQUEST_FAILURE":return Object.assign({},e,{status:"error",action:t.action,error:t.error});default:return e}}var hf;var Of=function(e,t){return void 0!==e[t.siteId]?Object.assign({},e,fe()({},t.siteId,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGIN_ACTIVATE_REQUEST_SUCCESS":case"PLUGIN_DEACTIVATE_REQUEST_SUCCESS":case"PLUGIN_UPDATE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS":return e.map(function(e){return function(e,t){switch(t.type){case"PLUGIN_ACTIVATE_REQUEST_SUCCESS":case"PLUGIN_DEACTIVATE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS":return e.id!==t.data.id?e:Object.assign({},e,t.data);case"PLUGIN_UPDATE_REQUEST_SUCCESS":return e.id!==t.data.id?e:Object.assign({},Object(p.omit)(e,"update"),t.data);default:return e}}(e,t)});case"PLUGIN_INSTALL_REQUEST_SUCCESS":return ce()(e).concat([t.data]);case"PLUGIN_REMOVE_REQUEST_SUCCESS":var n=Object(p.findIndex)(e,{id:t.pluginId});return ce()(e.slice(0,n)).concat(ce()(e.slice(n+1)));default:return e}}(e[t.siteId],t))):e},yf=Object(pe.c)({},(hf={},fe()(hf,"PLUGINS_RECEIVE",function(e,t){return ge()({},e,fe()({},t.siteId,t.data))}),fe()(hf,"PLUGIN_ACTIVATE_REQUEST_SUCCESS",Of),fe()(hf,"PLUGIN_DEACTIVATE_REQUEST_SUCCESS",Of),fe()(hf,"PLUGIN_UPDATE_REQUEST_SUCCESS",Of),fe()(hf,"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS",Of),fe()(hf,"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS",Of),fe()(hf,"PLUGIN_INSTALL_REQUEST_SUCCESS",Of),fe()(hf,"PLUGIN_REMOVE_REQUEST_SUCCESS",Of),hf),{type:"object",patternProperties:{"^[0-9]+$":{type:"array",items:{required:["id","slug","name","active","autoupdate"],properties:{id:{type:"string"},slug:{type:"string"},active:{type:"boolean"},name:{type:"string"},plugin_url:{type:"string"},version:{type:"string"},description:{type:"string"},author:{type:"string"},author_url:{type:"string"},network:{type:"boolean"},autoupdate:{type:"boolean"},update:{type:"object"}}}}},additionalProperties:!1});var jf,vf,Sf,If,Tf,Cf=Object(pe.b)({isRequesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGINS_REQUEST":return Object.assign({},e,fe()({},t.siteId,!0));case"PLUGINS_REQUEST_FAILURE":case"PLUGINS_REQUEST_SUCCESS":return Object.assign({},e,fe()({},t.siteId,!1));default:return e}},plugins:yf,status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.siteId;switch(t.type){case"PLUGIN_ACTIVATE_REQUEST":case"PLUGIN_DEACTIVATE_REQUEST":case"PLUGIN_UPDATE_REQUEST":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST":case"PLUGIN_INSTALL_REQUEST":case"PLUGIN_REMOVE_REQUEST":case"PLUGIN_ACTIVATE_REQUEST_SUCCESS":case"PLUGIN_DEACTIVATE_REQUEST_SUCCESS":case"PLUGIN_UPDATE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS":case"PLUGIN_INSTALL_REQUEST_SUCCESS":case"PLUGIN_REMOVE_REQUEST_SUCCESS":case"PLUGIN_ACTIVATE_REQUEST_FAILURE":case"PLUGIN_DEACTIVATE_REQUEST_FAILURE":case"PLUGIN_UPDATE_REQUEST_FAILURE":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_FAILURE":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_FAILURE":case"PLUGIN_INSTALL_REQUEST_FAILURE":case"PLUGIN_REMOVE_REQUEST_FAILURE":return Object.assign({},e,fe()({},n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.pluginId;switch(t.type){case"PLUGIN_ACTIVATE_REQUEST":case"PLUGIN_DEACTIVATE_REQUEST":case"PLUGIN_UPDATE_REQUEST":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST":case"PLUGIN_INSTALL_REQUEST":case"PLUGIN_REMOVE_REQUEST":case"PLUGIN_ACTIVATE_REQUEST_SUCCESS":case"PLUGIN_DEACTIVATE_REQUEST_SUCCESS":case"PLUGIN_UPDATE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS":case"PLUGIN_INSTALL_REQUEST_SUCCESS":case"PLUGIN_REMOVE_REQUEST_SUCCESS":case"PLUGIN_ACTIVATE_REQUEST_FAILURE":case"PLUGIN_DEACTIVATE_REQUEST_FAILURE":case"PLUGIN_UPDATE_REQUEST_FAILURE":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_FAILURE":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_FAILURE":case"PLUGIN_INSTALL_REQUEST_FAILURE":case"PLUGIN_REMOVE_REQUEST_FAILURE":return void 0!==e[n]?Object.assign({},e,fe()({},n,gf(e[n],t))):Object.assign({},e,fe()({},n,gf({},t)));default:return e}}(e[n],t)));default:return e}}}),Rf=Object(pe.e)("siteId",Object(pe.c)({},(jf={},fe()(jf,"PLUGIN_UPLOAD",function(){return null}),fe()(jf,"PLUGIN_UPLOAD_COMPLETE",function(e,t){var n=t.pluginId;return n}),fe()(jf,"PLUGIN_UPLOAD_CLEAR",function(){return null}),fe()(jf,"PLUGIN_UPLOAD_ERROR",function(){return null}),fe()(jf,"AUTOMATED_TRANSFER_STATUS_SET",function(e,t){var n=t.uploadedPluginId;return n}),jf))),Af=Object(pe.e)("siteId",Object(pe.c)({},(vf={},fe()(vf,"PLUGIN_UPLOAD_ERROR",function(e,t){var n=t.error;return n}),fe()(vf,"PLUGIN_UPLOAD",function(){return null}),fe()(vf,"PLUGIN_UPLOAD_CLEAR",function(){return null}),fe()(vf,"PLUGIN_UPLOAD_COMPLETE",function(){return null}),vf))),Nf=Object(pe.e)("siteId",Object(pe.c)({},(Sf={},fe()(Sf,"PLUGIN_UPLOAD_PROGRESS",function(e,t){var n=t.progress;return n}),fe()(Sf,"PLUGIN_UPLOAD",function(){return 0}),fe()(Sf,"PLUGIN_UPLOAD_CLEAR",function(){return 0}),fe()(Sf,"PLUGIN_UPLOAD_ERROR",function(){return 0}),Sf))),wf=Object(pe.e)("siteId",Object(pe.c)({},(If={},fe()(If,"PLUGIN_UPLOAD",function(){return!0}),fe()(If,"PLUGIN_UPLOAD_COMPLETE",function(){return!1}),fe()(If,"PLUGIN_UPLOAD_ERROR",function(){return!1}),fe()(If,"PLUGIN_UPLOAD_CLEAR",function(){return!1}),fe()(If,"AUTOMATED_TRANSFER_INITIATE_WITH_PLUGIN_ZIP",function(){return!0}),fe()(If,"AUTOMATED_TRANSFER_STATUS_SET",function(e,t){var n=t.status;return"complete"!==n}),If))),Pf=Object(pe.b)({uploadedPluginId:Rf,uploadError:Af,progressPercent:Nf,inProgress:wf}),Uf=Object(pe.b)({wporg:ff,premium:bf,installed:Cf,upload:Pf}),Df=Object(pe.c)({},(Tf={},fe()(Tf,"POST_FORMATS_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()(Tf,"POST_FORMATS_REQUEST_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(Tf,"POST_FORMATS_REQUEST_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),Tf)),kf=Object(pe.c)({},fe()({},"POST_FORMATS_RECEIVE",function(e,t){var n=t.siteId,r=t.formats;return ge()({},e,fe()({},n,r))}),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",description:"List of supported post formats.",additionalProperties:!1,patternProperties:{"^[0-9a-z-_]+$":{type:"string",description:"Label of the post format"}}}}}),Lf=Object(pe.b)({requesting:Df,items:kf}),Mf=n("./client/lib/query-manager/post/constants.js");function xf(e,t){return null==e||Mf.a[t]===e}var Ff=function(e){function t(){return Yp()(this,t),$p()(this,em()(t).apply(this,arguments))}return nm()(t,e),Jp()(t,null,[{key:"stringify",value:function(e){return om()(em()(t),"stringify",this).call(this,Object(p.omitBy)(e,xf))}},{key:"parse",value:function(e){return Object(p.omitBy)(om()(em()(t),"parse",this).call(this,e),xf)}}]),t}(lm),Vf=function(e){function t(){return Yp()(this,t),$p()(this,em()(t).apply(this,arguments))}return nm()(t,e),Jp()(t,null,[{key:"matches",value:function(e,t){var n=Object.assign({},this.DefaultQuery,e);return Object(p.every)(n,function(e,n){switch(n){case"search":if(!e)return!0;var r=e.toLowerCase();return t.title&&Object(p.includes)(t.title.toLowerCase(),r)||t.content&&Object(p.includes)(t.content.toLowerCase(),r);case"after":case"before":case"modified_after":case"modified_before":var i=im()(e,im.a.ISO_8601),s=/after$/.test(n)?"isAfter":"isBefore",o=/^modified_/.test(n)?"modified":"date";return i.isValid()&&im()(t[o])[s](i);case"term":return Object(p.every)(e,function(e,n){return e=e.split(","),Object(p.some)(t.terms[n],function(t){var n=t.slug;return Object(p.includes)(e,n)})});case"tag":case"category":if(!e)return!0;var a=e.toLowerCase(),c="tag"===n?"tags":"categories";return Object(p.some)(t[c],function(e){var t=e.name,n=e.slug;return t&&t.toLowerCase()===a||n&&n.toLowerCase()===a});case"type":return"any"===e||e===t.type;case"parent_id":return e===t.parent||t.parent&&e===t.parent.ID;case"exclude":return Array.isArray(e)?!Object(p.includes)(e,t.ID):e!==t.ID;case"sticky":return"require"===e?t.sticky:"exclude"!==e||!t.sticky;case"author":return Object(p.get)(t,"author.ID",t.author)===e;case"status":return"any"===e||String(e).split(",").some(function(e){return e===t[n]})}return!0})}},{key:"compare",value:function(e,t,n){var r;switch(e.order_by){case"ID":r=t.ID-n.ID;break;case"comment_count":r=Object(p.get)(t.discussion,"comment_count",0)-Object(p.get)(n.discussion,"comment_count",0);break;case"title":r=t.title.localeCompare(n.title);break;case"modified":r=new Date(t.modified)-new Date(n.modified);break;case"date":default:r=new Date(t.date)-new Date(n.date)}return e.order&&!/^desc$/i.test(e.order)||(r*=-1),r||0}}]),t}(dm);Vf.QueryKey=Ff,Vf.DefaultQuery=Mf.a;var Gf={type:"object",patternProperties:{"^[0-9]+$":{type:"object",patternProperties:{"^[\\w-]+$":{type:"object",patternProperties:{"^(all|mine)$":{type:"object",patternProperties:{"^\\w+$":{type:"integer"}},additionalProperties:!1}},additionalProperties:!1}},additionalProperties:!1}},additionalProperties:!1};var qf,Hf=function(){var e,t,n={};function r(e,t){return[e,t].join()}function i(e,i,s,o){var a=r(i,s),c=n[a];if(!c)return e;var u=["all"];c.authorId===t&&u.push("mine");var l=u.reduce(function(t,n){var r=Object(p.get)(e,[i,c.type,n],{});return t[n]={},t[n][c.status]=Math.max((r[c.status]||0)-1,0),"deleted"!==o&&(t[n][o]=(r[o]||0)+1),t},{});return"deleted"===o?n=Object(p.omit)(n,a):c.status=o,Object(p.merge)(l,{all:{},mine:{}}),Object(p.merge)({},e,fe()({},i,fe()({},c.type,l)))}return Object(pe.c)({},(e={},fe()(e,"POST_COUNTS_RESET_INTERNAL_STATE",function(e){return t=void 0,n={},e}),fe()(e,"CURRENT_USER_ID_SET",function(e,n){return t=n.userId,e}),fe()(e,"POSTS_RECEIVE",function(e,t){return t.posts.forEach(function(t){var s=r(t.site_ID,t.ID),o=n[s];o&&t.status!==o.status&&(e=i(e,t.site_ID,t.ID,t.status)),n[s]=Object(p.pick)(t,"type","status"),n[s].authorId=Object(p.get)(t.author,"ID")}),e}),fe()(e,"POST_SAVE",function(e,t){var n=t.siteId,r=t.postId,s=t.post;return s.status?i(e,n,r,s.status):e}),fe()(e,"POST_DELETE",function(e,t){return i(e,t.siteId,t.postId,"deleted")}),fe()(e,"POST_COUNTS_RECEIVE",function(e,t){return Object(p.merge)({},e,fe()({},t.siteId,fe()({},t.postType,t.counts)))}),e),Gf)}(),Wf=Object(pe.b)({requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_COUNTS_REQUEST":case"POST_COUNTS_REQUEST_SUCCESS":case"POST_COUNTS_REQUEST_FAILURE":return Object(p.merge)({},e,fe()({},t.siteId,fe()({},t.postType,"POST_COUNTS_REQUEST"===t.type)))}return e},counts:Hf}),Bf=Object(pe.c)({likes:void 0,iLike:!1,found:0,lastUpdated:void 0},(qf={},fe()(qf,"POST_LIKES_RECEIVE",function(e,t){var n=t.likes,r=t.iLike,i=t.found;return{likes:Array.isArray(n)?n.map(function(e){return{ID:e.ID,avatar_URL:e.avatar_URL,login:e.login,name:e.name,site_ID:e.site_ID,site_visible:e.site_visible}}):e.likes,iLike:r,found:i,lastUpdated:Date.now()}}),fe()(qf,"POST_LIKE",function(e){return e.iLike?e:{likes:e.likes,iLike:!0,found:e.found+1,lastUpdated:e.lastUpdated}}),fe()(qf,"POST_UNLIKE",function(e){return e.iLike?{likes:e.likes,iLike:!1,found:Math.max(0,e.found-1),lastUpdated:e.lastUpdated}:e}),fe()(qf,"POST_LIKES_ADD_LIKER",function(e,t){var n=t.likeCount,r=t.liker,i=Object(p.some)(e.likes,function(e){return e.ID===r.ID});if(e.likeCount===n&&i)return e;var s=e.likes;return i||(s=[r].concat(ce()(e.likes||[]))),{likes:s,iLike:e.iLike,found:n,lastUpdated:e.lastUpdated}}),fe()(qf,"POST_LIKES_REMOVE_LIKER",function(e,t){var n=t.likeCount,r=t.liker,i=Object(p.some)(e.likes,function(e){return e.ID===r.ID});if(e.likeCount===n&&!i)return e;var s=e.likes;return i&&(s=Object(p.dropWhile)(e.likes,function(e){return r.ID===e.ID})),{likes:s,iLike:e.iLike,found:n,lastUpdated:e.lastUpdated}}),qf),{type:"object",additionalProperties:!1,required:["iLike","found"],properties:{likes:{type:"array",description:"List of post likes"},iLike:{type:"boolean",description:"Whether the current authenticated user likes the post or not"},found:{type:"number",description:"The total of post likes"},lastUpdated:{type:"number",description:"When we last updated the liker info"}}}),Qf=Object(pe.e)("postId",Bf);Qf.hasCustomPersistence=!0;var zf=Object(pe.e)("siteId",Qf);zf.hasCustomPersistence=!0;var Yf=Object(pe.b)({items:zf});var Kf=Object(pe.b)({diffs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.diffs,r=t.postId,i=t.revisions,s=t.siteId,o=t.type;if("POST_REVISIONS_RECEIVE"!==o)return e;if(!Object(p.isInteger)(s)||s<=0)return e;var a=Object(p.get)(e,[s,r],{}),c=ge()({},Object(p.get)(a,"revisions",{}),i),u=Object(p.filter)(n,function(e){var t=e.diff,n=e.from,r=e.to;return!(!Object(p.isInteger)(n)||n<0||!Object(p.isInteger)(r)||r<1||0!==n&&Object(p.isEmpty)(c[n])||Object(p.isEmpty)(c[r])||Object(p.isEmpty)(t))});return Object(p.isEmpty)(u)?e:ge()({},e,fe()({},s,ge()({},e[s],fe()({},r,ge()({},ge()({},Object(p.omit)(a,"revisions"),Object(p.keyBy)(u,function(e){return e.from+":"+e.to})),{revisions:c})))))},requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_REVISIONS_REQUEST":case"POST_REVISIONS_REQUEST_FAILURE":case"POST_REVISIONS_REQUEST_SUCCESS":return Object(p.merge)({},e,fe()({},t.siteId,fe()({},t.postId,"POST_REVISIONS_REQUEST"===t.type)))}return e},selection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_REVISIONS_SELECT":return ge()({},e,{revisionId:t.revisionId});case"POST_EDIT":case"SELECTED_SITE_SET":return ge()({},e,{revisionId:null});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_REVISIONS_DIALOG_CLOSE":return ge()({},e,{isDialogVisible:!1});case"POST_REVISIONS_DIALOG_OPEN":return ge()({},e,{isDialogVisible:!0});case"POST_REVISIONS_DIFF_SPLIT_VIEW":return ge()({},e,{diffView:"split"});case"POST_REVISIONS_DIFF_UNIFY_VIEW":return ge()({},e,{diffView:"unified"});default:return e}}}),Jf=n("./client/state/posts/utils.js"),Zf=n("./node_modules/deep-freeze/index.js"),$f=n.n(Zf),Xf=$f()({additionalProperties:!1,required:["data","options"],type:"object",properties:{data:{additionalProperties:!1,type:"object",properties:{items:{type:"object"},queries:{additionalProperties:!1,type:"object",patternProperties:{"^\\[.*\\]$":{required:["itemKeys"],type:"object",properties:{itemKeys:{type:"array",items:{type:["integer","null","string"]}},found:{type:"integer"}}}}}}},options:{additionalProperties:!0,required:["itemKey"],type:"object",properties:{itemKey:{type:"string"}}}}});var e_,t_=Xf,n_={type:"object",patternProperties:{"^\\d+$":t_},additionalProperties:!1},r_=Object(pe.c)({},(e_={},fe()(e_,"POSTS_RECEIVE",function(e,t){return Object(p.reduce)(t.posts,function(t,n){var r=n.site_ID,i=n.ID,s=n.global_ID;return t[s]?t:(t===e&&(t=ge()({},t)),t[s]=[r,i],t)},e)}),fe()(e_,"POST_DELETE_SUCCESS",function(e,t){var n=Object(p.findKey)(e,function(e){var n=et()(e,2),r=n[0],i=n[1];return r===t.siteId&&i===t.postId});return n?Object(p.omit)(e,n):e}),e_),{type:"object",patternProperties:{"^\\w+$":{type:"array",items:{type:"number"},minItems:2,maxItems:2}},additionalProperties:!1});var i_=function(){var e;function t(e,t,n,r){var i,s;if(!t)return e;for(var o=arguments.length,a=new Array(o>4?o-4:0),c=4;c<o;c++)a[c-4]=arguments[c];if(!e[t])return r?ge()({},e,fe()({},t,(s=new Vf)[n].apply(s,a))):e;var u=(i=e[t])[n].apply(i,a);return u===e[t]?e:ge()({},e,fe()({},t,u))}return Object(pe.c)({},(e={},fe()(e,"POSTS_REQUEST_SUCCESS",function(e,n){var r=n.siteId,i=n.query,s=n.posts,o=n.found;if(!r)return e;var a=s.map(Jf.H);return t(e,r,"receive",!0,a,{query:i,found:o})}),fe()(e,"POSTS_RECEIVE",function(e,n){var r=n.posts,i=Object(p.reduce)(r,function(e,t){return Object.assign(e,fe()({},t.site_ID,ce()(e[t.site_ID]||[]).concat([Object(Jf.H)(t)])))},{});return Object(p.reduce)(i,function(e,n,r){return t(e,r,"receive",!0,n)},e)}),fe()(e,"POST_RESTORE",function(e,n){var r=n.siteId,i=n.postId;return t(e,r,"receive",!1,{ID:i,status:"__RESTORE_PENDING"},{patch:!0})}),fe()(e,"POST_RESTORE_FAILURE",function(e,n){var r=n.siteId,i=n.postId;return t(e,r,"receive",!1,{ID:i,status:"trash"},{patch:!0})}),fe()(e,"POST_SAVE",function(e,n){var r=n.siteId,i=n.postId,s=n.post;return t(e,r,"receive",!1,ge()({ID:i},s),{patch:!0})}),fe()(e,"POST_DELETE",function(e,n){var r=n.siteId,i=n.postId;return t(e,r,"receive",!1,{ID:i,status:"__DELETE_PENDING"},{patch:!0})}),fe()(e,"POST_DELETE_FAILURE",function(e,n){var r=n.siteId,i=n.postId;return t(e,r,"receive",!1,{ID:i,status:"trash"},{patch:!0})}),fe()(e,"POST_DELETE_SUCCESS",function(e,n){var r=n.siteId,i=n.postId;return t(e,r,"removeItem",!1,i)}),fe()(e,"SERIALIZE",function(e){return Object(p.mapValues)(e,function(e){var t=e.data,n=e.options;return{data:t,options:n}})}),fe()(e,"DESERIALIZE",function(e){return Object(p.mapValues)(e,function(e){var t=e.data,n=e.options;return new Vf(t,n)})}),e),n_)}(),s_=function(){var e;function t(e,t,n){return Object(p.findKey)(e.data.items,function(e){return e.site_ID===t&&e.ID===n})||null}return Object(pe.c)(new Vf({},{itemKey:"global_ID"}),(e={},fe()(e,"POSTS_REQUEST_SUCCESS",function(e,t){var n=t.siteId,r=t.query,i=t.posts,s=t.found;return n?e:e.receive(i.map(Jf.H),{query:r,found:s})}),fe()(e,"POSTS_RECEIVE",function(e,t){var n=t.posts;return e.receive(n)}),fe()(e,"POST_RESTORE",function(e,n){var r=n.siteId,i=n.postId,s=t(e,r,i);return e.receive({global_ID:s,status:"__RESTORE_PENDING"},{patch:!0})}),fe()(e,"POST_RESTORE_FAILURE",function(e,n){var r=n.siteId,i=n.postId,s=t(e,r,i);return e.receive({global_ID:s,status:"trash"},{patch:!0})}),fe()(e,"POST_SAVE",function(e,n){var r=n.siteId,i=n.postId,s=n.post,o=t(e,r,i);return e.receive(ge()({global_ID:o},s),{patch:!0})}),fe()(e,"POST_DELETE",function(e,n){var r=n.siteId,i=n.postId,s=t(e,r,i);return e.receive({global_ID:s,status:"__DELETE_PENDING"},{patch:!0})}),fe()(e,"POST_DELETE_FAILURE",function(e,n){var r=n.siteId,i=n.postId,s=t(e,r,i);return e.receive({global_ID:s,status:"trash"},{patch:!0})}),fe()(e,"POST_DELETE_SUCCESS",function(e,n){var r=n.siteId,i=n.postId,s=t(e,r,i);return e.removeItem(s)}),fe()(e,"SERIALIZE",function(e){return{data:e.data,options:e.options}}),fe()(e,"DESERIALIZE",function(e){return new Vf(e.data,e.options)}),e),t_)}();var o_=Object(pe.b)({counts:Wf,items:r_,siteRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_REQUEST":case"POST_REQUEST_SUCCESS":case"POST_REQUEST_FAILURE":return Object.assign({},e,fe()({},t.siteId,Object.assign({},e[t.siteId],fe()({},t.postId,"POST_REQUEST"===t.type))))}return e},queryRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS_REQUEST":case"POSTS_REQUEST_SUCCESS":case"POSTS_REQUEST_FAILURE":var n=Object(Jf.m)(t.query,t.siteId);return Object.assign({},e,fe()({},n,"POSTS_REQUEST"===t.type))}return e},queries:i_,allSitesQueries:s_,edits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS_RECEIVE":return Object(p.reduce)(t.posts,function(n,r){var i=Object(p.get)(n,[r.site_ID,r.ID]);if(!i)return n;if(n===e&&(n=Object(p.merge)({},e)),t.saveMarker){var s=i.indexOf(t.saveMarker);-1!==s&&(i=i.slice(s+1))}var o=Jf.D.apply(void 0,ce()(i)),a=null;if(o){var c=Object(p.omitBy)(o,function(e,t){switch(t){case"author":return Object(Jf.q)(e,r[t]);case"date":return Object(Jf.t)(e,r[t]);case"discussion":return Object(Jf.u)(e,r[t]);case"featured_image":return e===Object(Jf.g)(r);case"metadata":return!0;case"status":return Object(Jf.B)(e,r[t]);case"terms":return Object(Jf.C)(e,r[t])}return Object(p.isEqual)(r[t],e)});if(o.metadata){var u=Object(Jf.o)(o.metadata,r.metadata);u.length>0&&(c.metadata=u)}Object(p.isEmpty)(c)||(a=[c])}return Object(p.set)(n,[r.site_ID,r.ID],a)},e);case"POST_EDIT":var n=t.siteId,r=t.postId||"",i=Object(p.get)(e,[n,r]),s=Object(Jf.a)(i,t.post);return ge()({},e,fe()({},n,ge()({},e[n],fe()({},r,s))));case"EDITOR_START":return Object.assign({},e,fe()({},t.siteId,ge()({},e[t.siteId],fe()({},t.postId||"",null))));case"EDITOR_STOP":if(!e.hasOwnProperty(t.siteId))break;return Object.assign({},e,fe()({},t.siteId,Object(p.omit)(e[t.siteId],t.postId||"")));case"EDITOR_SAVE":if(!t.saveMarker)break;var o=t.siteId,a=t.postId||"",c=Object(p.get)(e,[o,a]);if(Object(p.isEmpty)(c))break;var u=ce()(c).concat([t.saveMarker]);return ge()({},e,fe()({},o,ge()({},e[o],fe()({},a,u))));case"POST_SAVE_SUCCESS":var l=t.siteId,d=t.postId||"";if(""===d&&t.savedPost){var m=t.savedPost.ID;e=ge()({},e,fe()({},l,Object(p.mapKeys)(e[l],function(e,t){return""===t?m:t})))}return e}return e},likes:Yf,revisions:Kf});var a_,c_,u_,l_=Object(pe.g)({type:"object",patternProperties:{"^[0-9]+$":{type:"object",patternProperties:{"^.*$":{type:"array",items:{type:"object",required:["name"],properties:{name:{type:"string"},label:{type:"string"},labels:{type:"object"},description:{type:"string"},hierarchical:{type:"boolean"},public:{type:"boolean"},capabilities:{type:"object"}}}}},additionalProperties:!1}},additionalProperties:!1},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_TYPES_TAXONOMIES_RECEIVE":return ge()({},e,fe()({},t.siteId,ge()({},e[t.siteId],fe()({},t.postType,t.taxonomies))));default:return e}}),d_=Object(pe.b)({requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_TYPES_TAXONOMIES_REQUEST":case"POST_TYPES_TAXONOMIES_REQUEST_SUCCESS":case"POST_TYPES_TAXONOMIES_REQUEST_FAILURE":return Object(p.merge)({},e,fe()({},t.siteId,fe()({},t.postType,"POST_TYPES_TAXONOMIES_REQUEST"===t.type)))}return e},items:l_}),p_=Object(pe.g)({type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",additionalProperties:{type:"object",required:["name"],properties:{name:{type:"string"},label:{type:"string"},labels:{type:"object"},description:{type:"string"},map_meta_cap:{type:"boolean"},capabilities:{type:"object"},api_queryable:{type:"boolean"},hierarchical:{type:"boolean"},supports:{type:"object"}}}}}},Object(pe.e)("siteId",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_TYPES_RECEIVE":return Object(p.keyBy)(t.types,"name");default:return e}})),m_=Object(pe.b)({items:p_,taxonomies:d_}),f_=Object(pe.c)({},(a_={},fe()(a_,"PREFERENCES_SET",function(e,t){var n=t.key,r=t.value;return e[n]===r?e:ge()({},e,fe()({},n,r))}),fe()(a_,"PREFERENCES_SAVE_SUCCESS",function(e,t){var n=t.key;return Object(p.omit)(e,n)}),a_)),__=Object(pe.c)(null,fe()({},"PREFERENCES_RECEIVE",function(e,t){var n=t.values;return n}),{type:["null","object"],patternProperties:{"^dismissible-card-.+$":{type:"boolean"}},properties:{"editor-mode":{type:"string",enum:["html","tinymce"]},mediaModalGalleryInstructionsDismissed:{type:"boolean"},firstViewHistory:{type:"array",items:{type:"object",properties:{view:{type:"string"},timestamp:{type:"number",minimum:0},disabled:{type:"boolean"}},required:["view","timestamp","disabled"]}},"google-my-business-dismissible-nudge":{type:"object","^[1-9]+$":{type:"array",items:{type:"object",properties:{dismissedAt:{type:"number",minimum:0},type:{type:"string",enum:["dismiss"]}},required:["dismissedAt","type"]}}},"guided-tours-history":{type:"array",items:{type:"object",properties:{tourName:{type:"string"},timestamp:{type:"number",minimum:0},finished:{type:"boolean"}},required:["tourName","timestamp","finished"],additionalProperties:!1}},recentSites:{type:"array",items:{type:"number"}},mediaScale:{type:"number",minimum:0,maximum:1},editorAdvancedVisible:{type:"boolean"},editorConfirmationDisabledSites:{type:"array",items:{type:"number"}},colorScheme:{type:"string",enum:["default","light","dark"]},"store-dashboardStatsWidgetUnit":{type:"string",enum:["day","week","month"]}}}),E_=Object(pe.c)(!1,(c_={},fe()(c_,"PREFERENCES_FETCH_SUCCESS",function(){return!1}),fe()(c_,"PREFERENCES_FETCH_FAILURE",function(){return!1}),fe()(c_,"PREFERENCES_FETCH",function(){return!0}),c_)),b_=Object(pe.c)(!1,fe()({},"PREFERENCES_FETCH_SUCCESS",function(){return Date.now()})),g_=Object(pe.b)({localValues:f_,remoteValues:__,fetching:E_,lastFetchedTimestamp:b_}),h_=Object(pe.c)({},fe()({},"PRIVACY_POLICY_ADD",function(e,t){return t.entities}),{type:"object",additionalProperties:!1,patternProperties:{"^[a-z/_-]+$":{type:"object",required:["id","created","modified"],properties:{created:{type:"string",description:"Creation date of the document."},content:{type:"string"},id:{type:"string"},effective_date:{type:"string",description:"Effective date of the document."},modified:{type:"string",description:"Modification date of the document."},notification_period:{type:"object",required:["from","to"],properties:{from:{type:"string",description:"Start date of the notification period (ISO 8601 format)"},to:{type:"string",description:"End date of the notification period (ISO 8601 format)"}}},raw_content:{type:"string"},title:{type:"string"}}}}}),O_=Object(pe.b)({entities:h_}),y_=Object(pe.c)({},fe()({},"PRODUCTS_LIST_RECEIVE",function(e,t){return t.productsList}),{type:"object",additionalProperties:!1,patternProperties:{".+":{type:"object",required:["available","product_id","product_name","product_slug","description","is_domain_registration","cost_display"],properties:{available:{type:"boolean"},product_id:{type:"integer"},product_name:{type:"string"},product_slug:{type:"string"},description:{type:"string"},cost:{type:["integer","null"]},prices:{type:"object"},is_domain_registration:{type:"boolean"},cost_display:{type:"string"}}}}}),j_=Object(pe.c)(!1,(u_={},fe()(u_,"PRODUCTS_LIST_REQUEST",function(){return!0}),fe()(u_,"PRODUCTS_LIST_RECEIVE",function(){return!1}),fe()(u_,"PRODUCTS_LIST_REQUEST_FAILURE",function(){return!1}),u_)),v_=Object(pe.b)({isFetching:j_,items:y_}),S_={type:"boolean"},I_={type:"object",properties:{enabled:S_,dismissedNotice:S_,dismissedNoticeAt:{type:"number"},showingUnblockInstructions:S_},additionalProperties:!1},T_={type:"object",properties:{apiReady:S_,authorized:S_,authorizationLoaded:S_,blocked:S_,wpcomSubscription:{type:"object",properties:{ID:{type:"string"},settings:{type:"object",additionalProperties:!0}}}},additionalProperties:!1},C_=i()("calypso:push-notifications"),R_=["apiReady","authorized","authorizationLoaded","blocked"];function A_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DESERIALIZE":case"SERIALIZE":return Object(p.omit)(e,R_);case"PUSH_NOTIFICATIONS_API_READY":return C_("API is ready"),Object.assign({},e,{apiReady:!0});case"PUSH_NOTIFICATIONS_AUTHORIZE":return Object.assign({},e,{authorized:!0,authorizationLoaded:!0,blocked:!1});case"PUSH_NOTIFICATIONS_BLOCK":return Object.assign({},e,{authorized:!1,authorizationLoaded:!0,blocked:!0});case"PUSH_NOTIFICATIONS_MUST_PROMPT":return Object.assign({},e,{authorized:!1,authorizationLoaded:!0,blocked:!1});case"PUSH_NOTIFICATIONS_RECEIVE_UNREGISTER_DEVICE":var n=t.data;return n.success||C_("Couldn't unregister device",n),C_("Deleted WPCOM subscription",n),Object(p.omit)(e,["wpcomSubscription"]);case"PUSH_NOTIFICATIONS_RECEIVE_REGISTER_DEVICE":var r=t.data;return C_("Received WPCOM device registration results",r),r&&r.ID?Object.assign({},e,{wpcomSubscription:{ID:r.ID.toString(),settings:r.settings}}):e}return e}A_.schema=T_;var N_=["showingUnblockInstructions"];function w_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DESERIALIZE":case"SERIALIZE":return Object(p.omit)(e,N_);case"PUSH_NOTIFICATIONS_TOGGLE_ENABLED":return Object.assign({},e,{enabled:!e.enabled});case"PUSH_NOTIFICATIONS_TOGGLE_UNBLOCK_INSTRUCTIONS":return Object.assign({},e,{showingUnblockInstructions:!e.showingUnblockInstructions});case"PUSH_NOTIFICATIONS_RECEIVE_REGISTER_DEVICE":return Object.assign({},e,{enabled:!0})}return e}w_.schema=I_;var P_,U_=Object(pe.b)({settings:w_,system:A_});function D_(e,t,n){return ge()({},e,{data:e.data.map(function(e){return t===e.ID?ge()({},e,n):e})})}function k_(e,t){var n,r;return"PURCHASES_SITE_FETCH_COMPLETED"===t.type&&(r={blog_id:String(t.siteId)}),"PURCHASES_USER_FETCH_COMPLETED"!==t.type&&"PURCHASE_REMOVE_COMPLETED"!==t.type||(r={user_id:String(t.userId)}),n=function(e,t,n){return e.filter(function(e){return!(!Object(p.matches)(n)(e)||!Object(p.find)(t,{ID:e.ID}))||!Object(p.matches)(n)(e)})}(e,t.purchases,r),n=function(e,t){var n=t;return e.forEach(function(e){Object(p.find)(n,{ID:e.ID})||(n=n.concat(e))}),n}(n,t.purchases),n}var L_,M_,x_,F_=function(e,t){return ge()({},e,{error:t.error})},V_=Object(pe.c)({data:[],error:null,isFetchingSitePurchases:!1,isFetchingUserPurchases:!1,hasLoadedSitePurchasesFromServer:!1,hasLoadedUserPurchasesFromServer:!1},(P_={},fe()(P_,"PURCHASES_REMOVE",function(e){return ge()({},e,{data:[],hasLoadedSitePurchasesFromServer:!1,hasLoadedUserPurchasesFromServer:!1})}),fe()(P_,"PURCHASES_SITE_FETCH",function(e){return ge()({},e,{isFetchingSitePurchases:!0})}),fe()(P_,"PURCHASES_USER_FETCH",function(e){return ge()({},e,{isFetchingUserPurchases:!0})}),fe()(P_,"PURCHASE_REMOVE_COMPLETED",function(e,t){return ge()({},e,{data:k_(e.data,t),error:null,isFetchingSitePurchases:!1,isFetchingUserPurchases:!1,hasLoadedSitePurchasesFromServer:!0,hasLoadedUserPurchasesFromServer:!0})}),fe()(P_,"PURCHASES_SITE_FETCH_COMPLETED",function(e,t){return ge()({},e,{data:k_(e.data,t),error:null,isFetchingSitePurchases:!1,hasLoadedSitePurchasesFromServer:!0})}),fe()(P_,"PURCHASES_USER_FETCH_COMPLETED",function(e,t){return ge()({},e,{data:k_(e.data,t),error:null,isFetchingUserPurchases:!1,hasLoadedUserPurchasesFromServer:!0})}),fe()(P_,"PURCHASE_REMOVE_FAILED",F_),fe()(P_,"PURCHASES_SITE_FETCH_FAILED",F_),fe()(P_,"PURCHASES_USER_FETCH_FAILED",F_),fe()(P_,"PRIVACY_PROTECTION_CANCEL_COMPLETED",function(e,t){return D_(e,t.purchase.ID,t.purchase)}),fe()(P_,"PRIVACY_PROTECTION_CANCEL_FAILED",function(e,t){return D_(e,t.purchaseId,{error:t.error})}),P_)),G_=n("./client/state/reader/conversations/follow-status.js"),q_={type:"object",patternProperties:{"^[0-9]+-[0-9]+$":{enum:Object(p.values)(G_.a)}},additionalProperties:!1},H_=Object(pe.c)({},(L_={},fe()(L_,"READER_CONVERSATION_FOLLOW",function(e,t){var n=Object(p.assign)({},e,fe()({},Object(as.a)(t.payload.siteId,t.payload.postId),G_.a.following));return n}),fe()(L_,"READER_CONVERSATION_MUTE",function(e,t){var n=Object(p.assign)({},e,fe()({},Object(as.a)(t.payload.siteId,t.payload.postId),G_.a.muting));return n}),fe()(L_,"READER_CONVERSATION_UPDATE_FOLLOW_STATUS",function(e,t){var n=Object(as.a)(t.payload.siteId,t.payload.postId);if(t.payload.followStatus===G_.a.not_following)return Object(p.omit)(e,n);var r=Object(p.assign)({},e,fe()({},n,t.payload.followStatus));return r}),fe()(L_,"READER_POSTS_RECEIVE",function(e,t){if(!t.posts)return e;var n={};return Object(p.forEach)(t.posts,function(e){e.is_following_conversation&&(n[Object(as.a)(e.site_ID,e.ID)]=G_.a.following)}),0===Object(p.size)(n)?e:ge()({},e,n)}),L_),q_),W_=Object(pe.b)({items:H_}),B_=n("./client/lib/post-normalizer/utils.js");function Q_(e){return{feed_ID:+e.feed_ID,blog_ID:+e.blog_ID,name:e.name&&Object(bn.b)(e.name),URL:Object(B_.i)(e.URL),feed_URL:Object(B_.i)(e.feed_URL),is_following:e.is_following,subscribers_count:e.subscribers_count,description:e.description&&Object(bn.b)(e.description),last_update:e.last_update,image:e.image}}var z_=Object(pe.c)({},(M_={},fe()(M_,"SERIALIZE",function(e){return Object(p.omitBy)(e,"is_error")}),fe()(M_,"READER_FEED_REQUEST_SUCCESS",function(e,t){var n=Q_(t.payload);return Object(p.assign)({},e,fe()({},n.feed_ID,n))}),fe()(M_,"READER_FEED_REQUEST_FAILURE",function(e,t){return Object(p.assign)(fe()({},t.payload.feed_ID,{feed_ID:t.payload.feed_ID,is_error:!0}),e)}),fe()(M_,"READER_FEED_UPDATE",function(e,t){var n=Object(p.map)(t.payload,Q_);return Object(p.assign)({},e,Object(p.keyBy)(n,"feed_ID"))}),M_),{type:"object",patternProperties:{"^[0-9a-z]+$":{type:"object",required:["feed_ID","blog_ID"],properties:{feed_ID:{type:"integer"},blog_ID:{type:"integer"},name:{type:["string","null"]},URL:{type:["string","null"]},feed_URL:{type:["string","null"]},is_following:{type:["boolean","null"]},subscribers_count:{type:["integer","null"]},description:{type:["string","null"]},last_update:{type:["string","null"]},image:{type:["string","null"]}}}},additionalProperties:!1});var Y_,K_=Object(pe.c)({},(x_={},fe()(x_,"READER_FEED_REQUEST_SUCCESS",function(e,t){return ge()({},e,fe()({},t.payload.feed_ID,Date.now()))}),fe()(x_,"READER_FEED_UPDATE",function(e,t){var n=Object(p.reduce)(t.payload,function(e,t){return e[t.feed_ID]=Date.now(),e},{});return Object(p.assign)({},e,n)}),x_)),J_=Object(pe.b)({items:z_,lastFetched:K_,queuedRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_FEED_REQUEST":return Object(p.assign)({},e,fe()({},t.payload.feed_ID,!0));case"READER_FEED_REQUEST_SUCCESS":case"READER_FEED_REQUEST_FAILURE":return Object(p.omit)(e,t.payload.feed_ID)}return e}}),Z_=Object(pe.e)("queryKey",Object(pe.c)(null,fe()({},"READER_FEED_SEARCH_RECEIVE",function(e,t){return Object(p.uniqBy)((e||[]).concat(t.payload.feeds),"feed_URL")}))),$_=Object(pe.e)("queryKey",Object(pe.c)(null,fe()({},"READER_FEED_SEARCH_RECEIVE",function(e,t){return t.payload.total}))),X_=Object(pe.b)({items:Z_,total:$_}),eE=n("./client/state/reader/follows/utils.js");function tE(e,t){var n=t.payload,r=t.type,i=Object(p.find)(e,{blog_ID:+n.blogId});if(!i)return e;var s=Object(p.get)(i,["delivery_methods","email"],{}),o={};switch(r){case"READER_SUBSCRIBE_TO_NEW_POST_EMAIL":case"READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL":o.send_posts=!("READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL"===r);break;case"READER_SUBSCRIBE_TO_NEW_COMMENT_EMAIL":case"READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL":o.send_comments=!("READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL"===r)}n.deliveryFrequency&&(o.post_delivery_frequency=n.deliveryFrequency);var a=ge()({},s,o);return Object(p.isEqual)(s,a)?e:ge()({},e,fe()({},Object(eE.a)(i.URL),ge()({},i,{delivery_methods:{email:a,notification:Object(p.get)(i,["delivery_methods","notification"],{})}})))}function nE(e,t){var n=t.payload,r=t.type,i=Object(p.find)(e,{blog_ID:+n.blogId});if(!i)return e;var s=Object(p.get)(i,["delivery_methods","notification","send_posts"],!1),o=!("READER_UNSUBSCRIBE_TO_NEW_POST_NOTIFICATIONS"===r);return s===o?e:ge()({},e,fe()({},Object(eE.a)(i.URL),ge()({},i,{delivery_methods:{email:Object(p.get)(i,["delivery_methods","email"],{}),notification:{send_posts:o}}})))}var rE=Object(pe.c)({},(Y_={},fe()(Y_,"READER_RECORD_FOLLOW",function(e,t){var n=Object(eE.a)(t.payload.url);return ge()({},e,fe()({},n,Object(p.merge)({},e[n],{is_following:!0})))}),fe()(Y_,"READER_RECORD_UNFOLLOW",function(e,t){var n=Object(eE.a)(t.payload.url);return ge()({},e,fe()({},n,Object(p.merge)({},e[n],{is_following:!1})))}),fe()(Y_,"READER_FOLLOW_ERROR",function(e,t){var n=Object(eE.a)(t.payload.feedUrl);return ge()({},e,fe()({},n,Object(p.merge)({},e[n],{error:t.payload.error})))}),fe()(Y_,"READER_FOLLOW",function(e,t){var n=Object(eE.a)(t.payload.feedUrl),r={is_following:!0},i=Object(p.get)(t.payload,["follow","feed_URL"],t.payload.feedUrl),s=ge()({},e);i!==t.payload.feedUrl?(r.alias_feed_URLs=ce()(e[n].alias_feed_URLs||[]).concat([Object(eE.a)(t.payload.feedUrl)]),delete s[n],n=Object(eE.a)(i)):e[n]&&e[n].error&&(r.error=null);var o=Object(p.get)(e[n],["delivery_methods","notification"]);return o&&(r.delivery_methods={notification:o}),Object.assign(s,fe()({},n,Object(p.merge)({feed_URL:i},e[n],t.payload.follow,r)))}),fe()(Y_,"READER_UNFOLLOW",function(e,t){var n=Object(eE.a)(t.payload.feedUrl),r=e[n];return r&&r.is_following?ge()({},e,fe()({},n,Object(p.merge)({},r,{is_following:!1,delivery_methods:{notification:{send_posts:!1}}}))):e}),fe()(Y_,"READER_FOLLOWS_RECEIVE",function(e,t){var n=t.payload.follows,r=Object(p.reduce)(n,function(e,t){var n=Object(eE.a)(t.URL),r=ge()({},t,{is_following:!0});return e[n]=r,e},{});return Object(p.merge)({},e,r)}),fe()(Y_,"READER_SITE_REQUEST_SUCCESS",function(e,t){var n=t.payload;if(!n||!n.feed_URL||!n.is_following)return e;var r=Object(eE.a)(n.feed_URL),i=e[r],s={delivery_methods:Object(p.get)(n,"subscription.delivery_methods"),is_following:!0,URL:n.URL,feed_URL:n.feed_URL,blog_ID:n.ID};return ge()({},e,fe()({},r,Object(p.merge)({},i,s)))}),fe()(Y_,"READER_SUBSCRIBE_TO_NEW_POST_EMAIL",tE),fe()(Y_,"READER_UPDATE_NEW_POST_EMAIL_SUBSCRIPTION",tE),fe()(Y_,"READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL",tE),fe()(Y_,"READER_SUBSCRIBE_TO_NEW_COMMENT_EMAIL",tE),fe()(Y_,"READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL",tE),fe()(Y_,"READER_SUBSCRIBE_TO_NEW_POST_NOTIFICATIONS",nE),fe()(Y_,"READER_UNSUBSCRIBE_TO_NEW_POST_NOTIFICATIONS",nE),fe()(Y_,"READER_FOLLOWS_SYNC_COMPLETE",function(e,t){var n=new Set(t.payload);return Object(p.omitBy)(e,function(e){return e.ID&&!n.has(e.feed_URL)})}),fe()(Y_,"SERIALIZE",function(e){return Object(p.pickBy)(e,function(e){return e.is_following})}),Y_),{type:"object",patternProperties:{".+":{type:"object",required:["feed_URL","URL","is_following"],properties:{URL:{type:"string"},feed_URL:{type:"string"},is_following:{type:"boolean"},ID:{type:["integer","null"]},blog_ID:{type:["integer","null"]},feed_ID:{type:["integer","null"]},date_subscribed:{type:["integer","null"]},delivery_methods:{type:["object","null"]},is_owner:{type:["boolean","null"]}}}},additionalProperties:!1}),iE=Object(pe.c)(0,fe()({},"READER_FOLLOWS_RECEIVE",function(e,t){return t.payload.totalCount?t.payload.totalCount:e})),sE=Object(pe.c)(null,fe()({},"READER_FOLLOWS_SYNC_START",function(){return Date.now()})),oE=Object(pe.b)({items:rE,itemsCount:iE,lastSyncTime:sE});function aE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LISTS_RECEIVE":return Object.assign({},e,Object(p.keyBy)(t.lists,"ID"));case"READER_LIST_REQUEST_SUCCESS":case"READER_LIST_UPDATE_SUCCESS":return Object.assign({},e,Object(p.keyBy)([t.data.list],"ID"));case"READER_LIST_UPDATE_TITLE":var n=Object.assign({},e[t.listId]);return n?(n.title=t.title,Object.assign({},e,Object(p.keyBy)([n],"ID"))):e;case"READER_LIST_UPDATE_DESCRIPTION":var r=Object.assign({},e[t.listId]);return r?(r.description=t.description,Object.assign({},e,Object(p.keyBy)([r],"ID"))):e}return e}function cE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LISTS_RECEIVE":return Object(p.map)(t.lists,"ID");case"READER_LISTS_FOLLOW_SUCCESS":var n=Object(p.get)(t,["data","list","ID"]);return!n||Object(p.includes)(e,n)?e:ce()(e).concat([n]);case"READER_LISTS_UNFOLLOW_SUCCESS":return Object(p.filter)(e,function(e){return e!==t.data.list.ID})}return e}function uE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LIST_UPDATE_SUCCESS":var n=Object(p.get)(t,"data.list.ID");return n?Object(p.union)(e,[n]):e;case"READER_LIST_DISMISS_NOTICE":return Object(p.filter)(e,function(e){return e!==t.listId})}return e}function lE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LIST_UPDATE_FAILURE":var n={};return n[t.list.ID]=t.error.statusCode,Object.assign({},e,n);case"READER_LIST_DISMISS_NOTICE":return Object(p.omit)(e,t.listId)}return e}aE.schema={type:"object",patternProperties:{"^[0-9]+$":{type:"object",required:["ID"],properties:{ID:{type:"integer"},title:{type:"string"},slug:{type:"string"},description:{type:"string"},owner:{type:"string"},is_owner:{type:"boolean"},is_public:{type:"boolean"}}}},additionalProperties:!1},cE.schema={type:"array"},uE.schema={type:"array"},lE.schema={type:"object"};var dE=Object(pe.b)({items:aE,subscribedLists:cE,updatedLists:uE,isRequestingList:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LIST_REQUEST":case"READER_LIST_REQUEST_SUCCESS":case"READER_LIST_REQUEST_FAILURE":return"READER_LIST_REQUEST"===t.type}return e},isRequestingLists:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LISTS_REQUEST":case"READER_LISTS_REQUEST_SUCCESS":case"READER_LISTS_REQUEST_FAILURE":return"READER_LISTS_REQUEST"===t.type}return e},errors:lE,missingLists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LISTS_RECEIVE":return Object(p.filter)(e,function(e){return!Object(p.find)(t.lists,{owner:e.owner,slug:e.slug})});case"READER_LIST_REQUEST_SUCCESS":return Object(p.filter)(e,function(e){return t.data.list.owner!==e.owner&&t.data.list.slug!==e.slug});case"READER_LIST_REQUEST_FAILURE":return t.error&&Object(p.includes)([403,404],t.error.statusCode)?Object(p.union)(e,[{owner:t.owner,slug:t.slug}]):e}return e}});var pE,mE=Object(pe.b)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_POSTS_RECEIVE":var n=t.posts||t.payload.posts;return ge()({},e,Object(p.keyBy)(n,"global_ID"))}return e},seen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(p.get)(t,"payload.post.global_ID");return"READER_POST_SEEN"===t.type&&n?ge()({},e,fe()({},n,!0)):e}}),fE=Object(pe.e)("seed",Object(pe.c)([],fe()({},"READER_RECOMMENDED_SITES_RECEIVE",function(e,t){return Object(p.uniqBy)(e.concat(t.payload.sites),"feedId")}))),_E=Object(pe.e)("seed",Object(pe.c)(null,fe()({},"READER_RECOMMENDED_SITES_RECEIVE",function(e,t){return Math.max(t.payload.offset,e)}))),EE=Object(pe.b)({items:fE,pagingOffset:_E}),bE=n("./client/state/reader/related-posts/utils.js"),gE=Object(pe.c)({},fe()({},"READER_RELATED_POSTS_RECEIVE",function(e,t){return e=Object(p.assign)({},e,fe()({},Object(bE.d)(t.payload.siteId,t.payload.postId,t.payload.scope),Object(p.map)(t.payload.posts,"global_ID"))),e}));function hE(e,t,n){var r=n.payload,i=r.siteId,s=r.postId,o=r.scope;return Object(p.assign)({},t,fe()({},Object(bE.d)(i,s,o),e))}var OE,yE,jE,vE=Object(pe.c)({},(pE={},fe()(pE,"READER_RELATED_POSTS_REQUEST",Object(p.partial)(hE,!0)),fe()(pE,"READER_RELATED_POSTS_REQUEST_SUCCESS",Object(p.partial)(hE,!1)),fe()(pE,"READER_RELATED_POSTS_REQUEST_FAILURE",Object(p.partial)(hE,!1)),pE)),SE=Object(pe.b)({items:gE,queuedRequests:vE}),IE=Object(pe.c)({},(OE={},fe()(OE,"READER_SITE_BLOCK",function(e,t){return ge()({},e,fe()({},t.payload.siteId,!0))}),fe()(OE,"READER_SITE_UNBLOCK",function(e,t){return Object(p.omit)(e,t.payload.siteId)}),fe()(OE,"READER_SITE_REQUEST_SUCCESS",function(e,t){return t.payload.is_blocked?ge()({},e,fe()({},t.payload.ID,!0)):e[t.payload.ID]?Object(p.omit)(e,t.payload.ID):e}),OE)),TE=Object(pe.b)({items:IE}),CE={type:"object",patternProperties:{"^\\d+$":{type:"object",required:["ID","name"],properties:{ID:{type:"number"},name:{type:"string"},URL:{type:"string"},jetpack:{type:"boolean"},icon:{type:"object",properties:{img:{type:"string"},ico:{type:"string"},media_id:{type:"number"}}},visible:{type:"boolean"},is_private:{type:"boolean"},is_vip:{type:"boolean"},options:{type:"object"},meta:{type:"object"},is_multisite:{type:"boolean"},capabilities:{type:"object",patternProperties:{"^[a-z_]+$":{type:"boolean"}}},plan:{type:"object",required:["product_id","product_slug"],properties:{product_id:{type:["number","string"]},product_slug:{type:"string"},product_name_short:{type:["string","null"]},expired:{type:"boolean"},user_is_owner:{type:"boolean"},is_free:{type:"boolean"}}},single_user_site:{type:"boolean"},updates:{type:"object",properties:{jp_version:{type:"string"},plugins:{type:"number"},themes:{type:"number"},total:{type:"number"},translations:{type:"number"},wordpress:{type:"number"},wp_version:{type:"string"}}},lang:{type:"string"}}}},additionalProperties:!1},RE=ge()({},CE,{patternProperties:ge()({},CE.patternProperties,fe()({},"^\\d+$",ge()({},CE.patternProperties["^\\d+$"],{properties:ge()({},CE.patternProperties["^\\d+$"].properties,{feed_ID:{type:"number"},subscription:{type:"object"},is_blocked:{type:"boolean"}})})))});function AE(e){return e=Object(p.omit)(e,["meta","subscription"]),e.URL&&(e.domain=Object(qa.m)(e.URL),e.slug=e.domain.replace(/\//g,"::")),e.title=Object(p.trim)(e.name)||e.domain,e.description&&(e.description=Object(bn.b)(e.description)),e.options&&e.options.is_mapped_domain&&!e.is_jetpack&&(e.wpcom_url=Object(qa.m)(e.options.unmapped_url)),e.options&&e.options.is_redirect&&(e.slug=Object(qa.m)(e.options.unmapped_url),e.domain=e.slug),e}var NE=Object(pe.c)({},(yE={},fe()(yE,"SERIALIZE",function(e){return Object(p.omitBy)(e,"is_error")}),fe()(yE,"READER_SITE_REQUEST_SUCCESS",function(e,t){var n=AE(t.payload);return Object(p.assign)({},e,fe()({},t.payload.ID,n))}),fe()(yE,"READER_SITE_REQUEST_FAILURE",function(e,t){return t.error&&!Object(p.includes)([403,404,410],t.error.statusCode)?e:Object(p.assign)({},e,fe()({},t.payload.ID,{ID:t.payload.ID,is_error:!0,error:t.error}))}),fe()(yE,"READER_SITE_UPDATE",function(e,t){var n=Object(p.map)(t.payload,AE);return Object(p.assign)({},e,Object(p.keyBy)(n,"ID"))}),yE),RE);var wE=Object(pe.c)({},(jE={},fe()(jE,"READER_SITE_REQUEST_SUCCESS",function(e,t){return ge()({},e,fe()({},t.payload.ID,Date.now()))}),fe()(jE,"READER_SITE_UPDATE",function(e,t){var n=Object(p.reduce)(t.payload,function(e,t){return e[t.ID]=Date.now(),e},{});return Object(p.assign)({},e,n)}),jE)),PE=Object(pe.b)({items:NE,queuedRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_SITE_REQUEST":return Object(p.assign)({},e,fe()({},t.payload.ID,!0));case"READER_SITE_REQUEST_SUCCESS":case"READER_SITE_REQUEST_FAILURE":return Object(p.omit)(e,t.payload.ID)}return e},lastFetched:wE}),UE=n("./client/reader/post-key.js"),DE=n("./client/reader/stream/utils.js"),kE=function(e){return e.reduce(function(e,t){var n,r,i=Object(p.last)(e);return Object(DE.e)(i,t)?e[e.length-1]=(n=i,r=t,ge()({},n,{xPostUrls:Array.isArray(n.xPostUrls)?ce()(n.xPostUrls).concat([r.url]):[r.url]})):e.push(t),e},[])},LE={lastUpdated:null,items:[]},ME=Object(pe.b)({items:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"READER_STREAMS_PAGE_RECEIVE":var r=n.payload.gap;if(e=n.payload.streamItems,r){var i=Object(p.takeWhile)(t,function(e){return!Object(UE.d)(e,r)}),s=Object(p.takeRightWhile)(t,function(e){return!Object(UE.d)(e,r)});if(Object(UE.d)(Object(p.last)(e),s[0])&&e.pop(),0===e.length)return ce()(i).concat(ce()(s));var o=[],a=r.from,c=im()(Object(p.last)(e).date);return a.isSame(c)||(o=[{isGap:!0,from:a,to:c}]),ce()(i).concat(ce()(e),ce()(o),ce()(s))}var u=ce()(t).concat(ce()(e)),l=Object(p.filter)(e,function(e){return e.xPostMetadata});return l?kE(u):u;case"READER_STREAMS_SHOW_UPDATES":return ce()(n.payload.items).concat(ce()(t));case"READER_STREAMS_DISMISS_POST":var d=n.payload.postKey,m=Object(p.findIndex)(t,function(e){return Object(UE.d)(e,d)});if(-1===m)return t;var f=ce()(t);return f[m]=f.pop(),f}return t},pendingItems:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LE,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"READER_STREAMS_PAGE_RECEIVE":return e=r.payload.streamItems,0===e.length?n:(t=im()(e[0].date),n.lastUpdated&&t.isSameOrBefore(n.lastUpdated)?n:ge()({},n,{lastUpdated:t}));case"READER_STREAMS_UPDATES_RECEIVE":if(e=r.payload.streamItems,0===e.length)return n;t=im()(e[0].date);var i=im()(Object(p.last)(e).date);if(n.lastUpdated&&(e=e.filter(function(e){return im()(e.date).isAfter(n.lastUpdated)})),0===e.length)return n;var s=ce()(e);return n.lastUpdated&&i.isAfter(n.lastUpdated)&&s.push({isGap:!0,from:n.lastUpdated,to:i}),{lastUpdated:t,items:s};case"READER_STREAMS_SHOW_UPDATES":return ge()({},n,{items:[]})}return n},selected:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"READER_STREAMS_SELECT_ITEM":return n.payload.postKey;case"READER_STREAMS_SELECT_NEXT_ITEM":return e=Object(p.findIndex)(n.payload.items,function(e){return Object(UE.d)(e,t)}),e===n.payload.items.length-1?t:n.payload.items[e+1];case"READER_STREAMS_SELECT_PREV_ITEM":return e=Object(p.findIndex)(n.payload.items,function(e){return Object(UE.d)(e,t)}),0===e?t:n.payload.items[e-1]}return t},lastPage:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"READER_STREAMS_PAGE_RECEIVE"===t.type?0===t.payload.streamItems.length:e},isRequesting:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_STREAMS_PAGE_REQUEST":return e||!t.payload.isPoll&&!t.payload.isGap;case"READER_STREAMS_PAGE_RECEIVE":return!1}return e},pageHandle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"READER_STREAMS_PAGE_RECEIVE"!==t.type||!t.payload.pageHandle||t.payload.isPoll||t.payload.gap?e:t.payload.pageHandle}}),xE=Object(pe.e)("payload.streamKey",ME);var FE,VE,GE=Object(pe.b)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_TAG_IMAGES_RECEIVE":var n=t.images;return e[t.tag]&&(n=e[t.tag].concat(t.images)),ge()({},e,fe()({},t.tag,n))}return e},requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_TAG_IMAGES_REQUEST":case"READER_TAG_IMAGES_REQUEST_SUCCESS":case"READER_TAG_IMAGES_REQUEST_FAILURE":return ge()({},e,fe()({},t.tag,"READER_TAG_IMAGES_REQUEST"===t.type))}return e}}),qE=Object(pe.c)(null,(FE={},fe()(FE,"READER_TAGS_RECEIVE",function(e,t){var n=t.payload,r=t.meta.resetFollowingData;if(!r)return Object(p.merge)({},e,Object(p.keyBy)(n,"id"));var i=Object(p.mapValues)(e,function(e){return ge()({},e,{isFollowing:!1})});return Object(p.merge)({},i,Object(p.keyBy)(n,"id"))}),fe()(FE,"READER_UNFOLLOW_TAG_RECEIVE",function(e,t){var n=t.payload;return Object(p.merge)({},e,fe()({},n,{isFollowing:!1}))}),FE)),HE=qE,WE=Object(pe.b)({images:GE,items:HE}),BE=Object(pe.c)([],fe()({},"READER_TEAMS_RECEIVE",function(e,t){return t.error?e:Object(p.get)(t,["payload","teams"],e)}),{type:"array",items:{type:"object",properties:{title:{type:"string"},slug:{type:"string"}}}}),QE=Object(pe.c)(!1,(VE={},fe()(VE,"READER_TEAMS_REQUEST",function(){return!0}),fe()(VE,"READER_TEAMS_RECEIVE",function(){return!1}),VE)),zE=Object(pe.b)({items:BE,isRequesting:QE});var YE,KE,JE,ZE,$E,XE,eb,tb,nb=Object(pe.b)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_THUMBNAIL_RECEIVE":return ge()({},e,fe()({},t.embedUrl,t.thumbnailUrl))}return e},requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_THUMBNAIL_REQUEST":case"READER_THUMBNAIL_REQUEST_SUCCESS":case"READER_THUMBNAIL_REQUEST_FAILURE":return ge()({},e,fe()({},t.embedUrl,"READER_THUMBNAIL_REQUEST"===t.type))}return e}}),rb=Object(pe.b)({conversations:W_,feeds:J_,feedSearches:X_,follows:oE,lists:dE,posts:mE,recommendedSites:EE,relatedPosts:SE,siteBlocks:TE,sites:PE,streams:xE,tags:WE,teams:zE,thumbnails:nb}),ib=n("./client/state/receipts/reducer.js"),sb=Object(pe.e)("siteId",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.data;return"REWIND_STATE_UPDATE"===n?r:e}),ob=Object(pe.c)(!1,(YE={},fe()(YE,"KEYRING_CONNECTIONS_REQUEST",function(){return!0}),fe()(YE,"KEYRING_CONNECTIONS_REQUEST_SUCCESS",function(){return!1}),fe()(YE,"KEYRING_CONNECTIONS_REQUEST_FAILURE",function(){return!1}),YE)),ab=Object(pe.c)({},(KE={},fe()(KE,"KEYRING_CONNECTIONS_RECEIVE",function(e,t){var n=t.connections;return ge()({},Object(p.keyBy)(n,"ID"))}),fe()(KE,"KEYRING_CONNECTION_DELETE",function(e,t){var n=t.connection;return Object(p.omit)(e,n.ID)}),fe()(KE,"PUBLICIZE_CONNECTION_CREATE",function(e,t){var n=t.connection,r=n.keyring_connection_ID,i=n.site_ID,s=e[r],o=ce()(s.sites).concat([i.toString()]);return ge()({},e,fe()({},r,ge()({},s,{sites:o})))}),fe()(KE,"PUBLICIZE_CONNECTION_DELETE",function(e,t){var n=t.connection,r=n.keyring_connection_ID,i=n.site_ID,s=e[r],o=Object(p.without)(s.sites,i.toString());return ge()({},e,fe()({},r,ge()({},s,{sites:o})))}),KE),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",required:["ID"],properties:{ID:{type:"integer"},additional_external_users:{type:"array"},expires:{type:"string"},external_ID:{type:["string","null"]},external_display:{type:["string","null"]},external_name:{type:["string","null"]},external_profile_picture:{type:["string","null"]},issued:{type:"string"},label:{type:"string"},meta:{type:"object"},refresh_URL:{type:"string"},service:{type:"string"},sites:{type:"array"},status:{type:"string"},type:{type:"string"},user_ID:{type:"integer"}}}}}),cb=Object(pe.b)({isFetching:ob,items:ab}),ub={type:"object",patternProperties:{"^\\d+$":{type:"object",required:["ID","connection_id","status"],properties:{ID:{type:"string"},connection_id:{type:"integer"},message:{type:"string"},share_date:{type:"integer"},result:{type:"object"},url:{type:"string"},status:{type:"string"}}}}};function lb(e,t,n,r,i){return void 0!==i&&(e=ge()({},Object(p.get)(t,[n,r],{}),fe()({},i,e))),ge()({},t,fe()({},n,ge()({},Object(p.get)(t,[n],{}),fe()({},r,e))))}var db,pb,mb,fb,_b,Eb,bb=Object(pe.c)({},(JE={},fe()(JE,"PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_SUCCESS",function(e,t){var n=t.siteId,r=t.postId,i=t.actions;return lb(i,e,n,r)}),fe()(JE,"PUBLICIZE_SHARE_ACTION_DELETE_SUCCESS",function(e,t){var n=t.siteId,r=t.postId,i=t.actionId;return lb(Object(p.omit)(Object(p.get)(e,[n,r],{}),[i]),e,n,r)}),fe()(JE,"PUBLICIZE_SHARE_ACTION_EDIT_SUCCESS",function(e,t){var n=t.siteId,r=t.postId,i=t.item;return lb(i,e,n,r,i.ID)}),fe()(JE,"PUBLICIZE_SHARE_ACTION_SCHEDULE_SUCCESS",function(e,t){var n=t.siteId,r=t.postId,i=t.items;return i.forEach(function(t){return e=lb(t,e,n,r,t.ID)}),e}),JE),ub),gb=Object(pe.c)({},fe()({},"PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_SUCCESS",function(e,t){var n=t.siteId,r=t.postId,i=t.actions;return lb(i,e,n,r)}),ub),hb=Object(pe.c)({},(ZE={},fe()(ZE,"PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_SUCCESS",function(e,t){var n=t.siteId,r=t.postId;return lb(!1,e,n,r)}),fe()(ZE,"PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_FAILURE",function(e,t){var n=t.siteId,r=t.postId;return lb(!1,e,n,r)}),fe()(ZE,"PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST",function(e,t){var n=t.siteId,r=t.postId;return lb(!0,e,n,r)}),ZE)),Ob=Object(pe.c)({},($E={},fe()($E,"PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_SUCCESS",function(e,t){var n=t.siteId,r=t.postId;return lb(!1,e,n,r)}),fe()($E,"PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_FAILURE",function(e,t){var n=t.siteId,r=t.postId;return lb(!1,e,n,r)}),fe()($E,"PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST",function(e,t){var n=t.siteId,r=t.postId;return lb(!0,e,n,r)}),$E)),yb=Object(pe.c)({},(XE={},fe()(XE,"PUBLICIZE_SHARE_ACTION_DELETE_SUCCESS",function(e,t){var n=t.siteId,r=t.postId,i=t.actionId;return lb(!1,e,n,r,i)}),fe()(XE,"PUBLICIZE_SHARE_ACTION_DELETE_FAILURE",function(e,t){var n=t.siteId,r=t.postId,i=t.actionId;return lb(!1,e,n,r,i)}),fe()(XE,"PUBLICIZE_SHARE_ACTION_DELETE",function(e,t){var n=t.siteId,r=t.postId,i=t.actionId;return lb(!0,e,n,r,i)}),XE)),jb=Object(pe.c)({},(eb={},fe()(eb,"PUBLICIZE_SHARE_ACTION_EDIT_SUCCESS",function(e,t){var n=t.siteId,r=t.postId,i=t.item;return lb(!1,e,n,r,i.ID)}),fe()(eb,"PUBLICIZE_SHARE_ACTION_EDIT_FAILURE",function(e,t){var n=t.siteId,r=t.postId,i=t.actionId;return lb(!1,e,n,r,i)}),fe()(eb,"PUBLICIZE_SHARE_ACTION_EDIT",function(e,t){var n=t.siteId,r=t.postId,i=t.actionId;return lb(!0,e,n,r,i)}),eb)),vb=Object(pe.c)({},(tb={},fe()(tb,"PUBLICIZE_SHARE_ACTION_SCHEDULE_SUCCESS",function(e,t){var n=t.siteId,r=t.postId,i=t.share_date;return lb({status:"success",shareDate:i},e,n,r)}),fe()(tb,"PUBLICIZE_SHARE_ACTION_SCHEDULE_FAILURE",function(e,t){var n=t.siteId,r=t.postId;return lb({status:"failure"},e,n,r)}),fe()(tb,"PUBLICIZE_SHARE_ACTION_SCHEDULE",function(e,t){var n=t.siteId,r=t.postId;return lb({status:"requesting"},e,n,r)}),fe()(tb,"PUBLICIZE_SHARE_DISMISS",function(e,t){var n=t.siteId,r=t.postId;return lb(void 0,e,n,r)}),tb)),Sb=Object(pe.b)({scheduled:bb,published:gb,fetchingSharePostActionsScheduled:hb,fetchingSharePostActionsPublished:Ob,deletingSharePostAction:yb,editingSharePostAction:jb,schedulingSharePostActionStatus:vb}),Ib=Object(pe.c)({},(db={},fe()(db,"PUBLICIZE_SHARE",function(e,t){var n=t.siteId,r=t.postId;return ge()({},e,fe()({},n,ge()({},e[n],fe()({},r,{requesting:!0}))))}),fe()(db,"PUBLICIZE_SHARE_SUCCESS",function(e,t){var n=t.siteId,r=t.postId;return ge()({},e,fe()({},n,ge()({},e[n],fe()({},r,{requesting:!1,success:!0}))))}),fe()(db,"PUBLICIZE_SHARE_FAILURE",function(e,t){var n=t.siteId,r=t.postId,i=t.error;return ge()({},e,fe()({},n,ge()({},e[n],fe()({},r,{requesting:!1,success:!1,error:i}))))}),fe()(db,"PUBLICIZE_SHARE_DISMISS",function(e,t){var n=t.siteId,r=t.postId;return ge()({},e,fe()({},n,ge()({},e[n],fe()({},r,void 0))))}),db)),Tb=Object(pe.c)({},(pb={},fe()(pb,"PUBLICIZE_CONNECTION_REQUEST",function(e,t){var n=t.connectionId;return ge()({},e,fe()({},n,!0))}),fe()(pb,"PUBLICIZE_CONNECTION_REQUEST_SUCCESS",function(e,t){var n=t.connectionId;return ge()({},e,fe()({},n,!1))}),fe()(pb,"PUBLICIZE_CONNECTION_REQUEST_FAILURE",function(e,t){var n=t.connectionId;return ge()({},e,fe()({},n,!1))}),pb)),Cb=Object(pe.c)({},(mb={},fe()(mb,"PUBLICIZE_CONNECTIONS_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()(mb,"PUBLICIZE_CONNECTIONS_RECEIVE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(mb,"PUBLICIZE_CONNECTIONS_REQUEST_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),mb)),Rb=Object(pe.c)({},fe()({},"PUBLICIZE_CONNECTIONS_RECEIVE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))})),Ab=Object(pe.c)({},(fb={},fe()(fb,"PUBLICIZE_CONNECTIONS_RECEIVE",function(e,t){return ge()({},Object(p.omitBy)(e,{site_ID:t.siteId}),Object(p.keyBy)(t.data.connections,"ID"))}),fe()(fb,"PUBLICIZE_CONNECTION_CREATE",function(e,t){var n=t.connection;return ge()({},e,fe()({},n.ID,n))}),fe()(fb,"PUBLICIZE_CONNECTION_DELETE",function(e,t){var n=t.connection.ID;return Object(p.omit)(e,n)}),fe()(fb,"PUBLICIZE_CONNECTION_RECEIVE",function(e,t){var n=t.connection;return ge()({},e,fe()({},n.ID,n))}),fe()(fb,"PUBLICIZE_CONNECTION_UPDATE",function(e,t){var n=t.connection;return ge()({},e,fe()({},n.ID,n))}),fb),{type:"object",patternProperties:{"^\\d+$":{type:"object",required:["ID","site_ID"],properties:{ID:{type:"integer"},site_ID:{type:"integer"},user_ID:{type:"integer"},keyring_connection_ID:{type:"integer"},keyring_connection_user_ID:{type:"integer"},shared:{type:"boolean"},service:{type:"string"},label:{type:"string"},issued:{type:"string"},expires:{type:"string"},external_ID:{type:["string","null"]},external_name:{type:["string","null"]},external_display:{type:["string","null"]},external_profile_picture:{type:["string","null"]},external_profile_URL:{type:["string","null"]},external_follower_count:{type:["integer","null"]},status:{type:"string"},refresh_URL:{type:"string"},meta:{type:"object"}}}},additionalProperties:!1}),Nb=Object(pe.b)({fetchingConnection:Tb,fetchingConnections:Cb,fetchedConnections:Rb,connections:Ab,sharePostStatus:Ib,sharePostActions:Sb}),wb=Object(pe.c)({},fe()({},"KEYRING_SERVICES_RECEIVE",function(e,t){return t.services}),{type:"object",additionalProperties:!1,patternProperties:{"^[a-z_]+$":{type:"object",required:["ID","connect_URL","description","genericon","icon","jetpack_support","label","multiple_external_user_ID_support","external_users_only","type"],properties:{ID:{type:"string"},connect_URL:{type:"string"},description:{type:"string"},genericon:{type:"object"},icon:{type:"string"},jetpack_module_required:{type:"string"},jetpack_support:{type:"boolean"},label:{type:"string"},multiple_external_user_ID_support:{type:"boolean"},external_users_only:{type:"boolean"},type:{type:"string"}}}}}),Pb=Object(pe.c)(!1,(_b={},fe()(_b,"KEYRING_SERVICES_REQUEST",function(){return!0}),fe()(_b,"KEYRING_SERVICES_REQUEST_SUCCESS",function(){return!1}),fe()(_b,"KEYRING_SERVICES_REQUEST_FAILURE",function(){return!1}),_b)),Ub=Object(pe.b)({isFetching:Pb,items:wb}),Db=Object(pe.b)({keyring:cb,publicize:Nb,services:Ub}),kb=n("./client/lib/redux-bridge/index.js"),Lb=n("./client/lib/shortcode/index.js");Object(kb.c)("RECEIVE_MEDIA_ITEMS"),Object(kb.c)("RECEIVE_MEDIA_ITEM");var Mb=function(e){return function(t,n){var r=n.siteId,i=n.shortcode;return Object(p.merge)({},t,fe()({},r,fe()({},i,e)))}},xb=Object(pe.c)({},(Eb={},fe()(Eb,"SHORTCODE_REQUEST",Mb(!0)),fe()(Eb,"SHORTCODE_REQUEST_FAILURE",Mb(!1)),fe()(Eb,"SHORTCODE_REQUEST_SUCCESS",Mb(!1)),Eb));function Fb(e,t){var n=t.siteId,r=t.data;if(!e.hasOwnProperty(n))return e;if(!r)return e;var i=Array.isArray(r.media)?r.media:[r],s=i.map(function(e){return String(e.ID)});return ge()({},e,fe()({},n,Object(p.pickBy)(e[n],function(e){var t=Object(Lb.b)(e.shortcode);if("gallery"!==t.tag||!t.attrs||!t.attrs.named||!t.attrs.named.ids)return!0;var n=t.attrs.named.ids.split(",");return!Object(p.intersection)(n,s).length})))}var Vb,Gb,qb=Object(pe.c)({},fe()({FLUX_RECEIVE_MEDIA_ITEM:Fb,FLUX_RECEIVE_MEDIA_ITEMS:Fb},"SHORTCODE_RECEIVE",function(e,t){var n=t.siteId,r=t.shortcode,i=t.data;return Object(p.merge)({},e,fe()({},n,fe()({},r,i)))}),{type:"object",patternProperties:{"^\\d+$":{type:"object",patternProperties:{"^.+$":{type:"object",properties:{result:{type:"string"},shortcode:{type:"string"},scripts:{type:"object"},styles:{type:"object"}}}}}}}),Hb=Object(pe.b)({requesting:xb,items:qb}),Wb=Object(pe.c)({},(Vb={},fe()(Vb,"SIGNUP_DEPENDENCY_STORE_UPDATE",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.dependencies;return ge()({},e,n)}),fe()(Vb,"SIGNUP_COMPLETE_RESET",function(){return{}}),Vb),{type:"object",properties:{cartItem:{OneOfType:[{type:"null"},{type:"optional"},{type:"object",properties:{product_slug:{type:"string"},free_trial:{type:"boolean"}}}]},designType:{type:"string"},domainItem:{OneOfType:[{type:"null"},{type:"optional"},{type:"object",properties:{is_domain_registration:{type:"boolean"},product_slug:{type:"string"},meta:{type:"string"}}}]},surveyQuestion:{type:"string"},surveySiteType:{type:"string"},theme:{type:"string"}}}),Bb=n("./client/signup/config/steps-pure.js"),Qb=n("./client/signup/config/flows-pure.js"),zb=i()("calypso:state:signup:progress:reducer");function Yb(e,t){var n=t.steps,r=void 0===n?[]:n;return Array.isArray(r)?r:[]}function Kb(e,t){return zb("Adding step "+t.stepName),ce()(e).concat([t])}function Jb(e,t){return zb("Updating step "+t.stepName),Object(p.map)(e,function(e){if(e.stepName===t.stepName){var n=t.status;if("pending"===n||"completed"===n){e.processingMessage,e.wasSkipped;var r=Zt()(e,["processingMessage","wasSkipped"]);return ge()({},r,t)}return ge()({},e,t)}return e})}var Zb,$b,Xb,eg,tg,ng,rg=Object(pe.c)([],(Gb={},fe()(Gb,"SIGNUP_COMPLETE_RESET",Yb),fe()(Gb,"SIGNUP_PROGRESS_COMPLETE_STEP",function(e,t){var n=t.step;return Jb(e,ge()({},n,{status:"completed"}))}),fe()(Gb,"SIGNUP_PROGRESS_INVALIDATE_STEP",function(e,t){var n=t.step,r=t.errors,i=ge()({},n,{errors:r,status:"invalid"});return Object(p.find)(e,{stepName:i.stepName})?Jb(e,i):Kb(e,i)}),fe()(Gb,"SIGNUP_PROGRESS_PROCESS_STEP",function(e,t){var n=t.step;return Jb(e,ge()({},n,{status:"processing"}))}),fe()(Gb,"SIGNUP_PROGRESS_REMOVE_UNNEEDED_STEPS",function(e,t){var n=t.flowName,r=Object(p.get)(Qb.a,n+".steps",[]);return e.filter(function(e){return r.includes(e.stepName)})}),fe()(Gb,"SIGNUP_PROGRESS_SAVE_STEP",function(e,t){var n=t.step;return Object(p.find)(e,{stepName:n.stepName})?Jb(e,n):Kb(e,ge()({},n,{status:"in-progress"}))}),fe()(Gb,"SIGNUP_PROGRESS_SET",Yb),fe()(Gb,"SIGNUP_PROGRESS_SUBMIT_STEP",function(e,t){var n=t.step,r=Object(p.get)(Bb.a,n.stepName+".apiRequestFunction"),i=r?"pending":"completed";return Object(p.find)(e,{stepName:n.stepName})?Jb(e,ge()({},n,{status:i})):Kb(e,ge()({},n,{status:i}))}),Gb),{type:"array",items:{type:"object",properties:{formData:{type:"object",properties:{url:{type:"string"}}},lastUpdated:{type:"number"},status:{type:"string"},stepName:{type:"string"}}}}),ig=Object(pe.c)("",fe()({},"SIGNUP_OPTIONAL_DEPENDENCY_SUGGESTED_USERNAME_SET",function(e,t){return t.data}),{type:["string","null"]}),sg=Object(pe.b)({suggestedUsername:ig}),og=Object(pe.c)("",(Zb={},fe()(Zb,"SIGNUP_STEPS_DESIGN_TYPE_SET",function(e,t){return t.designType}),fe()(Zb,"SIGNUP_COMPLETE_RESET",function(){return""}),Zb),{type:["string","null"]}),ag=Object(pe.c)("",($b={},fe()($b,"SIGNUP_STEPS_SITE_TITLE_SET",function(e,t){return t.siteTitle}),fe()($b,"SIGNUP_COMPLETE_RESET",function(){return""}),$b),{type:["string","null"]}),cg=Object(pe.c)("",(Xb={},fe()(Xb,"SIGNUP_STEPS_SITE_GOALS_SET",function(e,t){return t.siteGoals}),fe()(Xb,"SIGNUP_COMPLETE_RESET",function(){return""}),Xb),{type:["string","null"]}),ug=Object(pe.c)("",(eg={},fe()(eg,"SIGNUP_STEPS_USER_EXPERIENCE_SET",function(e,t){return t.userExperience}),fe()(eg,"SIGNUP_COMPLETE_RESET",function(){return""}),eg),{type:["string","null"]}),lg=Object(pe.c)({},(tg={},fe()(tg,"SIGNUP_STEPS_SURVEY_SET",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return ge()({},e,{vertical:t.survey.vertical,otherText:t.survey.otherText,siteType:t.survey.siteType})}),fe()(tg,"SIGNUP_COMPLETE_RESET",function(){return{}}),tg),{type:"object",properties:{vertical:{type:"string"},otherText:{type:"string"},siteType:{type:"string"}}}),dg=Object(pe.b)({designType:og,siteTitle:ag,siteGoals:cg,userExperience:ug,survey:lg}),pg=Object(pe.b)({dependencyStore:Wb,optionalDependencies:sg,progress:rg,steps:dg}),mg=n("./client/state/simple-payments/product-list/schema.js");function fg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=0,r=e.map(function(e){return e.ID===t.ID?(n=1,t):e});return n?r:[t].concat(ce()(r))}var _g,Eg=Object(pe.c)({},(ng={},fe()(ng,"SIMPLE_PAYMENTS_PRODUCT_RECEIVE",function(e,t){var n=t.siteId,r=t.product;return ge()({},e,fe()({},n,fg(e[n],r)))}),fe()(ng,"SIMPLE_PAYMENTS_PRODUCTS_LIST_RECEIVE",function(e,t){var n=t.siteId,r=t.products;return ge()({},e,fe()({},n,r))}),fe()(ng,"SIMPLE_PAYMENTS_PRODUCTS_LIST_RECEIVE_UPDATE",function(e,t){var n=t.siteId,r=t.product;return ge()({},e,fe()({},n,fg(e[n],r)))}),fe()(ng,"SIMPLE_PAYMENTS_PRODUCTS_LIST_RECEIVE_DELETE",function(e,t){var n=t.siteId,r=t.productId;return ge()({},e,fe()({},n,e[n].filter(function(e){return e.ID!==r})))}),ng),mg.a),bg=Object(pe.b)({items:Eg}),gg=Object(pe.b)({productList:bg}),hg=n("./client/state/sites/plans/reducer.js"),Og=function(e){return function(t,n){var r=n.siteId;return ge()({},t,fe()({},r,e))}},yg=Object(pe.c)({},fe()({},"SITE_CONNECTION_STATUS_RECEIVE",function(e,t){var n=t.siteId,r=t.status;return ge()({},e,fe()({},n,r))})),jg=Object(pe.c)({},(_g={},fe()(_g,"SITE_CONNECTION_STATUS_REQUEST",Og(!0)),fe()(_g,"SITE_CONNECTION_STATUS_REQUEST_FAILURE",Og(!1)),fe()(_g,"SITE_CONNECTION_STATUS_REQUEST_SUCCESS",Og(!1)),_g)),vg=Object(pe.b)({items:yg,requesting:jg}),Sg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.siteId;switch(t.type){case"SITE_DOMAINS_RECEIVE":return Object.assign({},e,fe()({},n,t.domains))}return e};Sg.schema={type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"array",items:{type:"object",required:["domain"],properties:{autoRenewalDate:{type:"string"},autoRenewing:{type:"boolean"},blogId:{type:"number"},canSetAsPrimary:{type:"boolean"},currentUserCanManage:{type:"boolean"},domain:{type:"string"},expired:{type:"boolean"},expiry:{type:["null","string"]},expirySoon:{type:"boolean"},googleAppsSubscription:{type:"object"},hasPrivacyProtection:{type:"boolean"},hasRegistration:{type:"boolean"},hasWpcomNameservers:{type:"boolean"},hasZone:{type:"boolean"},isPendingIcannVerification:{type:"boolean"},isPrimary:{type:"boolean"},isPrivate:{type:"boolean"},isWPCOMDomain:{type:"boolean"},manualTransferRequired:{type:"boolean"},newRegistration:{type:"boolean"},name:{type:"string"},owner:{type:"string",optional:!0},partnerDomain:{type:"boolean"},pendingRegistration:{type:"boolean"},pendingRegistrationTime:{type:"string"},pointsToWpcom:{type:"boolean"},registrar:{type:"string"},registrationDate:{type:"string"},subscriptionId:{type:["null","string"]},supportsDomainConnect:{type:"boolean",optional:!0},type:{type:"string"}}}}}};var Ig,Tg,Cg,Rg,Ag,Ng=Object(pe.b)({items:Sg,requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_DOMAINS_REQUEST":case"SITE_DOMAINS_REQUEST_SUCCESS":case"SITE_DOMAINS_REQUEST_FAILURE":return Object.assign({},e,fe()({},t.siteId,"SITE_DOMAINS_REQUEST"===t.type))}return e},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_DOMAINS_REQUEST":case"SITE_DOMAINS_REQUEST_SUCCESS":return Object.assign({},e,fe()({},t.siteId,null));case"SITE_DOMAINS_REQUEST_FAILURE":return Object.assign({},e,fe()({},t.siteId,t.error))}return e}}),wg=Object(pe.c)({},fe()({},"GUIDED_TRANSFER_STATUS_RECEIVE",function(e,t){return ge()({},e,fe()({},t.siteId,t.guidedTransferStatus))}),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",properties:{issues:{type:"array",items:{type:"object",properties:{reason:{type:"string"},prevents_transfer:{type:"boolean"}}}},upgrade_purchased:{type:"boolean"},host_details_entered:{type:"boolean"}}}}}),Pg=Object(pe.c)({},(Ig={},fe()(Ig,"GUIDED_TRANSFER_STATUS_REQUEST",function(e,t){return ge()({},e,fe()({},t.siteId,!0))}),fe()(Ig,"GUIDED_TRANSFER_STATUS_REQUEST_SUCCESS",function(e,t){return ge()({},e,fe()({},t.siteId,!1))}),fe()(Ig,"GUIDED_TRANSFER_STATUS_REQUEST_FAILURE",function(e,t){return ge()({},e,fe()({},t.siteId,!1))}),Ig)),Ug=Object(pe.c)({},(Tg={},fe()(Tg,"GUIDED_TRANSFER_HOST_DETAILS_SAVE",function(e,t){return ge()({},e,fe()({},t.siteId,null))}),fe()(Tg,"GUIDED_TRANSFER_HOST_DETAILS_SAVE_SUCCESS",function(e,t){return ge()({},e,fe()({},t.siteId,null))}),fe()(Tg,"GUIDED_TRANSFER_HOST_DETAILS_SAVE_FAILURE",function(e,t){var n=!0;return t.error&&t.error.error&&(n=t.error.error),ge()({},e,fe()({},t.siteId,n))}),Tg)),Dg=Object(pe.c)({},(Cg={},fe()(Cg,"GUIDED_TRANSFER_HOST_DETAILS_SAVE",function(e,t){return ge()({},e,fe()({},t.siteId,!0))}),fe()(Cg,"GUIDED_TRANSFER_HOST_DETAILS_SAVE_SUCCESS",function(e,t){return ge()({},e,fe()({},t.siteId,!1))}),fe()(Cg,"GUIDED_TRANSFER_HOST_DETAILS_SAVE_FAILURE",function(e,t){return ge()({},e,fe()({},t.siteId,!1))}),Cg)),kg=Object(pe.b)({error:Ug,isFetching:Pg,isSaving:Dg,status:wg}),Lg=Object(pe.c)({},fe()({},"SITE_MONITOR_SETTINGS_RECEIVE",function(e,t){var n=t.siteId,r=t.settings;return ge()({},e,fe()({},n,r))})),Mg=Object(pe.e)("siteId",Object(pe.c)({},(Rg={},fe()(Rg,"SITE_MONITOR_SETTINGS_REQUEST",p.stubTrue),fe()(Rg,"SITE_MONITOR_SETTINGS_REQUEST_SUCCESS",p.stubFalse),fe()(Rg,"SITE_MONITOR_SETTINGS_REQUEST_FAILURE",p.stubFalse),Rg))),xg=Object(pe.e)("siteId",Object(pe.c)({},(Ag={},fe()(Ag,"SITE_MONITOR_SETTINGS_UPDATE",p.stubTrue),fe()(Ag,"SITE_MONITOR_SETTINGS_UPDATE_SUCCESS",p.stubFalse),fe()(Ag,"SITE_MONITOR_SETTINGS_UPDATE_FAILURE",p.stubFalse),Ag))),Fg=Object(pe.b)({items:Lg,requesting:Mg,updating:xg}),Vg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.siteId,r=t.type,i=t.voucher,s=t.vouchers,o=t.serviceType;switch(r){case"SITE_VOUCHERS_ASSIGN_RECEIVE":var a=e[n]&&e[n][o]||[];return Object.assign({},e,fe()({},n,fe()({},o,a.concat(i))));case"SITE_VOUCHERS_RECEIVE":return Object.assign({},e,fe()({},n,s))}return e};Vg.schema={type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",additionalProperties:!1,patternProperties:{"^[a-z-]+$":{type:"array",items:{type:"object",required:["assigned","assigned_by"],additionalProperties:!1,properties:{assigned:{type:"string"},assigned_by:{type:"number"},code:{type:"string"},status:{type:"string"}}}}}}}};var Gg,qg,Hg,Wg=Object(pe.b)({items:Vg,requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.siteId;switch(n){case"SITE_VOUCHERS_ASSIGN_REQUEST":case"SITE_VOUCHERS_ASSIGN_REQUEST_SUCCESS":case"SITE_VOUCHERS_ASSIGN_REQUEST_FAILURE":case"SITE_VOUCHERS_REQUEST":case"SITE_VOUCHERS_REQUEST_SUCCESS":case"SITE_VOUCHERS_REQUEST_FAILURE":return Object.assign({},e,fe()({},r,{getAll:"SITE_VOUCHERS_REQUEST"===n,assign:"SITE_VOUCHERS_ASSIGN_REQUEST"===n}))}return e},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.siteId,i=t.error;switch(n){case"SITE_VOUCHERS_ASSIGN_REQUEST":case"SITE_VOUCHERS_ASSIGN_REQUEST_SUCCESS":case"SITE_VOUCHERS_REQUEST":case"SITE_VOUCHERS_REQUEST_SUCCESS":return Object.assign({},e,fe()({},r,{getAll:null,assign:null}));case"SITE_VOUCHERS_REQUEST_FAILURE":case"SITE_VOUCHERS_ASSIGN_REQUEST_FAILURE":return Object.assign({},e,fe()({},r,{getAll:"SITE_VOUCHERS_REQUEST_FAILURE"===n?i:null,assign:"SITE_VOUCHERS_ASSIGN_REQUEST_FAILURE"===n?i:null}))}return e}}),Bg=Object(pe.c)({},(Gg={},fe()(Gg,"SHARING_BUTTONS_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()(Gg,"SHARING_BUTTONS_REQUEST_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(Gg,"SHARING_BUTTONS_REQUEST_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),Gg)),Qg=Object(pe.c)({},(qg={},fe()(qg,"SHARING_BUTTONS_SAVE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,{saving:!0,status:"pending"}))}),fe()(qg,"SHARING_BUTTONS_SAVE_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,{saving:!1,status:"success"}))}),fe()(qg,"SHARING_BUTTONS_SAVE_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,{saving:!1,status:"error"}))}),qg)),zg=Object(pe.c)({},(Hg={},fe()(Hg,"SHARING_BUTTONS_RECEIVE",function(e,t){var n=t.siteId,r=t.settings;return ge()({},e,fe()({},n,r))}),fe()(Hg,"SHARING_BUTTONS_UPDATE",function(e,t){var n=t.siteId,r=t.settings;return ge()({},e,fe()({},n,Object(p.uniqBy)(r.concat(e[n]||[]),"ID")))}),Hg),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"array",items:{type:"object"}}}}),Yg=Object(pe.b)({items:zg,requesting:Bg,saveRequests:Qg});function Kg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_MEDIA_STORAGE_RECEIVE":var n=Object(p.pick)(t.mediaStorage,["max_storage_bytes","storage_used_bytes"]);return Object.assign({},e,fe()({},t.siteId,n))}return e}Kg.schema={type:"object",patternProperties:{"^\\d+$":{type:"object",required:["max_storage_bytes","storage_used_bytes"],properties:{max_storage_bytes:{type:["integer"]},storage_used_bytes:{type:["integer"]}}}},additionalProperties:!1};var Jg,Zg,$g,Xg,eh=Object(pe.b)({items:Kg,fetchingItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_MEDIA_STORAGE_REQUEST":case"SITE_MEDIA_STORAGE_REQUEST_SUCCESS":case"SITE_MEDIA_STORAGE_REQUEST_FAILURE":return Object.assign({},e,fe()({},t.siteId,"SITE_MEDIA_STORAGE_REQUEST"===t.type))}return e}}),th=Object(pe.c)({},(Jg={},fe()(Jg,"SITES_BLOG_STICKER_LIST_RECEIVE",function(e,t){return ge()({},e,fe()({},t.payload.blogId,t.payload.stickers))}),fe()(Jg,"SITES_BLOG_STICKER_ADD",function(e,t){var n=t.payload,r=n.blogId,i=n.stickerName;return Object(p.includes)(e[r],i)?e:ge()({},e,fe()({},r,Object(p.compact)(Object(p.concat)(i,e[r]))))}),fe()(Jg,"SITES_BLOG_STICKER_REMOVE",function(e,t){var n=t.payload,r=n.blogId,i=n.stickerName;return Object(p.includes)(e[r],i)?ge()({},e,fe()({},r,Object(p.reject)(e[r],function(e){return e===i}))):e}),Jg)),nh=Object(pe.b)({items:th});function rh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if(null===e&&"SITE_RECEIVE"!==t.type&&"SITES_RECEIVE"!==t.type)return null;switch(t.type){case"WORDADS_SITE_APPROVE_REQUEST_SUCCESS":var n=e[t.siteId];return n?Object.assign({},e,fe()({},t.siteId,Object(p.merge)({},n,{options:{wordads:!0}}))):e;case"SITE_RECEIVE":case"SITES_RECEIVE":var r=t.site?[t.site]:t.sites,i="SITES_RECEIVE"===t.type?{}:e;return Object(p.reduce)(r,function(t,n){return Object(p.isEqual)(t[n.ID],n)?t:(t===e&&(t=ge()({},e)),t[n.ID]=n,t)},i||{});case"SITE_DELETE_RECEIVE":case"JETPACK_DISCONNECT_RECEIVE":return Object(p.omit)(e,t.siteId);case"THEME_ACTIVATE_SUCCESS":var s=t.siteId,o=t.themeStylesheet,a=e[s];if(!a)break;return ge()({},e,fe()({},s,Object(p.merge)({},a,{options:{theme_slug:o}})));case"SITE_SETTINGS_UPDATE":case"SITE_SETTINGS_RECEIVE":var c=t.siteId,u=t.settings,l=e[c];if(!l)return e;var d=l;return Object(p.reduce)(["blog_public","site_icon"],function(t,n){if(!u.hasOwnProperty(n))return t;switch(n){case"blog_public":var r=-1===parseInt(u.blog_public,10);if(l.is_private===r)return t;d=ge()({},d,{is_private:r});break;case"site_icon":var i=u.site_icon;if(!l.icon&&null===i||l.icon&&l.icon.media_id===i)return t;d=null===i?Object(p.omit)(d,"icon"):ge()({},d,{icon:{media_id:i}})}return t===e&&(t=ge()({},e)),t[c]=d,t},e);case"MEDIA_DELETE":var m=t.siteId,f=t.mediaIds,_=Object(p.get)(e[m],"icon.media_id");return _&&Object(p.includes)(f,_)?ge()({},e,fe()({},m,Object(p.omit)(e[m],"icon"))):e;case"SITE_PLUGIN_UPDATED":var E=t.siteId,b=Object(p.get)(e[E],"updates");return b?ge()({},e,fe()({},E,ge()({},e[E],{updates:ge()({},b,{plugins:b.plugins-1,total:b.total-1})}))):e}return e}rh.schema=CE;var ih,sh,oh,ah,ch,uh,lh,dh=Object(pe.c)(!1,(Zg={},fe()(Zg,"SITES_REQUEST",function(){return!0}),fe()(Zg,"SITES_REQUEST_FAILURE",function(){return!1}),fe()(Zg,"SITES_REQUEST_SUCCESS",function(){return!1}),Zg)),ph=Object(pe.c)({},($g={},fe()($g,"SITE_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()($g,"SITE_REQUEST_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()($g,"SITE_REQUEST_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),$g)),mh=Object(pe.e)("siteId",Object(pe.c)({},(Xg={},fe()(Xg,"SITE_DELETE",p.stubTrue),fe()(Xg,"SITE_DELETE_FAILURE",p.stubFalse),fe()(Xg,"SITE_DELETE_SUCCESS",p.stubFalse),Xg))),fh=Object(pe.c)(!1,fe()({},"SITES_RECEIVE",function(){return!0}),{type:["boolean","null"]}),_h=Object(pe.b)({connection:vg,deleting:mh,domains:Ng,requestingAll:dh,items:rh,mediaStorage:eh,plans:hg.b,guidedTransfer:kg,monitor:Fg,vouchers:Wg,requesting:ph,sharingButtons:Yg,blogStickers:nh,hasAllSitesList:fh}),Eh=Object(pe.c)({},(ih={},fe()(ih,"SITE_KEYRINGS_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()(ih,"SITE_KEYRINGS_REQUEST_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(ih,"SITE_KEYRINGS_REQUEST_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),ih)),bh=Object(pe.c)({},(sh={},fe()(sh,"SITE_KEYRINGS_SAVE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,{saving:!0,status:"pending",error:!1}))}),fe()(sh,"SITE_KEYRINGS_SAVE_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,{saving:!1,status:"success",error:!1}))}),fe()(sh,"SITE_KEYRINGS_SAVE_FAILURE",function(e,t){var n=t.siteId,r=t.error;return ge()({},e,fe()({},n,{saving:!1,status:"error",error:r}))}),sh)),gh=Object(pe.c)({},(oh={},fe()(oh,"SITE_KEYRINGS_REQUEST_SUCCESS",function(e,t){var n=t.siteId,r=t.keyrings;return ge()({},e,fe()({},n,r))}),fe()(oh,"SITE_KEYRINGS_SAVE_SUCCESS",function(e,t){var n=t.siteId,r=t.keyring;return ge()({},e,fe()({},n,(e[n]||[]).concat([r])))}),fe()(oh,"SITE_KEYRINGS_UPDATE_SUCCESS",function(e,t){var n=t.siteId,r=t.keyringId,i=t.externalUserId;return ge()({},e,fe()({},n,e[n].map(function(e){return e.keyring_id===r?ge()({},e,{external_user_id:i}):e})))}),fe()(oh,"SITE_KEYRINGS_DELETE_SUCCESS",function(e,t){var n=t.siteId,r=t.keyringId,i=t.externalUserId;return ge()({},e,fe()({},n,(e[n]||[]).filter(function(e){return!(e.keyring_id===r&&(!i||e.external_user_id===i))})))}),oh),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"array",items:{type:"object",properties:{keyring_id:{type:"number"},service:{type:"string"},external_user_id:{type:["string","null"]}}}}}}),hh=Object(pe.b)({items:gh,requesting:Eh,saveRequests:bh}),Oh=Object(pe.c)({},(ah={},fe()(ah,"SITE_ROLES_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()(ah,"SITE_ROLES_REQUEST_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(ah,"SITE_ROLES_REQUEST_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),ah)),yh=Object(pe.c)({},fe()({},"SITE_ROLES_RECEIVE",function(e,t){var n=t.siteId,r=t.roles;return ge()({},e,fe()({},n,r))}),{type:"object",patternProperties:{"^\\d+$":{type:"array",items:{type:"object",properties:{name:{type:"string"},display_name:{type:"string"},capabilities:{type:"object",patternProperties:{"^.+$":{type:"boolean"}}}},required:["name","display_name","capabilities"]}}}}),jh=Object(pe.b)({requesting:Oh,items:yh}),vh=Object(pe.c)({},(ch={},fe()(ch,"SITE_ADDRESS_CHANGE_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()(ch,"SITE_ADDRESS_CHANGE_REQUEST_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(ch,"SITE_ADDRESS_CHANGE_REQUEST_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),ch)),Sh=Object(pe.c)({},(uh={},fe()(uh,"SITE_ADDRESS_CHANGE_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,{status:"pending",error:!1}))}),fe()(uh,"SITE_ADDRESS_CHANGE_REQUEST_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,{status:"success",error:!1}))}),fe()(uh,"SITE_ADDRESS_CHANGE_REQUEST_FAILURE",function(e,t){var n=t.siteId,r=t.error;return ge()({},e,fe()({},n,{status:"error",error:r}))}),uh)),Ih=Object(pe.c)({},(lh={},fe()(lh,"SITE_ADDRESS_AVAILABILITY_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,ge()({},Object(p.get)(e,n,{}),{pending:!0,error:null,isAvailable:null})))}),fe()(lh,"SITE_ADDRESS_AVAILABILITY_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,ge()({},Object(p.get)(e,n,{}),{pending:!1,error:null,isAvailable:!0})))}),fe()(lh,"SITE_ADDRESS_AVAILABILITY_ERROR",function(e,t){var n=t.siteId,r=t.errorType,i=t.message;return ge()({},e,fe()({},n,ge()({},Object(p.get)(e,n,{}),{isAvailable:!1,pending:!1,error:{errorType:r,message:i}})))}),fe()(lh,"SITE_ADDRESS_AVAILABILITY_ERROR_CLEAR",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,ge()({},Object(p.get)(e,n,{}),{error:null,isAvailable:null})))}),lh)),Th=Object(pe.b)({validation:Ih,status:Sh,requesting:vh}),Ch=n("./client/state/site-settings/exporter/constants.js");var Rh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{post:{},page:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_POST_TYPE_FIELD_SET":return Object.assign({},e,fe()({},t.postType,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_POST_TYPE_FIELD_SET":return Object.assign({},e,fe()({},t.fieldName,t.value))}return e}(e[t.postType],t)))}return e};var Ah,Nh,wh,Ph=Object(pe.b)({selectedPostType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_POST_TYPE_SET":return t.postType}return e},selectedAdvancedSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_POST_TYPE_FIELD_SET":return Object.assign({},e,fe()({},t.siteId,Rh(e[t.siteId],t)))}return e},exportingState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.siteId;switch(n){case"EXPORT_START_REQUEST":return Object.assign({},e,fe()({},r,Ch.a.STARTING));case"EXPORT_STARTED":return Object.assign({},e,fe()({},r,Ch.a.EXPORTING));case"EXPORT_COMPLETE":return Object.assign({},e,fe()({},r,Ch.a.COMPLETE));case"EXPORT_FAILURE":return Object.assign({},e,fe()({},r,Ch.a.FAILED));case"EXPORT_CLEAR":return Object.assign({},e,fe()({},r,Ch.a.READY))}return e},fetchingAdvancedSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_ADVANCED_SETTINGS_FETCH":return Object.assign({},e,fe()({},t.siteId,!0));case"EXPORT_ADVANCED_SETTINGS_FETCH_FAIL":case"EXPORT_ADVANCED_SETTINGS_RECEIVE":return Object.assign({},e,fe()({},t.siteId,!1))}return e},advancedSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_ADVANCED_SETTINGS_RECEIVE":return Object.assign({},e,fe()({},t.siteId,t.advancedSettings))}return e},downloadURL:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_COMPLETE":return t.downloadURL;case"EXPORT_CLEAR":return null}return e}}),Uh=Object(pe.c)({},(Ah={},fe()(Ah,"SITE_SETTINGS_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()(Ah,"SITE_SETTINGS_REQUEST_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(Ah,"SITE_SETTINGS_REQUEST_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),Ah)),Dh=Object(pe.c)({},(Nh={},fe()(Nh,"SITE_SETTINGS_SAVE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,{saving:!0,status:"pending",error:!1}))}),fe()(Nh,"SITE_SETTINGS_SAVE_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,{saving:!1,status:"success",error:!1}))}),fe()(Nh,"SITE_SETTINGS_SAVE_FAILURE",function(e,t){var n=t.siteId,r=t.error;return ge()({},e,fe()({},n,{saving:!1,status:"error",error:r}))}),Nh)),kh=Object(pe.c)({},(wh={},fe()(wh,"SITE_SETTINGS_RECEIVE",function(e,t){var n=t.siteId,r=t.settings;return ge()({},e,fe()({},n,r))}),fe()(wh,"SITE_SETTINGS_UPDATE",function(e,t){var n=t.siteId,r=t.settings;return ge()({},e,fe()({},n,ge()({},e[n],r)))}),fe()(wh,"MEDIA_DELETE",function(e,t){var n=t.siteId,r=t.mediaIds,i=e[n];return i&&Object(p.includes)(r,i.site_icon)?ge()({},e,fe()({},n,ge()({},i,{site_icon:null}))):e}),wh),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object"}}}),Lh=Object(pe.b)({exporter:Ph,items:kh,requesting:Uh,saveRequests:Dh});function Mh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_STATS_RECEIVE":return ge()({},e,fe()({},t.siteId,ge()({},Object(p.get)(e,[t.siteId],{}),fe()({},t.postId,ge()({},Object(p.get)(e,[t.siteId,t.postId],{}),t.stats)))))}return e}Mh.schema={type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object"}}}}};var xh,Fh=Object(pe.b)({requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_STATS_REQUEST":case"POST_STATS_REQUEST_SUCCESS":case"POST_STATS_REQUEST_FAILURE":return Object(p.merge)({},e,fe()({},t.siteId,fe()({},t.postId,fe()({},t.fields.join(),"POST_STATS_REQUEST"===t.type))))}return e},items:Mh}),Vh=n("./client/state/stats/lists/utils.js"),Gh=Object(pe.c)({},(xh={},fe()(xh,"SITE_STATS_REQUEST",function(e,t){var n=t.siteId,r=t.statType,i=t.query,s=Object(Vh.c)(i);return Object(p.merge)({},e,fe()({},n,fe()({},r,fe()({},s,{requesting:!0,status:"pending"}))))}),fe()(xh,"SITE_STATS_RECEIVE",function(e,t){var n=t.siteId,r=t.statType,i=t.query,s=t.date,o=Object(Vh.c)(i);return Object(p.merge)({},e,fe()({},n,fe()({},r,fe()({},o,{requesting:!1,status:"success",date:s}))))}),fe()(xh,"SITE_STATS_REQUEST_FAILURE",function(e,t){var n=t.siteId,r=t.statType,i=t.query,s=Object(Vh.c)(i);return Object(p.merge)({},e,fe()({},n,fe()({},r,fe()({},s,{requesting:!1,status:"error"}))))}),xh));function qh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_STATS_RECEIVE":var n=t.siteId,r=t.statType,i=t.query,s=t.data,o=Object(Vh.c)(i);return ge()({},e,fe()({},n,ge()({},e[n],fe()({},r,ge()({},Object(p.get)(e,[n,r]),fe()({},o,s))))))}return e}qh.schema={type:"object",patternProperties:{"^\\d+$":{type:"object",patternProperties:{"^[A-Za-z]+$":{type:"object",patternProperties:{"^\\{[^\\}]*\\}$":{type:"object"}}}},additionalProperties:!1}},additionalProperties:!1};var Hh,Wh=Object(pe.b)({requests:Gh,items:qh}),Bh=Object(pe.b)({posts:Fh,lists:Wh}),Qh=Object(pe.c)([],(Hh={},fe()(Hh,"STORED_CARDS_ADD_COMPLETED",function(e,t){var n=t.item;return ce()(e).concat([n])}),fe()(Hh,"STORED_CARDS_FETCH_COMPLETED",function(e,t){var n=t.list;return n}),fe()(Hh,"STORED_CARDS_DELETE_COMPLETED",function(e,t){var n=t.card;return e.filter(function(e){return e.stored_details_id!==n.stored_details_id})}),Hh),{type:"array",items:{type:"object",properties:{added:{type:"string"},email:{type:"string"},expiry:{type:"string"},card:{type:"string"},card_type:{type:"string"},last_service:{type:"string"},last_used:{type:"string"},meta:{type:"array"},mp_ref:{type:"string"},name:{type:"string"},payment_partner:{type:"string"},remember:{type:"string"},stored_details_id:{type:"string"},user_id:{type:"string"}}},additionalProperties:!1}),zh=Object(pe.b)({hasLoadedFromServer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORED_CARDS_FETCH_COMPLETED":return!0}return e},isDeleting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORED_CARDS_DELETE":return ge()({},e,fe()({},t.card.stored_details_id,!0));case"STORED_CARDS_DELETE_FAILED":case"STORED_CARDS_DELETE_COMPLETED":var n=ge()({},e);return delete n[t.card.stored_details_id],n}return e},isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORED_CARDS_FETCH":return!0;case"STORED_CARDS_FETCH_COMPLETED":case"STORED_CARDS_FETCH_FAILED":return!1}return e},items:Qh});var Yh=Object(pe.b)({isSupportUser:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case"SUPPORT_USER_ACTIVATE":return!0}return e}}),Kh={context:"display",http_envelope:!1,pretty:!1,number:100,offset:0,page:1,search:"",order:"ASC",order_by:"name"};function Jh(e,t){return null==e||Kh[t]===e}var Zh=function(e){function t(){return Yp()(this,t),$p()(this,em()(t).apply(this,arguments))}return nm()(t,e),Jp()(t,null,[{key:"stringify",value:function(e){return om()(em()(t),"stringify",this).call(this,Object(p.omitBy)(e,Jh))}},{key:"parse",value:function(e){return Object(p.omitBy)(om()(em()(t),"parse",this).call(this,e),Jh)}}]),t}(lm),$h=function(e){function t(){return Yp()(this,t),$p()(this,em()(t).apply(this,arguments))}return nm()(t,e),Jp()(t,null,[{key:"matches",value:function(e,t){if(!e.search)return!0;var n=e.search.toLowerCase();return t.name&&Object(p.includes)(t.name.toLowerCase(),n)||t.slug&&Object(p.includes)(t.slug.toLowerCase(),n)}},{key:"compare",value:function(e,t,n){var r;switch(e.order_by){case"count":r=t.post_count-n.post_count;break;case"name":default:r=t.name.localeCompare(n.name)}return/^desc$/i.test(e.order)&&(r*=-1),r||0}}]),t}(dm);$h.QueryKey=Zh,$h.DefaultQuery=Kh;var Xh,eO=n("./client/state/terms/utils.js"),tO={type:"object",patternProperties:{"^\\d+$":{type:"object",patternProperties:{"^[A-Za-z0-9-_]+$":t_},additionalProperties:!1}},additionalProperties:!1};var nO=Object(pe.c)({},(Xh={},fe()(Xh,"TERMS_RECEIVE",function(e,t){var n=t.siteId,r=t.query,i=t.taxonomy,s=t.terms,o=t.found,a=e[n]&&e[n][i],c=a?e[n][i]:new $h,u=c.receive(s,{query:r,found:o});return a&&u===e[n][i]?e:ge()({},e,fe()({},n,ge()({},e[n],fe()({},i,u))))}),fe()(Xh,"TERM_REMOVE",function(e,t){var n=t.siteId,r=t.taxonomy,i=t.termId;if(!e[n]||!e[n][r])return e;var s=e[n][r].removeItem(i);return s===e[n][r]?e:ge()({},e,fe()({},n,ge()({},e[n],fe()({},r,s))))}),fe()(Xh,"SERIALIZE",function(e){return Object(p.mapValues)(e,function(e){return Object(p.mapValues)(e,function(e){var t=e.data,n=e.options;return{data:t,options:n}})})}),fe()(Xh,"DESERIALIZE",function(e){return Object(p.mapValues)(e,function(e){return Object(p.mapValues)(e,function(e){var t=e.data,n=e.options;return new $h(t,n)})})}),Xh),tO),rO=Object(pe.b)({queries:nO,queryRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TERMS_REQUEST":case"TERMS_REQUEST_SUCCESS":case"TERMS_REQUEST_FAILURE":var n=Object(eO.a)(t.query);return Object(p.merge)({},e,fe()({},t.siteId,fe()({},t.taxonomy,fe()({},n,"TERMS_REQUEST"===t.type))))}return e}}),iO=Object(pe.c)({},fe()({},"TIMEZONES_RECEIVE",function(e,t){return t.rawOffsets}),{type:"object",additionalProperties:!1,patternProperties:{"^UTC[-+][0-9.]+$":{type:"string"}}}),sO=Object(pe.c)({},fe()({},"TIMEZONES_RECEIVE",function(e,t){return t.labels}),{type:"object",additionalProperties:!1,patternProperties:{"^[A-Z][a-zA-Z/_-]+$":{type:"string"}}}),oO=Object(pe.c)({},fe()({},"TIMEZONES_RECEIVE",function(e,t){return t.byContinents}),{type:"object",additionalProperties:!1,patternProperties:{"^[A-Z][a-zA-Z/_-]+$":{type:"array",items:{type:"string"}}}}),aO=Object(pe.b)({rawOffsets:iO,labels:sO,byContinents:oO}),cO={search:"",tier:"",filter:"",number:20,offset:0,page:1};function uO(e,t){return void 0===e||null===e||cO[t]===e}var lO=function(e){function t(){return Yp()(this,t),$p()(this,em()(t).apply(this,arguments))}return nm()(t,e),Jp()(t,null,[{key:"stringify",value:function(e){return om()(em()(t),"stringify",this).call(this,Object(p.omitBy)(e,uO))}},{key:"parse",value:function(e){return Object(p.omitBy)(om()(em()(t),"parse",this).call(this,e),uO)}}]),t}(lm),dO=function(e){function t(){return Yp()(this,t),$p()(this,em()(t).apply(this,arguments))}return nm()(t,e),Jp()(t,null,[{key:"sort",value:function(){}}]),t}(dm);dO.QueryKey=lO,dO.DefaultQuery=cO;var pO,mO=n("./client/state/themes/utils.js"),fO=(pO={title:"Theme",additionalProperties:!1,type:"object",patternProperties:{"^[\\w-]+$":{additionalProperties:!0,required:["id","name","author","screenshot"],type:"object",properties:{active:{type:"boolean"},author:{type:"string"},author_uri:{type:"string"},autoupdate:{type:"boolean"},autoupdate_translation:{type:"boolean"},demo_uri:{type:"string"},description:{type:"string"},id:{type:"string"},name:{type:"string"},price:{type:"string"},screenshot:{type:"string"},stylesheet:{type:"string"},tags:{type:"array",items:{type:"string"}},taxonomies:{type:"object"},theme_uri:{type:"string"},update:{type:["null","object"]},version:{type:"string"}}}}},Object(p.cloneDeepWith)(Xf,function(e){if(e===Xf.properties.data.properties.items)return pO})),_O={type:"object",properties:{_timestamp:{type:"number"}},patternProperties:{"^(wpcom|wporg|\\d+)$":fO},additionalProperties:!1};var EO,bO,gO,hO,OO,yO,jO,vO,SO,IO=Object(pe.g)({type:"boolean"},function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;return"THEMES_BANNER_HIDE"!==n&&e}),TO=Object(pe.b)({backPath:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/themes",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEME_BACK_PATH_SET":return void 0!==t.path?t.path:e}return e},themesBannerVisible:IO}),CO=Object(pe.c)({},(EO={},fe()(EO,"THEME_UPLOAD_SUCCESS",function(e,t){var n=t.siteId,r=t.themeId;return ge()({},e,fe()({},n,r))}),fe()(EO,"THEME_TRANSFER_STATUS_RECEIVE",function(e,t){var n=t.siteId,r=t.themeId;return ge()({},e,fe()({},n,r))}),fe()(EO,"THEME_UPLOAD_CLEAR",function(e,t){var n=t.siteId;return Object(p.omit)(e,n)}),fe()(EO,"THEME_UPLOAD_START",function(e,t){var n=t.siteId;return Object(p.omit)(e,n)}),fe()(EO,"THEME_TRANSFER_INITIATE_REQUEST",function(e,t){var n=t.siteId;return Object(p.omit)(e,n)}),EO)),RO=Object(pe.c)({},(bO={},fe()(bO,"THEME_UPLOAD_FAILURE",function(e,t){var n=t.siteId,r=t.error;return ge()({},e,fe()({},n,r))}),fe()(bO,"THEME_TRANSFER_STATUS_FAILURE",function(e,t){var n=t.siteId,r=t.error;return ge()({},e,fe()({},n,r))}),fe()(bO,"THEME_TRANSFER_INITIATE_FAILURE",function(e,t){var n=t.siteId,r=t.error;return ge()({},e,fe()({},n,r))}),fe()(bO,"THEME_UPLOAD_CLEAR",function(e,t){var n=t.siteId;return Object(p.omit)(e,n)}),fe()(bO,"THEME_UPLOAD_START",function(e,t){var n=t.siteId;return Object(p.omit)(e,n)}),fe()(bO,"THEME_TRANSFER_INITIATE_REQUEST",function(e,t){var n=t.siteId;return Object(p.omit)(e,n)}),bO)),AO=Object(pe.c)({},(gO={},fe()(gO,"THEME_UPLOAD_PROGRESS",function(e,t){var n=t.siteId,r=t.loaded;return ge()({},e,fe()({},n,r))}),fe()(gO,"THEME_TRANSFER_INITIATE_PROGRESS",function(e,t){var n=t.siteId,r=t.loaded;return ge()({},e,fe()({},n,r))}),fe()(gO,"THEME_UPLOAD_CLEAR",function(e,t){var n=t.siteId;return Object(p.omit)(e,n)}),fe()(gO,"THEME_UPLOAD_START",function(e,t){var n=t.siteId;return Object(p.omit)(e,n)}),fe()(gO,"THEME_TRANSFER_INITIATE_REQUEST",function(e,t){var n=t.siteId;return Object(p.omit)(e,n)}),gO)),NO=Object(pe.c)({},(hO={},fe()(hO,"THEME_UPLOAD_PROGRESS",function(e,t){var n=t.siteId,r=t.total;return ge()({},e,fe()({},n,r))}),fe()(hO,"THEME_TRANSFER_INITIATE_PROGRESS",function(e,t){var n=t.siteId,r=t.total;return ge()({},e,fe()({},n,r))}),fe()(hO,"THEME_UPLOAD_CLEAR",function(e,t){var n=t.siteId;return Object(p.omit)(e,n)}),fe()(hO,"THEME_UPLOAD_START",function(e,t){var n=t.siteId;return Object(p.omit)(e,n)}),fe()(hO,"THEME_TRANSFER_INITIATE_REQUEST",function(e,t){var n=t.siteId;return Object(p.omit)(e,n)}),hO)),wO=Object(pe.c)({},(OO={},fe()(OO,"THEME_UPLOAD_START",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()(OO,"THEME_TRANSFER_INITIATE_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()(OO,"THEME_UPLOAD_CLEAR",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(OO,"THEME_UPLOAD_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(OO,"THEME_UPLOAD_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(OO,"THEME_TRANSFER_STATUS_RECEIVE",function(e,t){var n=t.siteId,r=t.status;return ge()({},e,fe()({},n,"complete"!==r))}),fe()(OO,"THEME_TRANSFER_INITIATE_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(OO,"THEME_TRANSFER_STATUS_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),OO)),PO=Object(pe.b)({uploadedThemeId:CO,uploadError:RO,progressLoaded:AO,progressTotal:NO,inProgress:wO}),UO=Object(pe.c)({},(yO={},fe()(yO,"THEME_ACTIVATE_SUCCESS",function(e,t){var n=t.siteId,r=t.themeStylesheet;return ge()({},e,fe()({},n,Object(mO.e)(r)))}),fe()(yO,"ACTIVE_THEME_REQUEST_SUCCESS",function(e,t){var n=t.siteId,r=t.theme;return ge()({},e,fe()({},n,r.id))}),yO),{type:"object",patternProperties:{"^\\d+$":{description:"Theme ID",type:"string"}}});var DO=Object(pe.c)({},(jO={},fe()(jO,"THEME_ACTIVATE_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()(jO,"THEME_CLEAR_ACTIVATED",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),jO));var kO=Object(pe.c)({},(vO={},fe()(vO,"THEME_REQUEST_FAILURE",function(e,t){var n=t.siteId,r=t.themeId,i=t.error;return ge()({},e,fe()({},n,ge()({},e[n],fe()({},r,i))))}),fe()(vO,"THEME_REQUEST_SUCCESS",function(e,t){var n=t.siteId,r=t.themeId;return ge()({},e,fe()({},n,Object(p.omit)(e[n],r)))}),vO),{type:"object",patternProperties:{"^(wpcom|wporg|\\d+)$":{type:"object",patternProperties:{"^\\w+$":{type:"object",properties:{path:{type:"string"},method:{type:"string"},name:{type:"string"},statusCode:{type:"number"},status:{type:"number"},message:{type:"string"},error:{type:"string"}}}}}}});var LO,MO=Object(pe.c)({},(SO={},fe()(SO,"THEMES_REQUEST_FAILURE",function(e,t){var n=t.siteId,r=t.query,i=t.error,s=Object(mO.c)(r,n);return ge()({},e,fe()({},n,ge()({},e[n],fe()({},s,i))))}),fe()(SO,"THEMES_REQUEST_SUCCESS",function(e,t){var n=t.siteId,r=t.query,i=Object(mO.c)(r,n);return ge()({},e,fe()({},n,Object(p.omit)(e[n],i)))}),SO)),xO=function(){var e;function t(e,t,n,r){for(var i,s,o=arguments.length,a=new Array(o>4?o-4:0),c=4;c<o;c++)a[c-4]=arguments[c];if(!e[t])return r?ge()({},e,fe()({},t,(s=new dO(null,{itemKey:"id"}))[n].apply(s,a))):e;var u=(i=e[t])[n].apply(i,a);return u===e[t]?e:ge()({},e,fe()({},t,u))}return Object(pe.c)({},(e={},fe()(e,"THEMES_REQUEST_SUCCESS",function(e,n){var r=n.siteId,i=n.query,s=n.themes,o=n.found;return t(e,r,"receive",!0,s,{query:i,found:o,patch:!0})}),fe()(e,"THEME_DELETE_SUCCESS",function(e,n){var r=n.siteId,i=n.themeId;return t(e,r,"removeItem",!1,i)}),fe()(e,"SERIALIZE",function(e){var t=Object(p.mapValues)(e,function(e){var t=e.data,n=e.options;return{data:t,options:n}});return t._timestamp=Date.now(),t}),fe()(e,"DESERIALIZE",function(e){if(e._timestamp&&e._timestamp+864e5<Date.now())return{};var t=Object(p.omit)(e,"_timestamp");return Object(p.mapValues)(t,function(e){var t=e.data,n=e.options;return new dO(t,n)})}),e),_O)}(),FO=Object(pe.c)({},fe()({},"THEMES_REQUEST_SUCCESS",function(e,t){var n=t.siteId,r=t.query;return ge()({},e,fe()({},n,r))})),VO=Object(pe.c)({},fe()({},"THEME_PREVIEW_OPTIONS",function(e,t){var n=t.primary,r=t.secondary;return{primary:n,secondary:r}})),GO=Object(pe.c)(null,fe()({},"THEME_PREVIEW_STATE",function(e,t){var n=t.themeId;return n})),qO=Object(pe.c)({},fe()({},"THEME_FILTERS_ADD",function(e,t){var n=t.filters;return n}),{type:"object",patternProperties:{"^[\\w-]+$":{title:"Taxonomy",type:"object",patternProperties:{"^\\w+$":{title:"Term",type:"object",properties:{name:{type:"string"},description:{type:"string"}}}},uniqueItems:!0}},additionalProperties:!1}),HO=Object(pe.b)({queries:xO,queryRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEMES_REQUEST":case"THEMES_REQUEST_SUCCESS":case"THEMES_REQUEST_FAILURE":var n=Object(mO.c)(t.query,t.siteId);return Object.assign({},e,fe()({},n,"THEMES_REQUEST"===t.type))}return e},queryRequestErrors:MO,lastQuery:FO,themeInstalls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEME_INSTALL":case"THEME_INSTALL_SUCCESS":case"THEME_INSTALL_FAILURE":return Object.assign({},e,fe()({},t.siteId,Object.assign({},e[t.siteId],fe()({},t.themeId,"THEME_INSTALL"===t.type))))}return e},themeRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEME_REQUEST":case"THEME_REQUEST_SUCCESS":case"THEME_REQUEST_FAILURE":return Object.assign({},e,fe()({},t.siteId,Object.assign({},e[t.siteId],fe()({},t.themeId,"THEME_REQUEST"===t.type))))}return e},themeRequestErrors:kO,activeThemes:UO,activeThemeRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVE_THEME_REQUEST":case"ACTIVE_THEME_REQUEST_SUCCESS":case"ACTIVE_THEME_REQUEST_FAILURE":return ge()({},e,fe()({},t.siteId,"ACTIVE_THEME_REQUEST"===t.type))}return e},activationRequests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEME_ACTIVATE":case"THEME_ACTIVATE_SUCCESS":case"THEME_ACTIVATE_FAILURE":return ge()({},e,fe()({},t.siteId,"THEME_ACTIVATE"===t.type))}return e},completedActivationRequests:DO,themesUI:TO,uploadTheme:PO,themePreviewOptions:VO,themePreviewVisibility:GO,themeFilters:qO}),WO=["calypso_themeshowcase_theme_click"],BO={EDITOR_PASTE_EVENT:"EDITOR_PASTE_EVENT",FIRST_VIEW_HIDE:"FIRST_VIEW_HIDE",GUIDED_TOUR_UPDATE:"GUIDED_TOUR_UPDATE",THEMES_REQUEST_SUCCESS:"THEMES_REQUEST_SUCCESS",PREVIEW_IS_SHOWING:"PREVIEW_IS_SHOWING",ROUTE_SET:"ROUTE_SET",SITE_SETTINGS_RECEIVE:"SITE_SETTINGS_RECEIVE"},QO=Object(p.overSome)([function(e){return Object(p.has)(BO,e.type)&&(!Object(p.isFunction)(BO[e.type])||BO[e.type](e))},function(e){return Object(p.get)(e,"meta.analytics",[]).some(function(e){return Object(p.includes)(WO,e.payload.name)})}]),zO=Object(pe.e)("transactionType",Object(pe.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"BILLING_TRANSACTIONS_FILTER_SET_APP"===t.type?t.app:e},date:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{month:null,operator:null},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.month,i=t.operator;return"BILLING_TRANSACTIONS_FILTER_SET_MONTH"===n?{month:r,operator:i}:e},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BILLING_TRANSACTIONS_FILTER_SET_PAGE":return t.page;case"BILLING_TRANSACTIONS_FILTER_SET_APP":case"BILLING_TRANSACTIONS_FILTER_SET_MONTH":case"BILLING_TRANSACTIONS_FILTER_SET_QUERY":return 1;default:return e}},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"BILLING_TRANSACTIONS_FILTER_SET_QUERY"===t.type?t.query:e}})),YO=n("./client/state/ui/comments/utils.js"),KO=function(e,t,n){var r=n.page,i=void 0===r?1:r,s=n.postId,o=s||"site",a=Object(YO.a)(n),c=Object(p.get)(e,o,{}),u=Object(p.get)(c,a,{});return ge()({},e,fe()({},o,ge()({},c,fe()({},a,ge()({},u,fe()({},i,t))))))},JO=function(e,t){return e<t?1:e>t?-1:0},ZO=function(e,t){return e<t?-1:e>t?1:0},$O=Object(pe.b)({queries:Object(pe.e)("siteId",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENTS_CHANGE_STATUS":case"COMMENTS_DELETE":var n=t.refreshCommentListQuery?t.refreshCommentListQuery:Object(p.get)(t,"meta.comment.commentsListQuery");if(!n)return e;var r=n.page,i=n.postId,s=n.status,o=i||"site",a=Object(YO.a)(n),c=Object(p.get)(e,[o,a,r]);if("COMMENTS_CHANGE_STATUS"===t.type&&"all"===s&&Object(p.includes)(c,t.commentId)&&Object(p.includes)(["approved","unapproved"],t.status))return e;if(s===t.status||"all"===s&&Object(p.includes)(["approved","unapproved"],t.status)){var u=[t.commentId].concat(c).sort("DESC"===n.order?JO:ZO);return KO(e,u,n)}return KO(e,Object(p.without)(c,t.commentId),n);case"COMMENTS_QUERY_UPDATE":return Object(p.isUndefined)(Object(p.get)(t,"query.page"))?e:KO(e,Object(p.map)(t.comments,"ID"),t.query);default:return e}}),pendingActions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENTS_CHANGE_STATUS":case"COMMENTS_DELETE":var n=Object(ot.d)(t);return Object(p.has)(t,"meta.dataLayer.trackRequest")&&-1===e.indexOf(n)?ce()(e).concat([n]):e;case"COMMENTS_LIST_REQUEST":case"COMMENTS_TREE_SITE_REQUEST":return[];default:return e}}}),XO=Object(pe.c)({},(LO={},fe()(LO,"DROPZONE_SHOW",function(e,t){var n=t.dropZoneName;return ge()({},e,fe()({},n,!0))}),fe()(LO,"DROPZONE_HIDE",function(e,t){var n=t.dropZoneName;return ge()({},e,fe()({},n,!1))}),LO)),ey=Object(pe.b)({isVisible:XO}),ty=n("./client/state/ui/editor/image-editor/reducer.js"),ny=Object(pe.b)({showError:function(e,t){var n=t.type;return"VIDEO_EDITOR_SHOW_ERROR"===n},uploadProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.percentage;return"VIDEO_EDITOR_SHOW_UPLOAD_PROGRESS"===n?r:"VIDEO_EDITOR_SET_POSTER_URL"===n?null:e},url:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.posterUrl;return"VIDEO_EDITOR_SET_POSTER_URL"===n?r:e}});var ry=Object(pe.b)({siteId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_LAST_DRAFT_SET":return t.siteId}return e},postId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_LAST_DRAFT_SET":return t.postId}return e}}),iy="name",sy="email",oy="text",ay="textarea",cy="url",uy={fields:[{label:Object(P.translate)("Name"),type:iy,required:!0},{label:Object(P.translate)("Email"),type:sy,required:!0},{label:Object(P.translate)("Website"),type:cy},{label:Object(P.translate)("Comment"),type:ay,required:!0}]},ly={label:Object(P.translate)("Text"),type:oy,isExpanded:!0},dy=Object(p.cloneDeep)(uy),py=Object(pe.b)({initial:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_INIT_RAW_CONTENT":return t.content;case"EDITOR_RESET":case"EDITOR_RESET_RAW_CONTENT":return null;case"EDITOR_EDIT_RAW_CONTENT":if(null===e)return t.content}return e},current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_RESET":case"EDITOR_RESET_RAW_CONTENT":return null;case"EDITOR_EDIT_RAW_CONTENT":return t.content}return e}});var my=Object(pe.b)({postId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_START":return t.postId;case"EDITOR_STOP":return null;case"POST_SAVE_SUCCESS":return e===t.postId?t.savedPost.ID:e}return e},loadingError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_RESET":return Object(p.get)(t,"loadingError",null)}return e},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_RESET":return Object(p.get)(t,"isLoading",!1)}return e},isAutosaving:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_AUTOSAVE":return!0;case"EDITOR_RESET":case"EDITOR_AUTOSAVE_RESET":case"EDITOR_AUTOSAVE_SUCCESS":case"EDITOR_AUTOSAVE_FAILURE":return!1}return e},autosavePreviewUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_RESET":case"EDITOR_AUTOSAVE_RESET":return null;case"EDITOR_AUTOSAVE_SUCCESS":return t.autosave.preview_URL}return e},imageEditor:ty.a,videoEditor:ny,lastDraft:ry,contactForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dy,t=arguments.length>1?arguments[1]:void 0,n=t.index,r=t.field,i=t.settings;switch(t.type){case"EDITOR_CONTACT_FORM_CLEAR":e=Object(p.cloneDeep)(uy);break;case"EDITOR_CONTACT_FORM_LOAD":e=Object(p.cloneDeep)(t.contactForm);break;case"EDITOR_CONTACT_FORM_FIELD_ADD":e=Object.assign({},e,{fields:ce()(e.fields).concat([ly])});break;case"EDITOR_CONTACT_FORM_FIELD_REMOVE":e=Object(p.cloneDeep)(e),e.fields.splice(n,1);break;case"EDITOR_CONTACT_FORM_FIELD_UPDATE":e=Object(p.cloneDeep)(e),e.fields[n]=Object.assign({},e.fields[n],r);var s=e.fields[n];"radio"!==s.type&&"select"!==s.type?delete s.options:void 0===s.options&&(s.options=U.a.translate("Option One,Option Two",{comment:"Default options for drop down lists and radio buttons. Must be separated by a comma without extra spaces."}));break;case"EDITOR_CONTACT_FORM_SETTINGS_UPDATE":e=Object(p.merge)({},e,i)}return e},saveBlockers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_SAVE_BLOCK":return Object(p.includes)(e,t.key)?e:ce()(e).concat([t.key]);case"EDITOR_SAVE_UNBLOCK":return Object(p.includes)(e,t.key)?Object(p.without)(e,t.key):e;case"EDITOR_RESET":return e.length>0?[]:e}return e},rawContent:py}),fy=Object(pe.c)("week",fe()({},"GOOGLE_MY_BUSINESS_STATS_CHANGE_INTERVAL",function(e,t){var n=t.interval;return n})),_y=Object(pe.e)("siteId",Object(pe.b)({statsInterval:Object(pe.e)("statType",fy)}));var Ey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GUIDED_TOUR_UPDATE":return Object.assign({},e,Object(p.omit)(t,"type"))}return e},by=n("./client/lib/i18n-utils/utils.js"),gy=Object(pe.c)(null,fe()({},"LOCALE_SET",function(e,t){return t.localeSlug}),{type:["string","null"]}),hy=Object(pe.c)(null,fe()({},"LOCALE_SET",function(e,t){return t.localeVariant||e}),{type:["string","null"]}),Oy=Object(pe.c)(null,fe()({},"LOCALE_SET",function(e,t){var n=t.localeSlug;if(!n)return null;var r=Object(by.e)(n);return r?Boolean(r.rtl):null}),{type:["boolean","null"]}),yy=Object(pe.b)({localeSlug:gy,localeVariant:hy,isRtl:Oy}),jy={current:"content",next:null};var vy=Object(pe.c)(null,fe()({},"MEDIA_MODAL_VIEW_SET",function(e,t){return t.view})),Sy=Object(pe.b)({view:vy}),Iy=Object(pe.c)(!1,fe()({},"NPS_SURVEY_DIALOG_IS_SHOWING",function(e,t){var n=t.isShowing;return void 0!==n?n:e})),Ty=Object(pe.b)({isNpsSurveyDialogShowing:Iy}),Cy=Object(pe.c)(null,fe()({},"ROUTE_SET",function(e,t){var n=t.path,r=t.query;return Object(p.startsWith)(n,"/log-in")?r.client_id?Number(r.client_id):e:Object(p.startsWith)(n,"/start/wpcc")&&r.oauth2_client_id?Number(r.oauth2_client_id):e})),Ry=Object(pe.b)({currentClientId:Cy}),Ay=Object(pe.c)(null,fe()({},"PAYMENT_COUNTRY_CODE_SET",function(e,t){return t.countryCode}),{type:["string","null"]}),Ny=Object(pe.b)({countryCode:Ay}),wy={postIdWithActiveSharePanel:null,postIdWithActiveLikesPopover:null,isMultiSelectEnabled:!1,selectedPosts:[]},Py=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_TYPE_LIST_MULTI_SELECTION_MODE_TOGGLE":return ge()({},e,{isMultiSelectEnabled:!e.isMultiSelectEnabled,selectedPosts:e.isMultiSelectEnabled?e.selectedPosts:[]});case"POST_TYPE_LIST_SELECTION_TOGGLE":return e.selectedPosts.indexOf(t.postGlobalId)>-1?ge()({},e,{selectedPosts:Object(p.without)(e.selectedPosts,t.postGlobalId)}):ge()({},e,{selectedPosts:ce()(e.selectedPosts).concat([t.postGlobalId])});case"ROUTE_SET":return ge()({},e,{isMultiSelectEnabled:!1,postIdWithActiveLikesPopover:null,selectedPosts:[]});case"POST_TYPE_LIST_LIKES_POPOVER_HIDE":return ge()({},e,{postIdWithActiveLikesPopover:null});case"POST_TYPE_LIST_LIKES_POPOVER_TOGGLE":return e.postIdWithActiveLikesPopover===t.postGlobalId?ge()({},e,{postIdWithActiveLikesPopover:null}):ge()({},e,{postIdWithActiveLikesPopover:t.postGlobalId});case"POST_TYPE_LIST_SHARE_PANEL_HIDE":return ge()({},e,{postIdWithActiveSharePanel:null});case"POST_TYPE_LIST_SHARE_PANEL_TOGGLE":return e.postIdWithActiveSharePanel===t.postGlobalId?ge()({},e,{postIdWithActiveSharePanel:null}):ge()({},e,{postIdWithActiveSharePanel:t.postGlobalId})}return e};var Uy=Object(pe.b)({currentPreviewSiteId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PREVIEW_SITE_SET":return t.siteId}return e},currentPreviewUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PREVIEW_URL_SET":return t.url;case"PREVIEW_URL_CLEAR":return null}return e}});var Dy,ky=Object(pe.b)({isListsOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_SIDEBAR_LISTS_TOGGLE":return!e}return e},isTagsOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_SIDEBAR_TAGS_TOGGLE":return!e}return e}}),Ly=Object(pe.c)({},(Dy={},fe()(Dy,"READER_EXPAND_CARD",function(e,t){if(!t.payload.postKey)return e;var n=t.payload.postKey;return ge()({},e,fe()({},Object(UE.c)(n),!0))}),fe()(Dy,"READER_RESET_CARD_EXPANSIONS",function(){return{}}),Dy)),My=Object(pe.b)({sidebar:ky,cardExpansions:Ly,currentStream:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t&&"READER_VIEW_STREAM"===t.type?t.streamKey:e}}),xy=Object(pe.c)("",fe()({},"ROUTE_SET",function(e,t){var n=t.path;return""===e?n:e}),{type:"string"}),Fy=Object(pe.c)("",fe()({},"ROUTE_SET",function(e,t){var n=t.path;return n}),{type:"string"}),Vy=Object(pe.b)({initial:xy,current:Fy}),Gy=function(e){return ge()({},e,{_timestamp:Date.now()})},qy=Object(pe.c)(!1,fe()({},"ROUTE_SET",function(e,t){var n=t.query;return!1===e?Gy(n):e}),{type:["boolean","object"]}),Hy=Object(pe.c)({},fe()({},"ROUTE_SET",function(e,t){var n,r,i=t.query;return n=e,r=i,Object(p.isEqual)(Object(p.omit)(n,"_timestamp"),Object(p.omit)(r,"_timestamp"))?e:Gy(i)}),{type:"object"}),Wy=Object(pe.b)({initial:qy,current:Hy}),By=Object(pe.b)({path:Vy,query:Wy}),Qy=By,zy={active:!1,isDialogVisible:!1,result:!1},Yy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEME_SETUP_RESULT":return ge()({},e,{active:!1,result:t.data});case"THEME_SETUP_REQUEST":return ge()({},e,{active:!0,result:!1});case"THEME_SETUP_TOGGLE_DIALOG":return ge()({},e,{isDialogVisible:!e.isDialogVisible,result:!1})}return e};var Ky=Object(pe.c)(!1,fe()({},"SELECTED_SITE_SET",function(){return!0}));var Jy,Zy=Object(pe.c)(!1,fe()({},"PREVIEW_IS_SHOWING",function(e,t){var n=t.isShowing;return void 0!==n?n:e})),$y=Object(pe.b)({actionLog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return QO(t)?function(e,t){return t?Object(p.takeRight)(ce()(e).concat([t]),50):e}(e,function(e){return ge()({},e,{timestamp:Date.now()})}(t)):e},billingTransactions:zO,comments:$O,dropZone:ey,editor:my,googleMyBusiness:_y,guidedTour:Ey,hasSidebar:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SECTION_SET":return void 0!==t.hasSidebar?t.hasSidebar:e}return e},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SECTION_SET":return void 0!==t.isLoading?t.isLoading:e}return e},isNotificationsOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;return"NOTIFICATIONS_PANEL_TOGGLE"===n?!e:e},isPreviewShowing:Zy,language:yy,layoutFocus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LAYOUT_FOCUS_SET":return t.area===e.current?e:Object.assign({},e,{current:t.area});case"LAYOUT_NEXT_FOCUS_SET":return t.area===e.next?e:Object.assign({},e,{next:t.area});case"LAYOUT_NEXT_FOCUS_ACTIVATE":var n=e.next;return n||"content"===e.current||(n="content"),n?Object.assign({},e,{current:n,next:null}):e}return e},masterbarVisibility:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.isVisible;return"MASTERBAR_TOGGLE_VISIBILITY"===n?r:e},mediaModal:Sy,npsSurveyNotice:Ty,oauth2Clients:Ry,payment:Ny,postTypeList:Py,preview:Uy,reader:My,route:Qy,section:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SECTION_SET":return void 0!==t.section?t.section:e}return e},selectedSiteId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTED_SITE_SET":return t.siteId||null}return e},siteSelectionInitialized:Ky,themeSetup:Yy}),Xy=$y,ej=Object(pe.c)({},(Jy={},fe()(Jy,"USER_SUGGESTIONS_REQUEST",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!0))}),fe()(Jy,"USER_SUGGESTIONS_REQUEST_FAILURE",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),fe()(Jy,"USER_SUGGESTIONS_REQUEST_SUCCESS",function(e,t){var n=t.siteId;return ge()({},e,fe()({},n,!1))}),Jy)),tj=Object(pe.c)({},fe()({},"USER_SUGGESTIONS_RECEIVE",function(e,t){var n=t.siteId,r=t.suggestions;return ge()({},e,fe()({},n,r))}),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"array",items:{type:"object",required:["ID","user_login"],properties:{ID:{type:"integer"},display_name:{type:"string"},image_URL:{type:"string"},source:{type:"array",items:{type:"string"}},user_login:{type:"string"}}}}}}),nj=Object(pe.b)({requesting:ej,items:tj});var rj,ij,sj=Object(pe.b)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_RECEIVE":return Object.assign({},e,fe()({},t.user.ID,t.user))}return e},suggestions:nj}),oj=Object(pe.c)({},fe()({},"USER_DEVICES_ADD",function(e,t){var n=t.devices;return ge()({},e,n)})),aj=Object(pe.c)(null,(rj={},fe()(rj,"USER_PROFILE_LINKS_RECEIVE",function(e,t){var n=t.profileLinks;return n}),fe()(rj,"USER_PROFILE_LINKS_DELETE_SUCCESS",function(e,t){var n=t.linkSlug;return Object(p.reject)(e,{link_slug:n})}),rj)),cj=Object(pe.c)({},(ij={},fe()(ij,"USER_PROFILE_LINKS_ADD_SUCCESS",function(){return{}}),fe()(ij,"USER_PROFILE_LINKS_ADD_DUPLICATE",function(e,t){var n=t.profileLinks;return{duplicate:n}}),fe()(ij,"USER_PROFILE_LINKS_ADD_MALFORMED",function(e,t){var n=t.profileLinks;return{malformed:n}}),fe()(ij,"USER_PROFILE_LINKS_ADD_FAILURE",function(e,t){var n=t.error;return{error:n}}),fe()(ij,"USER_PROFILE_LINKS_DELETE_SUCCESS",function(){return{}}),fe()(ij,"USER_PROFILE_LINKS_DELETE_FAILURE",function(e,t){var n=t.error;return{error:n}}),fe()(ij,"USER_PROFILE_LINKS_RESET_ERRORS",function(){return{}}),ij)),uj=Object(pe.b)({items:aj,errors:cj}),lj=Object(pe.b)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.settingValues;return"USER_SETTINGS_UPDATE"===n?ge()({},e,r):e},unsavedSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SETTINGS_UNSAVED_CLEAR":return t.settingNames?Object(p.omit)(e,t.settingNames):{};case"USER_SETTINGS_UNSAVED_SET":return e[t.settingName]===t.value?e:ge()({},e,fe()({},t.settingName,t.value));case"USER_SETTINGS_UNSAVED_REMOVE":return Object(p.omit)(e,t.settingName);default:return e}}});var dj=Object(pe.b)({requesting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WORDADS_SITE_APPROVE_REQUEST":case"WORDADS_SITE_APPROVE_REQUEST_SUCCESS":case"WORDADS_SITE_APPROVE_REQUEST_FAILURE":return Object.assign({},e,fe()({},t.siteId,"WORDADS_SITE_APPROVE_REQUEST"===t.type))}return e},requestSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WORDADS_SITE_APPROVE_REQUEST":case"WORDADS_SITE_APPROVE_REQUEST_DISMISS_SUCCESS":case"WORDADS_SITE_APPROVE_REQUEST_FAILURE":return Object.assign({},e,fe()({},t.siteId,null));case"WORDADS_SITE_APPROVE_REQUEST_SUCCESS":return Object.assign({},e,fe()({},t.siteId,!0))}return e},requestErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WORDADS_SITE_APPROVE_REQUEST_FAILURE":return Object.assign({},e,fe()({},t.siteId,t.error));case"WORDADS_SITE_APPROVE_REQUEST":case"WORDADS_SITE_APPROVE_REQUEST_SUCCESS":case"WORDADS_SITE_APPROVE_REQUEST_DISMISS_ERROR":return Object.assign({},e,fe()({},t.siteId,null))}return e}}),pj=n("./client/state/wordads/status/schema.js"),mj=Object(pe.e)("siteId",function(e,t){switch(t.type){case"WORDADS_STATUS_RECEIVE":return t.status;default:return e}});mj.schema=pj.a;var fj=mj,_j=Object(pe.e)("siteId",function(e,t){switch(t.type){case"WORDADS_EARNINGS_RECEIVE":return t.earnings;default:return e}}),Ej=_j,bj=Object(pe.b)({approve:dj,status:fj,earnings:Ej}),gj=Object(pe.b)(Object(p.mapValues)(nc(),function(e){return e.default?e.default:e})),hj={account:Ee,analyticsTracking:Ie,accountRecovery:Ic,activePromotions:ve,activityLog:Se.a,application:ic,applicationPasswords:Pe,automatedTransfer:Vc,billingTransactions:Yc,checklist:Jc,comments:Zc.a,componentsUsageStats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,componentsUsageStats:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMPONENTS_USAGE_STATS_REQUEST":return Object.assign({},e,{isFetching:!0});case"COMPONENTS_USAGE_STATS_RECEIVE":return Object.assign({},e,{isFetching:!1,componentsUsageStats:t.componentsUsageStats});default:return e}},concierge:mu,connectedApplications:Ou,countries:Tu,countryStates:Au,currentUser:Bu,dataRequests:ot.e,documentHead:Ju,domains:ul,extensions:gj,form:de.a,googleAppsUsers:bl,googleMyBusiness:Ol,happinessEngineers:Fd,happychat:hp,help:Pl,httpData:$e.d,i18n:kl,inlineHelpSearchResults:zl,inlineSupportArticle:Yl,invites:Hl,jetpackConnect:rd,jetpack:Rd,jetpackRemoteInstall:Pd,jetpackSync:Dd,jitm:Ld,login:Qp,media:jm,notices:zm,npsSurvey:tf,oauth2Clients:nf,orderTransactions:af,pageTemplates:lf,plugins:Uf,plans:pf,postFormats:Lf,posts:o_,postTypes:m_,preferences:g_,privacyPolicy:O_,productsList:v_,purchases:V_,pushNotifications:U_,reader:rb,receipts:ib.a,rewind:sb,sharing:Db,shortcodes:Hb,signup:pg,sites:_h,siteKeyrings:hh,siteRoles:jh,siteAddressChange:Th,siteSettings:Lh,simplePayments:gg,stats:Bh,storedCards:zh,support:Yh,terms:rO,timezones:aO,themes:HO,ui:Xy,users:sj,userDevices:oj,userProfileLinks:uj,userSettings:lj,wordads:bj};v.a.isEnabled("memberships")&&(hj.memberships=Wm);var Oj=Object(pe.b)(hj);function yj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="object"===("undefined"==typeof window?"undefined":oe()(window)),r="object"===("undefined"==typeof window?"undefined":oe()(window))&&"function"==typeof window.Audio,i=[ue.a,Ga,tc,t&&n("./client/state/happychat/middleware.js").default,t&&n("./client/state/happychat/middleware-calypso.js").default,t&&n("./client/state/analytics/middleware.js").analyticsMiddleware,t&&n("./client/state/lib/middleware.js").default,t&&v.a.isEnabled("restore-last-location")&&n("./client/state/routing/middleware.js").default,r&&n("./client/state/audio/middleware.js").default,Ba,t&&n("./client/state/comments/middleware.js").default].filter(Boolean),s=[t&&window.app&&window.app.isDebug&&yu,$e.b,le.a.apply(void 0,ce()(i)),t&&window.app&&window.app.isDebug&&ye,t&&window.devToolsExtension&&window.devToolsExtension()].filter(Boolean);return le.d.apply(void 0,ce()(s))(le.e)(Oj,e)}var jj=n("./client/lib/localforage/index.js"),vj=n("./client/lib/user/support-user-interop.js"),Sj=n("./client/lib/user/index.js"),Ij=i()("calypso:state"),Tj=Object(Sj.default)(),Cj=5e3,Rj=6048e5;function Aj(e){var t=Oj(e,{type:"SERIALIZE"});return Object.assign(t,{_timestamp:Date.now()})}function Nj(){var e=Uj();return jj.a.getItem(e).then(function(t){if(Ij("fetched initial state",t),null===t)return Ij("no initial state found in localforage"),{};if(t._timestamp&&t._timestamp+Rj<Date.now())return Ij("stored state is too old, building redux store from scratch"),{};var n,r=(n=t,delete n._timestamp,Oj(n,{type:"DESERIALIZE"}));return kj(e,r)?r:(Ij('stored state is invalid (storage key "'+e+'" does not match the state), building redux store from scratch'),{})})}var wj=function(e){Ij("loading initial state",e);var t=function(){if("object"===("undefined"==typeof window?"undefined":oe()(window))&&window.initialReduxState&&!Object(vj.isSupportUserSession)()){var e=Oj(window.initialReduxState,{type:"DESERIALIZE"});return Object(p.pick)(e,Object.keys(window.initialReduxState))}return{}}(),n=Object.assign({},e,t);return yj(n)};function Pj(e){return Ij("failed to load initial redux-store state",e),yj()}function Uj(){var e=Tj.get(),t=e&&e.ID?e.ID:null;return Dj(t)}function Dj(e){return e?"redux-state-"+e:"redux-state-logged-out"}function kj(e,t){var n=t.currentUser&&t.currentUser.id?t.currentUser.id:null;return e===Dj(n)}function Lj(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Aj,i=Object(p.throttle)(function(){var i=e.getState();t&&i===t||(n=Uj(),kj(n,i)&&(t=i,jj.a.setItem(n,r(t)).catch(function(e){Ij("failed to set redux-store state",e)})))},Cj,{leading:!1,trailing:!0});return"undefined"!=typeof window&&window.addEventListener("beforeunload",i.flush),e.subscribe(i),e}var Mj=n("./client/lib/detect-history-navigation/index.js"),xj=i()("calypso"),Fj=function(e){xj("Starting Calypso. Let's do this.");var t=n("./client/boot/project/wordpress-com.js");ee("Executing Calypso utils."),Object(I.a)()?document.documentElement.classList.add("touch"):document.documentElement.classList.add("notouch"),y(),Object(p.invoke)(t,"utils"),function(e){var t=v.a.isEnabled("persist-redux")&&!Object(vj.isSupportUserSession)();if(t)return Nj().then(wj).catch(Pj).then(Lj).then(e);Ij("persist-redux is not enabled, building state from scratch"),e(wj({}))}(function(r){re(e,r),Object(p.invoke)(t,"locales",e,r),function(e,t){ee("Executing Calypso configure Redux store."),Object(j.a)(t),e.get()&&(R(e.get(),t),e.on("change",function(){R(e.get(),t)})),v.a.isEnabled("network-connection")&&n.e(123).then(function(e){var r;r=n("./client/lib/network-connection/index.js").__esModule?n("./client/lib/network-connection/index.js").default:n("./client/lib/network-connection/index.js"),r.init(t)}.bind(null,n)).catch(n.oe)}(e,r),Object(p.invoke)(t,"configureReduxStore",e,r),ie(e,r),Object(p.invoke)(t,"setupMiddlewares",e,r),Mj.a.start(),_.a.start({decodeURLComponents:!1})})};window.AppBoot=function(){var e=Object(Sj.default)();e.initialized?Fj(e):e.once("change",function(){return Fj(e)})}},"./client/boot/project/wordpress-com.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/react/index.js"),s=n.n(i),o=n("./node_modules/react-dom/index.js"),a=n.n(o),c=n("./node_modules/store/store.js"),u=n.n(c),l=n("./node_modules/page/page.js"),d=n.n(l),p=n("./node_modules/debug/src/browser.js"),m=n.n(p),f=n("./client/config/index.js"),_=n("./client/lib/abtest/index.js"),E=n("./client/state/happychat/connection/actions.js"),b=n("./client/state/happychat/user/actions.js"),g=n("./client/state/happychat/utils.js"),h=function(e){var t=function(e){return Object(r.get)(e,"happychat.chat.lastActivityTimestamp")}(e),n=Date.now();return n-t<6e5},O=n("./client/lib/analytics/index.js"),y=n("./client/lib/redux-bridge/index.js"),j=n("./client/lib/route/index.js"),v=n("./client/lib/route/legacy-routes.js"),S={getAll:function(e,t){var n={},i={environment:"production",site_count:t||0,site_id_label:"wpcom",client:Object(f.a)("client_slug")};return e&&(n={blog_id:e.ID,blog_lang:e.lang,site_id_label:e.jetpack?"jetpack":"wpcom",site_plan_id:e.plan?e.plan.product_id:null}),Object(r.assign)(i,n)}},I=n("./node_modules/i18n-calypso/index.js"),T=n.n(I),C=n("./client/state/notices/actions.js"),R=n("./client/lib/user/index.js"),A=Object(R.default)();function N(e,t){var n="1"===e.query.verified;n&&(A.signalVerification(),setTimeout(function(){var t="en"===T.a.getLocaleSlug()?T.a.translate("Email confirmed!"):T.a.translate("Email confirmed! Now that you've confirmed your email address you can publish posts on your blog."),n=Object(C.f)(t,{duration:1e4});e.store.dispatch(n)},100)),t()}var w=n("./client/state/push-notifications/actions.js"),P=n("./client/lib/user/support-user-interop.js"),U=n("./client/state/ui/selectors.js"),D=n("./client/state/ui/layout-focus/actions.js"),k=n("./node_modules/@babel/runtime/helpers/typeof.js"),L=n.n(k),M=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),x=n.n(M),F=n("./node_modules/@babel/runtime/helpers/createClass.js"),V=n.n(F),G=n("./node_modules/tracekit/tracekit.js"),q=n.n(G),H=6e4,W=m()("calypso:error-logger"),B=function(){function e(){var t=this;x()(this,e),this.diagnosticData={commit:COMMIT_SHA,extra:{previous_paths:[],throttled:0}},this.diagnosticReducers=[],this.lastReport=0,window.onerror||q.a.report.subscribe(function(e){var n={message:e.message,url:document.location.href};if(Array.isArray(e.stack)){var r=e.stack.slice(0,10);r.forEach(function(e){return Object.keys(e).forEach(function(t){"context"===t&&e[t]?e[t]=JSON.stringify(e[t]).substring(0,256):"string"==typeof e[t]&&e[t].length>512?e[t]=e[t].substring(0,512):Array.isArray(e[t])&&(e[t]=e[t].slice(0,3))})}),JSON.stringify(r).length<8192&&(n.trace=r)}var i=Date.now();t.lastReport+H<i?(t.lastReport=i,t.diagnose(),t.sendToApi(Object.assign(n,t.diagnosticData)),t.diagnosticData.extra.throttled=0):t.diagnosticData.extra.throttled++})}return V()(e,[{key:"saveNewPath",value:function(e){var t=this.diagnosticData.extra.previous_paths;t.unshift(e),this.diagnosticData.extra.previous_paths=t.slice(0,5),this.diagnosticData.calypso_path=e}},{key:"saveDiagnosticReducer",value:function(e){this.diagnosticReducers.push(e)}},{key:"saveDiagnosticData",value:function(e){"object"===L()(e.extra)?this.saveExtraData(e):Object.assign(this.diagnosticData,e)}},{key:"saveExtraData",value:function(e){Object.assign(this.diagnosticData.extra,e)}},{key:"diagnose",value:function(){var e=this;return this.diagnosticReducers.forEach(function(t){try{e.saveDiagnosticData(t())}catch(t){e.saveDiagnosticData({diagnosticError:t.message}),W("diagnostic: %o",e.diagnosticData)}}),this.diagnosticData}},{key:"log",value:function(e,t){"object"===L()(t)&&this.saveExtraData(t);try{q.a.report(new Error(e))}catch(e){}}},{key:"sendToApi",value:function(e){var t=new XMLHttpRequest;t.open("POST","https://public-api.wordpress.com/rest/v1.1/js-error?http_envelope=1",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded");var n="client_id=39911&client_secret=cOaYKdrkgXz8xY7aysv4fU6wL6sK5J8a6ojReEIAPwggsznj4Cb6mW0nffTxtYT8&error=";n+=encodeURIComponent(JSON.stringify(e)),t.send(n)}}]),e}(),Q=n("./client/my-sites/index.js"),z=n("./client/lib/keyboard-shortcuts/global.js"),Y=n("./client/controller/index.web.js");n.d(t,"configureReduxStore",function(){return J}),n.d(t,"setupMiddlewares",function(){return Z});var K=m()("calypso");var J=function(e,t){K("Executing WordPress.com configure Redux store."),Object(P.setReduxStore)(t),Object(y.d)(t),e.get()&&f.a.isEnabled("push-notifications")&&t.dispatch(Object(w.a)())};function Z(e,t){if(K("Executing WordPress.com setup middlewares."),O.default.setDispatch(t.dispatch),e.get()?O.default.initialize(e,S):O.default.setSuperProps(S),!document.getElementById("primary")&&(function(e){var t=Y.a,n=s.a.createElement(t,{store:e});a.a.render(n,document.getElementById("wpcom")),K("Main layout rendered.")}(t),f.a.isEnabled("catch-js-errors"))){var i=new B;n("./client/lib/catch-js-errors/log.js").registerLogger(i),i.saveDiagnosticData({user_id:e.get().ID,calypso_env:Object(f.a)("env_id")}),i.saveDiagnosticReducer(function(){var e=t.getState();return{blog_id:Object(U.e)(e),calypso_section:Object(U.c)(e)}}),i.saveDiagnosticReducer(function(){return{tests:Object(_.c)()}}),O.default.on("record-event",function(e,t){return i.saveExtraData({lastTracksEvent:t})}),d()("*",function(e,t){i.saveNewPath(e.canonicalPath.replace(Object(j.d)(e.canonicalPath),":siteId")),t()})}d()("*",function(e,n){if(-1!==["sb","sp"].indexOf(e.querystring)){var r="sb"===e.querystring?"sidebar":"sites";t.dispatch(Object(D.c)(r)),d.a.replace(e.pathname)}n()}),d()("*",function(e,t){return Object(v.a)(e.pathname)?t():Object(j.h)(e,t)}),d()("*",function(e,t){var n=e.pathname;if(Object(v.a)(n))return t();f.a.isEnabled("code-splitting")||e.store.dispatch(Object(D.a)()),O.default.mc.bumpStat({newdash_pageviews:"route"}),t()}),d()("*",function(t,n){"/me/account"!==t.path&&e.get().phone_account&&d()("/me/account"),n()}),d()("*",N),Object(r.startsWith)(window.location.pathname,"/start")||["signupProgress","signupDependencies"].forEach(u.a.remove),e.get()||d()("*",function(e,t){if("/plans"!==e.pathname)t();else{var n=e.query&&e.query.for;window.location=n&&"jetpack"===n?"https://wordpress.com/wp-login.php?redirect_to=https%3A%2F%2Fwordpress.com%2Fplans":"https://wordpress.com/pricing"}}),Object(Q.default)();var o=t.getState();f.a.isEnabled("happychat")&&t.dispatch(Object(b.a)()),h(o)&&t.dispatch(Object(E.a)(Object(g.a)(o)())),f.a.isEnabled("keyboard-shortcuts")&&Object(z.a)(),f.a.isEnabled("desktop")&&n("./node_modules/lodash/noop.js").default.init(),f.a.isEnabled("rubberband-scroll-disable")&&n.e(125).then(function(e){var t;t=n("./client/lib/rubberband-scroll-disable/index.js").__esModule?n("./client/lib/rubberband-scroll-disable/index.js").default:n("./client/lib/rubberband-scroll-disable/index.js"),t(document.body)}.bind(null,n)).catch(n.oe),f.a.isEnabled("dev/test-helper")&&document.querySelector(".environment.is-tests")&&n.e(119).then(function(e){var t;t=n("./client/lib/abtest/test-helper/index.js").__esModule?n("./client/lib/abtest/test-helper/index.js").default:n("./client/lib/abtest/test-helper/index.js"),t(document.querySelector(".environment.is-tests"))}.bind(null,n)).catch(n.oe),f.a.isEnabled("dev/preferences-helper")&&document.querySelector(".environment.is-prefs")&&n.e(124).then(function(e){var r;r=n("./client/lib/preferences-helper/index.js").__esModule?n("./client/lib/preferences-helper/index.js").default:n("./client/lib/preferences-helper/index.js"),r(document.querySelector(".environment.is-prefs"),t)}.bind(null,n)).catch(n.oe)}},"./client/components/animate/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r),s=n("./node_modules/prop-types/index.js"),o=n.n(s),a=function(e){var t=e.type,n=e.children;return i.a.createElement("div",{className:"animate__"+t},n)};a.propTypes={type:o.a.oneOf(["appear","fade-in"])},t.a=a},"./client/components/async-load/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react/index.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/lodash/lodash.js"),g=function(e){function t(){var e;return i()(this,t),e=c()(this,l()(t).apply(this,arguments)),e.state={require:null,component:null},e}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.require()}},{key:"componentWillReceiveProps",value:function(e){this.props.require!==e.require&&this.setState({component:null})}},{key:"componentDidUpdate",value:function(e){this.props.require!==e.require&&this.require()}},{key:"require",value:function(){var e=this,t=this.props.require;t(function(n){e.props.require===t&&e.setState({component:n})})}},{key:"render",value:function(){if(this.state.component){var e=Object(b.omit)(this.props,["placeholder","require"]);return f.a.createElement(this.state.component,e)}return this.props.placeholder}}]),t}(m.Component);g.propTypes={placeholder:E.a.node,require:E.a.func.isRequired},g.defaultProps={placeholder:f.a.createElement("div",{className:"async-load__placeholder"})}},"./client/components/banner/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react/index.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/react-redux/es/index.js"),g=n("./node_modules/classnames/index.js"),h=n.n(g),O=n("./node_modules/lodash/lodash.js"),y=n("./node_modules/gridicons/dist/index.js"),j=n.n(y),v=n("./client/lib/plans/index.js"),S=n("./client/lib/url/index.js"),I=n("./client/state/analytics/actions.js"),T=n("./client/state/ui/selectors.js"),C=n("./client/components/button/index.jsx"),R=n("./client/components/card/index.jsx"),A=n("./client/blocks/dismissible-card/index.jsx"),N=n("./client/components/plans/plan-icon/index.jsx"),w=n("./client/my-sites/plan-price/index.jsx"),P=n("./client/lib/analytics/track-component-view/index.jsx"),U=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.handleClick=function(e){var t=n.props,r=t.event,i=t.feature,s=t.onClick;r&&n.props.recordTracksEvent("calypso_banner_cta_click",{cta_name:r,cta_feature:i,cta_size:"regular"}),s(e)},n.handleDismiss=function(e){var t=n.props,r=t.event,i=t.feature,s=t.onDismiss;r&&n.props.recordTracksEvent("calypso_banner_dismiss",{cta_name:r,cta_feature:i}),s(e)},n}return p()(t,e),o()(t,[{key:"getHref",value:function(){var e=this.props,t=e.feature,n=e.href,r=e.plan,i=e.siteSlug;if(!n&&i){var s="/plans/"+i;return t||r?Object(S.a)({feature:t,plan:r},s):s}return n}},{key:"getIcon",value:function(){var e=this.props,t=e.icon,n=e.plan;return n&&!t?f.a.createElement("div",{className:"banner__icon-plan"},f.a.createElement(N.a,{plan:n})):f.a.createElement("div",{className:"banner__icons"},f.a.createElement("div",{className:"banner__icon"},f.a.createElement(j.a,{icon:t||"info-outline",size:18})),f.a.createElement("div",{className:"banner__icon-circle"},f.a.createElement(j.a,{icon:t||"info-outline",size:18})))}},{key:"getContent",value:function(){var e=this.props,t=e.callToAction,n=e.forceHref,r=e.description,i=e.event,s=e.feature,o=e.list,a=e.price,c=e.title,u=e.target,l=Array.isArray(a)?a:[a];return f.a.createElement("div",{className:"banner__content"},i&&f.a.createElement(P.a,{eventName:"calypso_banner_cta_impression",eventProperties:{cta_name:i,cta_feature:s,cta_size:"regular"}}),f.a.createElement("div",{className:"banner__info"},f.a.createElement("div",{className:"banner__title"},c),r&&f.a.createElement("div",{className:"banner__description"},r),Object(O.size)(o)>0&&f.a.createElement("ul",{className:"banner__list"},o.map(function(e,t){return f.a.createElement("li",{key:t},f.a.createElement(j.a,{icon:"checkmark",size:18}),e)}))),(t||a)&&f.a.createElement("div",{className:"banner__action"},1===Object(O.size)(l)&&f.a.createElement(w.a,{rawPrice:l[0]}),2===Object(O.size)(l)&&f.a.createElement("div",{className:"banner__prices"},f.a.createElement(w.a,{rawPrice:l[0],original:!0}),f.a.createElement(w.a,{rawPrice:l[1],discounted:!0})),t&&(n?f.a.createElement(C.a,{compact:!0,primary:!0,target:u},t):f.a.createElement(C.a,{compact:!0,href:this.getHref(),onClick:this.handleClick,primary:!0,target:u},t))))}},{key:"render",value:function(){var e=this.props,t=e.callToAction,n=e.className,r=e.forceHref,i=e.disableHref,s=e.dismissPreferenceName,o=e.dismissTemporary,a=e.plan,c=h()("banner",n,{"has-call-to-action":t},{"is-upgrade-personal":a&&Object(v.o)(a)},{"is-upgrade-premium":a&&Object(v.q)(a)},{"is-upgrade-business":a&&Object(v.m)(a)},{"is-dismissible":s});return s?f.a.createElement(A.a,{className:c,preferenceName:s,temporary:o,onClick:this.handleDismiss},this.getIcon(),this.getContent()):f.a.createElement(R.a,{className:c,href:!i&&!t||r?this.getHref():null,onClick:t&&!r?O.noop:this.handleClick},this.getIcon(),this.getContent())}}]),t}(m.Component);U.propTypes={callToAction:E.a.string,className:E.a.string,description:E.a.oneOfType([E.a.string,E.a.array]),forceHref:E.a.bool,disableHref:E.a.bool,dismissPreferenceName:E.a.string,dismissTemporary:E.a.bool,event:E.a.string,feature:E.a.oneOf(Object(v.k)()),href:E.a.string,icon:E.a.string,list:E.a.arrayOf(E.a.string),onClick:E.a.func,onDismiss:E.a.func,plan:E.a.string,price:E.a.oneOfType([E.a.number,E.a.arrayOf(E.a.number)]),siteSlug:E.a.string,target:E.a.string,title:E.a.string.isRequired},U.defaultProps={forceHref:!1,disableHref:!1,dismissTemporary:!1,onClick:O.noop,onDismiss:O.noop};t.a=Object(b.b)(function(e,t){return{siteSlug:t.disableHref?null:Object(T.f)(e)}},{recordTracksEvent:I.i})(U)},"./client/components/button/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(m),_=n("./node_modules/@babel/runtime/helpers/inherits.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n.n(b),h=n("./node_modules/prop-types/index.js"),O=n.n(h),y=n("./node_modules/classnames/index.js"),j=n.n(y),v=function(e){function t(){return c()(this,t),p()(this,f()(t).apply(this,arguments))}return E()(t,e),l()(t,[{key:"render",value:function(){var e=j()("button",this.props.className,{"is-compact":this.props.compact,"is-primary":this.props.primary,"is-scary":this.props.scary,"is-busy":this.props.busy,"is-borderless":this.props.borderless});if(this.props.href){var t=this.props,n=(t.compact,t.primary,t.scary,t.busy,t.borderless,t.type,o()(t,["compact","primary","scary","busy","borderless","type"])),r=n.target?(n.rel||"").replace(/noopener|noreferrer/g,"")+" noopener noreferrer":n.rel;return g.a.createElement("a",i()({},n,{rel:r,className:e}))}var s=this.props,a=(s.compact,s.primary,s.scary,s.busy,s.borderless,s.target,s.rel,o()(s,["compact","primary","scary","busy","borderless","target","rel"]));return g.a.createElement("button",i()({},a,{className:e}))}}]),t}(b.PureComponent);v.propTypes={compact:O.a.bool,primary:O.a.bool,scary:O.a.bool,busy:O.a.bool,type:O.a.string,href:O.a.string,borderless:O.a.bool,target:O.a.string,rel:O.a.string},v.defaultProps={type:"button"}},"./client/components/card/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(m),_=n("./node_modules/@babel/runtime/helpers/inherits.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n.n(b),h=n("./node_modules/classnames/index.js"),O=n.n(h),y=n("./node_modules/gridicons/dist/index.js"),j=n.n(y),v=n("./node_modules/prop-types/index.js"),S=n.n(v),I=function(e){var t=e.className,n=e.compact,r=e.highlight,i=e.href,s=e.onClick;return O()("card",t,{"is-card-link":!!i,"is-clickable":!!s,"is-compact":n,"is-highlight":r},!!r&&"is-"+r)},T=function(e){function t(){return c()(this,t),p()(this,f()(t).apply(this,arguments))}return E()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=(e.compact,e.highlight,e.tagName),r=e.href,s=e.target,a=o()(e,["children","compact","highlight","tagName","href","target"]);return r?g.a.createElement("a",i()({},a,{href:r,target:s,className:I(this.props)}),g.a.createElement(j.a,{className:"card__link-indicator",icon:s?"external":"chevron-right"}),t):g.a.createElement(n,i()({},a,{className:I(this.props)}),t)}}]),t}(b.PureComponent);T.propTypes={className:S.a.string,href:S.a.string,tagName:S.a.oneOfType([S.a.func,S.a.string]).isRequired,target:S.a.string,compact:S.a.bool,highlight:S.a.oneOf([!1,"error","info","success","warning"])},T.defaultProps={tagName:"div",highlight:!1},t.a=T},"./client/components/close-on-escape/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/lodash/lodash.js"),f=n("./node_modules/prop-types/index.js"),_=n.n(f),E=n("./node_modules/react/index.js"),b=27,g=[];function h(e){if(!Object(m.isEmpty)(g)&&e.keyCode===b&&(n=e.target,!Object(m.includes)(["INPUT","TEXTAREA"],n.nodeName))){var t=Object(m.last)(g);t.onEscape()}var n}function O(e,t){g.push({component:e,onEscape:t}),Object(m.isEmpty)(g)||document.addEventListener("keydown",h,!0)}function y(e){g=Object(m.filter)(g,function(t){return t.component!==e}),Object(m.isEmpty)(g)&&document.removeEventListener("keydown",h,!0)}var j=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentDidMount",value:function(){O(this,this.props.onEscape)}},{key:"componentWillUnmount",value:function(){y(this,this.props.onEscape)}},{key:"render",value:function(){return null}}]),t}(E.Component);j.propTypes={onEscape:_.a.func},j.defaultProps={onEscape:m.noop},t.a=j},"./client/components/community-translator/constants.js":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return o});var r="wpcom",i="https://translate.wordpress.com",s={de_formal:"formal"},o="enable_translator"},"./client/components/community-translator/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return _}),n.d(t,"e",function(){return E}),n.d(t,"c",function(){return g});var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./node_modules/superagent/lib/client.js"),o=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=n("./client/lib/user-settings/index.js"),u=n("./client/lib/viewport/index.js"),l=n("./client/components/community-translator/constants.js"),d=n("./client/lib/i18n-utils/browser.js");function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.a.getSetting("language"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a.getSetting("locale_variant");return!Object(u.c)()&&(!(!e||!Object(d.c)(e))&&!(t&&!Object(d.c)(t)))}function m(){return!(!c.a.getSettings()||!c.a.getOriginalSetting(l.a))&&!!p()}function f(e,t){return o.a.post(e).withCredentials().send(t).then(function(e){return e.body}).catch(function(e){throw e})}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.b+"/api",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.c,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f,s=n+"/translations/-query-by-originals",o=["project="+r,"&locale_slug="+(e.parentLangSlug||e.langSlug),"&translation_set_slug="+(l.d[e.langSlug]||"default"),"&original_strings="+encodeURIComponent(JSON.stringify([t]))];return i(s,o.join("")).then(function(e){return b(Object(a.head)(e))})}function E(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.b+"/api",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.c,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:f,a=r+"/translations/-new",c=["project="+s,"&locale_slug="+(n.parentLangSlug||n.langSlug),"&translation_set_slug="+(l.d[n.langSlug]||"default")].concat(i()(Object.keys(t).map(function(n){return t[n]&&"&translation["+e+"][]="+encodeURIComponent(t[n])})));return o(a,c.join("")).then(function(e){return b(e)})}function b(e){var t=Object(a.find)(e.translations,{original_id:e.original_id});return{originalId:e.original_id,comment:e.original_comment,translatedSingular:Object(a.get)(t,"translation_0",""),translatedPlural:Object(a.get)(t,"translation_1",""),lastModified:Object(a.get)(t,"date_modified","")}}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.c;if(!e||!t)return null;var r=l.b+"/projects",i=t.parentLangSlug||t.langSlug,s=l.d[t.langSlug]||"default";return r+"/"+n+"/"+i+"/"+s+"?filters[original_id]="+e}},"./client/components/count/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(s),a=n("./node_modules/react/index.js"),c=n.n(a),u=n("./node_modules/prop-types/index.js"),l=n.n(u),d=n("./node_modules/classnames/index.js"),p=n.n(d),m=n("./node_modules/i18n-calypso/index.js"),f=n("./node_modules/lodash/lodash.js"),_=n("./client/lib/format-number-compact/index.js"),E=function(e){var t=e.count,n=e.compact,r=e.numberFormat,s=e.primary,a=o()(e,["count","compact","numberFormat","primary"]);return c.a.createElement("span",i()({className:p()("count",{"is-primary":s})},Object(f.omit)(a,["translate","moment"])),n&&Object(_.a)(t)||r(t))};E.propTypes={count:l.a.number.isRequired,numberFormat:l.a.func,primary:l.a.bool,compact:l.a.bool},E.defaultProps={primary:!1,compact:!1},t.a=Object(m.localize)(E)},"./client/components/data/document-head/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n("./node_modules/react-redux/es/index.js"),b=n("./node_modules/lodash/lodash.js"),g=n("./client/state/document-head/selectors.js"),h=n("./client/state/document-head/actions.js"),O=n("./client/components/translatable/proptype.js"),y=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.setFormattedTitle=Object(b.debounce)(function(e){document.title=e}),n}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.title,n=e.unreadCount;void 0!==this.props.title&&this.props.setTitle(t),void 0!==this.props.unreadCount&&this.props.setUnreadCount(n),void 0!==this.props.link&&this.props.setLink(this.props.link),void 0!==this.props.meta&&this.props.setMeta(this.props.meta)}},{key:"componentDidMount",value:function(){this.setFormattedTitle(this.props.formattedTitle)}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.title&&this.props.title!==e.title&&this.props.setTitle(e.title),void 0!==e.unreadCount&&this.props.unreadCount!==e.unreadCount&&this.props.setUnreadCount(e.unreadCount),void 0===e.link||Object(b.isEqual)(this.props.link,e.link)||this.props.setLink(e.link),void 0===e.meta||Object(b.isEqual)(this.props.meta,e.meta)||this.props.setMeta(e.meta),e.formattedTitle!==this.props.formattedTitle&&this.setFormattedTitle(e.formattedTitle)}},{key:"componentWillUnmount",value:function(){this.setFormattedTitle.cancel()}},{key:"render",value:function(){return null}}]),t}(_.Component);y.propTypes={title:O.a,unreadCount:f.a.number,link:f.a.array,meta:f.a.array,setTitle:f.a.func.isRequired,setLink:f.a.func.isRequired,setMeta:f.a.func.isRequired,setUnreadCount:f.a.func.isRequired},t.a=Object(E.b)(function(e){return{formattedTitle:Object(g.b)(e)}},{setTitle:h.c,setLink:h.a,setMeta:h.b,setUnreadCount:h.d})(y)},"./client/components/data/query-active-promotions/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/active-promotions/selectors.js"),g=n("./client/state/active-promotions/actions.js"),h=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.props.requestingActivePromotions||this.props.requestActivePromotions()}},{key:"render",value:function(){return null}}]),t}(_.Component);h.propTypes={requestingActivePromotions:f.a.bool,requestActivePromotions:f.a.func},h.defaultProps={requestPlans:function(){}},t.a=Object(E.b)(function(e){return{requestingPlans:Object(b.b)(e)}},{requestActivePromotions:g.d})(h)},"./client/components/data/query-post-counts/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n("./node_modules/react-redux/es/index.js"),b=n("./client/lib/wp/browser.js");var g=n("./client/state/posts/counts/selectors.js"),h=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId===e.siteId&&this.props.type===e.type||this.request(e)}},{key:"request",value:function(e){e.requesting||e.requestPostCounts(e.siteId,e.type)}},{key:"render",value:function(){return null}}]),t}(_.Component);h.propTypes={siteId:f.a.number.isRequired,type:f.a.string.isRequired,requesting:f.a.bool,requestPostCounts:f.a.func};t.a=Object(E.b)(function(e,t){var n=t.siteId,r=t.type;return{requesting:Object(g.d)(e,n,r)}},{requestPostCounts:function(e,t){return function(n){return n({type:"POST_COUNTS_REQUEST",postType:t,siteId:e}),b.a.undocumented().site(e).postCounts({type:t}).then(function(r){n(function(e,t,n){return{type:"POST_COUNTS_RECEIVE",siteId:e,postType:t,counts:n}}(e,t,r.counts)),n({type:"POST_COUNTS_REQUEST_SUCCESS",siteId:e,postType:t})}).catch(function(r){n({type:"POST_COUNTS_REQUEST_FAILURE",siteId:e,postType:t,error:r})})}}})(h)},"./client/components/data/query-post-types/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n("./node_modules/react-redux/es/index.js"),b=n("./node_modules/lodash/lodash.js"),g=n("./client/state/sites/selectors.js"),h=n("./client/state/site-settings/selectors.js"),O=n("./client/state/post-types/actions.js"),y=["jetpack_portfolio","jetpack_testimonial"],j=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.siteSettings,r=t.siteId,i=t.themeSlug,s=e.siteSettings,o=e.siteId,a=e.themeSlug,c=i&&a&&i!==a,u=!Object(b.isEqual)(Object(b.pick)(n,y),Object(b.pick)(s,y));(r!==o||c||u)&&this.request(e)}},{key:"request",value:function(e){e.requestPostTypes(e.siteId)}},{key:"render",value:function(){return null}}]),t}(_.Component);j.propTypes={siteId:f.a.number.isRequired,requestingPostTypes:f.a.bool,themeSlug:f.a.string,postTypeSettings:f.a.object,requestPostTypes:f.a.func},t.a=Object(E.b)(function(e,t){var n=t.siteId;return{siteSettings:Object(h.a)(e,n),themeSlug:Object(g.s)(e,n,"theme_slug")}},{requestPostTypes:O.b})(j)},"./client/components/data/query-posts/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react/index.js"),f=n("./node_modules/react-pure-render/shallowEqual.js"),_=n.n(f),E=n("./node_modules/react-redux/es/index.js"),b=n("./node_modules/redux/es/redux.js"),g=n("./node_modules/debug/src/browser.js"),h=n.n(g),O=n("./client/state/posts/selectors.js"),y=n("./client/state/posts/actions.js"),j=h()("calypso:query-posts"),v=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId===e.siteId&&this.props.postId===e.postId&&_()(this.props.query,e.query)||this.request(e)}},{key:"request",value:function(e){var t=!!e.siteId,n=!!e.postId;t?(n||e.requestingPosts||(j("Request post list for site %d using query %o",e.siteId,e.query),e.requestSitePosts(e.siteId,e.query)),n&&!e.requestingPost&&(j("Request single post for site %d post %d",e.siteId,e.postId),e.requestSitePost(e.siteId,e.postId))):e.requestingPosts||(j("Request post list for all sites using query %o",e.query),e.requestAllSitesPosts(e.query))}},{key:"render",value:function(){return null}}]),t}(m.Component);t.a=Object(E.b)(function(e,t){var n=t.siteId,r=t.postId,i=t.query;return{requestingPost:n&&r&&Object(O.u)(e,n,r),requestingPosts:Object(O.s)(e,n,i)}},function(e){return Object(b.b)({requestSitePosts:y.h,requestAllSitesPosts:y.f,requestSitePost:y.g},e)})(v)},"./client/components/data/query-preferences/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/preferences/selectors.js"),g=n("./client/state/preferences/actions.js"),h=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.props.fetchingPreferences||this.props.fetchPreferences()}},{key:"render",value:function(){return null}}]),t}(_.Component);h.propTypes={fetchingPreferences:f.a.bool,fetchPreferences:f.a.func},h.defaultProps={fetchPreferences:function(){},fetchingPreferences:!1},t.a=Object(E.b)(function(e){return{fetchingPreferences:Object(b.d)(e)}},{fetchPreferences:g.a})(h)},"./client/components/data/query-reader-post/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/reader/posts/actions.js"),g=n("./client/state/reader/posts/selectors.js"),h=n("./client/reader/post-key.js"),O=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.maybeFetch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props;!Object(h.a)(e.postKey)||e.post&&"minimal"!==e.post._state||n.props.fetchPost(e.postKey)},n}return p()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.maybeFetch()}},{key:"componentWillReceiveProps",value:function(e){this.maybeFetch(e)}},{key:"render",value:function(){return null}}]),t}(_.Component);O.propTypes={postKey:f.a.object.isRequired},t.a=Object(E.b)(function(e,t){return{post:Object(g.b)(e,t.postKey)}},{fetchPost:b.a})(O)},"./client/components/data/query-reader-site/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n("./node_modules/react-redux/es/index.js"),b=n("./node_modules/redux/es/redux.js"),g=n("./client/state/reader/sites/selectors.js"),h=n("./client/state/reader/sites/actions.js"),O=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.props.shouldSiteBeFetched&&this.props.requestSite(this.props.siteId)}},{key:"componentWillReceiveProps",value:function(e){e.shouldSiteBeFetched&&this.props.siteId!==e.siteId&&e.requestSite(e.siteId)}},{key:"render",value:function(){return null}}]),t}(_.Component);O.propTypes={siteId:f.a.number,shouldSiteBeFetched:f.a.bool,requestSite:f.a.func},O.defaultProps={requestSite:function(){}},t.a=Object(E.b)(function(e,t){var n=t.siteId;return{shouldSiteBeFetched:Object(g.c)(e,n)}},function(e){return Object(b.b)({requestSite:h.c},e)})(O)},"./client/components/data/query-site-connection-status/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n("./node_modules/react-redux/es/index.js"),b=n("./client/state/selectors/is-requesting-site-connection-status.js"),g=n("./client/lib/wp/browser.js"),h=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId!==e.siteId&&this.request(e)}},{key:"request",value:function(e){!e.requestingSiteConnectionStatus&&e.siteId&&e.requestConnectionStatus(e.siteId)}},{key:"render",value:function(){return null}}]),t}(_.Component);h.propTypes={siteId:f.a.number,requestingSiteConnectionStatus:f.a.bool,requestConnectionStatus:f.a.func};t.a=Object(E.b)(function(e,t){return{requestingSiteConnectionStatus:Object(b.a)(e,t.siteId)}},{requestConnectionStatus:function(e){return function(t){return t({type:"SITE_CONNECTION_STATUS_REQUEST",siteId:e}),g.a.undocumented().testConnectionJetpack(e).then(function(n){t({type:"SITE_CONNECTION_STATUS_RECEIVE",siteId:e,status:n.connected}),t({type:"SITE_CONNECTION_STATUS_REQUEST_SUCCESS",siteId:e})}).catch(function(n){t({type:"SITE_CONNECTION_STATUS_REQUEST_FAILURE",siteId:e,error:n})})}}})(h)},"./client/components/data/query-site-domains/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n("./node_modules/react-redux/es/index.js"),h=n("./node_modules/redux/es/redux.js"),O=n("./client/state/sites/domains/selectors.js"),y=n("./client/state/sites/domains/actions.js"),j=function(e){function t(e){var n;return i()(this,t),n=c()(this,l()(t).call(this,e)),n.requestSiteDomains=n.requestSiteDomains.bind(f()(f()(n))),n}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.requestSiteDomains()}},{key:"componentWillReceiveProps",value:function(e){!e.requestingSiteDomains&&e.siteId&&this.props.siteId!==e.siteId&&this.requestSiteDomains(e)}},{key:"requestSiteDomains",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;!e.requestingSiteDomains&&e.siteId&&e.fetchSiteDomains(e.siteId)}},{key:"render",value:function(){return null}}]),t}(b.Component);j.propTypes={siteId:E.a.number,requestingSiteDomains:E.a.bool,fetchSiteDomains:E.a.func},j.defaultProps={fetchSiteDomains:function(){}},t.a=Object(g.b)(function(e,t){return{requestingSiteDomains:Object(O.c)(e,t.siteId)}},function(e){return Object(h.b)({fetchSiteDomains:y.a},e)})(j)},"./client/components/data/query-site-plans/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n("./node_modules/react-redux/es/index.js"),h=n("./node_modules/redux/es/redux.js"),O=n("./client/state/sites/plans/selectors.js"),y=n("./client/state/sites/plans/actions.js"),j=function(e){function t(e){var n;return i()(this,t),n=c()(this,l()(t).call(this,e)),n.requestPlans=n.requestPlans.bind(f()(f()(n))),n}return p()(t,e),o()(t,[{key:"requestPlans",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;!e.requestingSitePlans&&e.siteId&&e.fetchSitePlans(e.siteId)}},{key:"componentWillMount",value:function(){this.requestPlans()}},{key:"componentWillReceiveProps",value:function(e){!e.requestingSitePlans&&e.siteId&&this.props.siteId!==e.siteId&&this.requestPlans(e)}},{key:"render",value:function(){return null}}]),t}(b.Component);j.propTypes={siteId:E.a.number,requestingPlans:E.a.bool,fetchSitePlans:E.a.func},j.defaultProps={fetchSitePlans:function(){}},t.a=Object(g.b)(function(e,t){return{requestingSitePlans:Object(O.l)(e,t.siteId)}},function(e){return Object(h.b)({fetchSitePlans:y.b},e)})(j)},"./client/components/data/query-site-stats/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n("./node_modules/react-redux/es/index.js"),b=n("./node_modules/react-pure-render/shallowEqual.js"),g=n.n(b),h=n("./client/lib/wp/browser.js"),O=n("./node_modules/lodash/lodash.js");var y=n("./client/state/stats/lists/selectors.js"),j=n("./client/state/stats/lists/utils.js"),v=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.heartbeatRequest=function(){var e=n.props,t=e.requesting,r=e.siteId,i=e.statType,s=e.query;t||n.props.requestSiteStats(r,i,s)},n}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.request(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.siteId===e.siteId&&this.props.statType===e.statType&&g()(this.props.query,e.query)||this.request(e)}},{key:"componentWillUnmount",value:function(){this.clearInterval()}},{key:"request",value:function(e){var t=e.requesting,n=e.siteId,r=e.statType,i=e.query,s=e.heartbeat;t||(e.requestSiteStats(n,r,i),this.clearInterval(),s&&Object(j.d)(i)&&(this.interval=setInterval(this.heartbeatRequest,s)))}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this.interval&&clearInterval(this.interval)})},{key:"render",value:function(){return null}}]),t}(_.Component);v.propTypes={siteId:f.a.number.isRequired,statType:f.a.string.isRequired,query:f.a.object,requesting:f.a.bool.isRequired,requestSiteStats:f.a.func.isRequired,heartbeat:f.a.number},v.defaultProps={query:{},heartbeat:18e4};t.a=Object(E.b)(function(e,t){var n=t.siteId,r=t.statType,i=t.query;return{requesting:Object(y.f)(e,n,r,i)}},{requestSiteStats:function(e,t,n){return function(r){r({type:"SITE_STATS_REQUEST",statType:t,siteId:e,query:n});var i=Object(O.includes)(["statsPodcastDownloads","statsOrders","statsTopSellers","statsTopCategories","statsTopCoupons","statsTopEarners","statsStoreReferrers"],t),s="statsVideo"===t?n.postId:n,o=i?h.a.undocumented().site(e):h.a.site(e);return o[t](s).then(function(i){return r(function(e,t,n,r,i){return{type:"SITE_STATS_RECEIVE",statType:t,siteId:e,query:n,data:r,date:i}}(e,t,n,i,Date.now()))}).catch(function(i){r({type:"SITE_STATS_REQUEST_FAILURE",statType:t,siteId:e,query:n,error:i})})}}})(v)},"./client/components/data/query-sites/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n("./node_modules/react-redux/es/index.js"),b=n("./node_modules/lodash/lodash.js"),g=n("./client/state/sites/selectors.js"),h=n("./client/state/sites/actions.js"),O=n("./client/state/preferences/selectors.js"),y=n("./client/state/selectors/get-primary-site-id.js"),j=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.requestAll(this.props),this.requestPrimary(this.props),this.requestRecent(this.props),this.requestSingle(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.siteId!==this.props.siteId&&this.requestSingle(e),e.primaryAndRecent&&e.primarySiteId!==this.props.primarySiteId&&this.requestPrimary(e),e.primaryAndRecent&&!Object(b.isEqual)(e.recentSiteIds,this.props.recentSiteIds)&&this.requestRecent(e)}},{key:"requestAll",value:function(e){e.allSites&&!e.requestingSites&&e.requestSites()}},{key:"requestPrimary",value:function(e){if(e.primaryAndRecent&&!e.hasAllSitesList){var t=e.primarySiteId,n=e.isRequestingPrimarySite;t&&!n&&e.requestSite(t)}}},{key:"requestRecent",value:function(e){if(e.primaryAndRecent&&!e.hasAllSitesList){var t=e.recentSiteIds,n=e.isRequestingRecentSites,r=e.primarySiteId;t&&t.length&&!n&&Object(b.forEach)(Object(b.without)(t,r),e.requestSite)}}},{key:"requestSingle",value:function(e){e.siteId&&!e.requestingSite&&e.requestSite(e.siteId)}},{key:"render",value:function(){return null}}]),t}(_.Component);j.propTypes={allSites:f.a.bool,primaryAndRecent:f.a.bool,siteId:f.a.oneOfType([f.a.number,f.a.string]),requestingSites:f.a.bool,requestingSite:f.a.bool,requestSites:f.a.func,requestSite:f.a.func},j.defaultProps={allSites:!1,primaryAndRecent:!1,requestSites:function(){},requestSite:function(){}},t.a=Object(E.b)(function(e,t){var n=t.siteId,r=Object(y.a)(e),i=Object(O.b)(e,"recentSites"),s=Object(b.without)(Object(O.b)(e,"recentSites"),r);return{primarySiteId:r,recentSiteIds:i,hasAllSitesList:Object(g.B)(e),requestingSites:Object(g.Q)(e),requestingSite:Object(g.P)(e,n),isRequestingPrimarySite:Object(g.P)(e,r),isRequestingRecentSites:Object(b.some)(s,function(t){return Object(g.P)(e,t)})}},{requestSites:h.f,requestSite:h.e})(j)},"./client/components/dialog/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n.n(b),h=n("./node_modules/lodash/lodash.js"),O=n("./client/components/root-child/index.jsx"),y=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),j=n.n(y),v=n("./node_modules/react-modal/lib/index.js"),S=n.n(v),I=n("./node_modules/classnames/index.js"),T=n.n(I),C=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(i))),n._onButtonClick=function(e){e.onClick?e.onClick(n._close.bind(j()(j()(n)),e.action)):n._close(e.action)},n._close=function(e){n.props.onDialogClose&&n.props.onDialogClose(e)},n}return f()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.additionalClassNames,n=e.isBackdropVisible,r=e.baseClassName,i=e.isFullScreen,s=e.shouldCloseOnEsc,o=r+"__content",a=T()(r,"card",t),c=T()(r+"__backdrop",{"is-full-screen":!!i,"is-hidden":!n});return g.a.createElement(S.a,{isOpen:this.props.isVisible,onRequestClose:this._close,closeTimeoutMS:this.props.leaveTimeout,contentLabel:this.props.label,appElement:document.getElementById("wpcom"),overlayClassName:c,className:a,role:"dialog",shouldCloseOnEsc:s},g.a.createElement("div",{className:T()(this.props.className,o),ref:"content",tabIndex:"-1"},this.props.children),this._renderButtonsBar())}},{key:"_renderButtonsBar",value:function(){var e=this.props.baseClassName,t=e+"__action-buttons";return this.props.buttons?g.a.createElement("div",{className:t,ref:"actionButtons"},this.props.buttons.map(this._renderButton,this)):null}},{key:"_renderButton",value:function(e,t){if(g.a.isValidElement(e))return g.a.cloneElement(e,{key:"dialog-button-"+t});var n=this._getButtonClasses(e),r=this._onButtonClick.bind(this,e);return g.a.createElement("button",{key:e.action,className:n,"data-e2e-button":e.action,"data-tip-target":"dialog-base-action-"+e.action,onClick:r,disabled:!!e.disabled},g.a.createElement("span",{className:this.props.baseClassName+"__button-label"},e.label))}},{key:"_getButtonClasses",value:function(e){var t=e.className||"button";return(e.isPrimary||1===this.props.buttons.length)&&(t+=" is-primary"),e.additionalClassNames&&(t+=" "+e.additionalClassNames),t}}]),t}(b.Component);C.propTypes={additionalClassNames:E.a.oneOfType([E.a.object,E.a.string]),autoFocus:E.a.bool,baseClassName:E.a.string,buttons:E.a.array,className:E.a.string,isBackdropVisible:E.a.bool,isFullScreen:E.a.bool,isVisible:E.a.bool,label:E.a.string,leaveTimeout:E.a.number,onDialogClose:E.a.func,shouldCloseOnEsc:E.a.bool},C.defaultProps={baseClassName:"dialog",isBackdropVisible:!0,isFullScreen:!0,autoFocus:!0,label:""};var R=C,A=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(i))),n.checkOnClosed=function(e){null===e&&Object(h.defer)(n.props.onClosed)},n.onDialogClose=function(e){n.props.onClose&&n.props.onClose(e)},n}return f()(t,e),c()(t,[{key:"render",value:function(){return g.a.createElement(O.a,null,g.a.createElement(R,i()({},this.props,{ref:this.checkOnClosed,key:"dialog",onDialogClose:this.onDialogClose})))}}]),t}(b.Component);A.propTypes={isVisible:E.a.bool,baseClassName:E.a.string,leaveTimeout:E.a.number,onClose:E.a.func,onClosed:E.a.func,shouldCloseOnEsc:E.a.bool},A.defaultProps={isVisible:!1,leaveTimeout:200,onClosed:h.noop};t.a=A},"./client/components/embed-container/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return U});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react/index.js"),f=n.n(m),_=n("./node_modules/react-dom/index.js"),E=n.n(_),b=n("./node_modules/lodash/lodash.js"),g=n("./client/lib/load-script/index.js"),h=n("./node_modules/debug/src/browser.js"),O=n.n(h),y=O()("calypso:components:embed-container"),j={'blockquote[class^="instagram-"]':function e(t){y("processing instagram for",t);if("undefined"!=typeof instgrm){try{window.instgrm.Embeds.process()}catch(e){}return}A("https://platform.instagram.com/en_US/embeds.js",e.bind(null,t))},'blockquote[class^="twitter-"], a[class^="twitter-"]':function e(t){y("processing twitter for",t);if("undefined"!=typeof twttr){try{window.twttr.widgets.load(t)}catch(e){}return}A("https://platform.twitter.com/widgets.js",e.bind(null,t))},"fb\\:post, [class^=fb-]":function(e){if(y("processing facebook for",e),"undefined"!=typeof fb)return;A("https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.2",b.noop)},"[class^=tumblr-]":function(e){if(y("processing tumblr for",e),C)return;function t(){Object(b.forEach)(document.querySelectorAll('script[src="https://secure.assets.tumblr.com/post.js"]'),function(e){e.parentNode.removeChild(e)}),C=!1}C=!0,setTimeout(function(){Object(g.a)("https://secure.assets.tumblr.com/post.js",t)},30)},".jetpack-slideshow":function(e){y("processing slideshow for",e),window.jetpackSlideshowSettings={spinner:S.SPINNER},P||(P=!0,t=S.CSS,n=Object(b.assign)(document.createElement("link"),{rel:"stylesheet",type:"text/css",href:t}),document.head.appendChild(n));var t,n;var r=e.parentNode.getElementsByClassName("jetpack-slideshow-noscript");Object(b.forEach)(r,function(e){e.classList.add("hidden")}),window.jQuery&&window.jQuery.prototype.cycle?w():window.jQuery&&!window.jQuery.prototype.cycle?A(S.CYCLE_JS,function(){w()}):Object(g.b)(S.CYCLE_JS,function(){w()})},".embed-reddit":function(e){y("processing reddit for ",e),A("https://embed.redditmedia.com/widgets/platform.js",b.noop)}},v="?v="+Math.floor((new Date).getTime()/864e6),S={CSS:"https://s0.wp.com/wp-content/mu-plugins/shortcodes/css/slideshow-shortcode.css"+v,CYCLE_JS:"https://s0.wp.com/wp-content/mu-plugins/shortcodes/js/jquery.cycle.min.js"+v,JS:"https://s0.wp.com/wp-content/mu-plugins/shortcodes/js/slideshow-shortcode.js"+v,SPINNER:"https://s0.wp.com/wp-content/mu-plugins/shortcodes/img/slideshow-loader.gif"+v};function I(e){Object(b.forOwn)(j,function(t,n){var r=e.querySelectorAll(n);Object(b.forEach)(Object(b.filter)(r,T),t)})}function T(e){return!e.hasAttribute("data-wpcom-embed-processed")&&(e.setAttribute("data-wpcom-embed-processed","1"),!0)}var C,R={};function A(e,t){var n=R[e];n||(n=new Promise(function(t,n){Object(g.a)(e,function(e){e?n(e):t()})}),R[e]=n),n.then(t,function(t){y("error loading "+e,t),R[e]=null})}function N(){window.jQuery("body").trigger("post-load")}function w(){window.JetpackSlideshow&&N(),A(S.JS,function(){N()})}var P=document.head.querySelector('link[href="'+S.CSS+'"]');var U=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentDidMount",value:function(){I(E.a.findDOMNode(this))}},{key:"componentDidUpdate",value:function(){I(E.a.findDOMNode(this))}},{key:"render",value:function(){return f.a.Children.only(this.props.children)}}]),t}(m.PureComponent)},"./client/components/emojify/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(m),_=n("./node_modules/@babel/runtime/helpers/inherits.js"),E=n.n(_),b=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),g=n.n(b),h=n("./node_modules/prop-types/index.js"),O=n.n(h),y=n("./node_modules/react/index.js"),j=n.n(y),v=n("./node_modules/classnames/index.js"),S=n.n(v),I=n("./node_modules/twemoji/2/twemoji.npm.js"),T=n.n(I),C=function(e){function t(e){var n;return c()(this,t),n=p()(this,f()(t).call(this,e)),n.parseEmoji=function(){var e=n.props,t=e.imgClassName,r=e.twemojiUrl;T.a.parse(n.emojified,{base:r,size:"72x72",className:t,callback:function(e,t){return-1===["a9","ae","2122","2194","2660","2663","2665","2666"].indexOf(e)&&"".concat(t.base,t.size,"/",e,t.ext)}})},n.setRef=n.setRef.bind(g()(g()(n))),n}return E()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.parseEmoji()}},{key:"componentDidUpdate",value:function(){this.parseEmoji()}},{key:"setRef",value:function(e){this.emojified=e}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=(e.imgClassName,e.tagName),s=(e.twemojiUrl,o()(e,["children","className","imgClassName","tagName","twemojiUrl"])),a=S()(n,"emojify");return j.a.createElement(r,i()({className:a,ref:this.setRef},s),t)}}]),t}(y.PureComponent);C.propTypes={imgClassName:O.a.string,tagName:O.a.string,twemojiUrl:O.a.string},C.defaultProps={imgClassName:"emojify__emoji",tagName:"div"}},"./client/components/empty-content/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n.n(b),h=n("./node_modules/classnames/index.js"),O=n.n(h),y=n("./node_modules/lodash/lodash.js"),j=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return f()(t,e),c()(t,[{key:"primaryAction",value:function(){if("string"!=typeof this.props.action)return this.props.action;if(this.props.actionURL&&this.props.actionCallback)return g.a.createElement("a",{className:"empty-content__action button is-primary",onClick:this.props.actionCallback,href:this.props.actionURL,onMouseEnter:this.props.actionHoverCallback,onTouchStart:this.props.actionHoverCallback},this.props.action);if(this.props.actionURL){var e={};return this.props.actionTarget&&(e={target:this.props.actionTarget,rel:"noopener noreferrer"}),g.a.createElement("a",i()({className:"empty-content__action button is-primary",href:this.props.actionURL,onMouseEnter:this.props.actionHoverCallback,onTouchStart:this.props.actionHoverCallback},e),this.props.action)}return this.props.actionCallback?g.a.createElement("a",{className:"empty-content__action button is-primary",onClick:this.props.actionCallback},this.props.action):void 0}},{key:"secondaryAction",value:function(){if("string"!=typeof this.props.secondaryAction)return this.props.secondaryAction;if(this.props.secondaryActionURL&&this.props.secondaryActionCallback)return g.a.createElement("a",{className:"empty-content__action button",onClick:this.props.secondaryActionCallback,href:this.props.secondaryActionURL},this.props.secondaryAction);if(this.props.secondaryActionURL){var e={};return this.props.secondaryActionTarget&&(e={target:this.props.secondaryActionTarget,rel:"noopener noreferrer"}),g.a.createElement("a",i()({className:"empty-content__action button",href:this.props.secondaryActionURL},e),this.props.secondaryAction)}return this.props.secondaryActionCallback?g.a.createElement("a",{className:"empty-content__action button",onClick:this.props.secondaryActionCallback},this.props.secondaryAction):void 0}},{key:"render",value:function(){var e=this.props.action&&this.primaryAction(),t=this.props.secondaryAction&&this.secondaryAction(),n=this.props.illustration&&g.a.createElement("img",{src:this.props.illustration,width:this.props.illustrationWidth,className:"empty-content__illustration"});return g.a.createElement("div",{className:O()("empty-content",this.props.className,{"is-compact":this.props.isCompact,"has-title-only":this.props.title&&!this.props.line})},n,this.props.title?g.a.createElement("h2",{className:"empty-content__title"},this.props.title):null,this.props.line?g.a.createElement("h3",{className:"empty-content__line"},this.props.line):null,e,t)}}]),t}(b.Component);j.propTypes={title:E.a.oneOfType([E.a.string,E.a.array]),illustration:E.a.string,illustrationWidth:E.a.number,line:E.a.oneOfType([E.a.string,E.a.array]),action:E.a.oneOfType([E.a.string,E.a.element]),actionURL:E.a.string,actionCallback:E.a.func,actionTarget:E.a.string,actionHoverCallback:E.a.func,secondaryAction:E.a.oneOfType([E.a.string,E.a.element]),secondaryActionURL:E.a.string,secondaryActionCallback:E.a.func,secondaryActionTarget:E.a.string,className:E.a.string,isCompact:E.a.bool},j.defaultProps={title:"You haven't created any content yet.",illustration:"/calypso/images/illustrations/illustration-empty-results.svg",isCompact:!1,actionHoverCallback:y.noop},j.displayName="EmptyContent",t.a=j},"./client/components/empty-content/no-sites-message/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r),s=n("./node_modules/i18n-calypso/index.js"),o=n("./client/config/index.js"),a=n("./client/components/empty-content/index.jsx");t.a=Object(s.localize)(function(e){var t=e.translate;return i.a.createElement(a.a,{title:t("You don't have any WordPress sites yet."),line:t("Would you like to start one?"),action:t("Create Site"),actionURL:Object(o.a)("signup_url")+"?ref=calypso-nosites",illustration:"/calypso/images/illustrations/illustration-nosites.svg"})})},"./client/components/external-link/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react/index.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/classnames/index.js"),g=n.n(b),h=n("./node_modules/lodash/lodash.js"),O=n("./node_modules/gridicons/dist/index.js"),y=n.n(O),j=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){var e=g()("external-link",this.props.className,{"icon-first":!!this.props.showIconFirst},{"has-icon":!!this.props.icon}),t=Object(h.assign)({},Object(h.omit)(this.props,"icon","iconSize","showIconFirst","iconClassName"),{className:e,rel:"external"});t.target&&(t.rel=t.rel.concat(" noopener noreferrer"));var n=f.a.createElement(y.a,{className:this.props.iconClassName,icon:"external",size:this.props.iconSize});return f.a.createElement("a",t,this.props.icon&&this.props.showIconFirst&&n,this.props.children,this.props.icon&&!this.props.showIconFirst&&n)}}]),t}(m.Component);j.defaultProps={iconSize:18,showIconFirst:!1},j.propTypes={className:E.a.string,href:E.a.string,onClick:E.a.func,icon:E.a.bool,iconSize:E.a.number,target:E.a.string,showIconFirst:E.a.bool,iconClassName:E.a.string},t.a=j},"./client/components/forms/form-button/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(m),_=n("./node_modules/@babel/runtime/helpers/inherits.js"),E=n.n(_),b=n("./node_modules/classnames/index.js"),g=n.n(b),h=n("./node_modules/i18n-calypso/index.js"),O=n("./node_modules/lodash/lodash.js"),y=n("./node_modules/react/index.js"),j=n.n(y),v=n("./client/components/button/index.jsx"),S=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=p()(this,(e=f()(t)).call.apply(e,[this].concat(i))),n.getDefaultButtonAction=function(){return n.props.isSubmitting?n.props.translate("Saving"):n.props.translate("Save Settings")},n}return E()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.isPrimary,s=o()(e,["children","className","isPrimary"]),a=g()(n,"form-button");return j.a.createElement(v.a,i()({},Object(O.omit)(s,["isSubmitting","moment","numberFormat","translate"]),{primary:r,className:a}),y.Children.count(t)?t:this.getDefaultButtonAction())}}]),t}(j.a.Component);S.defaultProps={isSubmitting:!1,isPrimary:!0,type:"submit"},t.a=Object(h.localize)(S)},"./client/components/forms/form-buttons-bar/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(s),a=n("./node_modules/react/index.js"),c=n.n(a),u=n("./node_modules/classnames/index.js"),l=n.n(u);t.a=function(e){var t=e.className,n=e.children,r=o()(e,["className","children"]);return c.a.createElement("div",i()({},r,{className:l()(t,"form-buttons-bar")}),n)}},"./client/components/forms/form-fieldset/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(s),a=n("./node_modules/react/index.js"),c=n.n(a),u=n("./node_modules/classnames/index.js"),l=n.n(u);t.a=function(e){var t=e.className,n=e.children,r=o()(e,["className","children"]);return c.a.createElement("fieldset",i()({},r,{className:l()(t,"form-fieldset")}),n)}},"./client/components/forms/form-password-input/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/gridicons/dist/index.js"),g=n.n(b),h=n("./node_modules/classnames/index.js"),O=n.n(h),y=n("./node_modules/lodash/lodash.js"),j=n("./client/components/forms/form-text-input/index.jsx"),v=n("./client/lib/viewport/index.js"),S=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(i))),n.state={hidePassword:!0},n.togglePasswordVisibility=function(){n.setState({hidePassword:!n.state.hidePassword})},n.focus=function(){n.refs.textField.focus()},n}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){Object(v.c)()?this.state={hidePassword:!1}:this.state={hidePassword:!0}}},{key:"hidden",value:function(){return!!this.props.hideToggle||(this.props.submitting||this.state.hidePassword)}},{key:"render",value:function(){var e=O()({"form-password-input__toggle":!0,"form-password-input__toggle-visibility":!this.props.hideToggle});return E.a.createElement("div",{className:"form-password-input"},E.a.createElement(j.a,i()({},Object(y.omit)(this.props,"hideToggle","submitting"),{autoComplete:"off",ref:"textField",type:this.hidden()?"password":"text"})),E.a.createElement("span",{className:e,onClick:this.togglePasswordVisibility},this.hidden()?E.a.createElement(g.a,{icon:"not-visible"}):E.a.createElement(g.a,{icon:"visible"})))}}]),t}(E.a.Component);S.displayName="FormPasswordInput"},"./client/components/forms/form-text-input/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(m),_=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n.n(b),h=n("./node_modules/prop-types/index.js"),O=n.n(h),y=n("./node_modules/classnames/index.js"),j=n.n(y),v=n("./node_modules/lodash/lodash.js"),S=function(e){function t(){var e;return o()(this,t),e=l()(this,p()(t).apply(this,arguments)),e.selectOnFocus=e.selectOnFocus.bind(E()(E()(e))),e}return f()(t,e),c()(t,[{key:"focus",value:function(){this.refs.textField.focus()}},{key:"selectOnFocus",value:function(e){this.props.selectOnFocus&&e.target.select()}},{key:"render",value:function(){var e=this.props.inputRef,t=Object(v.omit)(this.props,"isError","isValid","selectOnFocus","inputRef"),n=j()("form-text-input",this.props.className,{"is-error":this.props.isError,"is-valid":this.props.isValid});return g.a.createElement("input",i()({type:"text"},t,{ref:e||"textField",className:n,onClick:this.selectOnFocus}))}}]),t}(b.PureComponent);S.propTypes={isError:O.a.bool,isValid:O.a.bool,selectOnFocus:O.a.bool,className:O.a.string}},"./client/components/forms/form-textarea/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(s),a=n("./node_modules/react/index.js"),c=n.n(a),u=n("./node_modules/classnames/index.js"),l=n.n(u);t.a=function(e){var t=e.className,n=e.isError,r=e.isValid,s=e.children,a=o()(e,["className","isError","isValid","children"]);return c.a.createElement("textarea",i()({},a,{className:l()(t,"form-textarea",{"is-error":n,"is-valid":r})}),s)}},"./client/components/global-notices/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(s),a=n("./node_modules/create-react-class/index.js"),c=n.n(a),u=n("./node_modules/prop-types/index.js"),l=n.n(u),d=n("./node_modules/react/index.js"),p=n.n(d),m=n("./client/components/notice/index.jsx"),f=n("./client/components/notice/notice-action.jsx"),_=n("./client/notices/index.js"),E=n("./client/lib/mixins/data-observe/index.js"),b=n("./node_modules/react-redux/es/index.js"),g=n("./client/state/notices/selectors.js"),h=n("./client/state/notices/actions.js"),O=c()({displayName:"GlobalNotices",mixins:[Object(E.a)("notices")],propTypes:{id:l.a.string,notices:l.a.oneOfType([l.a.object,l.a.array]),removeNotice:l.a.func.isRequired,storeNotices:l.a.array.isRequired},getDefaultProps:function(){return{id:"overlay-notices",notices:Object.freeze([])}},removeNoticeStoreNotice:function(e){return function(){e&&_.a.removeNotice(e)}},removeReduxNotice:function(e,t){var n=this;return function(r){t&&t(r),n.props.removeNotice(e)}},render:function(){var e=this.props.notices[this.props.id]||[],t=e.map(function(e,t){return p.a.createElement(m.b,{key:"notice-old-"+t,status:e.status,duration:e.duration||null,text:e.text,isCompact:e.isCompact,onDismissClick:this.removeNoticeStoreNotice(e),showDismiss:e.showDismiss},e.button&&p.a.createElement(f.a,{href:e.href,onClick:e.onClick},e.button))},this);return t=t.concat(this.props.storeNotices.map(function(e){var t=e.button,n=e.href,r=e.noticeId,s=e.onClick,a=e.onDismissClick,c=o()(e,["button","href","noticeId","onClick","onDismissClick"]);return p.a.createElement(m.b,i()({},c,{key:"notice-"+r,onDismissClick:this.removeReduxNotice(r,a)}),t&&p.a.createElement(f.a,{href:n,onClick:s},t))},this)),t.length?p.a.createElement("div",{id:this.props.id,className:"global-notices"},t):null}});t.a=Object(b.b)(function(e){return{storeNotices:Object(g.b)(e)}},{removeNotice:h.e})(O)},"./client/components/gravatar/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react/index.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/url/url.js"),g=n.n(b),h=n("./node_modules/qs/lib/index.js"),O=n("./node_modules/react-redux/es/index.js"),y=n("./node_modules/lodash/lodash.js"),j=n("./node_modules/classnames/index.js"),v=n.n(j),S=n("./client/lib/safe-image-url/index.js"),I=n("./client/state/current-user/gravatar-status/selectors.js"),T=function(e){function t(){var e;return i()(this,t),e=c()(this,l()(t).apply(this,arguments)),e.onError=function(){return e.setState({failedToLoad:!0})},e.state={failedToLoad:!1},e}return p()(t,e),o()(t,[{key:"getResizedImageURL",value:function(e){var t=this.props.imgSize;e=e||"https://www.gravatar.com/avatar/0";var n=g.a.parse(e),r=Object(h.parse)(n.query);return/^([-a-zA-Z0-9_]+\.)*(gravatar.com)$/.test(n.hostname)?(r.s=t,r.d="mm"):r.resize=t+","+t,n.search=Object(h.stringify)(r),g.a.format(n)}},{key:"render",value:function(){var e=this.props,t=e.alt,n=e.title,r=e.size,i=e.tempImage,s=e.user;if(!s)return f.a.createElement("span",{className:"gravatar is-placeholder",style:{width:r,height:r}});if(this.state.failedToLoad&&!i)return f.a.createElement("span",{className:"gravatar is-missing"});var o=t||s.display_name||s.name,a=i||this.getResizedImageURL(Object(S.a)(s.avatar_URL)),c=v()("gravatar",this.props.className);return f.a.createElement("img",{alt:o,title:n,className:c,src:a,width:r,height:r,onError:this.onError})}}]),t}(m.Component);T.propTypes={user:E.a.object,size:E.a.number,imgSize:E.a.number,tempImage:E.a.oneOfType([E.a.string,E.a.bool])},T.defaultProps={imgSize:96,size:32},t.a=Object(O.b)(function(e,t){return{tempImage:Object(I.a)(e,Object(y.get)(t,"user.ID",!1))}})(T)},"./client/components/happychat/button.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/page/page.js"),g=n.n(b),h=n("./node_modules/lodash/lodash.js"),O=n("./node_modules/react-redux/es/index.js"),y=n("./node_modules/i18n-calypso/index.js"),j=n("./node_modules/gridicons/dist/index.js"),v=n.n(j),S=n("./node_modules/classnames/index.js"),I=n.n(S),T=n("./client/lib/viewport/index.js"),C=n("./client/state/happychat/utils.js"),R=n("./client/lib/create-selector/index.js"),A=n("./client/state/happychat/selectors/get-happychat-timeline.js"),N=function(e){return Object(h.get)(e,"happychat.ui.lostFocusAt")},w=Object(R.a)(function(e){var t=Object(h.get)(Object(h.last)(Object(A.a)(e)),"timestamp"),n=N(e);return"number"==typeof t&&"number"==typeof n&&1e3*t>=n},[A.a,N]),P=n("./client/state/happychat/selectors/has-active-happychat-session.js"),U=n("./client/state/happychat/selectors/is-happychat-available.js"),D=n("./client/state/happychat/selectors/is-happychat-connection-uninitialized.js"),k=n("./client/state/happychat/connection/actions.js"),L=n("./client/state/happychat/ui/actions.js"),M=n("./client/components/button/index.jsx"),x=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.onClick=function(e){n.props.allowMobileRedirect&&Object(T.c)()?g()("/me/chat"):n.props.openChat(),n.props.onClick(e)},n}return p()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.props.isConnectionUninitialized&&this.props.initConnection(this.props.getAuth())}},{key:"render",value:function(){var e=this.props,t=e.translate,n=e.children,r=e.className,i=e.primary,s=e.borderless,o=e.hasUnread,a=e.isChatAvailable,c=e.isChatActive,u=a||c,l=I()("happychat__button",r,{"has-unread":o});return u?E.a.createElement(M.a,{className:l,primary:i,borderless:s,onClick:this.onClick,title:t("Support Chat")},n||E.a.createElement(v.a,{icon:"chat"})):null}}]),t}(_.Component);x.propTypes={allowMobileRedirect:f.a.bool,borderless:f.a.bool,primary:f.a.bool,getAuth:f.a.func,initConnection:f.a.func,isChatActive:f.a.bool,isChatAvailable:f.a.bool,isConnectionUninitialized:f.a.bool,onClick:f.a.func,openChat:f.a.func,translate:f.a.func},x.defaultProps={allowMobileRedirect:!1,borderless:!0,getAuth:h.noop,initConnection:h.noop,isChatActive:!1,isChatAvailable:!1,isConnectionUninitialized:!1,onClick:h.noop,openChat:h.noop,translate:h.identity};t.a=Object(O.b)(function(e){return{hasUnread:w(e),getAuth:Object(C.a)(e),isChatAvailable:Object(U.a)(e),isChatActive:Object(P.a)(e),isConnectionUninitialized:Object(D.a)(e)}},{openChat:L.f,initConnection:k.a})(Object(y.localize)(x))},"./client/components/image/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(m),_=n("./node_modules/@babel/runtime/helpers/inherits.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n.n(b),h=n("./node_modules/classnames/index.js"),O=n.n(h),y=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=p()(this,(e=f()(t)).call.apply(e,[this].concat(i))),n.state={isError:!1},n.handleError=function(){n.setState({isError:!0})},n}return E()(t,e),l()(t,[{key:"componentWillReceiveProps",value:function(e){e.src!==this.props.src&&this.setState({isError:!1})}},{key:"render",value:function(){var e=this.props,t=e.className,n=o()(e,["className"]),r=O()(t,{image:!0,"is-error":this.state.isError});return g.a.createElement("img",i()({onError:this.handleError,className:r},n))}}]),t}(b.Component);y.defaultProps={className:""}},"./client/components/jetpack-logo/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r),s=n("./node_modules/prop-types/index.js"),o=n.n(s),a=i.a.createElement("g",null,i.a.createElement("path",{className:"jetpack-logo__icon-circle",fill:"#00be28",d:"M16,0C7.2,0,0,7.2,0,16s7.2,16,16,16s16-7.2,16-16S24.8,0,16,0z"}),i.a.createElement("polygon",{className:"jetpack-logo__icon-triangle",fill:"#fff",points:"15,19 7,19 15,3 "}),i.a.createElement("polygon",{className:"jetpack-logo__icon-triangle",fill:"#fff",points:"17,29 17,13 25,13 "})),c=i.a.createElement("svg",{className:"jetpack-logo",height:"24",width:"24",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M11,14H6l5-10V14z M13,20V10h5L13,20z"})),u=function(e){var t=e.full,n=void 0!==t&&t,r=e.size,s=void 0===r?32:r;return!0===n?i.a.createElement("svg",{height:s,className:"jetpack-logo",viewBox:"0 0 118 32"},i.a.createElement("title",null,"Jetpack"),a,i.a.createElement("path",{d:"M41.3 26.6c-.5-.7-.9-1.4-1.3-2.1 2.3-1.4 3-2.5 3-4.6V8h-3V6h6v13.4C46 22.8 45 24.8 41.3 26.6zM58.5 21.3c-1.5.5-2.7.6-4.2.6-3.6 0-5.8-1.8-5.8-6 0-3.1 1.9-5.9 5.5-5.9s4.9 2.5 4.9 4.9c0 .8 0 1.5-.1 2h-7.3c.1 2.5 1.5 2.8 3.6 2.8 1.1 0 2.2-.3 3.4-.7C58.5 19 58.5 21.3 58.5 21.3zM56 15c0-1.4-.5-2.9-2-2.9-1.4 0-2.3 1.3-2.4 2.9C51.6 15 56 15 56 15zM65 18.4c0 1.1.8 1.3 1.4 1.3.5 0 2-.2 2.6-.4v2.1c-.9.3-2.5.5-3.7.5-1.5 0-3.2-.5-3.2-3.1V12H60v-2h2.1V7.1H65V10h4v2h-4V18.4zM71 10h3v1.3c1.1-.8 1.9-1.3 3.3-1.3 2.5 0 4.5 1.8 4.5 5.6s-2.2 6.3-5.8 6.3c-.9 0-1.3-.1-2-.3V28h-3V10zM76.5 12.3c-.8 0-1.6.4-2.5 1.2v5.9c.6.1.9.2 1.8.2 2 0 3.2-1.3 3.2-3.9C79 13.4 78.1 12.3 76.5 12.3zM93 22h-3v-1.5c-.9.7-1.9 1.5-3.5 1.5-1.5 0-3.1-1.1-3.1-3.2 0-2.9 2.5-3.4 4.2-3.7l2.4-.3v-.3c0-1.5-.5-2.3-2-2.3-.7 0-2.3.5-3.7 1.1L84 11c1.2-.4 3-1 4.4-1 2.7 0 4.6 1.4 4.6 4.7L93 22zM90 16.4l-2.2.4c-.7.1-1.4.5-1.4 1.6 0 .9.5 1.4 1.3 1.4s1.5-.5 2.3-1V16.4zM104.5 21.3c-1.1.4-2.2.6-3.5.6-4.2 0-5.9-2.4-5.9-5.9 0-3.7 2.3-6 6.1-6 1.4 0 2.3.2 3.2.5V13c-.8-.3-2-.6-3.2-.6-1.7 0-3.2.9-3.2 3.6 0 2.9 1.5 3.8 3.3 3.8.9 0 1.9-.2 3.2-.7V21.3zM110 15.2c.2-.3.2-.8 3.8-5.2h3.7l-4.6 5.7 5 6.3h-3.7l-4.2-5.8V22h-3V6h3V15.2z"})):24===s?c:i.a.createElement("svg",{className:"jetpack-logo",height:s,width:s,viewBox:"0 0 32 32"},a)};u.propTypes={full:o.a.bool,size:o.a.number},t.a=u},"./client/components/main/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./node_modules/react/index.js"),i=n.n(r),s=n("./node_modules/classnames/index.js"),o=n.n(s);function a(e){var t=e.className,n=e.children,r=e.wideLayout,s=void 0!==r&&r,a=o()(t,"main",{"is-wide-layout":s});return i.a.createElement("main",{className:a,role:"main"},n)}},"./client/components/notice/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/classnames/index.js"),g=n.n(b),h=n("./node_modules/lodash/lodash.js"),O=n("./node_modules/i18n-calypso/index.js"),y=n("./node_modules/gridicons/dist/index.js"),j=n.n(y),v=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.dismissTimeout=null,n}return p()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"componentDidUpdate",value:function(){clearTimeout(this.dismissTimeout),this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}},{key:"getIcon",value:function(){var e;switch(this.props.status){case"is-info":e="info";break;case"is-success":e="checkmark";break;case"is-error":case"is-warning":e="notice";break;default:e="info"}return e}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.icon,i=e.isCompact,s=e.isLoading,o=e.onDismissClick,a=e.showDismiss,c=void 0===a?!i:a,u=e.status,l=e.text,d=e.translate,p=g()("notice",u,n,{"is-compact":i,"is-loading":s,"is-dismissable":c});return E.a.createElement("div",{className:p},E.a.createElement("span",{className:"notice__icon-wrapper"},E.a.createElement(j.a,{className:"notice__icon",icon:r||this.getIcon(),size:24})),E.a.createElement("span",{className:"notice__content"},E.a.createElement("span",{className:"notice__text"},l||t)),l?t:null,c&&E.a.createElement("span",{tabIndex:"0",className:"notice__dismiss",onClick:o},E.a.createElement(j.a,{icon:"cross",size:24}),E.a.createElement("span",{className:"notice__screen-reader-text screen-reader-text"},d("Dismiss"))))}}]),t}(_.Component);v.defaultProps={className:"",duration:0,icon:null,isCompact:!1,isLoading:!1,onDismissClick:h.noop,status:null,text:null},v.propTypes={className:f.a.string,duration:f.a.number,icon:f.a.string,isCompact:f.a.bool,isLoading:f.a.bool,onDismissClick:f.a.func,showDismiss:f.a.bool,status:f.a.oneOf(["is-error","is-info","is-success","is-warning","is-plain"]),text:f.a.oneOfType([f.a.arrayOf(f.a.oneOfType([f.a.string,f.a.node])),f.a.oneOfType([f.a.string,f.a.node])]),translate:f.a.func.isRequired},t.b=Object(O.localize)(v)},"./client/components/notice/notice-action.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/gridicons/dist/index.js"),g=n.n(b),h=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){var e={className:"notice__action",href:this.props.href,onClick:this.props.onClick};return this.props.external&&(e.target="_blank",e.rel="noopener noreferrer"),E.a.createElement("a",e,E.a.createElement("span",null,this.props.children),this.props.icon&&E.a.createElement(g.a,{icon:this.props.icon,size:24}),this.props.external&&E.a.createElement(g.a,{icon:"external",size:24}))}}]),t}(E.a.Component);h.displayName="NoticeAction",h.propTypes={href:f.a.string,onClick:f.a.func,external:f.a.bool,icon:f.a.string},h.defaultProps={external:!1}},"./client/components/plans/plan-icon/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/classnames/index.js"),g=n.n(b),h=n("./client/lib/plans/constants.js"),O=n("./client/lib/plans/index.js"),y=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"getIcon",value:function(e){var t=this.props,n=t.plan,r=t.className,i=Object(h.hb)(n);return E.a.createElement("img",{src:"/calypso/images/plans/plan-"+e+"-circle.svg",className:g()("plan-icon","plan-icon__"+e,i,r)})}},{key:"render",value:function(){var e=this.props.plan;return Object(O.o)(e)?this.getIcon("personal"):Object(O.q)(e)?this.getIcon("premium"):Object(O.m)(e)?this.getIcon("business"):this.getIcon("free")}}]),t}(_.Component);y.propTypes={classNames:f.a.string,plan:f.a.oneOf(Object.keys(h.F)).isRequired}},"./client/components/popover/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n.n(b),h=n("./node_modules/react-dom/index.js"),O=n.n(h),y=n("./node_modules/react-redux/es/index.js"),j=n("./node_modules/debug/src/browser.js"),v=n.n(j),S=n("./node_modules/classnames/index.js"),I=n.n(S),T=n("./node_modules/click-outside/build/index.js"),C=n.n(T),R=n("./node_modules/lodash/lodash.js"),A=n("./client/components/root-child/index.jsx"),N=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),w=n.n(N),P=n("./node_modules/bounding-client-rect/index.js"),U=n.n(P),D=v()("calypso:popover:util");function k(){var e={};return e.top=window.scrollY,e.left=window.scrollX,e.width=window.innerWidth,e.height=window.innerHeight,e.right=e.left+e.width,e.bottom=e.top+e.height,D("viewport: %o",e),e}var L={top:"bottom",bottom:"top",left:"right",right:"left"},M={top:"right",left:"top",bottom:"left",right:"bottom"},x=k();function F(){x=k()}var V=!1,G=function(){if(V)return D("window events already bound");V=!0,D("bind handlers to `resize` and `scroll` events"),window.addEventListener("resize",F,!0),window.addEventListener("scroll",F,!0)},q=function(){if(!V)return D("window events are not bound");V=!1,D("unbind handlers to `resize` and `scroll` events"),window.removeEventListener("resize",F,!0),window.removeEventListener("scroll",F,!0)},H=function(e,t,n){var r=U()(n),i=t.clientHeight,s=t.clientWidth,o={top:r.top-i,bottom:x.height-r.bottom-i,left:r.left-s,right:x.width-r.right-s},a=e.split(/\s+/),c=w()(a,1),u=c[0],l=w()(a,2),d=l[1],p=function(e,t){for(var n,r=[e,L[e],M[e],L[M[e]]],i=-1/0,s=0,o=r.length;s<o;s++){var a=r[s],c=t[a];if(c>0)return a;c>i&&(i=c,n=e)}return n}(u,o);return d!==p&&d!==L[p]||(d=null),function(e,t,n,r,i,s){for(var o,a="top"===e||"bottom"===e,c=t?[a?e+" "+t:t+" "+e,e,a?e+" "+L[t]:L[t]+" "+e]:[e,a?e+" "+M[e]:M[e]+" "+e,a?e+" "+L[M[e]]:L[M[e]]+" "+e],u=0,l=i*s,d=0,p=c.length;d<p;d++){var m=c[d],f=W(m,n,r),_=f.left+i,E=f.top+s,b=Math.min(f.top<x.top?E-x.top:x.bottom-f.top,s),g=Math.min(f.left<x.left?_-x.left:x.right-f.left,i),h=g*b;if(h===l)return m;h>u&&(u=h,o=m)}return o}(p,d,t,n,s,i)||e};function W(e,t,n){var r=U()(t);if(!r)throw new Error("could not get bounding client rect of Tip element");var i=r.width,s=r.height,o=U()(n);if(!o)throw new Error("could not get bounding client rect of `target`");var a,c,u,l,d,p,m,f,_=o.width,E=o.height,b=(a=o,c=document,u=c.body||c.getElementsByTagName("body")[0],l=c.documentElement||u.parentNode,d=l.clientTop||u.clientTop||0,p=l.clientLeft||u.clientLeft||0,m=window.pageYOffset||l.scrollTop,f=window.pageXOffset||l.scrollLeft,{top:a.top+m-d,left:a.left+f-p});if(!b)throw new Error("could not determine page offset of `target`");var g={};switch(e){case"top":g={top:b.top-s,left:b.left+_/2-i/2};break;case"bottom":g={top:b.top+E,left:b.left+_/2-i/2};break;case"right":g={top:b.top+E/2-s/2,left:b.left+_};break;case"left":g={top:b.top+E/2-s/2,left:b.left-i};break;case"top left":g={top:b.top-s,left:b.left+_/2-i+15};break;case"top right":g={top:b.top-s,left:b.left+_/2-15};break;case"bottom left":g={top:b.top+E,left:b.left+_/2-i+15};break;case"bottom right":g={top:b.top+E,left:b.left+_/2-15};break;case"left top":g={top:b.top+E/2-s,left:b.left-i};break;case"left bottom":g={top:b.top+E/2,left:b.left-i};break;case"right top":g={top:b.top+E/2-s,left:b.left+_};break;case"right bottom":g={top:b.top+E/2,left:b.left+_};break;default:throw new Error('invalid position "'+e+'"')}return g}var B=n("./client/state/selectors/is-rtl.js"),Q=function(){},z=v()("calypso:popover"),Y=new Set,K=function(e){function t(e){var n;return i()(this,t),n=c()(this,l()(t).call(this,e)),n.isUpdatingPosition=!1,n.setPopoverId(e.id),n.setDOMBehavior=n.setDOMBehavior.bind(f()(f()(n))),n.setPosition=n.setPosition.bind(f()(f()(n))),n.onClickout=n.onClickout.bind(f()(f()(n))),n.onKeydown=n.onKeydown.bind(f()(f()(n))),n.onWindowChange=n.onWindowChange.bind(f()(f()(n))),n.state={show:e.isVisible,left:-99999,top:-99999,positionClass:n.getPositionClass(e.position)},n}return p()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.state.show&&(this.bindEscKeyListener(),this.bindDebouncedReposition(),G())}},{key:"componentWillReceiveProps",value:function(e){if(this.domContext=O.a.findDOMNode(e.context),!e.isVisible)return null;this.setPosition()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props.isVisible;return!t.show&&this.state.show&&(this.bindEscKeyListener(),this.bindDebouncedReposition(),G()),r!==e.isVisible&&(r?this.show():this.hide()),this.domContainer&&this.domContext&&r?void(this.isUpdatingPosition||(this.debug("requesting to update position after render completes"),requestAnimationFrame(function(){Y.has(n.id)&&n.domContainer&&n.domContext&&r?(n.setPosition(),n.isUpdatingPosition=!1):n.isUpdatingPosition=!1}),this.isUpdatingPosition=!0)):null}},{key:"componentWillUnmount",value:function(){this.debug("unmounting .... "),this.unbindClickoutHandler(),this.unbindDebouncedReposition(),this.unbindEscKeyListener(),q(),Y.delete(this.id),z("current popover instances: ",Y.size)}},{key:"bindEscKeyListener",value:function(){if(!this.props.closeOnEsc)return null;this.debug("adding escKey listener ..."),document.addEventListener("keydown",this.onKeydown,!0)}},{key:"unbindEscKeyListener",value:function(){if(!this.props.closeOnEsc)return null;this.debug("unbinding `escKey` listener ..."),document.removeEventListener("keydown",this.onKeydown,!0)}},{key:"onKeydown",value:function(e){if(27!==e.keyCode)return null;this.close(!0)}},{key:"bindClickoutHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.domContainer;return e?this._clickoutHandlerReference?(this.debug("clickout event already bound"),null):(this.debug("binding `clickout` event"),void(this._clickoutHandlerReference=C()(e,this.onClickout))):(this.debug("no element to bind clickout "),null)}},{key:"unbindClickoutHandler",value:function(){this._clickoutHandlerReference&&(this.debug("unbinding `clickout` listener ..."),this._clickoutHandlerReference(),this._clickoutHandlerReference=null)}},{key:"onClickout",value:function(e){var t=this.domContext&&this.domContext.contains&&!this.domContext.contains(e.target);if(this.props.ignoreContext&&t){var n=O.a.findDOMNode(this.props.ignoreContext);t=t&&n&&n.contains&&!n.contains(e.target)}t&&this.close()}},{key:"bindDebouncedReposition",value:function(){window.addEventListener("scroll",this.onWindowChange,!0),window.addEventListener("resize",this.onWindowChange,!0)}},{key:"unbindDebouncedReposition",value:function(){this.willReposition&&(window.cancelAnimationFrame(this.willReposition),this.willReposition=null),window.removeEventListener("scroll",this.onWindowChange,!0),window.removeEventListener("resize",this.onWindowChange,!0),this.debug("unbinding `debounce reposition` ...")}},{key:"onWindowChange",value:function(){this.willReposition=window.requestAnimationFrame(this.setPosition)}},{key:"setDOMBehavior",value:function(e){if(!e)return this.unbindClickoutHandler(),null;this.debug("setting DOM behavior"),this.bindClickoutHandler(e),this.domContainer=e,this.domContext=O.a.findDOMNode(this.props.context),this.setPosition()}},{key:"getPositionClass",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.position;return"is-"+e.replace(/\s+/g,"-")}},{key:"adjustRtlPosition",value:function(e){if(this.props.isRtl)switch(e){case"top right":case"right top":return"top left";case"right":return"left";case"bottom right":case"right bottom":return"bottom left";case"bottom left":case"left bottom":return"bottom right";case"left":return"right";case"top left":case"left top":return"top right"}return e}},{key:"computePosition",value:function(){if(!this.props.isVisible)return null;var e=this.domContainer,t=this.domContext,n=this.props.position;if(!e||!t)return this.debug("[WARN] no DOM elements to work"),null;var r=n;this.debug("position: %o",r),this.props.autoRtl&&(r=this.adjustRtlPosition(r),this.debug("RTL adjusted position: %o",r)),this.props.autoPosition&&(r=H(r,e,t),this.debug("suggested position: %o",r));var i,s,o,a=Object.assign({},(i=W(r,e,t),s=e,o=U()(s).width,i.left=Math.max(0,Math.min(i.left,x.width-o)),i),{positionClass:this.getPositionClass(r)});return this.debug("updating reposition: ",a),a}},{key:"debug",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];z.apply(void 0,["[%s] "+e,this.id].concat(n))}},{key:"setPopoverId",value:function(e){this.id=e||"pop__"+Object(R.uniqueId)(),Y.add(this.id),this.debug("creating ..."),z("current popover instances: ",Y.size)}},{key:"setPosition",value:function(){var e;if(this.debug("updating position"),e=this.props.customPosition?Object.assign({positionClass:this.getPositionClass(this.constructor.defaultProps.position)},this.props.customPosition):this.computePosition(),!e)return null;this.willReposition=null,this.setState(e)}},{key:"getStylePosition",value:function(){var e=this.state,t=e.left,n=e.top;return{left:t,top:n}}},{key:"show",value:function(){var e=this;if(!this.props.showDelay)return this.setState({show:!0}),null;this.debug("showing in %o",this.props.showDelay+"ms"),this.clearShowTimer(),this._openDelayTimer=setTimeout(function(){e.setState({show:!0})},this.props.showDelay)}},{key:"hide",value:function(){this.unbindClickoutHandler(),this.unbindDebouncedReposition(),this.unbindEscKeyListener(),q(),this.setState({show:!1}),this.clearShowTimer()}},{key:"clearShowTimer",value:function(){if(!this._openDelayTimer)return null;clearTimeout(this._openDelayTimer),this._openDelayTimer=null}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.props.isVisible)return this.debug("popover should be already closed"),null;this.props.onClose(e)}},{key:"render",value:function(){if(!this.state.show)return this.debug("is hidden. return no render"),null;if(!this.props.context)return this.debug("No `context` to tie. return no render"),null;var e=I()("popover",this.props.className,this.state.positionClass);return this.debug("rendering ..."),g.a.createElement(A.a,{className:this.props.rootClassName},g.a.createElement("div",{style:this.getStylePosition(),className:e},g.a.createElement("div",{className:"popover__arrow"}),g.a.createElement("div",{ref:this.setDOMBehavior,className:"popover__inner"},this.props.children)))}}]),t}(b.Component);K.propTypes={autoPosition:E.a.bool,autoRtl:E.a.bool,className:E.a.string,closeOnEsc:E.a.bool,id:E.a.string,ignoreContext:E.a.shape({getDOMNode:E.a.function}),isRtl:E.a.bool,isVisible:E.a.bool,position:E.a.oneOf(["top","top right","right","bottom right","bottom","bottom left","left","top left"]),rootClassName:E.a.string,showDelay:E.a.number,onClose:E.a.func,onShow:E.a.func,customPosition:E.a.shape({top:E.a.number,left:E.a.number,positionClass:E.a.oneOf(["top","right","bottom","left"])})},K.defaultProps={autoPosition:!0,autoRtl:!0,className:"",closeOnEsc:!0,isRtl:!1,isVisible:!1,position:"top",showDelay:0,onClose:Q,onShow:Q};t.a=Object(y.b)(function(e){return{isRtl:Object(B.a)(e)}})(K)},"./client/components/pulsing-dot/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./node_modules/react/index.js"),i=n.n(r),s=n("./node_modules/classnames/index.js"),o=n.n(s);function a(e){var t=e.active,n=o()("pulsing-dot",{"is-active":t});return i.a.createElement("div",{className:n})}},"./client/components/resizable-iframe/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return T});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(m),_=n("./node_modules/react-dom/index.js"),E=n.n(_),b=n("./node_modules/prop-types/index.js"),g=n.n(b),h=n("./node_modules/react/index.js"),O=n.n(h),y=n("./node_modules/debug/src/browser.js"),j=n.n(y),v=n("./node_modules/lodash/lodash.js"),S=j()("calypso:resizable-iframe"),I=function(){},T=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=l()(this,(e=p()(t)).call.apply(e,[this].concat(i))),n.state={width:0,height:0},n.getFrameBody=function(){return E.a.findDOMNode(n.refs.iframe).contentDocument.body},n.maybeConnect=function(){if(n.isFrameAccessible()){var e=n.getFrameBody();if(null===e.getAttribute("data-resizable-iframe-connected")){var t=document.createElement("script");t.innerHTML="\n\t\t\t( function() {\n\t\t\t\tvar observer;\n\n\t\t\t\tif ( ! window.MutationObserver || ! document.body || ! window.top ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfunction sendResize() {\n\t\t\t\t\twindow.top.postMessage( {\n\t\t\t\t\t\taction: 'resize',\n\t\t\t\t\t\twidth: document.body.offsetWidth,\n\t\t\t\t\t\theight: document.body.offsetHeight\n\t\t\t\t\t}, '*' );\n\t\t\t\t}\n\n\t\t\t\tobserver = new MutationObserver( sendResize );\n\t\t\t\tobserver.observe( document.body, {\n\t\t\t\t\tattributes: true,\n\t\t\t\t\tattributeOldValue: false,\n\t\t\t\t\tcharacterData: true,\n\t\t\t\t\tcharacterDataOldValue: false,\n\t\t\t\t\tchildList: true,\n\t\t\t\t\tsubtree: true\n\t\t\t\t} );\n\n\t\t\t\twindow.addEventListener( 'load', sendResize, true );\n\n\t\t\t\t// Hack: Remove viewport unit styles, as these are relative\n\t\t\t\t// the iframe root and interfere with our mechanism for\n\t\t\t\t// determining the unconstrained page bounds.\n\t\t\t\tfunction removeViewportStyles( ruleOrNode ) {\n\t\t\t\t\t[ 'width', 'height', 'minHeight', 'maxHeight' ].forEach( function( style ) {\n\t\t\t\t\t\tif ( /^\\d+(vmin|vmax|vh|vw)$/.test( ruleOrNode.style[ style ] ) ) {\n\t\t\t\t\t\t\truleOrNode.style[ style ] = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tArray.prototype.forEach.call( document.querySelectorAll( '[style]' ), removeViewportStyles );\n\t\t\t\tArray.prototype.forEach.call( document.styleSheets, function( stylesheet ) {\n\t\t\t\t\tArray.prototype.forEach.call( stylesheet.cssRules || stylesheet.rules, removeViewportStyles );\n\t\t\t\t} );\n\n\t\t\t\tdocument.body.style.position = 'absolute';\n\t\t\t\tdocument.body.setAttribute( 'data-resizable-iframe-connected', '' );\n\n\t\t\t\tsendResize();\n\t\t\t} )();\n\t\t",e.appendChild(t)}}},n.isFrameAccessible=function(){try{return!!n.getFrameBody()}catch(e){return!1}},n.checkMessageForResize=function(e){var t=E.a.findDOMNode(n.refs.iframe),r=e.data||{};if("string"==typeof r)try{r=JSON.parse(r)}catch(e){}if(t&&t.contentWindow===e.source){S("Received message: %o",r);var i=r,s=i.action,o=i.width,a=i.height,c=n.state,u=c.width,l=c.height;"resize"!==s||u===o&&l===a||(n.setState({width:o,height:a}),n.props.onResize())}},n.onLoad=function(e){n.maybeConnect(),n.props.onLoad(e)},n}return f()(t,e),c()(t,[{key:"componentWillMount",value:function(){S("Mounting "+this.constructor.displayName+" React component.")}},{key:"componentDidMount",value:function(){window.addEventListener("message",this.checkMessageForResize,!1),this.maybeConnect()}},{key:"componentDidUpdate",value:function(){this.maybeConnect()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.checkMessageForResize)}},{key:"render",value:function(){return O.a.createElement("iframe",i()({ref:"iframe"},Object(v.omit)(this.props,["onResize"]),{onLoad:this.onLoad,width:this.props.width||this.state.width,height:this.props.height||this.state.height}))}}]),t}(O.a.Component);T.displayName="ResizableIframe",T.propTypes={src:g.a.string,width:g.a.oneOfType([g.a.string,g.a.number]),height:g.a.oneOfType([g.a.string,g.a.number]),onLoad:g.a.func,onResize:g.a.func},T.defaultProps={onLoad:I,onResize:I}},"./client/components/root-child/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react-dom/index.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n.n(b),h=n("./node_modules/react-redux/es/index.js"),O=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.renderChildren=function(){var e;e=n.props&&(Object.keys(n.props).length>1||!n.props.children)?g.a.createElement("div",n.props,n.props.children):n.props.children,n.context.store&&(e=g.a.createElement(h.a,{store:n.context.store},e)),f.a.render(e,n.container)},n}return p()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.container=document.createElement("div"),document.body.appendChild(this.container),this.renderChildren()}},{key:"componentDidUpdate",value:function(){this.renderChildren()}},{key:"componentWillUnmount",value:function(){this.container&&(f.a.unmountComponentAtNode(this.container),document.body.removeChild(this.container),delete this.container)}},{key:"render",value:function(){return null}}]),t}(g.a.Component);O.contextTypes={store:E.a.object}},"./client/components/screen-reader-text/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/react/index.js"),i=n.n(r);function s(e){var t=e.children;return i.a.createElement("span",{className:"screen-reader-text"},t)}},"./client/components/search/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(m),_=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n.n(b),h=n("./node_modules/prop-types/index.js"),O=n.n(h),y=n("./node_modules/classnames/index.js"),j=n.n(y),v=n("./node_modules/lodash/lodash.js"),S=n("./node_modules/i18n-calypso/index.js"),I=n.n(S),T=n("./node_modules/gridicons/dist/index.js"),C=n.n(T),R=n("./client/lib/analytics/index.js"),A=n("./client/components/spinner/index.jsx"),N=n("./client/lib/viewport/index.js"),w=n("./client/components/translatable/proptype.js");function P(e,t){switch(t.key){case" ":case"Enter":this[e](t)}}var U=function(e){function t(e){var n;return o()(this,t),n=l()(this,p()(t).call(this,e)),n.setOpenIconRef=function(e){return n.openIcon=e},n.setSearchInputRef=function(e){return n.searchInput=e},n.setOverlayRef=function(e){return n.overlay=e},n.scrollOverlay=function(){n.overlay&&window.requestAnimationFrame(function(){n.overlay&&n.searchInput&&(n.overlay.scrollLeft=n.getScrollLeft(n.searchInput))})},n.getScrollLeft=function(e){if(!e.createTextRange)return e.scrollLeft;var t=e.createTextRange(),n=window.getComputedStyle(e,void 0),r=parseFloat(n.paddingLeft),i=t.getBoundingClientRect(),s=e.getBoundingClientRect().left+e.clientLeft+r-i.left;return s},n.focus=function(){setTimeout(function(){return n.searchInput&&n.searchInput.focus()},0)},n.blur=function(){return n.searchInput.blur()},n.clear=function(){return n.setState({keyword:""})},n.onBlur=function(e){n.props.onBlur&&n.props.onBlur(e),n.setState({hasFocus:!1})},n.onChange=function(e){n.setState({keyword:e.target.value})},n.openSearch=function(e){e.preventDefault(),n.setState({keyword:"",isOpen:!0}),R.default.ga.recordEvent(n.props.analyticsGroup,"Clicked Open Search")},n.closeSearch=function(e){e.preventDefault(),n.props.disabled||(n.setState({keyword:"",isOpen:n.props.isOpen||!1}),n.searchInput.value="",n.searchInput.blur(),n.props.pinned&&n.openIcon.focus(),n.props.onSearchClose(e),R.default.ga.recordEvent(n.props.analyticsGroup,"Clicked Close Search"))},n.keyUp=function(e){"Enter"===e.key&&Object(N.c)()&&n.blur(),n.props.pinned&&("Escape"===e.key&&n.closeSearch(e),n.scrollOverlay())},n.keyDown=function(e){n.scrollOverlay(),"Escape"===e.key&&""===e.target.value&&n.closeSearch(e),n.props.onKeyDown(e)},n.onFocus=function(){if(n.searchInput){var e=n.searchInput.value;e&&(n.searchInput.value="",n.searchInput.value=e),n.setState({hasFocus:!0}),n.props.onSearchOpen()}},n.renderStylingDiv=function(){return g.a.createElement("div",{className:"search__text-overlay",ref:n.setOverlayRef},n.props.overlayStyling(n.state.keyword))},n.closeButton=function(){return n.props.hideClose||!n.state.keyword&&!n.state.isOpen?null:g.a.createElement("div",{className:"search__icon-navigation",onClick:n.closeSearch,tabIndex:"0",onKeyDown:n.closeListener,"aria-controls":"search-component-"+n.instanceId,"aria-label":I.a.translate("Close Search",{context:"button label"})},g.a.createElement(C.a,{icon:"cross",className:"search__close-icon"}))},n.instanceId=Object(v.uniqueId)(),n.state={keyword:e.initialValue||"",isOpen:!!e.isOpen,hasFocus:e.autoFocus},n.closeListener=P.bind(E()(E()(n)),"closeSearch"),n.openListener=P.bind(E()(E()(n)),"openSearch"),n}return f()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){e.onSearch===this.props.onSearch&&e.delaySearch===this.props.delaySearch||(this.onSearch=this.props.delaySearch?Object(v.debounce)(this.props.onSearch,this.props.delayTimeout):this.props.onSearch),e.isOpen&&this.setState({isOpen:e.isOpen}),this.props.value===e.value||!e.value&&""!==e.value||e.value===this.state.keyword||this.setState({keyword:e.value})}},{key:"componentDidUpdate",value:function(e,t){this.scrollOverlay(),(this.state.isOpen&&!t.isOpen||this.props.autoFocus&&!e.autoFocus)&&this.focus(),this.state.keyword!==t.keyword&&(this.state.keyword?this.onSearch(this.state.keyword):(this.props.delaySearch&&this.onSearch.cancel(),this.props.onSearch(this.state.keyword)),this.props.onSearchChange(this.state.keyword))}},{key:"componentDidMount",value:function(){this.onSearch=this.props.delaySearch?Object(v.debounce)(this.props.onSearch,this.props.delayTimeout):this.props.onSearch}},{key:"render",value:function(){var e=this.state.keyword,t=this.props.placeholder||I.a.translate("Search",{textOnly:!0}),n=this.props.inputLabel,r=this.props.pinned&&!this.state.isOpen,s=this.state.isOpen||!this.props.pinned||this.props.initialValue,o=this.props.disableAutocorrect&&{autoComplete:"off",autoCorrect:"off",spellCheck:"false"},a=j()(this.props.additionalClasses,this.props.dir,{"is-expanded-to-container":this.props.fitsContainer,"is-open":s,"is-searching":this.props.searching,"is-compact":this.props.compact,"has-focus":this.state.hasFocus,"has-open-icon":!this.props.hideOpenIcon,search:!0}),c=j()("search__input-fade",this.props.dir),u=j()("search__input",this.props.dir);return g.a.createElement("div",{dir:this.props.dir||null,className:a,role:"search"},g.a.createElement(A.a,null),g.a.createElement("div",{className:"search__icon-navigation",ref:this.setOpenIconRef,onClick:r?this.openSearch:this.focus,tabIndex:r?"0":null,onKeyDown:r?this.openListener:null,"aria-controls":"search-component-"+this.instanceId,"aria-label":I.a.translate("Open Search",{context:"button label"})},!this.props.hideOpenIcon&&g.a.createElement(C.a,{icon:"search",className:"search__open-icon"})),g.a.createElement("div",{className:c},g.a.createElement("input",i()({type:"search",id:"search-component-"+this.instanceId,autoFocus:this.props.autoFocus,"aria-describedby":this.props.describedBy,"aria-label":n||I.a.translate("Search"),"aria-hidden":!s,className:u,placeholder:t,role:"search",value:e,ref:this.setSearchInputRef,onChange:this.onChange,onKeyUp:this.keyUp,onKeyDown:this.keyDown,onMouseUp:this.props.onClick,onFocus:this.onFocus,onBlur:this.onBlur,disabled:this.props.disabled,autoCapitalize:"none",dir:this.props.dir,maxLength:this.props.maxLength},o)),this.props.overlayStyling&&this.renderStylingDiv()),this.closeButton())}}]),t}(b.Component);U.propTypes={additionalClasses:O.a.string,initialValue:O.a.string,value:O.a.string,placeholder:w.a,pinned:O.a.bool,delaySearch:O.a.bool,delayTimeout:O.a.number,describedBy:O.a.string,onSearch:O.a.func.isRequired,onSearchChange:O.a.func,onSearchOpen:O.a.func,onSearchClose:O.a.func,analyticsGroup:O.a.string,overlayStyling:O.a.func,autoFocus:O.a.bool,disabled:O.a.bool,onKeyDown:O.a.func,onClick:O.a.func,disableAutocorrect:O.a.bool,onBlur:O.a.func,searching:O.a.bool,isOpen:O.a.bool,dir:O.a.oneOf(["ltr","rtl"]),fitsContainer:O.a.bool,maxLength:O.a.number,hideClose:O.a.bool,compact:O.a.bool,hideOpenIcon:O.a.bool,inputLabel:O.a.string},U.defaultProps={pinned:!1,delaySearch:!1,delayTimeout:300,autoFocus:!1,disabled:!1,describedBy:null,onSearchChange:v.noop,onSearchOpen:v.noop,onSearchClose:v.noop,onKeyDown:v.noop,onClick:v.noop,overlayStyling:void 0,disableAutocorrect:!1,searching:!1,isOpen:!1,dir:void 0,fitsContainer:!1,hideClose:!1,compact:!1,hideOpenIcon:!1},t.a=U},"./client/components/seo/meta-title-editor/mappings.js":function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=Object(s.unary)(Object(s.partialRight)(s.map,function(e){return Object.assign({},{type:"string"===e.type?"string":Object(s.camelCase)(e.value)},"string"===e.type&&{value:e.value})})),a=Object(s.unary)(Object(s.flowRight)(Object(s.partialRight)(s.reduce,function(e,t){var n,r,o=Object(s.last)(e);return o&&"string"===o.type&&"string"===t.type?i()(Object(s.initial)(e)).concat([(n=o,r=t,{type:"string",value:n.value+r.value})]):i()(e).concat([t])},[]),Object(s.partialRight)(s.map,function(e){return{type:"string"===e.type?"string":"token",value:Object(s.get)(e,"value",Object(s.snakeCase)(e.type))}}))),c=Object(s.flowRight)(Object(s.partialRight)(s.mapKeys,Object(s.rearg)(s.snakeCase,1)),Object(s.partialRight)(s.mapValues,a)),u=Object(s.flowRight)(Object(s.partialRight)(s.mapKeys,Object(s.rearg)(s.camelCase,1)),Object(s.partialRight)(s.mapValues,o))},"./client/components/site-selector/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react/index.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/react-dom/index.js"),g=n.n(b),h=n("./node_modules/react-redux/es/index.js"),O=n("./node_modules/i18n-calypso/index.js"),y=n("./node_modules/page/page.js"),j=n.n(y),v=n("./node_modules/classnames/index.js"),S=n.n(v),I=n("./node_modules/lodash/lodash.js"),T=n("./node_modules/dom-scroll-into-view/lib/index.js"),C=n.n(T),R=n("./node_modules/debug/src/browser.js"),A=n.n(R),N=n("./client/state/preferences/selectors.js"),w=n("./client/state/current-user/selectors.js"),P=n("./client/state/ui/selectors.js"),U=n("./client/state/sites/selectors.js"),D=n("./client/state/selectors/are-all-sites-single-user.js"),k=n("./client/state/selectors/get-sites.js"),L=n("./client/state/selectors/get-visible-sites.js"),M=n("./client/state/selectors/has-loaded-sites.js"),x=n("./client/blocks/all-sites/index.jsx"),F=n("./client/blocks/site/index.jsx"),V=n("./client/blocks/site/placeholder.jsx"),G=n("./client/components/search/index.jsx"),q=n("./node_modules/gridicons/dist/index.js"),H=n.n(q),W=n("./client/components/button/index.jsx"),B=n("./client/state/analytics/actions.js"),Q=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.recordAddNewSite=function(){n.props.recordTracksEvent("calypso_add_new_wordpress_click")},n}return p()(t,e),o()(t,[{key:"getAddNewSiteUrl",value:function(){return"/jetpack/new/?ref=calypso-selector"}},{key:"render",value:function(){var e=this.props.translate;return f.a.createElement("span",{className:"site-selector__add-new-site"},f.a.createElement(W.a,{borderless:!0,href:this.getAddNewSiteUrl(),onClick:this.recordAddNewSite},f.a.createElement(H.a,{icon:"add-outline"})," ",e("Add New Site")))}}]),t}(m.Component),z=Object(h.b)(null,{recordTracksEvent:B.i})(Object(O.localize)(Q)),Y=n("./node_modules/@babel/runtime/helpers/extends.js"),K=n.n(Y),J=function(e,t,n){return e.filter(function(e){return function(e,t,n){return n.some(function(n){return Object(I.get)(e,n,"").toLowerCase().indexOf(t)>-1})}(e,t,n)})},Z=function(e){return{sites:Object(k.a)(e)}};var $="ALL_SITES",X=A()("calypso:site-selector"),ee=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.state={highlightedIndex:-1,showSearch:!1,isKeyboardEngaged:!1},n.onSearch=function(e){n.props.searchSites(e),n.setState({highlightedIndex:e?0:-1,showSearch:!!e||n.state.showSearch,isKeyboardEngaged:!0})},n.onKeyDown=function(e){var t=n.visibleSites.length;if(0!==t&&!e.shiftKey){var r=n.computeHighlightedSite(),i=r.highlightedSiteId,s=r.highlightedIndex,o=null;switch(e.key){case"ArrowUp":o=s-1,o<0&&(o=t-1);break;case"ArrowDown":o=s+1,o>=t&&(o=0);break;case"Enter":i&&(i===$?n.onSiteSelect(e,$):n.onSiteSelect(e,i))}null!==o&&(n.lastMouseHover=null,n.setState({highlightedIndex:o,isKeyboardEngaged:!0}))}},n.onSiteSelect=function(e,t){var r=n.props.onSiteSelect(t);if(n.props.onClose(e,t),n.siteSelectorRef){var i=g.a.findDOMNode(n.siteSelectorRef);i&&(i.scrollTop=0),r||n.props.navigateToSite(t,n.props)}},n.onAllSitesSelect=function(e){n.onSiteSelect(e,$)},n.onSiteHover=function(e,t){n.lastMouseHover!==t&&(X(t+" hovered"),n.lastMouseHover=t)},n.onAllSitesHover=function(){n.lastMouseHover!==$&&(X("ALL_SITES hovered"),n.lastMouseHover=$)},n.onMouseLeave=function(){X("mouse left site selector - nothing hovered anymore"),n.lastMouseHover=null},n.onMouseMove=function(e){e.pageX===n.lastMouseMoveX&&e.pageY===n.lastMouseMoveY||(n.lastMouseMoveY=e.pageY,n.lastMouseMoveX=e.pageX,n.state.isKeyboardEngaged&&n.setState({isKeyboardEngaged:!1}))},n.setSiteSelectorRef=function(e){return n.siteSelectorRef=e},n}return p()(t,e),o()(t,[{key:"componentDidUpdate",value:function(e,t){this.state.isKeyboardEngaged&&t.highlightedIndex!==this.state.highlightedIndex&&this.scrollToHighlightedSite()}},{key:"scrollToHighlightedSite",value:function(){if(this.siteSelectorRef){var e=g.a.findDOMNode(this.siteSelectorRef);if(e){var t=e.querySelector(".site.is-highlighted, .site-selector .all-sites.is-highlighted");t&&C()(t,e,{onlyScrollIfNeeded:!0})}}}},{key:"computeHighlightedSite",value:function(){var e,t;return this.state.isKeyboardEngaged?(X("using highlight from last keyboard interaction"),e=this.visibleSites[this.state.highlightedIndex],t=this.state.highlightedIndex):this.lastMouseHover?(X("restoring highlight from last mouse hover ("+this.lastMouseHover+")"),e=this.props.highlightedSiteId||this.lastMouseHover,t=this.visibleSites.indexOf(e)):(X("reseting highlight as mouse left site selector"),e=null,t=-1),{highlightedSiteId:e,highlightedIndex:t}}},{key:"isSelected",value:function(e){var t=this.props.selected||this.props.selectedSite;return e===$&&null===t||t===e.ID||t===e.domain||t===e.slug}},{key:"isHighlighted",value:function(e){return this.state.isKeyboardEngaged&&this.visibleSites.indexOf(e)===this.state.highlightedIndex}},{key:"shouldShowGroups",value:function(){return this.props.groups}},{key:"sitesToBeRendered",value:function(){var e,t=this;return e=this.props.sitesFound?this.props.sitesFound:this.props.visibleSites,this.props.filter&&(e=e.filter(this.props.filter)),this.props.hideSelected&&this.props.selected&&(e=e.filter(function(e){return e.slug!==t.props.selected})),e}},{key:"shouldRenderRecentSites",value:function(){return this.props.showRecentSites&&this.shouldShowGroups()&&!this.props.sitesFound}},{key:"renderAllSites",value:function(){if(!this.props.showAllSites||this.props.sitesFound||!this.props.allSitesPath)return null;this.visibleSites.push($);var e=this.isHighlighted($);return f.a.createElement(x.a,{key:"selector-all-sites",sites:this.props.sites,onSelect:this.onAllSitesSelect,onMouseEnter:this.onAllSitesHover,isHighlighted:e,isSelected:this.isSelected($)})}},{key:"renderRecentSites",value:function(e){if(!this.shouldRenderRecentSites())return null;var t=[],n=!0,r=!1,i=void 0;try{for(var s,o=this.props.recentSites[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value,c=Object(I.find)(e,{ID:a});c&&t.push(c)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}if(Object(I.isEmpty)(t))return null;var u=t.map(this.renderSite,this);return f.a.createElement("div",{className:"site-selector__recent"},u)}},{key:"renderSites",value:function(e){if(!this.props.hasAllSitesList)return f.a.createElement(V.a,{key:"site-placeholder"});if(this.shouldRenderRecentSites()){var t=this.props.recentSites;e=Object(I.filter)(e,function(e){var n=e.ID;return!Object(I.includes)(t,n)})}var n=e.map(this.renderSite,this);return n.length?n:f.a.createElement("div",{className:"site-selector__no-results"},this.props.translate("No sites found"))}},{key:"renderSite",value:function(e){if(!e)return null;this.visibleSites.push(e.ID);var t=this.isHighlighted(e.ID);return f.a.createElement(F.a,{site:e,key:"site-"+e.ID,indicator:this.props.indicator,onSelect:this.onSiteSelect,onMouseEnter:this.onSiteHover,isHighlighted:t,isSelected:this.isSelected(e)})}},{key:"render",value:function(){if(this.props.isPlaceholder)return f.a.createElement("div",{className:"site-selector"});var e=this.props.siteCount-this.props.visibleSiteCount,t=S()("site-selector","sites-list",this.props.className,{"is-large":this.props.siteCount>6||e>0||this.state.showSearch,"is-single":1===this.props.visibleSiteCount,"is-hover-enabled":!this.state.isKeyboardEngaged});this.visibleSites=[];var n=this.sitesToBeRendered();return f.a.createElement("div",{className:t,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},f.a.createElement(G.a,{ref:"siteSearch",onSearch:this.onSearch,delaySearch:!0,autoFocus:this.props.autoFocus,disabled:!this.props.hasLoadedSites,onSearchClose:this.props.onClose,onKeyDown:this.onKeyDown}),f.a.createElement("div",{className:"site-selector__sites",ref:this.setSiteSelectorRef},this.renderAllSites(),this.renderRecentSites(n),this.renderSites(n),e>0&&!this.props.sitesFound&&f.a.createElement("span",{className:"site-selector__hidden-sites-message"},this.props.translate("%(hiddenSitesCount)d more hidden site. {{a}}Change{{/a}}.{{br/}}Use search to access it.","%(hiddenSitesCount)d more hidden sites. {{a}}Change{{/a}}.{{br/}}Use search to access them.",{count:e,args:{hiddenSitesCount:e},components:{br:f.a.createElement("br",null),a:f.a.createElement("a",{href:"https://dashboard.wordpress.com/wp-admin/index.php?page=my-blogs&show=hidden",className:"site-selector__manage-hidden-sites",target:"_blank",rel:"noopener noreferrer"})}}))),this.props.showAddNewSite&&f.a.createElement(z,null))}}]),t}(m.Component);ee.propTypes={isPlaceholder:E.a.bool,sites:E.a.array,siteBasePath:E.a.oneOfType([E.a.string,E.a.bool]),showAddNewSite:E.a.bool,showAllSites:E.a.bool,indicator:E.a.bool,autoFocus:E.a.bool,onClose:E.a.func,selected:E.a.oneOfType([E.a.number,E.a.string]),hideSelected:E.a.bool,filter:E.a.func,groups:E.a.bool,onSiteSelect:E.a.func,showRecentSites:E.a.bool,recentSites:E.a.array,selectedSite:E.a.object,visibleSites:E.a.arrayOf(E.a.object),allSitesPath:E.a.string,navigateToSite:E.a.func.isRequired},ee.defaultProps={sites:{},showAddNewSite:!1,showAllSites:!1,siteBasePath:!1,indicator:!1,hideSelected:!1,selected:null,onClose:I.noop,onSiteSelect:I.noop,groups:!1,autoFocus:!1};t.a=Object(I.flow)(O.localize,function(e){var t=e.displayName||e.name||"",n=function(t){function n(){var e,t;i()(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return t=c()(this,(e=l()(n)).call.apply(e,[this].concat(s))),t.state={term:null},t.setSearchTerm=function(e){return t.setState({term:e})},t}return p()(n,t),o()(n,[{key:"getSearchResults",value:function(){return this.state.term?J(this.props.sites,this.state.term.toLowerCase(),["name","URL"]):null}},{key:"render",value:function(){return f.a.createElement(e,K()({},this.props,{searchSites:this.setSearchTerm,sitesFound:this.getSearchResults()}))}}]),n}(m.Component),r=Object(h.b)(Z)(n);return r.displayName="SearchSites("+t+")",r},Object(h.b)(function(e){var t=Object(w.b)(e),n=Object(I.get)(t,"visible_site_count",0);return{hasLoadedSites:Object(M.a)(e),sites:Object(k.a)(e),showRecentSites:Object(I.get)(t,"visible_site_count",0)>11,recentSites:Object(N.b)(e,"recentSites"),siteCount:Object(I.get)(t,"site_count",0),visibleSiteCount:n,selectedSite:Object(P.d)(e),visibleSites:Object(L.a)(e),allSitesSingleUser:Object(D.a)(e),hasAllSitesList:Object(U.B)(e)}},{navigateToSite:function(e,t){var n=t.allSitesPath,r=t.allSitesSingleUser,i=t.siteBasePath;return function(t,s){var o=s(),a=function(){var t=Object(U.l)(o,e);if(X("getPathnameForSite",e,t),e===$){var s=r?"/posts":"/posts/my",a=n.replace(/^\/posts\b(\/my)?/,s);return a.replace(/^\/stats\/insights\/?$/,"/stats/day")}if(i)return function(e){var t=i,n=e.jetpack||e.single_user_site?"/posts":"/posts/my";if(t=t.replace(/^\/posts\b(\/my)?/,n),t.match(/^\/stats\/(post|page)\//)&&(t="/stats"),t.match(/^\/domains\/manage\//)&&(t="/domains/manage"),t.match(/^\/store\/stats\//)){var r=e.jetpack&&e.options&&e.options.woocommerce_is_active;r||(t="/stats/day")}return t}(t)+"/"+t.slug}();a&&j()(a)}}}))(ee)},"./client/components/sites-popover/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/lodash/lodash.js"),g=n("./node_modules/classnames/index.js"),h=n.n(g),O=n("./client/components/popover/index.jsx"),y=n("./client/lib/touch-detect/index.js"),j=n("./client/components/site-selector/index.jsx"),v=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"renderHeader",value:function(){return E.a.createElement("div",{className:"sites-popover__header"},this.props.header)}},{key:"renderSiteSelector",value:function(){return E.a.createElement(j.a,{siteBasePath:"/post",onSiteSelect:this.props.onSiteSelect,showAddNewSite:!1,indicator:!1,autoFocus:!Object(y.a)(),groups:!0,onClose:this.props.onClose})}},{key:"render",value:function(){var e=h()(this.props.className,"popover sites-popover",this.props.header&&"has-header");return E.a.createElement(O.a,{id:this.props.id,showDelay:this.props.showDelay,isVisible:this.props.visible,context:this.props.context,onClose:this.props.onClose,position:this.props.position,className:e},this.renderHeader(),this.renderSiteSelector())}}]),t}(E.a.Component);v.propTypes={showDelay:f.a.number,context:f.a.object,visible:f.a.bool,onClose:f.a.func,position:f.a.string,id:f.a.string,groups:f.a.bool,className:f.a.string},v.defaultProps={visible:!1,onClose:b.noop,position:"bottom left",groups:!1,siteQuerystring:!1,className:""},t.a=v},"./client/components/spinner/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/classnames/index.js"),g=n.n(b),h=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){var e=g()("spinner",this.props.className),t={width:this.props.size,height:this.props.size,fontSize:this.props.size};return E.a.createElement("div",{className:e},E.a.createElement("div",{className:"spinner__outer",style:t},E.a.createElement("div",{className:"spinner__inner"})))}}]),t}(_.PureComponent);h.propTypes={className:f.a.string,size:f.a.number},h.defaultProps={size:20}},"./client/components/tinymce/plugins/wpcom-track-paste/sources.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r="google_docs",i="unknown"},"./client/components/translatable/proptype.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),i=n.n(r);t.a=function(e){function t(t,n,r,i,s){return i=i||"ANONYMOUS",void 0===n[r]?t?new Error("Required "+s+" `"+r+"` was not specified in `"+i+"`."):null:e(n,r,i,s)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}(function(e,t,n){n=n||"ANONYMOUS";var r=e[t];return void 0!==r&&null!==r?"string"==typeof r?null:"object"===i()(r)&&"data"===r.type?null:"object"===i()(r)&&"function"==typeof r.type&&"Translatable"===r.type.name?null:new Error("Invalid value for Translatable string in `"+n+"`. Please pass a translate() call."):null})},"./client/components/web-preview/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/react/index.js"),o=n.n(s),a=n("./client/components/async-load/index.jsx"),c=function(e){Promise.all([n.e(152),n.e(144),n.e(16),n.e(66)]).then(function(t){e(n("./client/components/web-preview/component.jsx").__esModule?n("./client/components/web-preview/component.jsx").default:n("./client/components/web-preview/component.jsx"))}.bind(null,n)).catch(n.oe)};t.a=function(e){return e.showPreview?o.a.createElement(a.a,i()({},e,{require:c})):null}},"./client/components/wordpress-logo/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react/index.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){return f.a.createElement("svg",{className:this.props.className,height:this.props.size,width:this.props.size,viewBox:"0 0 72 72"},f.a.createElement("path",{d:"M36,0C16.1,0,0,16.1,0,36c0,19.9,16.1,36,36,36c19.9,0,36-16.2,36-36C72,16.1,55.8,0,36,0z M3.6,36 c0-4.7,1-9.1,2.8-13.2l15.4,42.3C11.1,59.9,3.6,48.8,3.6,36z M36,68.4c-3.2,0-6.2-0.5-9.1-1.3l9.7-28.2l9.9,27.3 c0.1,0.2,0.1,0.3,0.2,0.4C43.4,67.7,39.8,68.4,36,68.4z M40.5,20.8c1.9-0.1,3.7-0.3,3.7-0.3c1.7-0.2,1.5-2.8-0.2-2.7 c0,0-5.2,0.4-8.6,0.4c-3.2,0-8.5-0.4-8.5-0.4c-1.7-0.1-2,2.6-0.2,2.7c0,0,1.7,0.2,3.4,0.3l5,13.8L28,55.9L16.2,20.8 c2-0.1,3.7-0.3,3.7-0.3c1.7-0.2,1.5-2.8-0.2-2.7c0,0-5.2,0.4-8.6,0.4c-0.6,0-1.3,0-2.1,0C14.7,9.4,24.7,3.6,36,3.6 c8.4,0,16.1,3.2,21.9,8.5c-0.1,0-0.3,0-0.4,0c-3.2,0-5.4,2.8-5.4,5.7c0,2.7,1.5,4.9,3.2,7.6c1.2,2.2,2.7,4.9,2.7,8.9 c0,2.8-0.8,6.3-2.5,10.5l-3.2,10.8L40.5,20.8z M52.3,64l9.9-28.6c1.8-4.6,2.5-8.3,2.5-11.6c0-1.2-0.1-2.3-0.2-3.3 c2.5,4.6,4,9.9,4,15.5C68.4,47.9,61.9,58.4,52.3,64z"}))}}]),t}(m.PureComponent);b.displayName="WordPressLogo",b.defaultProps={size:72,className:"wordpress-logo"},b.propTypes={size:E.a.number,className:E.a.string}},"./client/config/index.js":function(e,t,n){"use strict";n.d(t,"b",function(){return u});var r=n("./client/lib/create-config/index.js"),i=n.n(r);if("undefined"==typeof window||!window.configData)throw new ReferenceError("No configuration was found: please see client/config/README.md for more information");var s=window.configData;if("stage"===s.env_id||window&&0===window.location.href.indexOf("https://calypso.live")){var o=document.location.search&&document.location.search.match(/[?&]flags=([^&]+)(&|$)/);if(o){var a=o[1].split(",");a.forEach(function(e){var t=e.replace(/^[-+]/,""),n=!/^-/.test(e);s.features[t]=n,console.log("%cConfig flag %s via URL: %s","font-weight: bold;",n?"enabled":"disabled",t)})}}var c=i()(s);t.a=c;var u=c.isEnabled},"./client/controller/index.web.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r),s=n("./node_modules/react-dom/index.js"),o=n.n(s),a=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/page/page.js"),u=n.n(c),l=n("./client/config/index.js"),d=n("./node_modules/lodash/lodash.js"),p=n("./node_modules/create-react-class/index.js"),m=n.n(p),f=n("./node_modules/classnames/index.js"),_=n.n(f),E=n("./client/components/async-load/index.jsx"),b=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),g=n.n(b),h=n("./node_modules/@babel/runtime/helpers/createClass.js"),O=n.n(h),y=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),j=n.n(y),v=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),S=n.n(v),I=n("./node_modules/@babel/runtime/helpers/inherits.js"),T=n.n(I),C=n("./node_modules/i18n-calypso/index.js"),R=n.n(C),A=n("./node_modules/prop-types/index.js"),N=n.n(A),w=n("./client/state/analytics/actions.js"),P=n("./client/layout/masterbar/masterbar.jsx"),U=n("./client/layout/masterbar/item.jsx"),D=n("./client/components/sites-popover/index.jsx"),k=n("./client/lib/paths/index.js"),L=n("./client/lib/viewport/index.js"),M=n("./client/sections-helper.js"),x=n("./client/state/ui/selectors.js"),F=n("./client/layout/masterbar/drafts.jsx"),V=n("./client/state/selectors/is-rtl.js"),G=n("./client/components/translatable/proptype.js"),q=function(e){function t(){var e,n;g()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j()(this,(e=S()(t)).call.apply(e,[this].concat(i))),n.state={isShowingPopover:!1},n.setPostButtonRef=function(e){n.postButtonRef=e},n.toggleSitesPopover=function(){n.setState(function(e){return{isShowingPopover:!e.isShowingPopover}})},n.closeSitesPopover=function(){n.setState({isShowingPopover:!1})},n.onClick=function(e){var t=n.props.user.get().visible_site_count;if(t>1)return n.toggleSitesPopover(),void e.preventDefault()},n.preloadPostEditor=function(){return Object(M.b)("post-editor")},n}return T()(t,e),O()(t,[{key:"getPopoverPosition",value:function(){var e=this.props.isRtl;return Object(L.c)()?"bottom":e?"bottom right":"bottom left"}},{key:"renderPopover",value:function(){return this.state.isShowingPopover?i.a.createElement(D.a,{id:"popover__sites-popover-masterbar",visible:!0,groups:!0,context:this.postButtonRef,onClose:this.closeSitesPopover,onSiteSelect:this.props.siteSelected,position:this.getPopoverPosition()}):null}},{key:"render",value:function(){var e=_()(this.props.className),t=this.props.selectedSite||this.props.user.get().primarySiteSlug,n=Object(k.b)(t);return i.a.createElement("div",{className:"masterbar__publish"},i.a.createElement(U.a,{ref:this.setPostButtonRef,url:n,icon:"create",onClick:this.onClick,isActive:this.props.isActive,tooltip:this.props.tooltip,className:e,preloadSection:this.preloadPostEditor},this.props.children,this.renderPopover()),i.a.createElement(F.a,null))}}]),t}(i.a.Component);q.propTypes={user:N.a.object,isActive:N.a.bool,className:N.a.string,tooltip:G.a,selectedSite:N.a.object};var H=Object(a.b)(function(e){return{selectedSite:Object(x.d)(e),isRtl:Object(V.a)(e)}},function(e){return{siteSelected:function(){e(Object(w.i)("calypso_masterbar_write_button_clicked"))}}})(q),W=n("./node_modules/store/store.js"),B=n.n(W),Q=n("./client/state/ui/actions.js"),z=n("./client/state/selectors/is-notifications-open.js"),Y=function(e){Promise.all([n.e(168),n.e(134)]).then(function(t){e(n("./client/notifications/index.jsx").__esModule?n("./client/notifications/index.jsx").default:n("./client/notifications/index.jsx"))}.bind(null,n)).catch(n.oe)},K=function(e){function t(){var e,n;g()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j()(this,(e=S()(t)).call.apply(e,[this].concat(i))),n.state={animationState:0},n.checkToggleNotes=function(e,t){var r=!!e&&e.target,i=n.getNotificationLinkDomNode();r&&i.contains(r)||(n.props.isNotificationsOpen||!0===t)&&n.toggleNotesFrame(e)},n.toggleNotesFrame=function(e){e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),n.props.toggleNotificationsPanel()},n.getNotificationLinkDomNode=function(){return o.a.findDOMNode(n.refs.notificationLink)},n.setNotesIndicator=function(e){var t=B.a.get("wpnotes_unseen_count"),r=n.state.animationState;0===e?r=0:e>t&&(r=1-Math.abs(n.state.animationState)),B.a.set("wpnotes_unseen_count",e),n.setState({newNote:e>0,animationState:r})},n}return T()(t,e),O()(t,[{key:"componentWillMount",value:function(){this.user=this.props.user.get(),this.setState({newNote:this.user&&this.user.has_unseen_notes})}},{key:"componentWillReceiveProps",value:function(e){var t=e.isNotificationsOpen,n=e.recordOpening;!this.props.isNotificationsOpen&&t&&(n({unread_notifications:B.a.get("wpnotes_unseen_count")}),this.setNotesIndicator(0)),this.props.isNotificationsOpen&&!t&&(this.getNotificationLinkDomNode().blur(),window.focus())}},{key:"render",value:function(){var e=_()(this.props.className,{"is-active":this.props.isNotificationsOpen,"has-unread":this.state.newNote,"is-initial-load":-1===this.state.animationState});return i.a.createElement("div",{className:"masterbar__notifications",ref:"notificationLink"},i.a.createElement(U.a,{url:"/notifications",icon:"bell",onClick:this.toggleNotesFrame,isActive:this.props.isActive,tooltip:this.props.tooltip,className:e},this.props.children,i.a.createElement("span",{className:"masterbar__notifications-bubble",key:"notification-indicator-animation-state-"+Math.abs(this.state.animationState)})),i.a.createElement(E.a,{require:Y,isShowing:this.props.isNotificationsOpen,checkToggle:this.checkToggleNotes,setIndicator:this.setNotesIndicator,placeholder:null}))}}]),t}(r.Component);K.propTypes={user:N.a.object.isRequired,isActive:N.a.bool,className:N.a.string,tooltip:G.a,isNotificationsOpen:N.a.bool};var J={toggleNotificationsPanel:Q.i,recordOpening:Object(d.partial)(w.i,"calypso_notification_open")},Z=Object(a.b)(function(e){return{isNotificationsOpen:Object(z.a)(e)}},J)(K),$=n("./client/components/gravatar/index.jsx"),X=n("./client/state/ui/editor/last-draft/actions.js"),ee=n("./client/state/posts/selectors.js");function te(e){return e.ui.editor.lastDraft.siteId}function ne(e){return e.ui.editor.lastDraft.postId}var re=n("./client/state/ui/editor/selectors.js"),ie=n("./client/lib/formatting/index.js"),se=n("./client/lib/analytics/index.js"),oe=n("./client/components/data/query-posts/index.jsx"),ae=n("./client/blocks/site-icon/index.jsx"),ce=function(e){function t(){var e,n;g()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j()(this,(e=S()(t)).call.apply(e,[this].concat(i))),n.trackAnalytics=function(){se.default.ga.recordEvent("Master Bar","Resumed Editing"),se.default.mc.bumpStat("calypso_edit_via","masterbar_resume_editing")},n}return T()(t,e),O()(t,[{key:"componentWillReceiveProps",value:function(e){"draft"!==Object(d.get)(e.draft,"status","draft")&&e.resetEditorLastDraft()}},{key:"render",value:function(){var e=this.props,t=e.siteId,n=e.postId,r=e.requesting,s=e.draft,o=e.editPath,a=e.section,c=e.translate;if(!s||"post-editor"===a)return null;var u=_()("resume-editing",{"is-requesting":r});return i.a.createElement("a",{href:o,onClick:this.trackAnalytics,className:u},i.a.createElement(oe.a,{siteId:t,postId:n}),i.a.createElement("span",{className:"resume-editing__label"},c("Continue Editing")),i.a.createElement("span",{className:"resume-editing__post-title"},i.a.createElement(ae.a,{size:16,siteId:t}),s.title?Object(ie.b)(s.title):c("Untitled")))}}]),t}(i.a.Component);ce.propTypes={siteId:N.a.number,postId:N.a.number,requesting:N.a.bool,draft:N.a.object,editPath:N.a.string,section:N.a.string,translate:N.a.func};var ue=Object(a.b)(function(e){var t=te(e),n=ne(e);return{siteId:t,postId:n,requesting:t&&n&&Object(ee.u)(e,t,n),draft:function(e){var t=te(e),n=ne(e);return t&&n?Object(ee.a)(e,t,n):null}(e),editPath:Object(re.e)(e,t,n),section:Object(x.c)(e)}},{resetEditorLastDraft:X.a})(Object(C.localize)(ce)),le=n("./client/state/selectors/get-primary-site-id.js"),de=n("./client/state/selectors/is-domain-only-site.js"),pe=n("./client/state/ui/layout-focus/actions.js"),me=n("./client/state/sites/selectors.js"),fe=n("./client/lib/route/index.js"),_e=n("./client/my-sites/domains/paths.js"),Ee=function(e){function t(){var e,n;g()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j()(this,(e=S()(t)).call.apply(e,[this].concat(i))),n.clickMySites=function(){n.props.recordTracksEvent("calypso_masterbar_my_sites_clicked"),n.props.setNextLayoutFocus("sidebar")},n.clickReader=function(){n.props.recordTracksEvent("calypso_masterbar_reader_clicked"),n.props.setNextLayoutFocus("content")},n.clickMe=function(){n.props.recordTracksEvent("calypso_masterbar_me_clicked")},n.preloadMySites=function(){Object(M.b)(n.props.domainOnlySite?"domains":"stats")},n.preloadReader=function(){Object(M.b)("reader")},n.preloadMe=function(){Object(M.b)("me")},n.isActive=function(e){return e===n.props.section&&!n.props.isNotificationsShowing},n.wordpressIcon=function(){return"horizon.wordpress.com"===Object(l.a)("hostname")?"my-sites-horizon":"my-sites"},n}return T()(t,e),O()(t,[{key:"render",value:function(){var e=this.props,t=e.domainOnlySite,n=e.siteSlug,r=e.translate,s=t?Object(_e.i)(n):Object(fe.f)("day",n);return i.a.createElement(P.a,null,i.a.createElement(U.a,{url:s,tipTarget:"my-sites",icon:this.wordpressIcon(),onClick:this.clickMySites,isActive:this.isActive("sites"),tooltip:r("View a list of your sites and access their dashboards"),preloadSection:this.preloadMySites},this.props.user.get().site_count>1?r("My Sites",{comment:"Toolbar, must be shorter than ~12 chars"}):r("My Site",{comment:"Toolbar, must be shorter than ~12 chars"})),i.a.createElement(U.a,{tipTarget:"reader",className:"masterbar__reader",url:"/",icon:"reader",onClick:this.clickReader,isActive:this.isActive("reader"),tooltip:r("Read the blogs and topics you follow"),preloadSection:this.preloadReader},r("Reader",{comment:"Toolbar, must be shorter than ~12 chars"})),l.a.isEnabled("resume-editing")&&i.a.createElement(ue,null),!t&&i.a.createElement(H,{user:this.props.user,isActive:this.isActive("post"),className:"masterbar__item-new",tooltip:r("Create a New Post")},r("Write")),i.a.createElement(U.a,{tipTarget:"me",url:"/me",icon:"user-circle",onClick:this.clickMe,isActive:this.isActive("me"),className:"masterbar__item-me",tooltip:r("Update your profile, personal settings, and more"),preloadSection:this.preloadMe},i.a.createElement($.a,{user:this.props.user.get(),alt:"Me",size:18}),i.a.createElement("span",{className:"masterbar__item-me-label"},r("Me",{context:"Toolbar, must be shorter than ~12 chars"}))),i.a.createElement(Z,{user:this.props.user,isShowing:this.props.isNotificationsShowing,isActive:this.isActive("notifications"),className:"masterbar__item-notifications",tooltip:r("Manage your notifications")},i.a.createElement("span",{className:"masterbar__item-notifications-label"},r("Notifications",{comment:"Toolbar, must be shorter than ~12 chars"}))))}}]),t}(i.a.Component);Ee.propTypes={domainOnlySite:N.a.bool,user:N.a.object,section:N.a.oneOfType([N.a.string,N.a.bool]),setNextLayoutFocus:N.a.func.isRequired,siteSlug:N.a.string};var be,ge,he,Oe=Object(a.b)(function(e){var t=Object(x.e)(e)||Object(le.a)(e);return{isNotificationsShowing:Object(z.a)(e),siteSlug:Object(me.w)(e,t),domainOnlySite:Object(de.a)(e,t)}},{setNextLayoutFocus:pe.c,recordTracksEvent:w.i})(Object(C.localize)(Ee)),ye=n("./client/layout/masterbar/logged-out.jsx"),je=n("./client/lib/mixins/data-observe/index.js"),ve=n("./client/components/global-notices/index.jsx"),Se=n("./client/notices/index.js"),Ie=n("./node_modules/gridicons/dist/index.js"),Te=n.n(Ie),Ce=n("./node_modules/@babel/runtime/helpers/typeof.js"),Re=n.n(Ce),Ae=n("./node_modules/debug/src/browser.js"),Ne=n.n(Ae),we=n("./client/lib/load-script/index.js"),Pe=n("./client/lib/user/index.js"),Ue=n("./client/lib/user-settings/index.js"),De=n("./client/lib/i18n-utils/browser.js"),ke=Ne()("calypso:community-translator"),Le=new Pe.default,Me={de_formal:"formal"},xe={localeCode:"en",languageName:"English",pluralForms:"nplurals=2; plural=(n != 1)",contentChangedCallback:function(){},glotPress:{url:"https://translate.wordpress.com",project:"test",translation_set_slug:"default"}},Fe=!1,Ve={isEnabled:function(){var e=Le.get();return!!(e&&e.localeSlug&&Object(De.c)(e.localeSlug))&&(!(e.localeVariant&&!Object(De.c)(e.localeVariant))&&(!!Ue.a.getSettings()&&(!!Ue.a.getOriginalSetting("enable_translator")&&!!Ve.isValidBrowser())))},isActivated:function(){return Fe},wrapTranslation:function(e,t,n){if(!this.isEnabled()||!this.isActivated()||n.textOnly)return t;if("object"!==Re()(n)&&(n={}),"string"!=typeof e)return ke("unknown original format"),t;if("boolean"==typeof n.textOnly&&n.textOnly)return ke('respecting textOnly for string "'+e+'"'),t;var r={className:"translatable","data-singular":e};"string"==typeof n.context&&(r["data-context"]=n.context),"string"==typeof n.plural&&(r["data-plural"]=n.plural);var s=Object.assign({},i.a.createElement("data",r,t));return s.toString=function(){return t},Object.freeze(s),s},init:function(){var e=R.a.getLocale()||{"":{}},t=e[""],n=t.localeSlug,r=t.localeVariant;n&&e?this.updateTranslationData(n,e,r):ke("trying to initialize translator without loaded language"),ge||(Ue.a.getSettings()?this.isEnabled()?n&&e&&(ke("Successfully initialized"),ge=!0):ke("not initializing, not enabled"):ke("initialization failed because userSettings are not ready"))},updateTranslationData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Object(l.a)("languages");if(xe.localeCode===e)return ke("skipping updating translation data with same localeCode"),!0;ke("Translator Jumpstart: loading locale file for "+e),xe.localeCode=e,xe.pluralForms=t[""].plural_forms||t[""]["Plural-Forms"]||t[""]["plural-forms"]||xe.pluralForms,xe.currentUserId=Le.data.ID;var i=Object(d.find)(r,function(t){return t.langSlug===e});i&&(xe.languageName=i.name.replace(/^(?:[a-z]{2,3}|[a-z]{2}-[a-z]{2})\s+-\s+/,"")),this.setInjectionURL("community-translator.min.js"),xe.glotPress.project="wpcom",xe.glotPress.translation_set_slug=Me[n]||"default"},setInjectionURL:function(e){be="https://widgets.wp.com/community-translator/"+e+"?v=1.160729",ke("setting injection url",be)},toggle:function(){var e=!1;function t(){return Fe=!0,R.a.reRenderTranslations(),window.communityTranslator.load(),ke("Translator activated"),!0}return xe.contentChangedCallback=function(){e||(ke("Translator notified of page change, but handler was not registered"),e=!0)},window.translatorJumpstart=xe,void 0===window.communityTranslator?be?(ke("loading community translator"),Object(we.b)(be,function(e){e?ke("Script "+e.src+" failed to load."):(ke("Script loaded!"),window.communityTranslator.registerTranslatedCallback(Ve.updateTranslation),t())}),!1):(ke("Community translator toggled before initialization"),Fe=!1,!1):(this.isActivated()?(window.communityTranslator.unload(),Fe=!1,R.a.reRenderTranslations(),ke("Translator deactivated")):t(),this.isActivated())},updateTranslation:function(e){var t=R.a.getLocale(),n=e.key,r=e.plural,i=e.translations;ke("Updating ",e.singular,"from",t[n],"to",[r].concat(i)),t[n]=[r].concat(i),R.a.setLocale(t)},isValidBrowser:function(){return!Object(L.c)()}};R.a.registerTranslateHook(function(e,t){return Ve.wrapTranslation(t.original,e,t)}),R.a.registerComponentUpdateHook(function(){if("function"==typeof xe.contentChangedCallback)return xe.contentChangedCallback()}),R.a.on("change",Ve.init.bind(Ve)),Le.on("change",Ve.init.bind(Ve)),Ue.a.on("change",function(){var e=Ue.a.getOriginalSetting("enable_translator"),t=he!==e,n=e?"calypso_community_translator_enabled":"calypso_community_translator_disabled";t&&void 0!==he&&(ke(n),se.default.tracks.recordEvent(n,{locale:Le.data.localeSlug})),he=e}),Ue.a.on("change",Ve.init.bind(Ve));var Ge=Ve,qe=n("./client/components/dialog/index.jsx"),He=function(e){function t(){var e,n;g()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j()(this,(e=S()(t)).call.apply(e,[this].concat(i))),n.state={infoDialogVisible:!1,firstActivation:!0,isActive:Ge.isActivated(),isEnabled:Ge.isEnabled()},n.onI18nChange=function(){!n.state.isActive&&Ge.isActivated()?(n.setState({isActive:!0}),B.a.get("translator_hide_infodialog")||n.setState({infoDialogVisible:!0}),n.state.firstActivation&&(se.default.mc.bumpStat("calypso_translator_toggle","intial_activation"),n.setState({firstActivation:!1}))):n.state.isActive&&!Ge.isActivated()&&n.setState({isActive:!1})},n.onUserSettingsChange=function(){n.state.isEnabled!==Ge.isEnabled()&&n.setState({isEnabled:Ge.isEnabled()})},n.toggleInfoCheckbox=function(e){B.a.set("translator_hide_infodialog",e.target.checked)},n.infoDialogClose=function(){n.setState({infoDialogVisible:!1})},n.toggle=function(e){e.preventDefault();var t=Ge.toggle();se.default.mc.bumpStat("calypso_translator_toggle",t?"on":"off"),n.setState({isActive:t})},n}return T()(t,e),O()(t,[{key:"componentDidMount",value:function(){R.a.on("change",this.onI18nChange),Ue.a.on("change",this.onUserSettingsChange)}},{key:"componentWillUnmount",value:function(){R.a.off("change",this.onI18nChange),Ue.a.off("change",this.onUserSettingsChange)}},{key:"render",value:function(){var e,t="community-translator";if(!this.state.isEnabled)return null;this.state.isActive?(e=this.props.translate("Disable Translator"),t+=" is-active"):e=this.props.translate("Enable Translator");var n=[{action:"cancel",label:this.props.translate("Ok")}];return i.a.createElement("div",null,i.a.createElement(qe.a,{isVisible:this.state.infoDialogVisible,buttons:n,onClose:this.infoDialogClose,additionalClassNames:"community-translator__modal"},i.a.createElement("h1",null,this.props.translate("Community Translator")),i.a.createElement("p",null,this.props.translate("You have now enabled the translator. Right click the text to translate it.")),i.a.createElement("p",null,i.a.createElement("label",null,i.a.createElement("input",{type:"checkbox",onClick:this.toggleInfoCheckbox}),i.a.createElement("span",null,this.props.translate("Don't show again"))))),i.a.createElement("div",{className:t},i.a.createElement("a",{className:"community-translator__button",onClick:this.toggle,title:this.props.translate("Community Translator")},i.a.createElement(Te.a,{icon:"globe"}),i.a.createElement("div",{className:"community-translator__text"},e))))}}]),t}(i.a.PureComponent);He.displayName="TranslatorLauncher",He.propTypes={translate:N.a.func};var We=Object(C.localize)(He),Be=n("./client/layout/guided-tours/config.js"),Qe=n("./client/components/data/query-preferences/index.jsx"),ze=n("./client/components/root-child/index.jsx"),Ye=n("./client/state/ui/guided-tours/selectors/index.js"),Ke=n("./client/state/ui/action-log/selectors.js"),Je=n("./client/state/selectors/get-initial-query-arguments.js"),Ze=n("./client/state/ui/guided-tours/actions.js"),$e=function(e){function t(){var e,n;g()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j()(this,(e=S()(t)).call.apply(e,[this].concat(i))),n.start=function(e){var t=e.step,r=e.tour,i=e.tourVersion;r&&i&&(n.props.nextGuidedTourStep({step:t,tour:r}),se.tracks.recordEvent("calypso_guided_tours_start",{tour:r,tour_version:i}))},n.next=function(e){var t=e.step,r=e.tour,i=e.tourVersion,s=e.nextStepName,o=e.skipping,a=void 0!==o&&o;!a&&t&&se.tracks.recordEvent("calypso_guided_tours_seen_step",{tour:r,step:t,tour_version:i}),Object(d.defer)(function(){n.props.nextGuidedTourStep({tour:r,stepName:s})})},n.quit=function(e){var t=e.step,r=e.tour,i=e.tourVersion,s=e.isLastStep;t&&se.tracks.recordEvent("calypso_guided_tours_seen_step",{tour:r,step:t,tour_version:i}),se.tracks.recordEvent("calypso_guided_tours_"+(s?"finished":"quit"),{step:t,tour:r,tour_version:i}),n.props.quitGuidedTour({tour:r,stepName:t,finished:s})},n}return T()(t,e),O()(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.tourState!==e.tourState}},{key:"componentWillReceiveProps",value:function(e){"reset"===e.requestedTour&&"reset"!==this.props.requestedTour&&this.props.resetGuidedToursHistory()}},{key:"render",value:function(){var e=this.props.tourState,t=e.tour,n=e.stepName,r=void 0===n?"init":n,s=e.shouldShow;return s?i.a.createElement(ze.a,null,i.a.createElement("div",{className:"guided-tours"},i.a.createElement(Qe.a,null),i.a.createElement(Be.a,{sectionName:this.props.sectionName,shouldPause:this.props.isSectionLoading,tourName:t,stepName:r,lastAction:this.props.lastAction,isValid:this.props.isValid,next:this.next,quit:this.quit,start:this.start}))):null}}]),t}(r.Component),Xe=Object(a.b)(function(e){return{sectionName:Object(x.c)(e),isSectionLoading:Object(x.h)(e),tourState:Object(Ye.a)(e),isValid:function(t){return!!t(e)},lastAction:Object(Ke.b)(e),requestedTour:Object(Je.a)(e).tour}},{nextGuidedTourStep:Ze.a,quitGuidedTour:Ze.b,resetGuidedToursHistory:Ze.d})(Object(C.localize)($e)),et=n("./client/components/pulsing-dot/index.jsx"),tt=function(){return i.a.createElement("span",{className:"offline-status"},i.a.createElement("svg",{className:"gridicon",height:18,width:18,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M12.736 3.184L7.834 12.57l5.106.035-2.592 7.904 7.265-10.502-5.65.083.773-6.906z"}))),"Offline")},nt=n("./client/components/data/query-sites/index.jsx");var rt=n("./node_modules/@babel/runtime/helpers/extends.js"),it=n.n(rt),st=n("./client/lib/keyboard-shortcuts/global.js"),ot=n("./client/components/button/index.jsx"),at=n("./client/components/happychat/button.jsx"),ct=n("./client/components/resizable-iframe/index.jsx"),ut=n("./client/state/happychat/selectors/is-happychat-open.js"),lt=n("./client/state/happychat/selectors/has-active-happychat-session.js"),dt=l.a.isEnabled("keyboard-shortcuts"),pt=dt?Object(st.a)():null,mt=Ne()("calypso:inline-help"),ft=function(e){Promise.all([n.e(23),n.e(24)]).then(function(t){e(n("./client/blocks/inline-help/popover.jsx").__esModule?n("./client/blocks/inline-help/popover.jsx").default:n("./client/blocks/inline-help/popover.jsx"))}.bind(null,n)).catch(n.oe)},_t=function(e){return i.a.createElement(E.a,it()({},e,{require:ft,placeholder:null}))},Et=function(e){function t(){var e,r;g()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=j()(this,(e=S()(t)).call.apply(e,[this].concat(s))),r.state={showInlineHelp:!1},r.preloaded=!1,r.preload=function(){r.preloaded||(Promise.all([n.e(23),n.e(24)]).then(function(e){n("./client/blocks/inline-help/popover.jsx").__esModule?n("./client/blocks/inline-help/popover.jsx").default:n("./client/blocks/inline-help/popover.jsx")}.bind(null,n)).catch(n.oe),r.preloaded=!0)},r.toggleInlineHelp=function(){var e=r.state.showInlineHelp;e?r.closeInlineHelp():r.showInlineHelp()},r.showInlineHelp=function(){mt("showing inline help."),r.props.recordTracksEvent("calypso_inlinehelp_show"),r.setState({showInlineHelp:!0})},r.closeInlineHelp=function(){mt("hiding inline help."),r.props.recordTracksEvent("calypso_inlinehelp_close"),r.setState({showInlineHelp:!1})},r.handleHelpButtonClicked=function(){r.toggleInlineHelp()},r.inlineHelpToggleRef=function(e){r.inlineHelpToggle=e},r.setDialogState=function(e){var t=e.showDialog,n=e.videoLink,i=void 0===n?null:n,s=e.dialogType;return r.setState({showDialog:t,videoLink:i,dialogType:s})},r.closeDialog=function(){return r.setState({showDialog:!1})},r}return T()(t,e),O()(t,[{key:"componentDidMount",value:function(){pt&&(pt.showInlineHelp=this.showInlineHelp)}},{key:"componentWillUnmount",value:function(){pt&&(pt.showInlineHelp=null)}},{key:"componentWillReceiveProps",value:function(e){!this.props.isHappychatOpen&&e.isHappychatOpen&&this.closeInlineHelp()}},{key:"getDialogButtons",value:function(){var e=this.props.translate,t=this.state.dialogType;return"video"===t?[i.a.createElement(ot.a,{onClick:this.closeDialog},e("Close",{textOnly:!0}))]:[]}},{key:"render",value:function(){var e=this.props.translate,t=this.state,n=t.showInlineHelp,r=t.showDialog,s=t.videoLink,o=t.dialogType,a={"inline-help__button":!0,"is-active":n},c=_()("inline-help__richresult__dialog__video"),u=_()("inline-help__richresult__dialog",o),d=this.getDialogButtons();return i.a.createElement("div",{className:"inline-help"},i.a.createElement(ot.a,{className:_()(a),onClick:this.handleHelpButtonClicked,onTouchStart:this.preload,onMouseEnter:this.preload,borderless:!0,title:e("Help"),ref:this.inlineHelpToggleRef},i.a.createElement(Te.a,{icon:"help-outline",size:36})),n&&i.a.createElement(_t,{context:this.inlineHelpToggle,onClose:this.closeInlineHelp,setDialogState:this.setDialogState}),r&&i.a.createElement(qe.a,{additionalClassNames:u,isVisible:!0,buttons:d,onCancel:this.closeDialog,onClose:this.closeDialog},"video"===o&&i.a.createElement("div",{className:c},i.a.createElement(ct.a,{src:s+"?rel=0&amp;showinfo=0&amp;autoplay=1",frameBorder:"0",seamless:!0,allowFullScreen:!0,autoPlay:!0,width:"640",height:"360"}))),this.props.isHappychatButtonVisible&&l.a.isEnabled("happychat")&&i.a.createElement(at.a,{className:"inline-help__happychat-button",allowMobileRedirect:!0}))}}]),t}(r.Component);Et.propTypes={translate:N.a.func},Et.defaultProps={translate:d.identity};var bt=Object(a.b)(function(e){return{isHappychatButtonVisible:Object(lt.a)(e),isHappychatOpen:Object(ut.a)(e)}},{recordTracksEvent:w.i})(Object(C.localize)(Et)),gt=n("./client/state/ui/preview/actions.js");function ht(e){var t=Object(x.e)(e);return t||e.ui.preview.currentPreviewSiteId}var Ot=n("./client/state/ui/layout-focus/selectors.js"),yt=n("./client/components/web-preview/index.jsx"),jt=Ne()("calypso:site-preview"),vt=function(e){function t(){var e,n;g()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j()(this,(e=S()(t)).call.apply(e,[this].concat(i))),n.state={previewCount:0},n.previewCounter=0,n}return T()(t,e),O()(t,[{key:"componentWillReceiveProps",value:function(e){this.props.selectedSiteId&&this.props.selectedSiteId!==e.selectedSiteId&&(this.previewCounter=0),!this.props.showPreview&&e.showPreview&&(jt("forcing refresh"),this.previewCounter>0&&this.setState({previewCount:this.previewCounter}),this.previewCounter+=1)}},{key:"getPreviewUrl",value:function(){if(!this.props.selectedSiteUrl&&!this.props.previewUrl)return jt("no preview url and no site url were found for this site"),null;var e=Object(fe.a)({iframe:!0,theme_preview:!0,"frame-nonce":this.props.selectedSiteNonce,cachebust:this.state.previewCount},this.getBasePreviewUrl());return jt("using this preview url",e),e}},{key:"getBasePreviewUrl",value:function(){return this.props.previewUrl||this.props.selectedSiteUrl}},{key:"render",value:function(){return this.props.selectedSite&&this.props.selectedSite.is_previewable?i.a.createElement(yt.a,{className:this.props.className,previewUrl:this.getPreviewUrl(),externalUrl:this.getBasePreviewUrl(),showExternal:!0,showClose:!0,showPreview:this.props.showPreview,onClose:this.props.closePreview,showSEO:!this.props.isDomainOnlySite}):(jt("a preview is not available for this site"),null)}}]),t}(r.Component);vt.propTypes={className:N.a.string,showPreview:N.a.bool,previewUrl:N.a.string,selectedSite:N.a.object,selectedSiteId:N.a.number,selectedSiteNonce:N.a.string,selectedSiteUrl:N.a.string,closePreview:N.a.func.isRequired};var St=Object(a.b)(function(e){var t=ht(e),n="https://"+Object(me.w)(e,t);return{showPreview:"preview"===Object(Ot.a)(e),selectedSite:function(e){var t=ht(e);return t?Object(me.l)(e,t):null}(e),selectedSiteId:t,selectedSiteUrl:n.replace(/::/g,"/"),selectedSiteNonce:Object(me.s)(e,t,"frame_nonce")||"",previewUrl:function(e){return e.ui.preview.currentPreviewUrl}(e),isDomainOnlySite:Object(de.a)(e,t)}},{closePreview:gt.a})(vt),It=n("./client/components/external-link/index.jsx"),Tt=function(e){var t=e.post,n=e.isLoading;return n||!t?i.a.createElement("div",{className:"support-article-dialog__header is-placeholder"},i.a.createElement("h1",{className:"support-article-dialog__header-title is-placeholder"},"Post loading")):i.a.createElement("div",{className:"support-article-dialog__header"},i.a.createElement("h1",{className:"support-article-dialog__header-title"},i.a.createElement(It.a,{className:"support-article-dialog__header-title-link",href:t.URL,target:"_blank",icon:!1},t.title)))};Tt.propTypes={post:N.a.object,isLoading:N.a.bool};var Ct=Tt,Rt=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("p",{className:"support-article-dialog__placeholder-text"}),i.a.createElement("p",{className:"support-article-dialog__placeholder-text"})),i.a.createElement("div",null,i.a.createElement("p",{className:"support-article-dialog__placeholder-text"}),i.a.createElement("p",{className:"support-article-dialog__placeholder-text"})),i.a.createElement("div",null,i.a.createElement("p",{className:"support-article-dialog__placeholder-text"}),i.a.createElement("p",{className:"support-article-dialog__placeholder-text"})),i.a.createElement("div",null,i.a.createElement("p",{className:"support-article-dialog__placeholder-text"}),i.a.createElement("p",{className:"support-article-dialog__placeholder-text"})))},At=n("./client/components/embed-container/index.jsx"),Nt=n("./client/components/emojify/index.jsx"),wt=n("./client/components/data/query-reader-post/index.jsx"),Pt=n("./client/components/data/query-reader-site/index.jsx"),Ut=n("./client/state/reader/posts/selectors.js"),Dt=n("./client/blocks/inline-help/constants.js"),kt=n("./client/state/inline-support-article/actions.js"),Lt=function(e){function t(){return g()(this,t),j()(this,S()(t).apply(this,arguments))}return T()(t,e),O()(t,[{key:"getDialogButtons",value:function(){var e=this.props,t=e.postUrl,n=e.translate;return[t?i.a.createElement(ot.a,{href:t,target:"_blank",primary:!0},n("Visit Article")," ",i.a.createElement(Te.a,{icon:"external",size:12})):i.a.createElement(i.a.Fragment,null),i.a.createElement(ot.a,{onClick:this.props.closeSupportArticleDialog},n("Close",{textOnly:!0}))]}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.postId,r=e.isVisible,s=!t,o={blogId:Dt.h,postId:n},a=Object(d.get)(t,"site_ID");return i.a.createElement(qe.a,{additionalClassNames:"support-article-dialog",isVisible:r,buttons:this.getDialogButtons(),onCancel:this.props.closeSupportArticleDialog,onClose:this.props.closeSupportArticleDialog},i.a.createElement(Nt.a,null,a&&i.a.createElement(Pt.a,{siteId:+a}),s&&i.a.createElement(wt.a,{postKey:o}),i.a.createElement("article",{className:"support-article-dialog__story"},i.a.createElement(Ct,{post:t,isLoading:s}),s?i.a.createElement(Rt,null):i.a.createElement(At.a,null,i.a.createElement("div",{className:"support-article-dialog__story-content",dangerouslySetInnerHTML:{__html:Object(d.get)(t,"content")}})))))}}]),t}(r.Component);Lt.propTypes={closeSupportArticleDialog:N.a.func.isRequired,isVisible:N.a.bool,post:N.a.object,postId:N.a.number,postUrl:N.a.string,translate:N.a.func.isRequired};var Mt=Object(d.flow)(Object(a.b)(function(e){var t=function(e){return Object(d.get)(e,"inlineSupportArticle.postId")}(e),n=function(e){return Object(d.get)(e,"inlineSupportArticle.postUrl")}(e),r=Object(Ut.b)(e,{blogId:Dt.h,postId:t});return{isVisible:function(e){return Object(d.get)(e,"inlineSupportArticle.isVisible",!1)}(e),post:r,postId:t,postUrl:n}},{closeSupportArticleDialog:kt.a}),C.localize)(Lt),xt=n("./client/components/data/document-head/index.jsx"),Ft=n("./client/blocks/nps-survey/index.jsx"),Vt=n("./client/state/nps-survey/actions.js");var Gt=n("./client/state/nps-survey/selectors.js"),qt="calypso-global-notice-radio-buttons-v1",Ht=function(e){function t(){var e,n;g()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j()(this,(e=S()(t)).call.apply(e,[this].concat(i))),n.handleDialogClose=function(){n.props.hasAnswered||n.props.hasAnsweredWithNoScore||n.props.submitNpsSurveyWithNoScore(qt),n.props.setNpsSurveyDialogShowing(!1)},n.handleSurveyClose=function(e){n.props.setNpsSurveyDialogShowing(!1),setTimeout(e,500)},n}return T()(t,e),O()(t,[{key:"componentDidMount",value:function(){this.props.setupNpsSurveyEligibility(),this.props.setupNpsSurveyDevTrigger()}},{key:"componentDidUpdate",value:function(){this.props.isSectionAndSessionEligible&&!this.props.wasShownThisSession&&(this.props.setNpsSurveyDialogShowing(!0),this.props.markNpsSurveyShownThisSession(),se.default.mc.bumpStat("calypso_nps_survey","notice_displayed"),se.default.tracks.recordEvent("calypso_nps_notice_displayed"))}},{key:"render",value:function(){return this.props.isSupportUser||!this.props.isSectionAndSessionEligible?null:i.a.createElement(qe.a,{additionalClassNames:"nps-survey-notice",isVisible:this.props.isNpsSurveyDialogShowing,onClose:this.handleDialogClose},i.a.createElement(Ft.a,{name:qt,onClose:this.handleSurveyClose}))}}]),t}(r.Component),Wt=Object(a.b)(function(e){return{isSupportUser:Object(d.get)(e,"support.isSupportUser",!1),isNpsSurveyDialogShowing:function(e){return Object(d.get)(e.ui,"npsSurveyNotice.isNpsSurveyDialogShowing",!1)}(e),hasAnswered:Object(Gt.d)(e),hasAnsweredWithNoScore:Object(Gt.e)(e),isSectionAndSessionEligible:Object(Gt.h)(e),wasShownThisSession:Object(Gt.i)(e)}},{setNpsSurveyDialogShowing:function(e){return{type:"NPS_SURVEY_DIALOG_IS_SHOWING",isShowing:e}},submitNpsSurveyWithNoScore:Vt.f,setupNpsSurveyDevTrigger:function(){return function(e){l.a.isEnabled("nps-survey/dev-trigger")&&(window.npsSurvey=function(){e(Object(Vt.c)(!0))})}},setupNpsSurveyEligibility:Vt.d,markNpsSurveyShownThisSession:Vt.a})(Ht),Bt=n("./client/components/card/index.jsx"),Qt=n("./client/state/selectors/get-current-route.js"),zt=n("./client/state/preferences/selectors.js"),Yt=n("./client/state/preferences/actions.js"),Kt=n("./client/lib/analytics/track-component-view/index.jsx"),Jt="post-editor",Zt="notifications",$t="reader",Xt="stats",en=[Jt,Zt,$t,Xt],tn=6048e5,nn=24192e5;var rn=n("./client/lib/version-compare/index.js"),sn=/iPad|iPod|iPhone/i,on=/Android (\d+(\.\d+)?(\.\d+)?)/i,an=function(e){function t(){var e,n;g()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j()(this,(e=S()(t)).call.apply(e,[this].concat(i))),n.stopBubblingEvents=function(e){e.stopPropagation()},n.preventNotificationsClose=function(e){if(!e&&n.appBannerNode)return n.appBannerNode.removeEventListener("mousedown",n.stopBubblingEvents,!1),void n.appBannerNode.removeEventListener("touchstart",n.stopBubblingEvents,!1);e&&(n.appBannerNode=o.a.findDOMNode(e),n.appBannerNode.addEventListener("mousedown",n.stopBubblingEvents,!1),n.appBannerNode.addEventListener("touchstart",n.stopBubblingEvents,!1))},n.dismiss=function(e){e.preventDefault();var t=n.props,r=t.currentSection,i=t.dismissedUntil;n.props.saveDismissTime(r,i)},n.openApp=function(){n.props.recordAppBannerOpen(n.props.currentSection)},n}return T()(t,e),O()(t,[{key:"isVisible",value:function(){var e=this.props,t=e.dismissedUntil,n=e.currentSection;return this.isMobile()&&!function(e,t){return Object(d.get)(e,t,-1/0)>Date.now()}(t,n)}},{key:"isiOS",value:function(){return sn.test(this.props.userAgent)}},{key:"isAndroid",value:function(){var e=on.exec(this.props.userAgent),t=Object(d.get)(e,"1","0");return Object(rn.a)(t,"4.4",">=")}},{key:"isMobile",value:function(){return this.isiOS()||this.isAndroid()}},{key:"getDeepLink",value:function(){var e=this.props,t=e.currentRoute,n=e.currentSection;if(this.isAndroid())switch(n){case Jt:case Zt:case $t:case Xt:return"intent://editor/#Intent;scheme=wordpress;package=org.wordpress.android;end"}return this.isiOS()?function(e,t){var n="https://apps.wordpress.com/get",r=function(e,t){var n=null!==e&&"/"!==e;return encodeURIComponent(function(){switch(t){case Jt:return"/post";case Zt:return"/notifications";case $t:return n?e:"/read";case Xt:return n?e:"/stats";default:return""}}())}(e,t);return r.length>0?n+"#"+r:n}(t,n):null}},{key:"render",value:function(){var e=this.props,t=e.translate,n=e.currentSection,r=e.fetchingPreferences;if(r)return null;if(!Object(d.includes)(en,n))return null;if(!this.isVisible())return null;var s=function(e,t){switch(t){case Jt:return{title:e("Rich mobile publishing."),copy:e("A streamlined editor with faster, simpler image uploading? Check and mate.")};case Zt:return{title:e("Watch engagement happening."),copy:e("Is your new post a hit? With push notifications, see reactions as they roll in.")};case $t:return{title:e("Read online or off."),copy:e("Catch up with new posts when you have time, even if you are offline.")};case Xt:return{title:e("Stats at your fingertips."),copy:e("Add real-time stats to your device's notifications or widgets.")};default:return{title:"",copy:""}}}(t,n),o=s.title,a=s.copy;return i.a.createElement(Bt.a,{className:_()("app-banner","is-compact",n),ref:this.preventNotificationsClose},i.a.createElement(Kt.a,{eventName:"calypso_mobile_app_banner_impression",eventProperties:{page:n},statGroup:"calypso_mobile_app_banner",statName:"impression"}),i.a.createElement("div",{className:"app-banner__text-content"},i.a.createElement("div",{className:"app-banner__title"},i.a.createElement("span",null," ",o," ")),i.a.createElement("div",{className:"app-banner__copy"},i.a.createElement("span",null," ",a," "))),i.a.createElement("div",{className:"app-banner__buttons"},i.a.createElement(ot.a,{className:"app-banner__open-button",onClick:this.openApp,href:this.getDeepLink()},t("Open in app")),i.a.createElement("a",{className:"app-banner__no-thanks-button",onClick:this.dismiss},t("No thanks"))))}}]),t}(r.Component);an.propTypes={saveDismissTime:N.a.func,translate:N.a.func,recordAppBannerOpen:N.a.func,userAgent:N.a.string,currentSection:N.a.string,dismissedUntil:N.a.object,fetchingPreferences:N.a.bool},an.defaultProps={saveDismissTime:d.noop,translate:d.identity,recordAppBannerOpen:d.noop,userAgent:"undefined"!=typeof window?navigator.userAgent:""};var cn={recordAppBannerOpen:function(e){return Object(w.b)(Object(w.i)("calypso_mobile_app_banner_open",{page:e}),Object(w.a)("calypso_mobile_app_banner","banner_open"))},saveDismissTime:function(e,t){return Object(w.k)(Object(w.b)(Object(w.i)("calypso_mobile_app_banner_dismiss",{page:e}),Object(w.a)("calypso_mobile_app_banner","banner_dismiss")),Object(Yt.b)("appBannerDismissTimes",(n=e,r=t,i=Date.now(),s=i+tn,o=i+nn,Object(d.reduce)(en,function(e,t){return e[t]=t===n?o:Object(d.get)(r,t,-1/0)>s?Object(d.get)(r,t):s,e},{}))));var n,r,i,s,o}},un=Object(a.b)(function(e){var t=Object(x.c)(e),n=Object(z.a)(e),r=Object(Qt.a)(e);return{dismissedUntil:Object(zt.b)(e,"appBannerDismissTimes"),currentSection:function(e,t,n){return t?Zt:n&&-1!==n.indexOf("/stats/activity/")?null:Object(d.includes)(en,e)?e:null}(t,n,r),currentRoute:r,fetchingPreferences:Object(zt.d)(e),siteId:Object(x.e)(e)}},cn)(Object(C.localize)(an)),ln=n("./node_modules/cookie/index.js"),dn=n.n(ln),pn=n("./client/lib/analytics/ad-tracking.js"),mn=15552e3,fn=function(e){function t(){var e,n;g()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j()(this,(e=S()(t)).call.apply(e,[this].concat(i))),n.state={showBanner:!0},n.acknowledgeClicked=function(){document.cookie=dn.a.serialize("sensitive_pixel_option","yes",{path:"/",maxAge:mn}),n.props.recordCookieBannerOk(),n.setState({showBanner:!1})},n}return T()(t,e),O()(t,[{key:"shouldShowBanner",value:function(){var e=dn.a.parse(document.cookie);return"yes"!==e.sensitive_pixel_option&&"no"!==e.sensitive_pixel_option&&!!Object(pn.a)()}},{key:"render",value:function(){if(!this.shouldShowBanner())return null;var e=this.props.translate,t=e("Our websites and dashboards use cookies. By continuing, you agree to their use. {{a}}Learn more{{/a}}, including how to control cookies.",{components:{a:i.a.createElement("a",{href:"https://automattic.com/cookies"})}}),n={"is-compact":!0,"gdpr-banner":!0,"gdpr-banner__hiding":!this.state.showBanner};return this.props.recordCookieBannerView(),i.a.createElement(Bt.a,{className:_()(n)},i.a.createElement("div",{className:"gdpr-banner__text-content"},Object(ie.d)(Object(ie.b)(t))),i.a.createElement("div",{className:"gdpr-banner__buttons"},i.a.createElement(ot.a,{className:"gdpr-banner__acknowledge-button",onClick:this.acknowledgeClicked},e("Got it!"))))}}]),t}(r.Component);fn.propTypes={recordCookieBannerOk:N.a.func,recordCookieBannerView:N.a.func,translate:N.a.func},fn.defaultProps={recordCookieBannerOk:d.noop,recordCookieBannerView:d.noop,translate:d.identity};var _n={recordCookieBannerOk:function(){return Object(w.i)("a8c_cookie_banner_ok",{site:"Calypso"})},recordCookieBannerView:function(){return Object(w.a)("cookie-banner-view","total,"+document.location.host.replace(/[^a-zA-Z0-9]/g,"-"))}},En=Object(a.b)(null,_n)(Object(C.localize)(fn)),bn=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),gn=n.n(bn),hn=function(e){var t=function(e){return Object(d.get)(e,["jitm","sitePathJITM",Object(x.c)(e)+Object(x.e)(e)],[])}(e);return 0===t.length?null:t[0]},On=n("./client/state/jitm/actions.js"),yn=n("./client/components/banner/index.jsx"),jn=Object(a.b)(function(e){return gn()({currentSite:Object(x.d)(e),hasJitm:!!hn(e)},hn(e))},function(e){return{onDismiss:function(t,n,r){return function(){return e(Object(On.b)(t,n,r))}}}})(function(e){var t=e.currentSite,n=e.hasJitm,r=e.callToAction,s=e.description,o=e.featureClass,a=e.id,c=e.message,u=e.onDismiss;return n&&t&&i.a.createElement(yn.a,{callToAction:r,title:c,description:s,disableHref:!0,dismissPreferenceName:o+"123",dismissTemporary:!0,onDismiss:u(t.ID,a,o),event:"jitm_nudge_click_"+a,href:"https://jetpack.com/redirect/?source=jitm-"+a+"&site="+t.domain,target:"_blank"})}),vn=n("./client/lib/keyboard-shortcuts/index.js"),Sn=n("./client/lib/keyboard-shortcuts/key-bindings.js"),In=function(e){function t(){var e,n;g()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j()(this,(e=S()(t)).call.apply(e,[this].concat(i))),n.state={showDialog:!1},n.closeDialog=function(){n.setState({showDialog:!1})},n.toggleShowDialog=function(){n.setState({showDialog:!n.state.showDialog})},n}return T()(t,e),O()(t,[{key:"componentDidMount",value:function(){vn.a.on("open-keyboard-shortcuts-menu",this.toggleShowDialog)}},{key:"componentWillUnmount",value:function(){vn.a.off("open-keyboard-shortcuts-menu",this.toggleShowDialog)}},{key:"getShortcutsByCategory",value:function(){var e=this,t=Sn.a,n=[{name:this.props.translate("List Navigation"),shortcuts:t.listNavigation,className:"keyboard-shortcuts__list-navigation",disabled:!0},{name:this.props.translate("Site Navigation"),shortcuts:t.siteNavigation,className:"keyboard-shortcuts__site-navigation"},{name:this.props.translate("Reader"),shortcuts:t.reader,className:"keyboard-shortcuts__reader",disabled:!0},{name:this.props.translate("Blog Posts and Pages"),shortcuts:t.blogPostsAndPages,className:"keyboard-shortcuts__blog-posts-and-pages",disabled:!0}];return l.a.isEnabled("devdocs")&&n.push({name:this.props.translate("Developer"),shortcuts:t.developer,className:"keyboard-shortcuts__developer"}),n.map(function(t){var n=_()("keyboard-shortcuts__category",t.className,{"keyboard-shortcuts__category-disabled":t.disabled});return i.a.createElement("li",{className:n,key:t.name},i.a.createElement("h3",null,t.name),i.a.createElement("ul",{className:"keyboard-shortcuts__list"},e.getShortcutList(t.shortcuts)))})}},{key:"getShortcutList",value:function(e){var t=this;return e.map(function(e){if(!e.description)return null;var n=e.description.keys.map(function(t,n){return i.a.createElement("div",{className:"keyboard-shortcuts__key",key:e.eventName+n},t)}),r=e.description.text(t.props.translate);return i.a.createElement("li",{key:e.eventName},i.a.createElement("div",{className:"keyboard-shortcuts__keys"},n),i.a.createElement("div",{className:"keyboard-shortcuts__description"},r))})}},{key:"render",value:function(){return this.state.showDialog?i.a.createElement(qe.a,{isVisible:!0,additionalClassNames:"keyboard-shortcuts",onClose:this.closeDialog},i.a.createElement("h1",{className:"keyboard-shortcuts__title"},this.props.translate("Keyboard Shortcuts")),i.a.createElement("ul",{className:"keyboard-shortcuts__categories"},this.getShortcutsByCategory())):null}}]),t}(i.a.Component),Tn=Object(C.localize)(In),Cn=n("./client/lib/user/support-user-interop.js"),Rn=n("./client/state/current-user/selectors.js"),An=function(e){function t(){var e,n;g()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=j()(this,(e=S()(t)).call.apply(e,[this].concat(i))),n.onKeyboardShortcut=function(){n.props.isSupportUser&&Object(Cn.rebootNormally)()},n}return T()(t,e),O()(t,[{key:"componentDidMount",value:function(){vn.a.on("exit-support-user",this.onKeyboardShortcut)}},{key:"componentWillUnmount",value:function(){vn.a.off("exit-support-user",this.onKeyboardShortcut)}},{key:"render",value:function(){return null}}]),t}(r.Component),Nn=Object(a.b)(function(e){return{isEnabledForUser:Object(Rn.a)(e,"calypso_support_user"),isSupportUser:e.support.isSupportUser}})(An),wn=n("./client/components/community-translator/utils.js"),Pn=n("./client/lib/e2e/index.js"),Un=function(e){n.e(68).then(function(t){e(n("./client/components/community-translator/index.jsx").__esModule?n("./client/components/community-translator/index.jsx").default:n("./client/components/community-translator/index.jsx"))}.bind(null,n)).catch(n.oe)},Dn=function(e){Promise.all([n.e(102),n.e(103)]).then(function(t){e(n("./client/components/happychat/index.jsx").__esModule?n("./client/components/happychat/index.jsx").default:n("./client/components/happychat/index.jsx"))}.bind(null,n)).catch(n.oe)},kn=m()({displayName:"Layout",mixins:[Object(je.a)("user")],propTypes:{primary:N.a.element,secondary:N.a.element,user:N.a.object,focus:N.a.object,masterbarIsHidden:N.a.bool,isLoading:N.a.bool,isSupportUser:N.a.bool,section:N.a.oneOfType([N.a.bool,N.a.object]),isOffline:N.a.bool,colorSchemePreference:N.a.string},newestSite:function(){return Object(d.sortBy)(this.props.sites,Object(d.property)("ID")).pop()},renderMasterbar:function(){return this.props.user?i.a.createElement(Oe,{user:this.props.user,section:this.props.section.group,sites:this.props.sites}):i.a.createElement(ye.a,{sectionName:this.props.section.name})},renderPreview:function(){if(l.a.isEnabled("preview-layout")&&"sites"===this.props.section.group)return i.a.createElement(St,null)},render:function(){var e=_()("layout","color-scheme","is-"+this.props.colorSchemePreference,"is-group-"+this.props.section.group,"is-section-"+this.props.section.name,"focus-"+this.props.currentLayoutFocus,{"is-support-user":this.props.isSupportUser},{"has-no-sidebar":!this.props.hasSidebar},{"has-chat":this.props.chatIsOpen},{"has-no-masterbar":this.props.masterbarIsHidden}),t=_()({layout__loader:!0,"is-active":this.props.isLoading});return i.a.createElement("div",{className:e},i.a.createElement(xt.a,null),i.a.createElement(nt.a,{primaryAndRecent:!0}),i.a.createElement(nt.a,{allSites:!0}),i.a.createElement(Qe.a,null),i.a.createElement(Xe,null),l.a.isEnabled("nps-survey/notice")&&!Object(Pn.a)()&&i.a.createElement(Wt,null),l.a.isEnabled("keyboard-shortcuts")?i.a.createElement(Tn,null):null,this.renderMasterbar(),l.a.isEnabled("support-user")&&i.a.createElement(Nn,null),i.a.createElement("div",{className:t},i.a.createElement(et.a,{active:this.props.isLoading})),this.props.isOffline&&i.a.createElement(tt,null),i.a.createElement("div",{id:"content",className:"layout__content"},l.a.isEnabled("jitms")&&i.a.createElement(jn,null),i.a.createElement(ve.a,{id:"notices",notices:Se.a.list,forcePinned:"post"===this.props.section.name}),i.a.createElement("div",{id:"secondary",className:"layout__secondary",role:"navigation"},this.props.secondary),i.a.createElement("div",{id:"primary",className:"layout__primary"},this.props.primary)),l.a.isEnabled("i18n/community-translator")?Object(wn.d)()&&i.a.createElement(E.a,{require:Un}):i.a.createElement(We,null),this.renderPreview(),l.a.isEnabled("happychat")&&this.props.chatIsOpen&&i.a.createElement(E.a,{require:Dn}),!1,i.a.createElement(bt,null),i.a.createElement(Mt,null),i.a.createElement(un,null),l.a.isEnabled("gdpr-banner")&&i.a.createElement(En,null))}}),Ln=Object(a.b)(function(e){var t=e.ui,n=t.isLoading,r=t.section;return{masterbarIsHidden:!Object(x.j)(e),isLoading:n,isSupportUser:e.support.isSupportUser,section:r,hasSidebar:Object(x.g)(e),isOffline:function(e){return"OFFLINE"===e.application.connectionState}(e),currentLayoutFocus:Object(Ot.a)(e),chatIsOpen:Object(ut.a)(e),colorSchemePreference:Object(zt.b)(e,"colorScheme")}})(kn),Mn=n("./client/layout/logged-out.jsx"),xn=n("./client/lib/i18n-utils/switch-locale.js"),Fn=n("./client/state/ui/language/actions.js");function Vn(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.noop;t.store.dispatch(Object(Q.f)(e)),Gn(t,n)}}function Gn(e,t){var n=Object(x.a)(e.store.getState());if(n.css&&"undefined"!=typeof document){var r=Object(V.a)(e.store.getState())?n.css.urls.rtl:n.css.urls.ltr;Object(xn.b)("section-css-"+n.css.id,r,t)}else t()}function qn(e,t){var n=Object(Rn.b)(e.store.getState());e.params.lang?e.lang=e.params.lang:n&&(e.lang=n.localeSlug),e.store.dispatch(Object(Fn.a)(e.lang||Object(l.a)("i18n_default_locale_slug"))),Gn(e,t)}n.d(t,"a",function(){return Bn}),n.d(t,"c",function(){return Qn}),n.d(t,"b",function(){return zn}),n.d(t,"d",function(){return Yn}),n.d(t,"e",function(){return Kn}),n.d(t,"f",function(){return Jn}),n.d(t,"g",function(){return Vn}),n.d(t,"h",function(){return qn});var Hn,Wn=Object(Pe.default)(),Bn=function(e){var t=e.store,n=e.primary,r=e.secondary,s=e.redirectUri;return i.a.createElement(a.a,{store:t},Object(Rn.b)(t.getState())?i.a.createElement(Ln,{primary:n,secondary:r,user:Wn}):i.a.createElement(Mn.a,{primary:n,secondary:r,redirectUri:s}))},Qn=(Hn=Bn,function(e,t){var n=e.store,r=e.primary,s=e.secondary;e.isServerSide&&Object(Rn.b)(e.store.getState())||(e.layout=i.a.createElement(Hn,{store:n,primary:r,secondary:s,redirectUri:e.originalUrl})),t()});function zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];u.a.apply(void 0,[e].concat(n,[Jn]))}function Yn(e,t){var n=Object(Rn.b)(e.store.getState());n?u.a.redirect("/"):t()}function Kn(e,t){var n=Object(Rn.b)(e.store.getState());if(!n)return u.a.redirect(Object(k.a)({isNative:l.a.isEnabled("login/native-login-links"),redirectTo:e.path}));t()}function Jn(e){o.a.render(e.layout,document.getElementById("wpcom"))}},"./client/dispatcher/index.js":function(e,t,n){"use strict";var r=n("./node_modules/flux/index.js"),i=n("./node_modules/debug/src/browser.js"),s=n.n(i),o=s()("calypso:dispatcher"),a=Object.assign(new r.Dispatcher,{handleViewAction:function(e){o("Dispatching view action %s: %o",e.type,e),this.dispatch({source:"VIEW_ACTION",action:e})},handleServerAction:function(e){o("Dispatching server action %s: %o",e.type,e),this.dispatch({source:"SERVER_ACTION",action:e})}});t.a=a},"./client/extensions/hello-dolly/state/action-types.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="HELLO_DOLLY_NEXT_LYRIC"},"./client/extensions/hello-dolly/state/lyrics.js":function(e,t,n){"use strict";t.a=["Hello, Dolly","Well, hello, Dolly","It's so nice to have you back where you belong","You're lookin' swell, Dolly","I can tell, Dolly","You're still glowin', you're still crowin'","You're still goin' strong","We feel the room swayin'","While the band's playin'","One of your old favourite songs from way back when","So, take her wrap, fellas","Find her an empty lap, fellas","Dolly'll never go away again","Hello, Dolly","Well, hello, Dolly","It's so nice to have you back where you belong","You're lookin' swell, Dolly","I can tell, Dolly","You're still glowin', you're still crowin'","You're still goin' strong","We feel the room swayin'","While the band's playin'","One of your old favourite songs from way back when","Golly, gee, fellas","Find her a vacant knee, fellas","Dolly'll never go away","Dolly'll never go away","Dolly'll never go away again"]},"./client/extensions/hello-dolly/state/reducer.js":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s});var r=n("./client/extensions/hello-dolly/state/lyrics.js"),i=n("./client/extensions/hello-dolly/state/action-types.js");function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ROUTE_SET":case"SECTION_SET":case"SITE_SETTINGS_SAVE":case i.a:return e=t,(e+1)%r.a.length;default:return t}}},"./client/extensions/woocommerce/lib/currency/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n("./client/lib/format-currency/index.js");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=Object(r.b)(t),i=n.precision;return"number"!=typeof e&&(e=parseFloat(e)),isNaN(e)?0:Math.round(e*Math.pow(10,i))/Math.pow(10,i)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=Object(r.b)(t),i=n.precision;return"number"!=typeof e&&(e=parseFloat(e)),isNaN(e)?"":e.toFixed(i)}},"./client/extensions/woocommerce/lib/formatted-variation-name/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/lodash/lodash.js");function i(e){var t=e.attributes,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(r.map)(t,"option").join(" - ")||n}},"./client/extensions/woocommerce/lib/order-status/index.js":function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"k",function(){return u}),n.d(t,"j",function(){return l}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"i",function(){return _}),n.d(t,"f",function(){return E}),n.d(t,"h",function(){return b}),n.d(t,"g",function(){return g});var r=n("./node_modules/i18n-calypso/index.js"),i=n("./node_modules/lodash/lodash.js"),s="unpaid",o="unfulfilled",a="finished",c=["on-hold","pending"],u=["on-hold","pending"],l=["processing"],d=["cancelled","completed","failed","refunded"],p=["cancelled","failed"];function m(){return[{value:"pending",name:Object(r.translate)("Pending payment")},{value:"processing",name:Object(r.translate)("Processing")},{value:"on-hold",name:Object(r.translate)("On hold")},{value:"completed",name:Object(r.translate)("Completed")},{value:"cancelled",name:Object(r.translate)("Cancelled")},{value:"refunded",name:Object(r.translate)("Refunded")},{value:"failed",name:Object(r.translate)("Payment failed")}]}function f(e){return s===e?u.join(","):o===e?l.join(","):a===e?d.join(","):e}function _(e){return-1!==u.indexOf(e)}function E(e){var t=e.id,n=e.status;return Object(i.isObject)(t)||-1!==c.indexOf(n)}function b(e){return-1!==d.indexOf(e)}function g(e){return-1!==p.indexOf(e)}},"./client/extensions/woocommerce/state/action-types.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"i",function(){return c}),n.d(t,"k",function(){return u}),n.d(t,"j",function(){return l}),n.d(t,"n",function(){return d}),n.d(t,"o",function(){return p}),n.d(t,"p",function(){return m}),n.d(t,"q",function(){return f}),n.d(t,"r",function(){return _}),n.d(t,"l",function(){return E}),n.d(t,"m",function(){return b}),n.d(t,"s",function(){return g}),n.d(t,"t",function(){return h}),n.d(t,"u",function(){return O}),n.d(t,"v",function(){return y}),n.d(t,"w",function(){return j}),n.d(t,"x",function(){return v}),n.d(t,"z",function(){return S}),n.d(t,"y",function(){return I}),n.d(t,"J",function(){return T}),n.d(t,"I",function(){return C}),n.d(t,"K",function(){return R}),n.d(t,"L",function(){return A}),n.d(t,"ob",function(){return N}),n.d(t,"pb",function(){return w}),n.d(t,"qb",function(){return P}),n.d(t,"rb",function(){return U}),n.d(t,"sb",function(){return D}),n.d(t,"tb",function(){return k}),n.d(t,"xb",function(){return L}),n.d(t,"yb",function(){return M}),n.d(t,"zb",function(){return x}),n.d(t,"ub",function(){return F}),n.d(t,"vb",function(){return V}),n.d(t,"wb",function(){return G}),n.d(t,"Db",function(){return q}),n.d(t,"Fb",function(){return H}),n.d(t,"Eb",function(){return W}),n.d(t,"Ab",function(){return B}),n.d(t,"Cb",function(){return Q}),n.d(t,"Bb",function(){return z}),n.d(t,"Gb",function(){return Y}),n.d(t,"Hb",function(){return K}),n.d(t,"Ib",function(){return J}),n.d(t,"Jb",function(){return Z}),n.d(t,"Kb",function(){return $}),n.d(t,"Lb",function(){return X}),n.d(t,"lb",function(){return ee}),n.d(t,"mb",function(){return te}),n.d(t,"nb",function(){return ne}),n.d(t,"Mb",function(){return re}),n.d(t,"Pb",function(){return ie}),n.d(t,"Qb",function(){return se}),n.d(t,"Rb",function(){return oe}),n.d(t,"Sb",function(){return ae}),n.d(t,"Tb",function(){return ce}),n.d(t,"Ub",function(){return ue}),n.d(t,"Vb",function(){return le}),n.d(t,"Nb",function(){return de}),n.d(t,"Ob",function(){return pe}),n.d(t,"Wb",function(){return me}),n.d(t,"Xb",function(){return fe}),n.d(t,"Yb",function(){return _e}),n.d(t,"Zb",function(){return Ee}),n.d(t,"ac",function(){return be}),n.d(t,"bc",function(){return ge}),n.d(t,"dc",function(){return he}),n.d(t,"cc",function(){return Oe}),n.d(t,"ec",function(){return ye}),n.d(t,"fc",function(){return je}),n.d(t,"gc",function(){return ve}),n.d(t,"jc",function(){return Se}),n.d(t,"hc",function(){return Ie}),n.d(t,"ic",function(){return Te}),n.d(t,"kc",function(){return Ce}),n.d(t,"lc",function(){return Re}),n.d(t,"mc",function(){return Ae}),n.d(t,"nc",function(){return Ne}),n.d(t,"oc",function(){return we}),n.d(t,"pc",function(){return Pe}),n.d(t,"qc",function(){return Ue}),n.d(t,"rc",function(){return De}),n.d(t,"sc",function(){return ke}),n.d(t,"uc",function(){return Le}),n.d(t,"vc",function(){return Me}),n.d(t,"wc",function(){return xe}),n.d(t,"xc",function(){return Fe}),n.d(t,"yc",function(){return Ve}),n.d(t,"zc",function(){return Ge}),n.d(t,"tc",function(){return qe}),n.d(t,"Dc",function(){return He}),n.d(t,"Ec",function(){return We}),n.d(t,"Fc",function(){return Be}),n.d(t,"Gc",function(){return Qe}),n.d(t,"Hc",function(){return ze}),n.d(t,"Ac",function(){return Ye}),n.d(t,"Cc",function(){return Ke}),n.d(t,"Bc",function(){return Je}),n.d(t,"f",function(){return Ze}),n.d(t,"h",function(){return $e}),n.d(t,"g",function(){return Xe}),n.d(t,"Ic",function(){return et}),n.d(t,"Jc",function(){return tt}),n.d(t,"Kc",function(){return nt}),n.d(t,"Tc",function(){return rt}),n.d(t,"Lc",function(){return it}),n.d(t,"Mc",function(){return st}),n.d(t,"Oc",function(){return ot}),n.d(t,"Nc",function(){return at}),n.d(t,"Qc",function(){return ct}),n.d(t,"Pc",function(){return ut}),n.d(t,"Sc",function(){return lt}),n.d(t,"Rc",function(){return dt}),n.d(t,"Uc",function(){return pt}),n.d(t,"Vc",function(){return mt}),n.d(t,"Wc",function(){return ft}),n.d(t,"cb",function(){return _t}),n.d(t,"eb",function(){return Et}),n.d(t,"db",function(){return bt}),n.d(t,"M",function(){return gt}),n.d(t,"O",function(){return ht}),n.d(t,"N",function(){return Ot}),n.d(t,"S",function(){return yt}),n.d(t,"U",function(){return jt}),n.d(t,"T",function(){return vt}),n.d(t,"ib",function(){return St}),n.d(t,"kb",function(){return It}),n.d(t,"jb",function(){return Tt}),n.d(t,"Y",function(){return Ct}),n.d(t,"ab",function(){return Rt}),n.d(t,"Z",function(){return At}),n.d(t,"fb",function(){return Nt}),n.d(t,"hb",function(){return wt}),n.d(t,"gb",function(){return Pt}),n.d(t,"P",function(){return Ut}),n.d(t,"R",function(){return Dt}),n.d(t,"Q",function(){return kt}),n.d(t,"bb",function(){return Lt}),n.d(t,"V",function(){return Mt}),n.d(t,"X",function(){return xt}),n.d(t,"W",function(){return Ft}),n.d(t,"A",function(){return Vt}),n.d(t,"C",function(){return Gt}),n.d(t,"D",function(){return qt}),n.d(t,"E",function(){return Ht}),n.d(t,"F",function(){return Wt}),n.d(t,"H",function(){return Bt}),n.d(t,"G",function(){return Qt}),n.d(t,"B",function(){return zt}),n.d(t,"Yc",function(){return Yt}),n.d(t,"Xc",function(){return Kt}),n.d(t,"Zc",function(){return Jt}),n.d(t,"ad",function(){return Zt}),n.d(t,"bd",function(){return $t}),n.d(t,"cd",function(){return Xt}),n.d(t,"dd",function(){return en}),n.d(t,"ed",function(){return tn}),n.d(t,"fd",function(){return nn}),n.d(t,"gd",function(){return rn}),n.d(t,"hd",function(){return sn}),n.d(t,"id",function(){return on}),n.d(t,"ld",function(){return an}),n.d(t,"md",function(){return cn}),n.d(t,"jd",function(){return un}),n.d(t,"kd",function(){return ln}),n.d(t,"pd",function(){return dn}),n.d(t,"qd",function(){return pn}),n.d(t,"nd",function(){return mn}),n.d(t,"od",function(){return fn}),n.d(t,"rd",function(){return _n}),n.d(t,"sd",function(){return En}),n.d(t,"td",function(){return bn}),n.d(t,"ud",function(){return gn}),n.d(t,"xd",function(){return hn}),n.d(t,"yd",function(){return On}),n.d(t,"vd",function(){return yn}),n.d(t,"wd",function(){return jn}),n.d(t,"zd",function(){return vn}),n.d(t,"Ad",function(){return Sn}),n.d(t,"Bd",function(){return In}),n.d(t,"Gd",function(){return Tn}),n.d(t,"Ed",function(){return Cn}),n.d(t,"Fd",function(){return Rn}),n.d(t,"Hd",function(){return An}),n.d(t,"Jd",function(){return Nn}),n.d(t,"Id",function(){return wn}),n.d(t,"Kd",function(){return Pn}),n.d(t,"Ld",function(){return Un}),n.d(t,"Md",function(){return Dn}),n.d(t,"Nd",function(){return kn}),n.d(t,"Od",function(){return Ln}),n.d(t,"Pd",function(){return Mn}),n.d(t,"Qd",function(){return xn}),n.d(t,"Rd",function(){return Fn}),n.d(t,"Sd",function(){return Vn}),n.d(t,"Td",function(){return Gn}),n.d(t,"Ud",function(){return qn}),n.d(t,"Vd",function(){return Hn}),n.d(t,"Wd",function(){return Wn}),n.d(t,"Xd",function(){return Bn}),n.d(t,"Yd",function(){return Qn}),n.d(t,"Zd",function(){return zn}),n.d(t,"ae",function(){return Yn}),n.d(t,"be",function(){return Kn}),n.d(t,"ce",function(){return Jn}),n.d(t,"de",function(){return Zn}),n.d(t,"ee",function(){return $n}),n.d(t,"fe",function(){return Xn}),n.d(t,"he",function(){return er}),n.d(t,"ge",function(){return tr}),n.d(t,"ie",function(){return nr}),n.d(t,"je",function(){return rr}),n.d(t,"ke",function(){return ir}),n.d(t,"le",function(){return sr}),n.d(t,"me",function(){return or}),n.d(t,"ne",function(){return ar}),n.d(t,"oe",function(){return cr}),n.d(t,"pe",function(){return ur}),n.d(t,"qe",function(){return lr}),n.d(t,"re",function(){return dr}),n.d(t,"se",function(){return pr}),n.d(t,"te",function(){return mr}),n.d(t,"ue",function(){return fr}),n.d(t,"ve",function(){return _r}),n.d(t,"we",function(){return Er}),n.d(t,"xe",function(){return br}),n.d(t,"ye",function(){return gr}),n.d(t,"ze",function(){return hr}),n.d(t,"Cd",function(){return Or}),n.d(t,"Dd",function(){return yr}),n.d(t,"Ae",function(){return jr}),n.d(t,"Be",function(){return vr}),n.d(t,"Ce",function(){return Sr}),n.d(t,"De",function(){return Ir}),n.d(t,"Ee",function(){return Tr}),n.d(t,"Fe",function(){return Cr}),n.d(t,"Ge",function(){return Rr}),n.d(t,"He",function(){return Ar}),n.d(t,"Ie",function(){return Nr}),n.d(t,"Je",function(){return wr}),n.d(t,"Ke",function(){return Pr}),n.d(t,"Le",function(){return Ur}),n.d(t,"Me",function(){return Dr}),n.d(t,"Ne",function(){return kr});var r="WOOCOMMERCE_ACTION_LIST_ANNOTATE",i="WOOCOMMERCE_ACTION_LIST_CLEAR",s="WOOCOMMERCE_ACTION_LIST_STEP_NEXT",o="WOOCOMMERCE_ACTION_LIST_STEP_SUCCESS",a="WOOCOMMERCE_ACTION_LIST_STEP_FAILURE",c="WOOCOMMERCE_COUNT_REQUEST",u="WOOCOMMERCE_COUNT_REQUEST_SUCCESS",l="WOOCOMMERCE_COUNT_REQUEST_FAILURE",d="WOOCOMMERCE_COUPON_CREATE",p="WOOCOMMERCE_COUPON_DELETE",m="WOOCOMMERCE_COUPON_DELETED",f="WOOCOMMERCE_COUPON_UPDATE",_="WOOCOMMERCE_COUPON_UPDATED",E="WOOCOMMERCE_COUPONS_REQUEST",b="WOOCOMMERCE_COUPONS_UPDATED",g="WOOCOMMERCE_CURRENCIES_REQUEST",h="WOOCOMMERCE_CURRENCIES_REQUEST_SUCCESS",O="WOOCOMMERCE_CURRENCY_CHANGE",y="WOOCOMMERCE_CURRENCY_UPDATE",j="WOOCOMMERCE_CURRENCY_UPDATE_SUCCESS",v="WOOCOMMERCE_CUSTOMERS_REQUEST",S="WOOCOMMERCE_CUSTOMERS_REQUEST_SUCCESS",I="WOOCOMMERCE_CUSTOMERS_REQUEST_FAILURE",T="WOOCOMMERCE_ERROR_SET",C="WOOCOMMERCE_ERROR_CLEAR",R="WOOCOMMERCE_LOCATIONS_REQUEST",A="WOOCOMMERCE_LOCATIONS_REQUEST_SUCCESS",N="WOOCOMMERCE_ORDER_DELETE",w="WOOCOMMERCE_ORDER_DELETE_FAILURE",P="WOOCOMMERCE_ORDER_DELETE_SUCCESS",U="WOOCOMMERCE_ORDER_INVOICE_SEND",D="WOOCOMMERCE_ORDER_INVOICE_SEND_FAILURE",k="WOOCOMMERCE_ORDER_INVOICE_SEND_SUCCESS",L="WOOCOMMERCE_ORDER_NOTE_CREATE",M="WOOCOMMERCE_ORDER_NOTE_CREATE_FAILURE",x="WOOCOMMERCE_ORDER_NOTE_CREATE_SUCCESS",F="WOOCOMMERCE_ORDER_NOTES_REQUEST",V="WOOCOMMERCE_ORDER_NOTES_REQUEST_FAILURE",G="WOOCOMMERCE_ORDER_NOTES_REQUEST_SUCCESS",q="WOOCOMMERCE_ORDER_REFUND_CREATE",H="WOOCOMMERCE_ORDER_REFUND_CREATE_SUCCESS",W="WOOCOMMERCE_ORDER_REFUND_CREATE_FAILURE",B="WOOCOMMERCE_ORDER_REFUNDS_REQUEST",Q="WOOCOMMERCE_ORDER_REFUNDS_REQUEST_SUCCESS",z="WOOCOMMERCE_ORDER_REFUNDS_REQUEST_FAILURE",Y="WOOCOMMERCE_ORDER_REQUEST",K="WOOCOMMERCE_ORDER_REQUEST_FAILURE",J="WOOCOMMERCE_ORDER_REQUEST_SUCCESS",Z="WOOCOMMERCE_ORDER_UPDATE",$="WOOCOMMERCE_ORDER_UPDATE_FAILURE",X="WOOCOMMERCE_ORDER_UPDATE_SUCCESS",ee="WOOCOMMERCE_ORDERS_REQUEST",te="WOOCOMMERCE_ORDERS_REQUEST_FAILURE",ne="WOOCOMMERCE_ORDERS_REQUEST_SUCCESS",re="WOOCOMMERCE_PAYMENT_ACTION_LIST_CREATE",ie="WOOCOMMERCE_PAYMENT_METHOD_CANCEL",se="WOOCOMMERCE_PAYMENT_METHOD_CLOSE",oe="WOOCOMMERCE_PAYMENT_METHOD_EDIT_ENABLED",ae="WOOCOMMERCE_PAYMENT_METHOD_EDIT_FIELD",ce="WOOCOMMERCE_PAYMENT_METHOD_OPEN",ue="WOOCOMMERCE_PAYMENT_METHOD_UPDATE",le="WOOCOMMERCE_PAYMENT_METHOD_UPDATE_SUCCESS",de="WOOCOMMERCE_PAYMENT_METHODS_REQUEST",pe="WOOCOMMERCE_PAYMENT_METHODS_REQUEST_SUCCESS",me="WOOCOMMERCE_PRODUCTS_REQUEST",fe="WOOCOMMERCE_PRODUCTS_REQUEST_FAILURE",_e="WOOCOMMERCE_PRODUCTS_REQUEST_SUCCESS",Ee="WOOCOMMERCE_PRODUCT_ACTION_LIST_CREATE",be="WOOCOMMERCE_PRODUCT_ATTRIBUTE_EDIT",ge="WOOCOMMERCE_PRODUCT_CATEGORIES_REQUEST",he="WOOCOMMERCE_PRODUCT_CATEGORIES_REQUEST_SUCCESS",Oe="WOOCOMMERCE_PRODUCT_CATEGORIES_REQUEST_FAILURE",ye="WOOCOMMERCE_PRODUCT_CATEGORY_CREATE",je="WOOCOMMERCE_PRODUCT_CATEGORY_DELETE",ve="WOOCOMMERCE_PRODUCT_CATEGORY_DELETED",Se="WOOCOMMERCE_PRODUCT_CATEGORY_UPDATE",Ie="WOOCOMMERCE_PRODUCT_CATEGORY_EDIT",Te="WOOCOMMERCE_PRODUCT_CATEGORY_EDIT_CLEAR",Ce="WOOCOMMERCE_PRODUCT_CATEGORY_UPDATED",Re="WOOCOMMERCE_PRODUCT_CREATE",Ae="WOOCOMMERCE_PRODUCT_DELETE",Ne="WOOCOMMERCE_PRODUCT_DELETE_SUCCESS",we="WOOCOMMERCE_PRODUCT_EDIT",Pe="WOOCOMMERCE_PRODUCT_EDIT_CLEAR",Ue="WOOCOMMERCE_PRODUCT_REQUEST",De="WOOCOMMERCE_PRODUCT_UPDATE",ke="WOOCOMMERCE_PRODUCT_UPDATED",Le="WOOCOMMERCE_PRODUCT_VARIATION_CREATE",Me="WOOCOMMERCE_PRODUCT_VARIATION_DELETE",xe="WOOCOMMERCE_PRODUCT_VARIATION_EDIT",Fe="WOOCOMMERCE_PRODUCT_VARIATION_EDIT_CLEAR",Ve="WOOCOMMERCE_PRODUCT_VARIATION_UPDATE",Ge="WOOCOMMERCE_PRODUCT_VARIATION_UPDATED",qe="WOOCOMMERCE_PRODUCT_VARIATIONS_REQUEST",He="WOOCOMMERCE_PROMOTION_CREATE",We="WOOCOMMERCE_PROMOTION_DELETE",Be="WOOCOMMERCE_PROMOTION_EDIT",Qe="WOOCOMMERCE_PROMOTION_EDIT_CLEAR",ze="WOOCOMMERCE_PROMOTION_UPDATE",Ye="WOOCOMMERCE_PROMOTIONS_PAGE_SET",Ke="WOOCOMMERCE_PROMOTIONS_SEARCH",Je="WOOCOMMERCE_PROMOTIONS_REQUEST",Ze="WOOCOMMERCE_API_REQUEST",$e="WOOCOMMERCE_API_REQUEST_SUCCESS",Xe="WOOCOMMERCE_API_REQUEST_FAILURE",et="WOOCOMMERCE_REVIEWS_RECEIVE",tt="WOOCOMMERCE_REVIEWS_REQUEST",nt="WOOCOMMERCE_REVIEW_DELETE",rt="WOOCOMMERCE_REVIEW_STATUS_CHANGE",it="WOOCOMMERCE_REVIEW_REPLIES_REQUEST",st="WOOCOMMERCE_REVIEW_REPLIES_UPDATED",ot="WOOCOMMERCE_REVIEW_REPLY_CREATE_REQUEST",at="WOOCOMMERCE_REVIEW_REPLY_CREATED",ct="WOOCOMMERCE_REVIEW_REPLY_DELETE_REQUEST",ut="WOOCOMMERCE_REVIEW_REPLY_DELETED",lt="WOOCOMMERCE_REVIEW_REPLY_UPDATE_REQUEST",dt="WOOCOMMERCE_REVIEW_REPLY_UPDATED",pt="WOOCOMMERCE_SERVICES_SHIPPING_ACTION_LIST_CREATE",mt="WOOCOMMERCE_SETTINGS_BATCH_REQUEST",ft="WOOCOMMERCE_SETTINGS_BATCH_REQUEST_SUCCESS",_t="WOOCOMMERCE_MAILCHIMP_SETTINGS_REQUEST",Et="WOOCOMMERCE_MAILCHIMP_SETTINGS_REQUEST_SUCCESS",bt="WOOCOMMERCE_MAILCHIMP_SETTINGS_REQUEST_FAILURE",gt="WOOCOMMERCE_MAILCHIMP_API_KEY_SUBMIT",ht="WOOCOMMERCE_MAILCHIMP_API_KEY_SUBMIT_SUCCESS",Ot="WOOCOMMERCE_MAILCHIMP_API_KEY_SUBMIT_FAILURE",yt="WOOCOMMERCE_MAILCHIMP_LISTS_REQUEST",jt="WOOCOMMERCE_MAILCHIMP_LISTS_REQUEST_SUCCESS",vt="WOOCOMMERCE_MAILCHIMP_LISTS_REQUEST_FAILURE",St="WOOCOMMERCE_MAILCHIMP_SYNC_STATUS_REQUEST",It="WOOCOMMERCE_MAILCHIMP_SYNC_STATUS_REQUEST_SUCCESS",Tt="WOOCOMMERCE_MAILCHIMP_SYNC_STATUS_REQUEST_FAILURE",Ct="WOOCOMMERCE_MAILCHIMP_RESYNC_REQUEST",Rt="WOOCOMMERCE_MAILCHIMP_RESYNC_REQUEST_SUCCESS",At="WOOCOMMERCE_MAILCHIMP_RESYNC_REQUEST_FAILURE",Nt="WOOCOMMERCE_MAILCHIMP_STORE_INFO_SUBMIT",wt="WOOCOMMERCE_MAILCHIMP_STORE_INFO_SUBMIT_SUCCESS",Pt="WOOCOMMERCE_MAILCHIMP_STORE_INFO_SUBMIT_FAILURE",Ut="WOOCOMMERCE_MAILCHIMP_CAMPAIGN_DEFAULTS_SUBMIT",Dt="WOOCOMMERCE_MAILCHIMP_CAMPAIGN_DEFAULTS_SUBMIT_SUCCESS",kt="WOOCOMMERCE_MAILCHIMP_CAMPAIGN_DEFAULTS_SUBMIT_FAILURE",Lt="WOOCOMMERCE_MAILCHIMP_SAVE_SETTINGS",Mt="WOOCOMMERCE_MAILCHIMP_NEWSLETTER_SETTINGS_SUBMIT",xt="WOOCOMMERCE_MAILCHIMP_NEWSLETTER_SETTINGS_SUBMIT_SUCCESS",Ft="WOOCOMMERCE_MAILCHIMP_NEWSLETTER_SETTINGS_SUBMIT_FAILURE",Vt="WOOCOMMERCE_EMAIL_SETTINGS_CHANGE",Gt="WOOCOMMERCE_EMAIL_SETTINGS_REQUEST",qt="WOOCOMMERCE_EMAIL_SETTINGS_REQUEST_SUCCESS",Ht="WOOCOMMERCE_EMAIL_SETTINGS_SAVE_SETTINGS",Wt="WOOCOMMERCE_EMAIL_SETTINGS_SUBMIT",Bt="WOOCOMMERCE_EMAIL_SETTINGS_SUBMIT_SUCCESS",Qt="WOOCOMMERCE_EMAIL_SETTINGS_SUBMIT_FAILURE",zt="WOOCOMMERCE_EMAIL_SETTINGS_INVALID_VALUE",Yt="WOOCOMMERCE_SETTINGS_GENERAL_REQUEST",Kt="WOOCOMMERCE_SETTINGS_GENERAL_RECEIVE",Jt="WOOCOMMERCE_SETTINGS_PRODUCTS_CHANGE_SETTING",Zt="WOOCOMMERCE_SETTINGS_PRODUCTS_REQUEST",$t="WOOCOMMERCE_SETTINGS_PRODUCTS_REQUEST_SUCCESS",Xt="WOOCOMMERCE_SETTINGS_PRODUCTS_UPDATE_REQUEST",en="WOOCOMMERCE_SETTINGS_PRODUCTS_UPDATE_REQUEST_FAILURE",tn="WOOCOMMERCE_SETTINGS_PRODUCTS_UPDATE_REQUEST_SUCCESS",nn="WOOCOMMERCE_SETTINGS_STRIPE_CONNECT_ACCOUNT_CLEAR_COMPLETED_NOTIFICATION",rn="WOOCOMMERCE_SETTINGS_STRIPE_CONNECT_ACCOUNT_CLEAR_ERROR",sn="WOOCOMMERCE_SETTINGS_STRIPE_CONNECT_ACCOUNT_CREATE",on="WOOCOMMERCE_SETTINGS_STRIPE_CONNECT_ACCOUNT_CREATE_COMPLETE",an="WOOCOMMERCE_SETTINGS_STRIPE_CONNECT_ACCOUNT_DETAILS_REQUEST",cn="WOOCOMMERCE_SETTINGS_STRIPE_CONNECT_ACCOUNT_DETAILS_UPDATE",un="WOOCOMMERCE_SETTINGS_STRIPE_CONNECT_ACCOUNT_DEAUTHORIZE",ln="WOOCOMMERCE_SETTINGS_STRIPE_CONNECT_ACCOUNT_DEAUTHORIZE_COMPLETE",dn="WOOCOMMERCE_SETTINGS_STRIPE_CONNECT_ACCOUNT_DEAUTHORIZE_OAUTH_INIT",pn="WOOCOMMERCE_SETTINGS_STRIPE_CONNECT_ACCOUNT_OAUTH_INIT_COMPLETE",mn="WOOCOMMERCE_SETTINGS_STRIPE_CONNECT_ACCOUNT_OAUTH_CONNECT",fn="WOOCOMMERCE_SETTINGS_STRIPE_CONNECT_ACCOUNT_OAUTH_CONNECT_COMPLETE",_n="WOOCOMMERCE_SETTINGS_TAX_BATCH_REQUEST",En="WOOCOMMERCE_SETTINGS_TAX_BATCH_REQUEST_SUCCESS",bn="WOOCOMMERCE_SETTINGS_TAX_REQUEST",gn="WOOCOMMERCE_SETTINGS_TAX_REQUEST_SUCCESS",hn="WOOCOMMERCE_SETUP_CHOICE_UPDATE_REQUEST",On="WOOCOMMERCE_SETUP_CHOICE_UPDATE_REQUEST_SUCCESS",yn="WOOCOMMERCE_SETUP_CHOICES_REQUEST",jn="WOOCOMMERCE_SETUP_CHOICES_REQUEST_SUCCESS",vn="WOOCOMMERCE_SETUP_STORE_PAGES_REQUEST",Sn="WOOCOMMERCE_SHIPPING_METHODS_REQUEST",In="WOOCOMMERCE_SHIPPING_METHODS_REQUEST_SUCCESS",Tn="WOOCOMMERCE_SHIPPING_ZONE_ADD",Cn="WOOCOMMERCE_SHIPPING_ZONE_ACTION_LIST_CREATE_DELETE",Rn="WOOCOMMERCE_SHIPPING_ZONE_ACTION_LIST_CREATE_SAVE",An="WOOCOMMERCE_SHIPPING_ZONE_CANCEL",Nn="WOOCOMMERCE_SHIPPING_ZONE_CREATE",wn="WOOCOMMERCE_SHIPPING_ZONE_CLOSE",Pn="WOOCOMMERCE_SHIPPING_ZONE_DEFAULT_ACTION_LIST_CREATE",Un="WOOCOMMERCE_SHIPPING_ZONE_DELETE",Dn="WOOCOMMERCE_SHIPPING_ZONE_DELETED",kn="WOOCOMMERCE_SHIPPING_ZONE_EDIT_NAME",Ln="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_CANCEL",Mn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_CLOSE",xn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_EDIT",Fn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_EDIT_POSTCODE",Vn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_FILTER_BY_POSTCODE",Gn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_FILTER_BY_STATE",qn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_FILTER_BY_WHOLE_COUNTRY",Hn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_REQUEST",Wn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_REQUEST_SUCCESS",Bn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_SELECT_CONTINENT",Qn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_SELECT_COUNTRY",zn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_SELECT_STATE",Yn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_UPDATE",Kn="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_UPDATED",Jn="WOOCOMMERCE_SHIPPING_ZONE_METHODS_REQUEST",Zn="WOOCOMMERCE_SHIPPING_ZONE_METHODS_REQUEST_SUCCESS",$n="WOOCOMMERCE_SHIPPING_ZONE_METHOD_ADD",Xn="WOOCOMMERCE_SHIPPING_ZONE_METHOD_CANCEL",er="WOOCOMMERCE_SHIPPING_ZONE_METHOD_CLOSE",tr="WOOCOMMERCE_SHIPPING_ZONE_METHOD_CHANGE_TYPE",nr="WOOCOMMERCE_SHIPPING_ZONE_METHOD_CREATE",rr="WOOCOMMERCE_SHIPPING_ZONE_METHOD_DELETE",ir="WOOCOMMERCE_SHIPPING_ZONE_METHOD_DELETED",sr="WOOCOMMERCE_SHIPPING_ZONE_METHOD_EDIT_TITLE",or="WOOCOMMERCE_SHIPPING_ZONE_METHOD_OPEN",ar="WOOCOMMERCE_SHIPPING_ZONE_METHOD_REMOVE",cr="WOOCOMMERCE_SHIPPING_ZONE_METHOD_SET_CONDITION",ur="WOOCOMMERCE_SHIPPING_ZONE_METHOD_SET_COST",lr="WOOCOMMERCE_SHIPPING_ZONE_METHOD_SET_MIN_COST",dr="WOOCOMMERCE_SHIPPING_ZONE_METHOD_SET_TAXABLE",pr="WOOCOMMERCE_SHIPPING_ZONE_METHOD_TOGGLE_ENABLED",mr="WOOCOMMERCE_SHIPPING_ZONE_METHOD_TOGGLE_OPENED_ENABLED",fr="WOOCOMMERCE_SHIPPING_ZONE_METHOD_UPDATE",_r="WOOCOMMERCE_SHIPPING_ZONE_METHOD_UPDATED",Er="WOOCOMMERCE_SHIPPING_ZONE_OPEN",br="WOOCOMMERCE_SHIPPING_ZONE_REMOVE",gr="WOOCOMMERCE_SHIPPING_ZONE_UPDATE",hr="WOOCOMMERCE_SHIPPING_ZONE_UPDATED",Or="WOOCOMMERCE_SHIPPING_ZONES_REQUEST",yr="WOOCOMMERCE_SHIPPING_ZONES_REQUEST_SUCCESS",jr="WOOCOMMERCE_STAT_DISCARDED",vr="WOOCOMMERCE_TAXES_ENABLED_UPDATE",Sr="WOOCOMMERCE_TAXES_ENABLED_UPDATE_SUCCESS",Ir="WOOCOMMERCE_TAXRATES_REQUEST",Tr="WOOCOMMERCE_TAXRATES_REQUEST_SUCCESS",Cr="WOOCOMMERCE_UI_ORDERS_CLEAR_EDIT",Rr="WOOCOMMERCE_UI_ORDERS_EDIT",Ar="WOOCOMMERCE_UI_ORDERS_SET_QUERY",Nr="WOOCOMMERCE_UI_REVIEWS_SET_QUERY",wr="WOOCOMMERCE_UI_REVIEW_REPLIES_CLEAR_EDIT",Pr="WOOCOMMERCE_UI_REVIEW_REPLIES_EDIT",Ur="WOOCOMMERCE_WC_API_SUCCESS",Dr="WOOCOMMERCE_WC_API_UNAVAILABLE",kr="WOOCOMMERCE_WC_API_UNKNOWN_ERROR"},"./client/extensions/woocommerce/state/constants.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r="LOADING",i="ERROR"},"./client/extensions/woocommerce/state/reducer.js":function(e,t,n){"use strict";n.r(t);var r=n("./client/state/utils.js"),i=n("./node_modules/lodash/lodash.js"),s=n("./client/extensions/woocommerce/state/action-types.js");var o=Object(r.b)({changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.Ge:var n=Object(i.omit)(t.order,"id");return Object(i.merge)({},e,n);case s.Fe:case s.Lb:return{};default:return e}},currentlyEditingId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.Ge:return t.order&&t.order.id?t.order.id:{placeholder:Object(i.uniqueId)("order_")};case s.Fe:case s.Lb:return null;default:return e}}});var a,c=Object(r.b)({currentPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.query;switch(n){case s.He:return r&&r.page?r.page:e;default:return e}},currentSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.query;switch(n){case s.He:return r&&void 0!==r.search?r.search:e;default:return e}}}),u=Object(r.e)("siteId",Object(r.b)({edits:o,list:c})),l=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),d=n.n(l);var p,m=Object(r.c)("",(a={},d()(a,s.u,function(e,t){var n=t.currency;return n}),d()(a,s.w,function(){return null}),a)),f=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),_=n.n(f),E=n("./client/extensions/woocommerce/state/ui/helpers.js");function b(e){var t=e.currentlyEditingChanges,n=e.currentlyEditingId;if(null===n)return e;if(Object(i.isEmpty)(t))return _()({},e,{currentlyEditingId:null});var r=Object(E.a)({id:n}),s=!1,o=e[r].map(function(e){return Object(i.isEqual)(n,e.id)?(s=!0,_()({},e,t)):e});return s||o.push(_()({id:n},t)),_()({},e,d()({currentlyEditingId:null},r,o))}var g,h=Object(r.c)({creates:[],updates:[],deletes:[],currentlyEditingId:null},(p={},d()(p,s.Pb,function(e){return b(_()({},e,{currentlyEditingChanges:{}}))}),d()(p,s.Qb,b),d()(p,s.Sb,function(e,t){var n=t.field,r=t.value;return null===e.currentlyEditingId?e:_()({},e,{currentlyEditingChanges:_()({},e.currentlyEditingChanges,d()({},n,{value:r}))})}),d()(p,s.Rb,function(e,t){var n=t.methodId,r=t.enabled,s=Object(E.a)({id:n}),o=!1,a=e[s].map(function(e){return Object(i.isEqual)(n,e.id)?(o=!0,_()({},e,{enabled:r})):e});return o||a.push({id:n,enabled:r}),_()({},e,d()({},s,a))}),d()(p,s.Tb,function(e,t){var n=t.id;return _()({},e,{currentlyEditingId:n,currentlyEditingChanges:{}})}),d()(p,s.Vb,function(e,t){var n=t.data,r=Object(E.a)({id:n.id});if(r){var s=e||{},o=s[r]||[],a=Object(i.compact)(o.map(function(e){return Object(i.isEqual)(n.id,e.id)?void 0:e}));return _()({},s,d()({},r,a.length?a:[]))}return e}),p)),O=Object(r.b)({currency:m,methods:h}),y=Object(r.e)("siteId",O),j=Object(r.c)(null,(g={},d()(g,s.oc,function(e,t){var n,r=t.product,s=t.data,o=e||{},a=Object(E.a)(r),c=r||{id:{placeholder:Object(i.uniqueId)("product_")}},u=v(o[a],c,s);if(Object(i.isEqual)({},s))return _()({},o,{currentlyEditingId:c.id});return _()({},o,(n={},d()(n,a,u),d()(n,"currentlyEditingId",c.id),n))}),d()(g,s.mc,function(e,t){var n=t.productId,r=e||{};if(r&&r.updates){var s=Object(i.filter)(r.updates,function(e){return e.id!==n});return _()({},r,{updates:s})}return e}),d()(g,s.pc,function(){return null}),d()(g,s.sc,function(e,t){var n=t.originatingAction,r=null;if(r=s.lc===n.type?"creates":r,r=s.rc===n.type?"updates":r,r){var o=n.product.id,a=e||{},c=a[r]||[],u=Object(i.compact)(c.map(function(e){return Object(i.isEqual)(o,e.id)?void 0:e}));return _()({},a,d()({},r,u.length?u:void 0))}return e}),d()(g,s.ac,function(e,t){var n,r=t.product,s=t.attribute,o=t.data,a=r&&r.attributes,c=e||{},u=Object(E.a)(r),l=S(a,s,o),p=r||{id:{placeholder:Object(i.uniqueId)("product_")}},m=v(c[u],p,{attributes:l});return _()({},c,(n={},d()(n,u,m),d()(n,"currentlyEditingId",p.id),n))}),d()(g,s.kc,function(e,t){var n=t.data,r=t.originatingAction;if(s.ec===r.type){var o=r.category.id,a=n.id,c=e||{},u=["creates","updates"].map(function(e){var t=c[e]||[],n=t.map(function(e){var t=e.categories||[],n=t.map(function(e){return Object(i.isEqual)(o,e.id)?_()({},e,{id:a}):e});return _()({},e,{categories:n})});return n.length?n:void 0});return _()({},c,{creates:u[0],updates:u[1]})}return e}),g));function v(e,t,n){var r=e||[],s=!1,o=r.map(function(e){return Object(i.isEqual)(t.id,e.id)?(s=!0,_()({},e,n)):e});return s||o.push(_()({id:t.id},n)),o}function S(e,t,n){var r=e||[],s=t&&t.name,o=t&&t.uid||Object(i.uniqueId)("edit_")+(new Date).getTime(),a=!1,c=r.map(function(e){return o&&Object(i.isEqual)(o,e.uid)||s&&Object(i.isEqual)(s,e.name)?(a=!0,_()({},t,n,{uid:o})):e});return a||c.push(_()({},n,{uid:o})),c}var I,T=n("./client/extensions/woocommerce/state/sites/products/utils.js"),C=Object(r.c)(null,(I={},d()(I,s.Wb,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(i.get)(t,"params.page",null),r=Object(i.get)(t,"params.search",null);return _()({},e,{requestedPage:n,requestedSearch:r})}),d()(I,s.Yb,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(i.get)(t,"params.page",T.a.page),r=Object(i.get)(t,"params.search",T.a.search);return _()({},e,{currentPage:n,currentSearch:r,requestedPage:null,requestedSearch:null})}),I));var R,A=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),N=n.n(A),w=n("./client/extensions/woocommerce/lib/formatted-variation-name/index.js");function P(e,t){var n=e.name,r=e.attributes,s=[],o=r&&r.filter(function(e){return e.variation&&e.name&&e.options.length>0})||[];return o.forEach(function(e){s.push(e.options.map(function(t){return{name:e.name,option:t}}))}),function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,s,o,a;var c=[];if(!n||0===n.length)return n;var u=n.splice(0,1)[0];n=e.apply(void 0,N()(n));for(i=0,o=u.length;i<o;i++)if(n&&n.length)for(s=0,a=n.length;s<a;s++)c.push([u[i]].concat(n[s]));else c.push([u[i]]);return c}.apply(void 0,s).map(function(e){var r=function(e,t){return Object(i.find)(e,function(e){return function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],s=Object(i.find)(t,{name:r.name});if(r.option!==s.option)return!1}return!0}(e.attributes,t)?e:void 0})}(t,e),s=r?r.id:void 0,o=r?r.sku:function(e,t){var n=(e&&e+"-"||"")+Object(w.a)({attributes:t});return Object(i.trim)(n.toLowerCase().replace(/\s+/g,"-").replace(/-{2,}/g,"-"))}(n,e),a=r?r.attributes:e;return{id:s,attributes:a,sku:o}})}var U=Object(r.c)(null,(R={},d()(R,s.oc,function(e,t){var n=t.product,r=t.data,i=t.productVariations;if(n&&"simple"===r.type)return D(e,n.id,function(){var e=i?i.map(function(e){return e.id}):void 0;return{deletes:e}});return e}),d()(R,s.sc,function(e,t){var n=t.data,r=t.originatingAction;if(s.lc===r.type){var o=e||[],a=r.product.id,c=n.id,u=o.map(function(e){return Object(i.isEqual)(a,e.productId)?_()({},e,{productId:c}):e});return u}return e}),d()(R,s.wc,function(e,t){var n=t.product,r=t.variation,s=t.data,o=e||[],a=n.id,c=Object(E.a)(r),u=!1,l=o.map(function(e){if(Object(i.isEqual)(a,e.productId)){var t;u=!0;var n=r&&r.id||{placeholder:Object(i.uniqueId)("product_variation_")},o=r||{id:n},l=k(e[c],o,s);return _()({},e,(t={},d()(t,c,l),d()(t,"currentlyEditingId",n),t))}return e});if(!u){var p,m=r&&r.id||{placeholder:Object(i.uniqueId)("product_variation_")},f=r||{id:m},b=k(null,f,s);l.push((p={productId:a},d()(p,c,b),d()(p,"currentlyEditingId",m),p))}return l}),d()(R,s.xc,function(){return null}),d()(R,s.zc,function(e,t){var n=t.originatingAction,r=null;if(r=s.uc===n.type?"creates":r,r=s.yc===n.type?"updates":r,r){var o=n.productId,a=n.variation.id;return function(e,t,n,r){var s=e||[],o=Object(i.compact)(s.map(function(e){return Object(i.isEqual)(n,e.productId)?function(e,t,n){var r=e[t]||[],s=Object(i.compact)(r.map(function(e){if(!Object(i.isEqual)(n,e.id))return e})),o=_()({},e,d()({},t,s.length?s:void 0));if(o.creates||o.updates||o.deletes)return o;return}(e,t,r):e}));return o.length?o:null}(e,r,o,a)}return e}),d()(R,s.ac,function(e,t){var n=t.product,r=t.attribute,s=t.data,o=t.productVariations,a=S(n.attributes,r,s),c=P(_()({},n,{attributes:a}),o);return D(e,n.id,function(e){var t=e?e.creates:[],r=e?e.updates:[],s=function(e,t,n){var r=Object(i.compact)(t.map(function(t){var r=Object(i.find)(e,{attributes:t.attributes});return r||(Object(i.find)(n,{attributes:t.attributes})?void 0:{id:{placeholder:Object(i.uniqueId)("product_variation_")},attributes:t.attributes,sku:t.sku,status:"publish"})}));return r.length?r:void 0}(t,c,o),a=function(e,t,n){var r=Object(i.compact)(t.map(function(t){var r=Object(i.find)(n,{attributes:t.attributes});if(r)return Object(i.find)(e,{id:r.id})}));return r.length?r:void 0}(r,c,o),u=function(e,t){if(t){var n=Object(i.compact)(t.map(function(t){var n=Object(i.find)(e,{attributes:t.attributes});if(!n)return t.id}));return n.length?n:void 0}}(c,o);return _()({},e,{productId:n.id,creates:s,updates:a,deletes:u})})}),R));function D(e,t,n){var r=e||[],s=!1,o=r.map(function(e){return Object(i.isEqual)(t,e.productId)?(s=!0,n(e)):e});return s||o.push(n(void 0)),o}function k(e,t,n){var r=e||[],s=!1,o=r.map(function(e){return Object(i.isEqual)(t.id,e.id)?(s=!0,_()({},e,n)):e});return s||o.push(_()({id:t.id},n)),o}var L,M=Object(r.b)({edits:U}),x=Object(r.e)("siteId",Object(r.b)({list:C,edits:j,variations:M})),F=Object(r.c)(null,(L={},d()(L,s.hc,function(e,t){var n,r=t.category,s=t.data,o=e||{},a=Object(E.a)(r),c=function(e,t,n){var r=e||[],s=!1,o=Object(i.compact)(r.map(function(e){return Object(i.isEqual)(t.id,e.id)?(s=!0,n?_()({},e,n):void 0):e}));s||o.push(_()({id:t.id},n));return o}(o[a],r,s);return _()({},o,(n={},d()(n,a,c),d()(n,"currentlyEditingId",r.id),n))}),d()(L,s.ic,function(){return null}),d()(L,s.kc,function(e,t){var n=t.originatingAction;if(s.ec===n.type){var r=n.category.id,o=e||{},a=o.creates||[],c=Object(i.compact)(a.map(function(e){if(!Object(i.isEqual)(r,e.id))return e}));return _()({},o,{creates:c.length?c:void 0})}if(s.jc===n.type){var u=n.category.id,l=e||{},d=l.updates||[],p=Object(i.compact)(d.map(function(e){if(!Object(i.isEqual)(u,e.id))return e}));return _()({},l,{updates:p.length?p:void 0})}return e}),L));var V,G,q=Object(r.e)("siteId",Object(r.b)({edits:F})),H=Object(r.c)(null,(V={},d()(V,s.Fc,function(e,t){var n,r=t.promotion,s=t.data,o=e||{},a=r||{id:{placeholder:Object(i.uniqueId)("promotion_")}},c=Object(E.a)(r),u=function(e,t,n){var r=e||[],s=!1,o=r.map(function(e){return Object(i.isEqual)(t.id,e.id)?(s=!0,_()({},e,n)):e});s||o.push(_()({id:t.id},n));return o}(o[c],a,s);if(Object(i.isEqual)({},s))return _()({},o,{currentlyEditing:a.id});return _()({},o,(n={},d()(n,c,u),d()(n,"currentlyEditingId",a.id),n))}),d()(V,s.Gc,function(){return null}),V));var W={currentPage:1,perPage:10,searchFilter:""},B=Object(r.c)(W,(G={},d()(G,s.Ac,function(e,t){var n=0<t.currentPage?t.currentPage:W.currentPage,r=0<t.perPage?t.perPage:W.perPage;return _()({},e,{perPage:r,currentPage:n})}),d()(G,s.Cc,function(e,t){var n=t.searchFilter||"";return _()({},e,{searchFilter:n,currentPage:1})}),G));var Q=Object(r.b)({edits:Object(r.e)("siteId",H),list:B});var z=Object(r.b)({currentPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.query;return s.Ie===n&&r&&r.page?r.page:e},currentProduct:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.query;return s.Ie===n&&r&&r.product?r.product:e},currentSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.query;return s.Ie===n&&r&&void 0!==r.search?r.search:e}}),Y=Object(r.e)("siteId",Object(r.b)({list:z}));var K=Object(r.b)({changes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.Ke:var n=Object(i.omit)(t.reply,"id");return Object(i.merge)({},e,n);case s.Je:return{};default:return e}},currentlyEditingId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.Ke:return t.reply&&t.reply.id?t.reply.id:{placeholder:Object(i.uniqueId)("review_reply_")};case s.Je:return null;default:return e}},reviewId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.Ke:return t.reviewId;case s.Je:return null;default:return e}}}),J=Object(r.e)("siteId",Object(r.b)({edits:K})),Z=n("./client/extensions/woocommerce/state/ui/shipping/zones/methods/reducer.js"),$=n("./client/extensions/woocommerce/state/ui/shipping/zones/locations/reducer.js"),X=n("./client/extensions/woocommerce/state/ui/shipping/zones/methods/helpers.js"),ee={};ee[s.Gd]=function(e){var t=Object(E.b)(e.creates);return ee[s.we](e,{id:t})},ee[s.Hd]=function(e){return ee[s.Id](_()({},e,{currentlyEditingChanges:{}}))},ee[s.Id]=function(e){var t=e.currentlyEditingChanges,n=e.currentlyEditingId;if(null===n)return e;if(Object(i.isEmpty)(Object(i.omit)(t,"methods","locations"))&&Object(i.every)(t.methods,i.isEmpty)&&(!t.locations||t.locations.pristine))return _()({},e,{currentlyEditingId:null});var r=Object(E.a)({id:n}),s=!1,o=e[r].map(function(e){return Object(i.isEqual)(n,e.id)?(s=!0,_()({},e,t,{methods:Object(X.a)(e.methods,t.methods)})):e});return s||o.push(_()({id:n},t)),_()({},e,d()({currentlyEditingId:null},r,o))},ee[s.Nd]=function(e,t){var n=t.name;return null===e.currentlyEditingId?e:_()({},e,{currentlyEditingChanges:_()({},e.currentlyEditingChanges,{name:n})})},ee[s.we]=function(e,t){var n=t.id;return _()({},e,{currentlyEditingId:n,currentlyEditingChanges:{methods:Z.c,locations:$.c}})},ee[s.xe]=function(e,t){var n=t.id,r=_()({},e,{currentlyEditingId:null}),s=Object(E.a)({id:n});return"updates"===s&&(r.deletes=N()(e.deletes).concat([{id:n}])),r[s]=Object(i.reject)(e[s],{id:n}),r},ee[s.ze]=function(e,t){var n=t.data,r=t.originatingAction.zone;return r.id!==e.currentlyEditingId?e:_()({},e,{currentlyEditingId:n.id,currentlyEditingChanges:Object(i.pick)(e.currentlyEditingChanges,"locations","methods")})},ee[s.Md]=function(e,t){var n=t.originatingAction.zone;return n.id!==e.currentlyEditingId?e:_()({},e,{currentlyEditingId:null})},ee[s.be]=function(e,t){var n=t.originatingAction.zoneId;return n!==e.currentlyEditingId?e:_()({},e,{currentlyEditingChanges:_()({},e.currentlyEditingChanges,{locations:$.c})})};var te,ne=Object(r.c)({creates:[],updates:[],deletes:[],currentlyEditingId:null},ee),re=Object(r.e)("siteId",Object(r.b)({zones:function(e,t){var n=ne(e,t);if(null!==n.currentlyEditingId){var r=n.currentlyEditingChanges.methods,i=Object(Z.b)(r,t),s=n.currentlyEditingChanges.locations,o=Object($.b)(s,t);return _()({},n,{currentlyEditingChanges:_()({},n.currentlyEditingChanges,{methods:i,locations:o})})}return n}})),ie=Object(r.b)({orders:u,payments:y,products:x,productCategories:q,promotions:Q,reviews:Y,reviewReplies:J,shipping:re}),se=Object(r.c)({},(te={},d()(te,s.p,function(e,t){var n=t.couponId,r=e.coupons,i=r.filter(function(e){return n!==e.id});if(i.length!==r.length)return _()({},e,{coupons:i});return e}),d()(te,s.r,function(e,t){var n=t.coupon,r=e.coupons,s=Object(i.findIndex)(r,{id:n.id});if(-1<s){var o=N()(r);return o[s]=n,_()({},e,{coupons:o})}return e}),d()(te,s.m,function(e,t){var n=t.params,r=t.coupons,i=t.totalPages,s=t.totalCoupons;if(r)return{params:n,coupons:r,totalPages:i,totalCoupons:s};return null}),te));var oe=Object(r.b)({isSearching:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.x:case s.z:case s.y:return Object.assign({},e,d()({},t.searchTerm,s.x===t.type));default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.z:var n=Object(i.keyBy)(t.customers,"id");return Object.assign({},e,n);default:return e}},queries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.z:var n=t.customers.map(function(e){return e.id});return Object.assign({},e,d()({},t.searchTerm,n));default:return e}}});var ae,ce,ue,le=Object(r.b)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.i:case s.k:case s.j:return s.i===t.type;default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.k:return t.counts;default:return e}}}),de=n("./client/extensions/woocommerce/state/constants.js"),pe=Object(r.c)(null,(ae={},d()(ae,s.s,function(){return de.b}),d()(ae,s.t,function(e,t){var n=t.data;return n}),ae)),me=Object(r.c)(null,(ce={},d()(ce,s.K,function(){return de.b}),d()(ce,s.L,function(e,t){var n=t.data;return n}),ce)),fe=Object(r.b)({counts:le,currencies:pe,locations:me}),_e=Object(r.c)({},(ue={},d()(ue,s.De,function(){return de.b}),d()(ue,s.Ee,function(e,t){var n=t.data;return n}),ue)),Ee=Object(r.b)({taxrates:_e}),be=n("./client/extensions/woocommerce/state/sites/orders/utils.js");var ge=Object(r.b)({isSending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.orderId;switch(n){case s.rb:return _()({},e,d()({},r,!0));case s.tb:case s.sb:return _()({},e,d()({},r,!1));default:return e}}});var he=Object(r.b)({isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.ub:case s.wb:case s.vb:return Object.assign({},e,d()({},t.orderId,s.ub===t.type));default:return e}},isSaving:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.xb:case s.yb:case s.zb:return Object.assign({},e,d()({},t.orderId,s.xb===t.type));default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.wb:var n=Object(i.keyBy)(t.notes,"id");return Object.assign({},e,n);case s.zb:var r=t.note;return Object.assign({},e,d()({},r.id,r));default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.wb:var n=t.notes.map(function(e){return e.id});return Object.assign({},e,d()({},t.orderId,n));case s.zb:var r=t.note,i=t.orderId,o=N()(e[i]).concat([r.id]);return Object.assign({},e,d()({},i,o));default:return e}}});var Oe=Object(r.e)("orderId",Object(r.b)({isSaving:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.Db:case s.Fb:case s.Eb:return s.Db===t.type;default:return e}},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.Cb:return t.refunds;case s.Fb:return N()(e).concat([t.refund]);default:return e}}}));var ye,je=Object(r.b)({invoice:ge,isDeleting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.ob:case s.pb:case s.qb:return Object.assign({},e,d()({},t.orderId,s.ob===t.type));default:return e}},isQueryLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.lb:case s.nb:case s.mb:var n=Object(be.c)(t.query);return Object.assign({},e,d()({},n,s.lb===t.type));default:return e}},isLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.Gb:case s.Ib:case s.Hb:return Object.assign({},e,d()({},t.orderId,s.Gb===t.type));default:return e}},isUpdating:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(i.isFinite)(t.orderId)?t.orderId:JSON.stringify(t.orderId);switch(t.type){case s.Jb:case s.Lb:case s.Kb:return Object.assign({},e,d()({},n,s.Jb===t.type));default:return e}},items:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s.nb:return e=Object(i.keyBy)(n.orders,"id"),Object.assign({},t,e);case s.Ib:case s.Lb:return e=d()({},n.order.id,n.order),Object.assign({},t,e);default:return t}},queries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.nb:var n=t.orders.map(function(e){return e.id}),r=Object(be.c)(t.query);return Object.assign({},e,d()({},r,n));default:return e}},refunds:Oe,total:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.nb:var n=Object(be.c)(Object(i.omit)(t.query,"page"));return Object.assign({},e,d()({},n,t.total));default:return e}},notes:he}),ve=Object(r.c)({},(ye={},d()(ye,s.Vb,function(e,t){var n=t.data,r=e||[],i=r.map(function(e){return e.id===n.id?n:e});return i}),d()(ye,s.Nb,function(){return de.b}),d()(ye,s.Ob,function(e,t){var n=t.data;return n}),ye)),Se=n("./client/extensions/woocommerce/state/sites/product-categories/utils.js");var Ie,Te=Object(r.b)({isQueryLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.bc:case s.dc:case s.cc:var n=Object(Se.c)(t.query);return Object.assign({},e,d()({},n,s.bc===t.type));default:return e}},isQueryError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(s.cc===t.type&&t.error){var n=Object(Se.c)(t.query);return Object.assign({},e,d()({},n,!0))}return e},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(s.dc===t.type&&t.data){var n=Object(i.keyBy)(t.data,"id");return Object.assign({},e,n)}return s.kc===t.type&&t.data?_()({},e,d()({},t.data.id,t.data)):s.gc===t.type&&t.category?Object(i.keyBy)(Object(i.reject)(e,{id:t.category.id}),"id"):e},queries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(s.dc===t.type&&t.data){var n=t.data.map(function(e){return e.id}),r=Object(Se.c)(t.query);return Object.assign({},e,d()({},r,n))}return e},total:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(s.dc===t.type&&t.data){var n=Object(Se.c)(Object(i.omit)(t.query,["page","offset"]));return Object.assign({},e,d()({},n,t.total))}return e},totalPages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(s.dc===t.type&&t.data){var n=Object(Se.c)(Object(i.omit)(t.query,["page","offset"]));return Object.assign({},e,d()({},n,t.totalPages))}return e}}),Ce=n("./client/lib/formatting/index.js"),Re=Object(r.c)({},(Ie={},d()(Ie,s.nc,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(i.get)(e,"products",[]),r=t.data.id,s=Object(i.reject)(n,{id:r}),o={};return Object(i.forEach)(Object(i.get)(e,"queries",{}),function(e,t){var n=Object(i.difference)(e.ids,[r]);o[t]=_()({},e,{ids:n})}),_()({},e,{queries:o,products:s})}),d()(Ie,s.sc,function(e,t){var n=t.data,r=e.products||[];return _()({},e,{products:Ae(r,n)})}),d()(Ie,s.Wb,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Ne(e,t.params,!0);return _()({},e,{queries:n})}),d()(Ie,s.Yb,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(i.get)(e,"products",[]);t.products.forEach(function(e){n=Ae(n,e)});var r=t.products.map(function(e){return e.id}),s=Object(i.get)(t,"totalPages",0),o=Object(i.get)(t,"totalProducts",0),a=Object(T.c)(t.params),c=Object(i.get)(e,"queries",{}),u=_()({},c,d()({},a,{ids:r,isLoading:!1,totalPages:s,totalProducts:o}));return _()({},e,{products:n,queries:u})}),d()(Ie,s.Xb,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Ne(e,t.params,!1);return _()({},e,{queries:n})}),Ie));function Ae(e,t){var n=!1,r=_()({},t,{name:Object(Ce.b)(t.name)}),i=e.map(function(e){return e.id===t.id?(n=!0,r):e});return n||i.push(r),i}function Ne(e,t,n){var r=e.queries&&_()({},e.queries)||{},i=Object(T.c)(t);return r[i]=_()({},r[i]||{},{isLoading:n}),r}var we=Object(r.c)({},d()({},s.zc,function(e,t){var n=t.productId,r=t.data,s=e||{},o=s[n]||[];return _()({},s,d()({},n,function(e,t){var n=Object(i.isNumber)(t),r=n?t:t.id,s=!n&&t,o=!1,a=Object(i.compact)(e.map(function(e){return Object(i.isEqual)(e.id,r)?(o=!0,s):e}));o||a.push(t);return a}(o,r)))}));var Pe,Ue=n("./client/extensions/woocommerce/state/sites/promotions/helpers.js"),De=Object(r.c)({coupons:null,products:null,productVariations:null,promotions:null},(Pe={},d()(Pe,s.p,function(e,t){var n=t.couponId,r=e.coupons,i=r.filter(function(e){return n!==e.id});if(i.length!==r.length){var s=ke(i,e.products,e.productVariations);return _()({},e,{coupons:i,promotions:s})}return e}),d()(Pe,s.r,function(e,t){var n=t.coupon,r=e.coupons,s=Object(i.findIndex)(r,{id:n.id});if(-1<s){var o=N()(r);o[s]=n;var a=ke(o,e.products,e.productVariations);return _()({},e,{coupons:o,promotions:a})}return e}),d()(Pe,s.m,function(e,t){var n=t.params,r=t.totalCoupons;if(void 0!==n.offset){var s=Object(i.fill)(Array(r),null);if(e.coupons)for(var o=0;o<e.coupons.length;o++)s[o]=e.coupons[o];for(var a=0;a<t.coupons.length;a++)s[n.offset+a]=t.coupons[a];var c=ke(s,e.products,e.productVariations);return _()({},e,{coupons:s,promotions:c})}return e}),d()(Pe,s.sc,function(e,t){var n=t.data,r=e.products,s=Object(i.findIndex)(r,{id:n.id});if(-1<s){var o=N()(r);o[s]=n;var a=ke(e.coupons,o,e.productVariations);return _()({},e,{products:o,promotions:a})}return e}),d()(Pe,s.zc,function(e,t){var n=t.data,r=t.productId,s=e.productVariations||[],o=Object(i.findIndex)(s,{id:n.id}),a=_()({},n,{productId:r}),c=N()(s);-1<o?c[o]=a:c.push(a);var u=ke(e.coupons,e.products,c);return _()({},e,{productVariations:c,promotions:u})}),d()(Pe,s.Yb,function(e,t){var n=t.params,r=t.totalProducts;if(void 0!==n.offset){var s=Object(i.fill)(Array(r),null);if(e.products)for(var o=0;o<e.products.length;o++)s[o]=e.products[o];for(var a=0;a<t.products.length;a++)s[n.offset+a]=t.products[a];var c=ke(e.coupons,s,e.productVariations);return _()({},e,{products:s,promotions:c})}return e}),Pe));function ke(e,t,n){if(e&&t&&-1===e.indexOf(null)&&-1===t.indexOf(null)){var r=t.filter(function(e){return""!==e.sale_price}),s=(n||[]).filter(function(e){return""!==e.sale_price}),o=r.map(Ue.d),a=s.map(function(e){var n=Object(i.find)(t,{id:e.productId});return Object(Ue.d)(_()({},e,{name:n.name}))}),c=e.map(Ue.c),u=N()(o).concat(N()(a),N()(c)).sort(Le);return u}return null}function Le(e,t){var n=Me(e.endDate,t.endDate);return 0===n&&(n=Me(e.startDate,t.startDate)),n}function Me(e,t){if(e&&e.length>0){if(t&&t.length>0){var n=new Date(e),r=new Date(t);return n-r}return 1}return t&&t.length>0?-1:0}var xe=n("./client/extensions/woocommerce/state/sites/reviews/utils.js");var Fe,Ve,Ge=Object(r.b)({isQueryLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.Jc:case s.Ic:var n=Object(xe.c)(t.query);return Object.assign({},e,d()({},n,s.Jc===t.type));default:return e}},isQueryError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(s.Ic===t.type&&t.error){var n=Object(xe.c)(t.query);return Object.assign({},e,d()({},n,!0))}return e},items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.error)return e;if(s.Ic===t.type&&t.reviews){var n=Object(i.keyBy)(t.reviews,"id");return Object.assign({},e,n)}if(s.Tc===t.type&&t.newStatus){var r=_()({},e[t.reviewId],{status:t.newStatus});return _()({},e,d()({},t.reviewId,r))}return e},queries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(s.Ic===t.type&&t.reviews){var n=t.reviews.map(function(e){return e.id}),r=Object(xe.c)(t.query);return Object.assign({},e,d()({},r,n))}return e},total:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;if(s.Ic===t.type&&t.reviews){var n=Object(xe.c)(Object(i.omit)(t.query,"page"));return Object.assign({},e,d()({},n,t.total))}if(s.Tc===t.type){var r={},o=Object(xe.c)({status:t.newStatus});Object(i.isNumber)(e[o])&&(r[o]=e[o]+1);var a=Object(xe.c)({status:t.currentStatus});return Object(i.isNumber)(e[a])&&(r[a]=e[a]-1),Object.assign({},e,r)}return e}}),qe=Object(r.c)({},(Fe={},d()(Fe,s.Mc,function(e,t){var n=t.reviewId,r=t.replies,i=t.error,s=e||{};if(i||!r)return s;return _()({},s,d()({},n,r))}),d()(Fe,s.Pc,function(e,t){var n=t.reviewId,r=t.replyId,s=e||{};if(!n||!r)return s;var o=s[n],a=Object(i.reject)(o,{id:r});return _()({},s,d()({},n,a))}),d()(Fe,s.Rc,function(e,t){var n=t.reviewId,r=t.replyId,s=t.reply,o=e||{};if(!n||!r||!s)return o;var a=o[n],c=a.map(function(e){return Object(i.isEqual)(r,e.id)?s:e});return _()({},o,d()({},n,c))}),d()(Fe,s.Nc,function(e,t){var n=t.reviewId,r=t.reply,i=e||{};if(!n||!r)return i;var s=i[n];return s.push(r),_()({},i,d()({},n,s))}),Fe));var He,We=Object(r.c)({},(Ve={},d()(Ve,s.vd,function(){return de.b}),d()(Ve,s.wd,function(e,t){var n=t.data;return n}),d()(Ve,s.yd,function(e,t){var n=t.data;return _()({},e,n)}),Ve)),Be=Object(r.c)(null,(He={},d()(He,s.Ad,function(){return de.b}),d()(He,s.Bd,function(e,t){var n=t.data;return n}),He)),Qe={};Qe[s.Vd]=function(e,t){var n=t.zoneId;return _()({},e,d()({},n,de.b))},Qe[s.Wd]=function(e,t){var n=t.data,r=t.zoneId,i={continent:[],country:[],state:[],postcode:[]};return n.forEach(function(e){var t=e.type,n=e.code;return i[t].push(n)}),_()({},e,d()({},r,i))},Qe[s.be]=function(e,t){var n=t.data,r=t.originatingAction.zoneId;return Qe[s.Wd](e,{data:n,zoneId:r})},Qe[s.ze]=function(e,t){var n=t.data,r=t.originatingAction.zone;return"number"==typeof r.id?e:_()({},e,d()({},n.id,{continent:[],country:[],state:[],postcode:[]}))},Qe[s.Md]=function(e,t){var n=t.originatingAction.zone,r=_()({},e);return delete r[n.id],r};var ze=Object(r.c)({},Qe),Ye=n("./client/extensions/woocommerce/woocommerce-services/state/action-types.js"),Ke={};Ke[s.de]=function(e,t){var n=t.data,r=_()({},e);return n.forEach(function(e){r[e.id]=_()({id:e.id,order:e.order,enabled:e.enabled,methodType:e.method_id},Object(i.mapValues)(e.settings,"value"))}),r},Ke[s.ve]=function(e,t){var n=t.data,r=t.originatingAction;return n.id?Ke[s.de](e,{data:[n]}):_()({},e,d()({},r.methodId,_()({},e[r.methodId],{id:r.methodId,methodType:r.methodType},r.method)))},Ke[Ye.Cb]=function(e,t){var n=t.instanceId,r=t.data;return _()({},e,d()({},n,_()({},e[n],r.formData)))};var Je,Ze,$e=Object(r.c)({},Ke),Xe=n("./node_modules/i18n-calypso/index.js"),et=function(e){return 0!==e.id?e:_()({},e,{name:Object(Xe.translate)("Locations not covered by your other zones")})},tt=Object(r.c)(null,(Je={},d()(Je,s.ce,function(e,t){var n=t.zoneId;if(!Object(i.isArray)(e))return e;var r=Object(i.findIndex)(e,{id:n});if(-1===r)return e;var s=_()({},e[r],{methodIds:de.b});return N()(e.slice(0,r)).concat([s],N()(e.slice(r+1)))}),d()(Je,s.de,function(e,t){var n=t.zoneId,r=t.data;if(!Object(i.isArray)(e))return e;var s=Object(i.findIndex)(e,{id:n});if(-1===s)return e;var o=_()({},e[s],{methodIds:r.map(function(e){return e.id})});return N()(e.slice(0,s)).concat([o],N()(e.slice(s+1)))}),d()(Je,s.ze,function(e,t){var n=t.data,r=t.originatingAction.zone;if(n=et(n),!Object(i.isArray)(e))return e;if("number"!=typeof r.id)return N()(e).concat([_()({},n,{methodIds:[]})]);var s=Object(i.findIndex)(e,{id:r.id});return-1===s?e:N()(e.slice(0,s)).concat([_()({},n,{methodIds:e[s].methodIds})],N()(e.slice(s+1)))}),d()(Je,s.Md,function(e,t){var n=t.originatingAction.zone;if(!Object(i.isArray)(e))return e;var r=Object(i.findIndex)(e,{id:n.id});return-1===r?e:N()(e.slice(0,r)).concat(N()(e.slice(r+1)))}),d()(Je,s.ve,function(e,t){var n=t.data,r=t.originatingAction.zoneId;if(!Object(i.isArray)(e))return e;var s=Object(i.findIndex)(e,{id:r});return-1===s?e:-1!==e[s].methodIds.indexOf(n.id)?e:N()(e.slice(0,s)).concat([_()({},e[s],{methodIds:N()(e[s].methodIds).concat([n.id])})],N()(e.slice(s+1)))}),d()(Je,s.ke,function(e,t){var n=t.originatingAction,r=n.zoneId,s=n.methodId;if(!Object(i.isArray)(e))return e;var o=Object(i.findIndex)(e,{id:r});if(-1===o)return e;var a=e[o].methodIds.indexOf(s);return-1===a?e:N()(e.slice(0,o)).concat([_()({},e[o],{methodIds:N()(e[o].methodIds.slice(0,a)).concat(N()(e[o].methodIds.slice(a+1)))})],N()(e.slice(o+1)))}),d()(Je,s.Cd,function(){return de.b}),d()(Je,s.Dd,function(e,t){var n=t.data;return n.map(et)}),Je));function nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=t.map(function(e){var t=Object(i.find)(n.update,{id:e.id});return t||e});return n.update.forEach(function(n){e!==n.group_id||Object(i.find)(t,{id:n.id})||r.push(n)}),r}var rt,it,st=Object(r.c)(null,(Ze={},d()(Ze,s.w,function(e,t){var n=t.data,r=e||[],i=r.map(function(e){return e.id===n.id?n:e});return i}),d()(Ze,s.Ce,function(e,t){var n=t.data,r=e||[],i=r.map(function(e){return e.id===n.id?n:e});return i}),d()(Ze,s.Yc,function(e,t){var n=t.meta.dataLayer,r=n.error,s=n.data;return s||r||!Object(i.isNull)(e)&&de.a!==e?e:de.b}),d()(Ze,s.Xc,function(e,t){var n=t.data,r=t.error;return r?de.a:n}),d()(Ze,s.Wc,function(e,t){var n=t.data;return nt("general",e||[],n)}),Ze)),ot=function(e,t){var n=t.data;return n&&n.update?nt("products",e||[],n):e},at=Object(r.c)(null,(rt={},d()(rt,s.ad,function(){return de.b}),d()(rt,s.bd,function(e,t){var n=t.data;return n}),d()(rt,s.ed,ot),d()(rt,s.Zc,ot),d()(rt,s.Wc,function(e,t){var n=t.data;return nt("products",e||[],n)}),d()(rt,s.dd,function(){return de.a}),rt));var ct,ut=Object(r.c)(null,(it={},d()(it,s.fd,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},e,{notifyCompleted:!1})}),d()(it,s.gd,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},e,{error:""})}),d()(it,s.hd,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},e,{error:"",isCreating:!0,notifyCompleted:!1})}),d()(it,s.id,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.assign({},e,{connectedUserID:t.connectedUserID||"",displayName:"",email:t.email||"",error:t.error||"",firstName:"",isActivated:!1,isCreating:!1,isRequesting:!1,lastName:"",logo:"",notifyCompleted:!0})}),d()(it,s.jd,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},e,{isDeauthorizing:!0})}),d()(it,s.kd,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.assign({},e,{connectedUserID:"",displayName:"",email:"",error:t.error||"",firstName:"",isActivated:!1,isDeauthorizing:!1,isRequesting:!1,lastName:"",logo:""})}),d()(it,s.ld,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},e,{connectedUserID:"",displayName:"",email:"",error:"",firstName:"",isActivated:!1,isDeauthorizing:!1,isRequesting:!0,lastName:"",logo:""})}),d()(it,s.md,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.assign({},e,{connectedUserID:t.connectedUserID||"",displayName:t.displayName||"",email:t.email||"",error:t.error||"",firstName:t.firstName||"",isActivated:t.isActivated||!1,isDeauthorizing:!1,isRequesting:!1,lastName:t.lastName||"",logo:t.logo||""})}),d()(it,s.pd,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},e,{isOAuthInitializing:!0,oauthUrl:""})}),d()(it,s.qd,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.assign({},e,{isOAuthInitializing:!1,error:t.error||"",oauthUrl:t.oauthUrl||""})}),d()(it,s.nd,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({},e,{error:"",isOAuthConnecting:!0,notifyCompleted:!1})}),d()(it,s.od,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.assign({},e,{connectedUserID:t.connectedUserID||"",email:"",error:t.error||"",firstName:"",isActivated:!1,isCreating:!1,isOAuthConnecting:!1,isRequesting:!1,lastName:"",logo:"",notifyCompleted:!0})}),it)),lt=Object(r.c)(null,(ct={},d()(ct,s.td,function(){return de.b}),d()(ct,s.ud,function(e,t){var n=t.data;return n}),d()(ct,s.rd,function(e){return e}),d()(ct,s.sd,function(e,t){var n=t.data,r=e||[],s=r.map(function(e){var t=Object(i.find)(n.update,{id:e.id});return t||e});return n.update.forEach(function(e){Object(i.find)(r,{id:e.id})||s.push(e)}),s}),ct));var dt,pt,mt=Object(r.b)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.eb:case s.db:case s.O:case s.hb:case s.R:case s.X:return Object.assign({},e,t.settings);case s.U:var n={mailchimp_lists:t.lists},r=Object(i.keys)(t.lists);return!e.mailchimp_list&&r.length>0&&(n.mailchimp_list=r[0]),Object.assign({},e,n)}return e},settingsRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case s.cb:case s.eb:case s.db:return s.cb===n}return e},settingsRequestError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.eb:case s.db:var n=s.db===t.type&&t.error;return n}return e},syncStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.kb:case s.ab:return Object.assign({},t.syncStatus)}return e},syncStatusRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case s.ib:case s.kb:case s.jb:return s.ib===n}return e},syncStatusRequestError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.kb:case s.jb:var n=s.jb===t.type&&t.error;return n}return e},resyncRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case s.Y:case s.ab:case s.Z:return s.Y===n}return e},resyncRequestError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.ab:case s.Z:var n=s.Z===t.type&&t.error;return n}return e},apiKeySubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case s.M:case s.O:case s.N:return s.M===n}return e},apiKeySubmitError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.O:case s.N:var n=s.N===t.type&&t.error;return n}return e},storeInfoSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case s.fb:case s.hb:case s.gb:return s.fb===n}return e},storeInfoSubmitError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.hb:case s.gb:var n=s.gb===t.type&&t.error;return n}return e},listsRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case s.S:case s.U:case s.T:return s.S===n}return e},listsRequestError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.U:case s.T:var n=s.T===t.type&&t.error;return n}return e},newsletterSettingsSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case s.V:case s.X:case s.W:return s.V===n}return e},newsletterSettingsSubmitError:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.X:case s.W:var n=s.W===t.type&&t.error;return n}return e},saveSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case s.bb:return!0;case s.X:case s.W:return!1}return e}}),ft=function(e){var t={},n=Object(i.filter)(e,{group_id:"email",id:"woocommerce_email_from_address"}),r=Object(i.isEmpty)(n)?"":n[0].default;e.forEach(function(e){Object(i.setWith)(t,[e.group_id,e.id],{value:e.value,default:e.default},Object)}),Object(i.forEach)(["email_new_order","email_cancelled_order","email_failed_order"],function(e){if("yes"===Object(i.get)(t,[e,"enabled","value"])){var n=Object(i.get)(t,[e,"recipient","default"])||r;t[e].recipient={default:n,value:Object(i.get)(t,[e,"recipient","value"])||n}}});var s=Object(i.get)(t,["email","woocommerce_email_from_name","value"],!1);return s&&(t.email.woocommerce_email_from_name.value=Object(Ce.b)(s)),t},_t=Object(r.c)(null,(dt={},d()(dt,s.C,function(){return de.b}),d()(dt,s.D,function(e,t){var n=t.data;return ft(n)}),d()(dt,s.A,function(e,t){var n=t.setting;if(!n&&!n.setting&&!n.option)return e;var r=Object.assign({},e);return r[n.setting][n.option].value=n.value,r}),d()(dt,s.E,function(e){var t=Object.assign({},e);return t.save=!0,t}),d()(dt,s.F,function(e){var t=Object.assign({},Object(i.omit)(e,["save"]));return t.isSaving=!0,t}),d()(dt,s.H,function(e,t){var n=t.update,r=n.update;return ft(r)}),d()(dt,s.G,function(e,t){var n=Object.assign({},Object(i.omit)(e,"isSaving"));return n.error=t,n}),d()(dt,s.B,function(e,t){var n=Object.assign({},Object(i.omit)(e,["save","isSaving"]));return n.invalidValue=t,n}),dt)),Et=Object(r.b)({general:st,products:at,stripeConnectAccount:ut,tax:lt,mailchimp:mt,email:_t}),bt=n("./node_modules/debug/src/browser.js"),gt=n.n(bt),ht=gt()("woocommerce:errors:wc-api"),Ot=Object(r.c)(null,(pt={},d()(pt,s.J,function(e,t){var n=t.data,r=t.originalAction,i=t.time,s={data:n,originalAction:r,time:i};return ht("WC-API error occurred: ",s),s}),d()(pt,s.I,function(){return null}),pt));var yt,jt,vt=Object(r.b)({error:Ot}),St=Object(r.b)({wcApi:vt}),It=Object(r.b)({coupons:se,customers:oe,data:fe,meta:Ee,orders:je,paymentMethods:ve,productCategories:Te,products:Re,productVariations:we,promotions:De,reviews:Ge,reviewReplies:qe,setupChoices:We,settings:Et,shippingMethods:Be,shippingZoneLocations:ze,shippingZoneMethods:$e,shippingZones:tt,status:St}),Tt=Object(r.e)("siteId",It),Ct=Object(r.c)(null,(yt={},d()(yt,s.b,function(){return null}),d()(yt,s.a,function(e,t){var n=t.actionList,r=n.prevSteps,s=n.currentStep,o=n.nextSteps,a=["description","startTime","endTime"];return{prevSteps:(r||[]).map(function(e){return Object(i.pick)(e,a)}),currentStep:s?Object(i.pick)(s,a):null,nextSteps:o.map(function(e){return Object(i.pick)(e,a)})}}),yt));var Rt=Object(r.c)({status:"uninitialized",lastSuccessTime:null,lastErrorTime:null},(jt={},d()(jt,s.Le,function(e,t){var n=t.time||Date.now();return _()({},e,{status:"available",lastSuccessTime:n})}),d()(jt,s.Me,function(e,t){var n=t.time||Date.now();return _()({},e,{status:"unavailable",lastErrorTime:n})}),d()(jt,s.Ne,function(e,t){var n=t.time||Date.now();return _()({},e,{status:"unknown_error",lastErrorTime:n})}),jt));var At={status:Rt},Nt=Object(r.b)(At),wt=Object(r.e)("siteId",Nt),Pt={meta:{error:!1,fieldsStatus:!1,isSaving:!1,isFetching:!1,isLoaded:!1,isFetchError:!1,pristine:!0},data:null,pristineData:null},Ut={};Ut[Ye.b]=function(e,t){var n=t.storeOptions,r=t.formData,i=t.formMeta;return _()({},e,{storeOptions:n,meta:_()({},e.meta,i,{pristine:!0,isLoaded:!0}),data:_()({},e.data,r)})},Ut[Ye.e]=function(e,t){var n=t.key,r=t.value,i=e.meta.pristine?e.data:e.pristineData;return _()({},e,{meta:_()({},e.meta,{pristine:!1}),data:_()({},e.data,d()({},n,r)),pristineData:i})},Ut[Ye.f]=function(e,t){var n=t.key,r=t.value;return _()({},e,{meta:_()({},e.meta,d()({},n,r))})},Ut[Ye.d]=function(e){return e.meta.pristine?e:_()({},e,{meta:_()({},e.meta,{pristine:!0}),data:e.pristineData,pristineData:null})},Ut[Ye.c]=function(e){return _()({},e,{addCardDialog:!0})},Ut[Ye.a]=function(e){return _()({},e,{addCardDialog:null})};var Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;return Ut[t.type]?Ut[t.type](e,t):e},kt={modalErrors:{},pristine:!0},Lt=function(e){return null===e||""===Object(i.trim)(e)},Mt={};Mt[Ye.g]=function(e){var t=e.packages&&e.packages.predefined?e.packages.predefined:{},n=_()({},e,{showModal:!0,mode:"add-custom",currentlyEditingPredefinedPackages:Object(i.cloneDeep)(t)});return"edit"!==e.mode&&n.packageData||(n.packageData={is_user_defined:!0}),n},Mt[Ye.i]=function(e,t){return Object.assign({},e,{showModal:!0,modalReadOnly:!1,mode:"edit",packageData:t.package,showOuterDimensions:!1})},Mt[Ye.h]=function(e){return Object.assign({},e,{modalErrors:{},showModal:!1,showOuterDimensions:!1,currentlyEditingPredefinedPackages:null})},Mt[Ye.s]=function(e,t){return Object.assign({},e,{modalErrors:t.value})},Mt[Ye.w]=function(e,t){var n=Object.assign({},e.packageData,t.values),r=Object(i.omitBy)(n,Lt);return Object.assign({},e,{packageData:r,pristine:!1})},Mt[Ye.m]=function(e,t){var n=t.packageData,r=e.packages.custom||[];if(n.box_weight&&(n.box_weight=Number.parseFloat(n.box_weight)),n.max_weight&&(n.max_weight=Number.parseFloat(n.max_weight)),"index"in n){var s=n.index;r[s]=Object(i.omit)(n,"index")}else r.push(n);return e=Mt[Ye.h](e),_()({},e,{mode:"add-custom",packageData:{is_user_defined:!0},packages:_()({},e.packages,{custom:r}),pristine:!1})},Mt[Ye.u]=function(e){return _()({},e,{showOuterDimensions:!0})},Mt[Ye.k]=function(e,t){var n=N()(e.packages.custom);return n.splice(t.index,1),_()({},e,{packages:_()({},e.packages,{custom:n}),pristine:!1,showModal:!1})},Mt[Ye.t]=function(e,t){var n=t.serviceId,r=t.groupId,s=t.checked,o=e.predefinedSchema[n][r].definitions.map(function(e){return e.id}),a=e.currentlyEditingPredefinedPackages[n],c=s?Object(i.uniq)(Object(i.concat)(a,o)):Object(i.difference)(a,o),u=_()({},e.currentlyEditingPredefinedPackages);return u[n]=c,_()({},e,{currentlyEditingPredefinedPackages:u,pristine:!1})},Mt[Ye.v]=function(e,t){var n=t.serviceId,r=t.packageId,i=_()({},e.currentlyEditingPredefinedPackages),s=N()(i[n]||[]),o=s.indexOf(r);return-1===o?s.push(r):s.splice(o,1),i[n]=s,_()({},e,{currentlyEditingPredefinedPackages:i,pristine:!1})},Mt[Ye.l]=function(e,t){var n=t.serviceId,r=t.packageId,i=_()({},e.packages.predefined),s=N()(i[n]||[]),o=s.indexOf(r);return-1!==o&&s.splice(o,1),i[n]=s,_()({},e,{packages:_()({},e.packages,{predefined:i}),pristine:!1})},Mt[Ye.n]=function(e){var t=e.currentlyEditingPredefinedPackages;return e=Mt[Ye.h](e),_()({},e,{packages:_()({},e.packages,{predefined:t}),pristine:!1})},Mt[Ye.o]=function(e,t){var n=t.mode;return _()({},e,{mode:n})},Mt[Ye.r]=function(e,t){return Object.assign({},e,{isSaving:t.isSaving,pristine:!t.isSaving})},Mt[Ye.p]=function(e,t){var n=t.isFetching;return _()({},e,{isFetching:n})},Mt[Ye.q]=function(e,t){var n=t.isFetchError;return _()({},e,{isFetchError:n})},Mt[Ye.j]=function(e,t){var n=t.packages,r=t.dimensionUnit,i=t.weightUnit,s=t.packageSchema,o=t.predefinedSchema;return _()({},e,{packages:n,dimensionUnit:r,weightUnit:i,packageSchema:s,predefinedSchema:o,packageData:e.packageData||{is_user_defined:!0},isLoaded:!0})};var xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;return"function"==typeof Mt[t.type]?Mt[t.type](e,t):e},Ft=n("./client/extensions/woocommerce/woocommerce-services/lib/utils/get-box-dimensions.js"),Vt=function(e){return Boolean(e&&e.name&&e.address&&e.city&&e.postcode&&e.country)},Gt=function(e){if(!e)return{loaded:!1,isFetching:!1,error:!1};var t=e.formData,n=e.labelsData,r=e.paperSize,s=e.storeOptions,o=e.canChangeCountries,a=Boolean(t.origin_normalized||t.origin.phone),c=Vt(t.origin),u=Vt(t.destination);return{loaded:!0,isFetching:!1,error:!1,refreshedLabelStatus:!1,labels:n||[],paperSize:r,storeOptions:s,fulfillOrder:!0,emailDetails:!0,form:{orderId:t.order_id,origin:{values:t.origin,isNormalized:a,normalized:a?t.origin:null,ignoreValidation:c?null:Object(i.mapValues)(t.origin,function(){return!0}),selectNormalized:!0,normalizationInProgress:!1,allowChangeCountry:Boolean(o)},destination:{values:t.destination,isNormalized:Boolean(t.destination_normalized),normalized:t.destination_normalized?t.destination:null,ignoreValidation:u?null:Object(i.mapValues)(t.destination,function(){return!0}),selectNormalized:!0,normalizationInProgress:!1,allowChangeCountry:Boolean(o)},packages:{all:t.all_packages,flatRateGroups:t.flat_rate_groups,selected:t.selected_packages,isPacked:t.is_packed,saved:!0},rates:{values:Object(i.isEmpty)(t.rates.selected)?Object(i.mapValues)(t.packages,function(){return""}):t.rates.selected,available:{},retrievalInProgress:!1}},openedPackageId:Object.keys(t.selected_packages)[0]||""}},qt=function(e,t){for(var n=0;n<=t.length;n++)if(-1===t.indexOf(e+n))return e+n},Ht={};Ht[Ye.N]=function(e,t){return _()({},e,Gt(Object(i.omit)(t,"type","siteId")))},Ht[Ye.mb]=function(e,t){var n=t.isFetching;return _()({},e,{isFetching:n})},Ht[Ye.kb]=function(e,t){var n=t.error;return _()({},e,{error:n})},Ht[Ye.T]=function(e){return _()({},e,{showPurchaseDialog:!0})},Ht[Ye.M]=function(e,t){var n=t.force;return!n&&e.form.isSubmitting?e:_()({},e,{showPurchaseDialog:!1,form:_()({},e.form,{isSubmitting:!1})})},Ht[Ye.ub]=function(e,t){var n=t.stepName;return _()({},e,{form:_()({},e.form,d()({},n,_()({},e.form[n],{expanded:!e.form[n].expanded})))})},Ht[Ye.vb]=function(e,t){var n=t.group,r=t.name,i=t.value,s=_()({},e,{form:_()({},e.form,d()({},n,_()({},e.form[n],{values:_()({},e.form[n].values,d()({},r,i)),isNormalized:!1,isUnverifiable:!1,normalized:null})))});return"country"===r?Ht[Ye.vb](s,{group:n,name:"state",value:""}):(e.form[n].ignoreValidation&&(s.form[n].ignoreValidation=_()({},e.form[n].ignoreValidation,d()({},r,!1))),s)},Ht[Ye.cb]=function(e,t){var n=t.group;return _()({},e,{form:_()({},e.form,d()({},n,_()({},e.form[n],{ignoreValidation:null})))})},Ht[Ye.z]=function(e,t){var n=t.group;return _()({},e,{form:_()({},e.form,d()({},n,_()({},e.form[n],{normalizationInProgress:!0})))})},Ht[Ye.nb]=function(e,t){var n=t.group,r=t.normalized,i=t.isTrivialNormalization,s=_()({},e,{form:_()({},e.form,d()({},n,_()({},e.form[n],{selectNormalized:!0,normalized:r})))});return i&&(s.form[n].values=r),s},Ht[Ye.y]=function(e,t){var n=t.group,r=t.completed,i=t.fieldErrors;return _()({},e,{form:_()({},e.form,d()({},n,_()({},e.form[n],{isNormalized:r,normalizationInProgress:!1,fieldErrors:i,selectNormalized:!i})))})},Ht[Ye.hb]=function(e,t){var n=t.group,r=t.selectNormalized;return _()({},e,{form:_()({},e.form,d()({},n,_()({},e.form[n],{selectNormalized:r})))})},Ht[Ye.K]=function(e,t){var n=t.group;return _()({},e,{form:_()({},e.form,d()({},n,_()({},e.form[n],{selectNormalized:!1,normalized:null,isNormalized:!1,isUnverifiable:!1})))})},Ht[Ye.L]=function(e,t){var n=t.group;return _()({},e,{form:_()({},e.form,d()({},n,_()({},e.form[n],{selectNormalized:!1,normalized:null,isNormalized:!1,isUnverifiable:!0})))})},Ht[Ye.I]=function(e,t){var n=t.group,r=_()({},e.form[n],{expanded:!1});return r.selectNormalized?r.values=r.normalized:r.normalized=r.values,_()({},e,{form:_()({},e.form,d()({},n,r))})},Ht[Ye.wb]=function(e,t){var n=t.packageId,r=t.value,i=_()({},e.form.packages.selected);return i[n]=_()({},i[n],{weight:parseFloat(r),isUserSpecifiedWeight:!0}),_()({},e,{form:_()({},e.form,{packages:_()({},e.form.packages,{selected:i,saved:!1})})})},Ht[Ye.ob]=function(e,t){var n=t.packageId,r=t.signature,i=_()({},e.form.packages.selected);return i[n]=_()({},i[n],{signature:r}),_()({},e,{form:_()({},e.form,{packages:_()({},e.form.packages,{selected:i,saved:!1})})})},Ht[Ye.S]=function(e,t){var n=t.openedPackageId;return _()({},e,{openedPackageId:n})},Ht[Ye.R]=function(e,t){var n=t.movedItemIndex;return _()({},e,{showItemMoveDialog:!0,targetPackageId:e.openedPackageId,movedItemIndex:n})},Ht[Ye.O]=function(e,t){var n=t.originPackageId,r=t.movedItemIndex,s=t.targetPackageId;if(-1===r||n===s||void 0===n)return e;var o=_()({},e.form.packages.selected),a=null,c=e.openedPackageId,u=N()(o[n].items),l=u.splice(r,1)[0];if(o[n]=_()({},o[n],{items:u,weight:Object(i.round)(o[n].weight-l.weight,8)}),"individual"===s){var d=Object.keys(o);a=qt("client_individual_",d);var p=l.height,m=l.length,f=l.width,E=l.weight;o[a]={height:p,length:m,width:f,weight:E,id:a,box_id:"individual",items:[l]}}else if("new"===s){var b=Object.keys(o);a=qt("client_custom_",b),o[a]={height:0,length:0,width:0,weight:l.weight,id:a,box_id:"not_selected",items:[l]}}else{var g=N()(o[s].items);g.push(l),o[s]=_()({},o[s],{items:g,weight:Object(i.round)(o[s].weight+l.weight,8)})}return 0===o[n].items.length&&(delete o[n],c=a||s),_()({},e,{openedPackageId:c,addedPackageId:a,movedItemIndex:-1,showItemMoveDialog:!1,form:_()({},e.form,{needsPrintConfirmation:!1,packages:_()({},e.form.packages,{selected:o,saved:!1}),rates:_()({},e.form.rates,{values:Object(i.mapValues)(o,function(){return""}),available:{}})})})},Ht[Ye.F]=function(e){return _()({},e,{movedItemIndex:-1,showItemMoveDialog:!1})},Ht[Ye.rb]=function(e,t){var n=t.targetPackageId;return _()({},e,{targetPackageId:n})},Ht[Ye.P]=function(e){return _()({},e,{showAddItemDialog:!0,addedItems:{}})},Ht[Ye.D]=function(e){return _()({},e,{showAddItemDialog:!1})},Ht[Ye.ib]=function(e,t){var n,r=t.sourcePackageId,s=t.movedItemIndex,o=t.added;if(o){var a=e.addedItems[r]||[];n=Object(i.includes)(a,s)?a:N()(a).concat([s])}else n=Object(i.without)(e.addedItems[r],s);return _()({},e,{addedItems:_()({},e.addedItems,d()({},r,n))})},Ht[Ye.A]=function(e,t){var n=t.targetPackageId;return Object(i.each)(e.addedItems,function(t,r){Object(i.sortBy)(t,function(e){return-e}).forEach(function(t){e=Ht[Ye.O](e,{originPackageId:r,movedItemIndex:t,targetPackageId:n})})}),_()({},e,{showAddItemDialog:!1})},Ht[Ye.B]=function(e){var t=_()({},e.form.packages.selected),n=Object.keys(t),r=qt("client_custom_",n),s=r;return t[r]={height:0,length:0,width:0,id:r,weight:0,box_id:"not_selected",items:[]},_()({},e,{openedPackageId:s,addedPackageId:r,form:_()({},e.form,{needsPrintConfirmation:!1,packages:_()({},e.form.packages,{selected:t,saved:!1}),rates:_()({},e.form.rates,{values:Object(i.mapValues)(t,function(){return""}),available:{}})})})},Ht[Ye.db]=function(e,t){var n=t.packageId,r=_()({},e.form.packages.selected),s=r[n],o=s.items;delete r[n];var a=Object.keys(r)[0]||"",c=_()({},r[a]);return c.items=c.items.concat(o),r[a]=c,_()({},e,{openedPackageId:a,form:_()({},e.form,{needsPrintConfirmation:!1,packages:_()({},e.form.packages,{selected:r,saved:!1}),rates:_()({},e.form.rates,{values:Object(i.mapValues)(r,function(){return""}),available:{}})})})},Ht[Ye.pb]=function(e,t){var n=t.box,r=t.packageId,s=t.boxTypeId,o=_()({},e.form.packages.selected),a=o[r],c=Object(i.round)(a.isUserSpecifiedWeight?a.weight:(n?n.box_weight:0)+Object(i.sumBy)(a.items,"weight"),8);if("not_selected"===s)o[r]=_()({},Object(i.omit)(a,"service_id"),{height:0,length:0,width:0,weight:c,box_id:s});else{var u=Object(Ft.a)(n),l=u.length,d=u.width,p=u.height;o[r]=_()({},Object(i.omit)(a,"service_id"),{height:p,length:l,width:d,weight:c,box_id:s})}return _()({},e,{form:_()({},e.form,{needsPrintConfirmation:!1,packages:_()({},e.form.packages,{selected:o,saved:!1}),rates:_()({},e.form.rates,{values:Object(i.mapValues)(o,function(){return""}),available:{}})})})},Ht[Ye.gb]=function(e){return _()({},e,{form:_()({},e.form,{packages:_()({},e.form.packages,{saved:!0})})})},Ht[Ye.yb]=function(e,t){var n=t.packageId,r=t.value,i=_()({},e.form.rates.values);return i[n]=r,_()({},e,{form:_()({},e.form,{rates:_()({},e.form.rates,{values:i})})})},Ht[Ye.xb]=function(e,t){var n=t.value;return _()({},e,{paperSize:n})},Ht[Ye.jb]=function(e,t){var n=t.value;return _()({},e,{emailDetails:n})},Ht[Ye.lb]=function(e,t){var n=t.value;return _()({},e,{fulfillOrder:n})},Ht[Ye.W]=function(e){return _()({},e,{form:_()({},e.form,{isSubmitting:!0})})},Ht[Ye.X]=function(e,t){var n=t.response,r=t.error;return r?_()({},e,{form:_()({},e.form,{isSubmitting:!1})}):_()({},e,{labels:N()(n.map(function(e){return _()({},e,{statusUpdated:!0})})).concat(N()(e.labels))})},Ht[Ye.sb]=function(e,t){var n=t.fileData,r=t.labels;return _()({},e,{form:_()({},e.form,{needsPrintConfirmation:!0,fileData:n,labelsToPrint:r})})},Ht[Ye.Z]=function(e,t){var n=t.requestData;return _()({},e,{form:_()({},e.form,{rates:_()({},e.form.rates,{retrievalInProgress:n})})})},Ht[Ye.qb]=function(e,t){var n=t.rates,r=t.requestData;return Object(i.isEqual)(r,e.form.rates.retrievalInProgress)?_()({},e,{form:_()({},e.form,{rates:{values:Object(i.mapValues)(n,function(e){var t=Object(i.get)(e,"rates",[]),n=1===t.length?t[0]:Object(i.find)(t,function(e){return e.is_selected});return n?n.service_id:""}),available:n}})}):e},Ht[Ye.Y]=function(e,t){var n=t.requestData;return Object(i.isEqual)(n,e.form.rates.retrievalInProgress)?_()({},e,{form:_()({},e.form,{rates:_()({},e.form.rates,{retrievalInProgress:null})})}):e},Ht[Ye.C]=function(e){return _()({},e,{form:_()({},e.form,{needsPrintConfirmation:!1,rates:_()({},e.form.rates,{available:{}})})})},Ht[Ye.U]=function(e,t){var n=t.labelId;return _()({},e,{refundDialog:{labelId:n}})},Ht[Ye.G]=function(e){return e.refundDialog.isSubmitting?e:_()({},e,{refundDialog:null})},Ht[Ye.tb]=function(e,t){var n=t.labelId,r=t.response,s=t.error;s&&(r={});var o=Object(i.findIndex)(e.labels,{label_id:n}),a=_()({},e.labels[o],r,{statusUpdated:!0}),c=_()({},e,{labels:N()(e.labels),refreshedLabelStatus:!0});return c.labels[o]=a,c},Ht[Ye.ab]=function(e){return _()({},e,{refundDialog:_()({},e.refundDialog,{isSubmitting:!0})})},Ht[Ye.bb]=function(e,t){var n=t.response,r=t.error;if(r)return _()({},e,{refundDialog:_()({},e.refundDialog,{isSubmitting:!1})});var s=Object(i.findIndex)(e.labels,{label_id:e.refundDialog.labelId}),o=_()({},e.labels[s],{refund:n}),a=_()({},e,{refundDialog:null,labels:N()(e.labels)});return a.labels[s]=o,a},Ht[Ye.V]=function(e,t){var n=t.labelId;return _()({},e,{reprintDialog:{labelId:n,isFetching:!0}})},Ht[Ye.fb]=function(e,t){var n=t.labelId,r=t.fileData;return Object(i.get)(e,"reprintDialog.labelId")!==n?e:_()({},e,{reprintDialog:{labelId:n,fileData:r,isFetching:!1}})},Ht[Ye.eb]=function(e,t){var n=t.labelId;return Object(i.get)(e,"reprintDialog.labelId")!==n?e:_()({},e,{reprintDialog:{labelId:n,isFetching:!1}})},Ht[Ye.H]=function(e){return _()({},e,{reprintDialog:null})},Ht[Ye.J]=function(e){return _()({},e,{reprintDialog:_()({},e.reprintDialog,{isFetching:!0})})},Ht[Ye.Q]=function(e,t){var n=t.labelId;return _()({},e,{detailsDialog:{labelId:n}})},Ht[Ye.E]=function(e){return _()({},e,{detailsDialog:null})},Ht[s.Lb]=function(){return Gt()};var Wt,Bt=Object(r.e)("orderId",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt(),t=arguments.length>1?arguments[1]:void 0;return Ht[t.type]?Ht[t.type](e,t):e}),Qt=Object(r.c)(null,(Wt={},d()(Wt,Ye.zb,function(){return de.b}),d()(Wt,Ye.Ab,function(e,t){var n=t.data;return n}),Wt)),zt=Object(r.e)("methodId",Qt),Yt={};Yt[Ye.Bb]=function(e,t){var n=t.instanceId;return _()({},e,d()({},n,de.b))},Yt[Ye.Cb]=function(e,t){var n=t.instanceId;return _()({},e,d()({},n,!0))},Yt[s.ve]=function(e,t){var n=t.data;return Yt[Ye.Cb](e,{instanceId:n.id})};var Kt=Object(r.c)({},Yt),Jt=Object(r.e)("siteId",Object(r.b)({labelSettings:Dt,packages:xt,shippingLabel:Bt,shippingMethodSchemas:zt,shippingZoneMethodSettings:Kt})),Zt={ui:ie,sites:Tt,actionList:Ct,wcApi:wt,woocommerceServices:Jt};t.default=Object(r.b)(Zt)},"./client/extensions/woocommerce/state/sites/orders/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return p});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/extensions/woocommerce/lib/currency/index.js"),a=n("./client/extensions/woocommerce/lib/order-status/index.js"),c={page:1,per_page:50,search:"",status:"any"};function u(e){return e.status&&(e.status=Object(a.d)(e.status)),Object(s.omitBy)(e,function(e,t){return c[t]===e})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=u(e),n=JSON.stringify(t);return n}function d(e){for(var t=i()({},e),n=["line_items","fee_lines","coupon_lines","shipping_lines"],r=0;r<n.length;r++){var o=n[r];e[o]&&(t[o]=e[o].map(function(e){return Object(s.isFinite)(e.id)?e:Object(s.omit)(e,"id")}))}return t}function p(e){Object(s.forEach)(["cart_tax","discount_total","discount_tax","shipping_total","shipping_tax","total","total_tax"],function(t){(Object(s.isFinite)(e[t])||e[t])&&(e[t]=Object(o.b)(e[t],e.currency))});var t=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return t.map(function(t){return Object(s.forEach)(n,function(e){(Object(s.isFinite)(t[e])||t[e])&&(t[e]=t[e].toString())}),Object(s.forEach)(r,function(n){(Object(s.isFinite)(t[n])||t[n])&&(t[n]=Object(o.b)(t[n],e.currency))}),Object(s.forEach)(i,function(e){(Object(s.isFinite)(t[e])||t[e])&&(t[e]=parseInt(t[e]))}),Object(s.forEach)(a,function(n){(Object(s.isFinite)(t[n])||t[n])&&(t[n]=Object(o.a)(t[n],e.currency))}),t})};return Object(s.isEmpty)(e.line_items)||(e.line_items=t(e.line_items,["name","tax_class"],["subtotal","subtotal_tax","total","total_tax"],["product_id","variation_id","quantity"],["price"])),Object(s.isEmpty)(e.shipping_lines)||(e.shipping_lines=t(e.shipping_lines,["method_title","method_id"],["total","total_tax"])),Object(s.isEmpty)(e.fee_lines)||(e.fee_lines=t(e.fee_lines,["name","tax_class","tax_status"],["total","total_tax"])),Object(s.isEmpty)(e.coupon_lines)||(e.coupon_lines=t(e.coupon_lines,["code"],["discount","discount_tax"])),Object(s.isEmpty)(e.refunds)||(e.refunds=t(e.refunds,["reason"],["total"])),e.billing&&""===e.billing.email&&delete e.billing.email,e}},"./client/extensions/woocommerce/state/sites/product-categories/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o});var r=n("./node_modules/lodash/lodash.js"),i={page:1,per_page:100,search:""};function s(e){return Object(r.omitBy)(e,function(e,t){return i[t]===e})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s(e),n=JSON.stringify(t);return n}},"./client/extensions/woocommerce/state/sites/products/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o});var r=n("./node_modules/lodash/lodash.js"),i={page:1,per_page:10,search:""};function s(e){return Object(r.omitBy)(e,function(e,t){return i[t]===e})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s(e),n=JSON.stringify(t);return n}},"./client/extensions/woocommerce/state/sites/promotions/helpers.js":function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return c});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/extensions/woocommerce/lib/formatted-variation-name/index.js");function s(e){var t=e.sale_price,n=e.date_on_sale_from||void 0,r=e.date_on_sale_to||void 0,s=e.id,o=e.productId;return{id:"p"+e.id,name:function(e){if(e.productId)return e.name+" ("+Object(i.a)(e)+")";return e.name}(e),type:"product_sale",appliesTo:{productIds:[e.id]},salePrice:t,startDate:n,endDate:r,productId:s,parentId:o}}function o(e){var t=e.appliesTo||{},n=t.productIds,r=n&&n[0],i=null===e.startDate?(new Date).toISOString():e.startDate,s=null===e.endDate?(new Date).toISOString():e.endDate;if(!r)throw new Error("Cannot create product from promotion, product id not found.");return{id:r,sale_price:e.salePrice,date_on_sale_from:i,date_on_sale_to:s}}function a(e){var t=Object(r.find)(e.meta_data,{key:"promotion_type"}),n=t?t.value:e.discount_type,i=e.code,s=e.date_created,o=e.date_expires||void 0,a=e.individual_use||void 0,c=e.usage_limit||void 0,u=e.usage_limit_per_user||void 0,l=e.free_shipping||void 0,d="0.00"!==e.minimum_amount?e.minimum_amount:void 0,p="0.00"!==e.maximum_amount?e.maximum_amount:void 0,m={id:"c"+e.id,name:e.code,type:n,appliesTo:function(e){var t=e.product_ids,n=e.product_categories,r={all:!0};t&&t.length&&(r.productIds=t,r.all=!1);n&&n.length&&(r.productCategoryIds=n,r.all=!1);return r}(e),couponCode:i,startDate:s,endDate:o,individualUse:a,usageLimit:c,usageLimitPerUser:u,freeShipping:l,minimumAmount:d,maximumAmount:p,couponId:e.id};switch(e.discount_type){case"percent":m.percentDiscount=e.amount;break;case"fixed_cart":case"fixed_product":m.fixedDiscount=e.amount}return m}function c(e){var t=e.appliesTo;if(!e.couponCode)throw new Error("Cannot create coupon from promotion with nonexistant couponCode");var n=void 0,r=e.freeShipping,i=e.type,s=[{key:"promotion_type",value:e.type}],o=t&&t.productIds||void 0,a=t&&t.productCategoryIds||void 0;t&&t.all&&(o=[],a=[]);var c=null===e.endDate?(new Date).toISOString():e.endDate;switch(e.type){case"percent":n=e.percentDiscount;break;case"fixed_product":case"fixed_cart":n=e.fixedDiscount;break;case"free_shipping":r=!0,i=void 0}return{id:e.couponId,discount_type:i,code:e.couponCode,amount:n,date_expires:c,individual_use:e.individualUse,usage_limit:e.usageLimit,usage_limit_per_user:e.usageLimitPerUser,free_shipping:r,minimum_amount:e.minimumAmount,maximum_amount:e.maximumAmount,product_ids:o,product_categories:a,meta_data:s}}},"./client/extensions/woocommerce/state/sites/reviews/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o});var r=n("./node_modules/lodash/lodash.js"),i={page:1,per_page:10,search:"",status:"pending"};function s(e){return Object(r.omitBy)(e,function(e,t){return i[t]===e})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s(e),n=JSON.stringify(t);return n}},"./client/extensions/woocommerce/state/ui/helpers.js":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js");function i(e){return{index:(e||[]).length}}function s(e){return e&&!Object(r.isObject)(e.id)?"updates":"creates"}},"./client/extensions/woocommerce/state/ui/shipping/zones/locations/helpers.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=function(e,t){if(!t||t.pristine)return e;var n=e.journal,r=e.states,o=t.journal,a=t.states,c=t.postcode,u=null;return null!==a&&(null===r?u=a:(u={add:a.removeAll?[]:i()(r.add),remove:a.removeAll?[]:i()(r.remove),removeAll:r.removeAll||a.removeAll},Object(s.pullAll)(u.add,a.remove),Object(s.pullAll)(u.remove,a.add),u.add=Object(s.union)(u.add,a.add),u.remove=Object(s.union)(u.remove,a.remove))),{journal:i()(n).concat(i()(o)),states:u,postcode:c,pristine:t.pristine&&e.pristine}}},"./client/extensions/woocommerce/state/ui/shipping/zones/locations/reducer.js":function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"c",function(){return f});var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),c=n.n(a),u=n("./node_modules/lodash/lodash.js"),l=n("./client/state/utils.js"),d=n("./client/extensions/woocommerce/state/action-types.js"),p=n("./client/extensions/woocommerce/state/ui/shipping/zones/locations/helpers.js"),m={ADD_CONTINENT:"ADD_CONTINENT",REMOVE_CONTINENT:"REMOVE_CONTINENT",ADD_COUNTRY:"ADD_COUNTRY",REMOVE_COUNTRY:"REMOVE_COUNTRY"},f={journal:[],states:null,postcode:null,pristine:!0},_={};_[d.Qd]=function(e){return c()({},e,{temporaryChanges:c()({},f)})},_[d.Pd]=function(e){var t=e.temporaryChanges,n=o()(e,["temporaryChanges"]);return Object(p.a)(n,t)},_[d.Od]=function(e){return c()({},e,{temporaryChanges:null})},_[d.Xd]=function(e,t){var n=t.continentCode,r=t.selected;return c()({},e,{temporaryChanges:c()({},e.temporaryChanges,{states:null,postcode:null,journal:i()(e.temporaryChanges.journal).concat([{action:r?m.ADD_CONTINENT:m.REMOVE_CONTINENT,code:n}])})})},_[d.Yd]=function(e,t){var n=t.countryCode,r=t.selected;return c()({},e,{temporaryChanges:c()({},e.temporaryChanges,{states:null,postcode:null,journal:i()(e.temporaryChanges.journal).concat([{action:r?m.ADD_COUNTRY:m.REMOVE_COUNTRY,code:n}])})})},_[d.Zd]=function(e,t){var n=t.stateCode,r=t.selected,s=e.temporaryChanges.states||{add:[],remove:[],removeAll:!1},o=i()(s.add),a=i()(s.remove),l=s.removeAll;return r?(Object(u.find)(o,n)||o.push(n),Object(u.pull)(a,n)):(Object(u.find)(a,n)||a.push(n),Object(u.pull)(o,n)),c()({},e,{temporaryChanges:c()({},e.temporaryChanges,{states:{add:o,remove:a,removeAll:l}})})},_[d.Rd]=function(e,t){var n=t.postcode;return c()({},e,{temporaryChanges:c()({},e.temporaryChanges,{postcode:n})})},_[d.Ud]=function(e){return c()({},e,{temporaryChanges:c()({},e.temporaryChanges,{postcode:null,states:null})})},_[d.Td]=function(e){return c()({},e,{temporaryChanges:c()({},e.temporaryChanges,{postcode:null,states:{add:[],remove:[],removeAll:!0}})})},_[d.Sd]=function(e){return c()({},e,{temporaryChanges:c()({},e.temporaryChanges,{postcode:"",states:null})})};var E=Object(l.c)(f,_);t.b=function(e,t){var n=E(e,t);return e.temporaryChanges&&n.temporaryChanges&&e.temporaryChanges!==n.temporaryChanges&&(n.temporaryChanges.pristine=!1),n}},"./client/extensions/woocommerce/state/ui/shipping/zones/methods/helpers.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/extensions/woocommerce/state/ui/helpers.js"),a=function(e,t){if(!t)return e;var n=e.creates,r=e.updates,a=e.deletes,c=t.creates,u=t.updates,l=t.deletes,d=t.currentlyEditingId,p=t.currentlyEditingNew,m=t.currentlyEditingChangedType,f={creates:i()(n),updates:i()(r),deletes:i()(a),currentlyEditingId:d,currentlyEditingNew:p,currentlyEditingChangedType:m};return l.forEach(function(e){var t=e.id,n=Object(o.a)({id:t});"updates"===n&&f.deletes.push({id:t}),Object(s.remove)(f[n],{id:t})}),c.forEach(function(e){var t=Object(s.findIndex)(n,{id:e.id});-1===t?f.creates.push(e):f.creates[t]=Object(s.merge)({},f.creates[t],e)}),u.forEach(function(e){var t=Object(s.findIndex)(r,{id:e.id});-1===t?f.updates.push(e):f.updates[t]=Object(s.merge)({},f.updates[t],e)}),f}},"./client/extensions/woocommerce/state/ui/shipping/zones/methods/reducer.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),c=n.n(a),u=n("./node_modules/lodash/lodash.js"),l=n("./client/state/utils.js"),d=n("./client/extensions/woocommerce/state/action-types.js"),p=n("./client/extensions/woocommerce/state/ui/helpers.js"),m={};m[d.re]=function(e,t){var n=t.isTaxable;return c()({},e,{tax_status:n?"taxable":"none"})},m[d.pe]=function(e,t){var n=t.cost;return c()({},e,{cost:n})};var f=Object(l.c)({tax_status:"none",cost:5},m),_={};_[d.oe]=function(e,t){var n=t.condition;return c()({},e,{requires:n})},_[d.qe]=function(e,t){var n=t.cost;return c()({},e,{min_amount:n})};var E=Object(l.c)({requires:"",min_amount:0},_),b={};b[d.re]=function(e,t){var n=t.isTaxable;return c()({},e,{tax_status:n?"taxable":"none"})},b[d.pe]=function(e,t){var n=t.cost;return c()({},e,{cost:n})};var g=Object(l.c)({tax_status:"none",cost:0},b),h=n("./client/extensions/woocommerce/woocommerce-services/state/action-types.js"),O={};O[h.x]=function(e,t){return Object(u.setWith)(Object(u.clone)(e),t.path,t.value,u.clone)};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"function"==typeof O[t.type]?O[t.type](e,t):e};n.d(t,"a",function(){return j}),n.d(t,"c",function(){return v});var j={flat_rate:f,free_shipping:E,local_pickup:g,wc_services_usps:y,wc_services_canada_post:y,wc_services_fedex:y},v={creates:[],updates:[],deletes:[],currentlyEditingId:null,currentlyEditingNew:!1,currentlyEditingChangedType:!1},S={},I=function(e){return{index:Object(u.isEmpty)(e.creates)?0:e.creates[e.creates.length-1].id.index+1}};S[d.ee]=function(e,t){var n=t.methodType,r=t.title,i=I(e),s={id:i,methodType:n};return j[n]&&(s=c()({},s,{title:r},j[n](void 0,t))),c()({},e,{currentlyEditingId:i,currentlyEditingNew:!0,currentlyEditingChangedType:!1,currentlyEditingChanges:s})},S[d.me]=function(e,t){return c()({},e,{currentlyEditingId:t.methodId,currentlyEditingChanges:{},currentlyEditingChangedType:!1,currentlyEditingNew:!1})},S[d.fe]=function(e){return c()({},e,{currentlyEditingId:null,currentlyEditingChangedType:!1,currentlyEditingNew:!1})},S[d.he]=function(e){var t=e,n=t.currentlyEditingId,r=t.currentlyEditingChanges,s=t.currentlyEditingNew,a=t.currentlyEditingChangedType;if(null===n)return e;if(Object(u.isEmpty)(r))return c()({},e,{currentlyEditingChangedType:!1,currentlyEditingNew:!1,currentlyEditingId:null});var l=Object(p.a)({id:n});if(s)return c()({},e,{creates:o()(e.creates).concat([r]),currentlyEditingId:null,currentlyEditingNew:!1,currentlyEditingChangedType:!1,currentlyEditingChanges:{}});if(a){var m=Object(u.find)(e[l],{id:n}),f=n;return m&&!Object(u.isNil)(m._originalId)&&(f=m._originalId),e=S[d.ne](e,{methodId:n}),c()({},e,{currentlyEditingId:null,currentlyEditingChangedType:!1,currentlyEditingNew:!1,creates:o()(e.creates).concat([c()({},r,{enabled:Object(u.isNil)(r.enabled)?m&&m.enabled:r.enabled,id:I(e),_originalId:f})])})}var _=!1,E=e[l].map(function(e){return Object(u.isEqual)(n,e.id)?(_=!0,c()({},e,r)):e});return _||E.push(c()({id:n},r)),c()({},e,i()({currentlyEditingId:null,currentlyEditingChangedType:!1,currentlyEditingNew:!1},l,E))},S[d.ne]=function(e,t){var n=t.methodId,r=c()({},e,{currentlyEditingId:null}),i=Object(p.a)({id:n});return"updates"===i&&(r.deletes=o()(e.deletes).concat([{id:n}])),r[i]=Object(u.reject)(e[i],{id:n}),r},S[d.ge]=function(e,t){var n=t.methodType,r=t.title;if(!j[n])return e;var i=c()({},j[n](void 0,t),{id:e.currentlyEditingId,title:r,methodType:n,enabled:e.currentlyEditingChanges&&e.currentlyEditingChanges.enabled});return c()({},e,{currentlyEditingChangedType:!0,currentlyEditingChanges:i})},S[d.le]=function(e,t){var n=t.title;return c()({},e,{currentlyEditingChanges:c()({},e.currentlyEditingChanges,{title:n})})},S[d.te]=function(e,t){var n=t.enabled;return c()({},e,{currentlyEditingChanges:c()({},e.currentlyEditingChanges,{enabled:n})})},S[d.se]=function(e,t){var n=t.methodId,r=t.enabled,s=Object(p.a)({id:n}),a=Object(u.findIndex)(e[s],{id:n});if(-1===a)return c()({},e,i()({},s,o()(e[s]).concat([{id:n,enabled:r}])));var l=c()({},e[s][a],{enabled:r});return c()({},e,i()({},s,o()(e[s].slice(0,a)).concat([l],o()(e[s].slice(a+1)))))},S[d.ve]=function(e,t){var n=t.data,r=t.originatingAction,i=r.methodId,s=r.method,a=Object(p.a)({id:i}),l=c()({},e,{currentlyEditingId:null});if("creates"===a){var d=Object(u.find)(e.creates,{id:i});d&&(l.updates=o()(e.updates).concat([c()({},d,{id:n.id})])),l.creates=Object(u.reject)(e[a],{id:i})}else{var m=Object(u.find)(e.updates,{id:i}),f=Object(u.omit)(m,Object.keys(s));if(Object(u.isEmpty)(Object(u.omit)(f,["id","methodType"])))l.updates=Object(u.reject)(e.updates,{id:i});else{var _=Object(u.findIndex)(e.updates,{id:i});l.updates=o()(e[a].slice(0,_)).concat([f],o()(e[a].slice(_+1)))}}return l},S[d.ke]=function(e,t){var n=t.originatingAction.methodId;return c()({},e,{creates:Object(u.reject)(e.creates,{id:n}),updates:Object(u.reject)(e.updates,{id:n}),deletes:Object(u.reject)(e.deletes,{id:n}),currentlyEditingId:null})};var T=Object(l.c)(v,S);t.b=function(e,t){if(S[t.type])return T(e,t);var n=t.methodId,r=t.methodType;if(n&&r&&j[r]){var i=e.currentlyEditingChanges,s=j[r](i,t);if(s!==i)return c()({},e,{currentlyEditingChanges:s})}return e}},"./client/extensions/woocommerce/woocommerce-services/lib/utils/get-box-dimensions.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(r);t.a=function(e){var t;t=e.outer_dimensions?e.outer_dimensions.match(/([-.0-9]+).+?([-.0-9]+).+?([-.0-9]+)/):e.inner_dimensions.match(/([-.0-9]+).+?([-.0-9]+).+?([-.0-9]+)/);var n=t.slice(1).map(Number),r=i()(n,3),s=r[0],o=r[1],a=r[2];return{length:s,width:o,height:a}}},"./client/extensions/woocommerce/woocommerce-services/state/action-types.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"m",function(){return _}),n.d(t,"n",function(){return E}),n.d(t,"o",function(){return b}),n.d(t,"q",function(){return g}),n.d(t,"p",function(){return h}),n.d(t,"r",function(){return O}),n.d(t,"s",function(){return y}),n.d(t,"t",function(){return j}),n.d(t,"u",function(){return v}),n.d(t,"v",function(){return S}),n.d(t,"w",function(){return I}),n.d(t,"A",function(){return T}),n.d(t,"x",function(){return C}),n.d(t,"B",function(){return R}),n.d(t,"y",function(){return A}),n.d(t,"z",function(){return N}),n.d(t,"C",function(){return w}),n.d(t,"D",function(){return P}),n.d(t,"E",function(){return U}),n.d(t,"F",function(){return D}),n.d(t,"G",function(){return k}),n.d(t,"H",function(){return L}),n.d(t,"I",function(){return M}),n.d(t,"J",function(){return x}),n.d(t,"K",function(){return F}),n.d(t,"L",function(){return V}),n.d(t,"M",function(){return G}),n.d(t,"N",function(){return q}),n.d(t,"O",function(){return H}),n.d(t,"P",function(){return W}),n.d(t,"Q",function(){return B}),n.d(t,"R",function(){return Q}),n.d(t,"S",function(){return z}),n.d(t,"T",function(){return Y}),n.d(t,"U",function(){return K}),n.d(t,"V",function(){return J}),n.d(t,"W",function(){return Z}),n.d(t,"X",function(){return $}),n.d(t,"Y",function(){return X}),n.d(t,"Z",function(){return ee}),n.d(t,"ab",function(){return te}),n.d(t,"bb",function(){return ne}),n.d(t,"cb",function(){return re}),n.d(t,"db",function(){return ie}),n.d(t,"eb",function(){return se}),n.d(t,"fb",function(){return oe}),n.d(t,"gb",function(){return ae}),n.d(t,"hb",function(){return ce}),n.d(t,"ib",function(){return ue}),n.d(t,"jb",function(){return le}),n.d(t,"kb",function(){return de}),n.d(t,"lb",function(){return pe}),n.d(t,"mb",function(){return me}),n.d(t,"nb",function(){return fe}),n.d(t,"pb",function(){return _e}),n.d(t,"qb",function(){return Ee}),n.d(t,"rb",function(){return be}),n.d(t,"sb",function(){return ge}),n.d(t,"tb",function(){return he}),n.d(t,"ub",function(){return Oe}),n.d(t,"vb",function(){return ye}),n.d(t,"wb",function(){return je}),n.d(t,"ob",function(){return ve}),n.d(t,"yb",function(){return Se}),n.d(t,"xb",function(){return Ie}),n.d(t,"zb",function(){return Te}),n.d(t,"Ab",function(){return Ce}),n.d(t,"Bb",function(){return Re}),n.d(t,"Cb",function(){return Ae}),n.d(t,"Db",function(){return Ne});var r="WOOCOMMERCE_SERVICES_LABELS_INIT_FORM",i="WOOCOMMERCE_SERVICES_LABELS_RESTORE_PRISTINE",s="WOOCOMMERCE_SERVICES_LABELS_SET_FORM_DATA_VALUE",o="WOOCOMMERCE_SERVICES_LABELS_SET_FORM_META_PROPERTY",a="WOOCOMMERCE_SERVICES_LABELS_OPEN_ADD_CARD_DIALOG",c="WOOCOMMERCE_SERVICES_LABELS_CLOSE_ADD_CARD_DIALOG",u="WOOCOMMERCE_SERVICES_PACKAGES_ADD_PACKAGE",l="WOOCOMMERCE_SERVICES_PACKAGES_DISMISS_MODAL",d="WOOCOMMERCE_SERVICES_PACKAGES_EDIT_PACKAGE",p="WOOCOMMERCE_SERVICES_PACKAGES_INIT_PACKAGES_FORM",m="WOOCOMMERCE_SERVICES_PACKAGES_REMOVE_PACKAGE",f="WOOCOMMERCE_SERVICES_PACKAGES_REMOVE_PREDEFINED",_="WOOCOMMERCE_SERVICES_PACKAGES_SAVE_PACKAGE",E="WOOCOMMERCE_SERVICES_PACKAGES_SAVE_PREDEFINED",b="WOOCOMMERCE_SERVICES_PACKAGES_SET_ADD_MODE",g="WOOCOMMERCE_SERVICES_PACKAGES_SET_IS_FETCH_ERROR",h="WOOCOMMERCE_SERVICES_PACKAGES_SET_IS_FETCHING",O="WOOCOMMERCE_SERVICES_PACKAGES_SET_IS_SAVING",y="WOOCOMMERCE_SERVICES_PACKAGES_SET_MODAL_ERROR",j="WOOCOMMERCE_SERVICES_PACKAGES_TOGGLE_ALL_PREDEFINED",v="WOOCOMMERCE_SERVICES_PACKAGES_TOGGLE_OUTER_DIMENSIONS",S="WOOCOMMERCE_SERVICES_PACKAGES_TOGGLE_PREDEFINED",I="WOOCOMMERCE_SERVICES_PACKAGES_UPDATE_PACKAGES_FIELD",T="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_ADD_ITEMS",C="WOOCOMMERCE_SERVICES_SERVICE_SETTINGS_UPDATE_FIELD",R="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_ADD_PACKAGE",A="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_ADDRESS_NORMALIZATION_COMPLETED",N="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_ADDRESS_NORMALIZATION_IN_PROGRESS",w="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CLEAR_AVAILABLE_RATES",P="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CLOSE_ADD_ITEM",U="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CLOSE_DETAILS_DIALOG",D="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CLOSE_ITEM_MOVE",k="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CLOSE_REFUND_DIALOG",L="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CLOSE_REPRINT_DIALOG",M="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CONFIRM_ADDRESS_SUGGESTION",x="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CONFIRM_REPRINT",F="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_EDIT_ADDRESS",V="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_EDIT_UNVERIFIABLE_ADDRESS",G="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_EXIT_PRINTING_FLOW",q="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_INIT",H="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_MOVE_ITEM",W="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_ADD_ITEM",B="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_DETAILS_DIALOG",Q="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_ITEM_MOVE",z="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_PACKAGE",Y="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_PRINTING_FLOW",K="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_REFUND_DIALOG",J="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_REPRINT_DIALOG",Z="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_PURCHASE_REQUEST",$="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_PURCHASE_RESPONSE",X="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_RATES_RETRIEVAL_COMPLETED",ee="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_RATES_RETRIEVAL_IN_PROGRESS",te="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_REFUND_REQUEST",ne="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_REFUND_RESPONSE",re="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_REMOVE_IGNORE_VALIDATION",ie="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_REMOVE_PACKAGE",se="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_REPRINT_DIALOG_ERROR",oe="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_REPRINT_DIALOG_READY",ae="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SAVE_PACKAGES",ce="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SELECT_NORMALIZED_ADDRESS",ue="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_ADDED_ITEM",le="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_EMAIL_DETAILS",de="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_FETCH_ERROR",pe="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_FULFILL_ORDER",me="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_IS_FETCHING",fe="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_NORMALIZED_ADDRESS",_e="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_PACKAGE_TYPE",Ee="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_RATES",be="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_TARGET_PACKAGE",ge="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SHOW_PRINT_CONFIRMATION",he="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_STATUS_RESPONSE",Oe="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_TOGGLE_STEP",ye="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_UPDATE_ADDRESS_VALUE",je="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_UPDATE_PACKAGE_WEIGHT",ve="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_PACKAGE_SIGNATURE",Se="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_UPDATE_RATE",Ie="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_UPDATE_PAPER_SIZE",Te="WOOCOMMERCE_SERVICES_SHIPPING_METHOD_SCHEMA_REQUEST",Ce="WOOCOMMERCE_SERVICES_SHIPPING_METHOD_SCHEMA_REQUEST_SUCCESS",Re="WOOCOMMERCE_SERVICES_SHIPPING_ZONE_METHOD_SETTINGS_REQUEST",Ae="WOOCOMMERCE_SERVICES_SHIPPING_ZONE_METHOD_SETTINGS_REQUEST_SUCCESS",Ne="WOOCOMMERCE_SERVICES_SHIPPING_ZONE_METHOD_UPDATE"},"./client/extensions/wp-job-manager/state/action-types.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return m});var r="WP_JOB_MANAGER_CREATE_PAGES",i="WP_JOB_MANAGER_CREATE_PAGES_ERROR",s="WP_JOB_MANAGER_FETCH_SETUP_STATUS",o="WP_JOB_MANAGER_FETCH_SETUP_STATUS_ERROR",a="WP_JOB_MANAGER_FETCH_ERROR",c="WP_JOB_MANAGER_FETCH_SETTINGS",u="WP_JOB_MANAGER_SAVE_SETTINGS",l="WP_JOB_MANAGER_SAVE_SETUP_STATUS",d="WP_JOB_MANAGER_UPDATE_SETTINGS",p="WP_JOB_MANAGER_UPDATE_SETUP_STATUS",m="WP_JOB_MANAGER_WIZARD_NEXT_STEP"},"./client/extensions/wp-job-manager/state/reducer.js":function(e,t,n){"use strict";n.r(t);var r=n("./client/state/utils.js"),i=n("./client/extensions/wp-job-manager/state/action-types.js"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.data,r=t.type;return i.i===r?n:e};s.schema={type:"object",additionalProperties:!1,properties:{job_manager_per_page:{type:"integer"},job_manager_hide_filled_positions:{type:"boolean"},job_manager_hide_expired:{type:"boolean"},job_manager_hide_expired_content:{type:"boolean"},job_manager_enable_categories:{type:"boolean"},job_manager_enable_default_category_multiselect:{type:"boolean"},job_manager_category_filter_type:{type:"string"},job_manager_date_format:{type:"string"},job_manager_enable_types:{type:"boolean"},job_manager_multi_job_type:{type:"boolean"},job_manager_google_maps_api_key:{type:"string"},job_manager_user_requires_account:{type:"boolean"},job_manager_enable_registration:{type:"boolean"},job_manager_generate_username_from_email:{type:"boolean"},job_manager_registration_role:{type:"string"},job_manager_submission_requires_approval:{type:"boolean"},job_manager_user_can_edit_pending_submissions:{type:"boolean"},job_manager_submission_duration:{type:"integer"},job_manager_allowed_application_method:{type:"string"},job_manager_submit_job_form_page_id:{type:"integer"},job_manager_job_dashboard_page_id:{type:"integer"},job_manager_jobs_page_id:{type:"integer"}}};var o=Object(r.e)("siteId",Object(r.b)({fetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case i.d:return!0;case i.c:case i.i:return!1;default:return e}},items:s})),a=Object(r.e)("siteId",Object(r.b)({creating:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case i.a:return!0;case i.b:case i.k:return!1;default:return e}},fetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case i.e:return!0;case i.f:case i.j:return!1;default:return e}},nextStep:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;return i.k===n||e},status:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.setupStatus,r=t.type;return i.j===r?n:e}}));t.default=Object(r.b)({settings:o,setup:a})},"./client/extensions/wp-super-cache/state/action-types.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"m",function(){return _}),n.d(t,"o",function(){return E}),n.d(t,"n",function(){return b}),n.d(t,"p",function(){return g}),n.d(t,"q",function(){return h}),n.d(t,"r",function(){return O}),n.d(t,"v",function(){return y}),n.d(t,"w",function(){return j}),n.d(t,"s",function(){return v}),n.d(t,"t",function(){return S}),n.d(t,"u",function(){return I}),n.d(t,"x",function(){return T}),n.d(t,"y",function(){return C}),n.d(t,"z",function(){return R}),n.d(t,"A",function(){return A}),n.d(t,"B",function(){return N}),n.d(t,"C",function(){return w}),n.d(t,"D",function(){return P}),n.d(t,"E",function(){return U}),n.d(t,"F",function(){return D}),n.d(t,"G",function(){return k}),n.d(t,"H",function(){return L}),n.d(t,"I",function(){return M});var r="WP_SUPER_CACHE_DELETE_CACHE",i="WP_SUPER_CACHE_DELETE_CACHE_FAILURE",s="WP_SUPER_CACHE_DELETE_CACHE_SUCCESS",o="WP_SUPER_CACHE_DELETE_FILE",a="WP_SUPER_CACHE_DELETE_FILE_FAILURE",c="WP_SUPER_CACHE_DELETE_FILE_SUCCESS",u="WP_SUPER_CACHE_GENERATE_STATS",l="WP_SUPER_CACHE_GENERATE_STATS_FAILURE",d="WP_SUPER_CACHE_GENERATE_STATS_SUCCESS",p="WP_SUPER_CACHE_PRELOAD_CACHE",m="WP_SUPER_CACHE_PRELOAD_CACHE_FAILURE",f="WP_SUPER_CACHE_PRELOAD_CACHE_SUCCESS",_="WP_SUPER_CACHE_RECEIVE_PLUGINS",E="WP_SUPER_CACHE_RECEIVE_STATUS",b="WP_SUPER_CACHE_RECEIVE_SETTINGS",g="WP_SUPER_CACHE_REQUEST_PLUGINS",h="WP_SUPER_CACHE_REQUEST_PLUGINS_FAILURE",O="WP_SUPER_CACHE_REQUEST_PLUGINS_SUCCESS",y="WP_SUPER_CACHE_REQUEST_STATUS",j="WP_SUPER_CACHE_REQUEST_STATUS_FAILURE",v="WP_SUPER_CACHE_REQUEST_SETTINGS",S="WP_SUPER_CACHE_REQUEST_SETTINGS_FAILURE",I="WP_SUPER_CACHE_REQUEST_SETTINGS_SUCCESS",T="WP_SUPER_CACHE_RESTORE_SETTINGS",C="WP_SUPER_CACHE_RESTORE_SETTINGS_FAILURE",R="WP_SUPER_CACHE_RESTORE_SETTINGS_SUCCESS",A="WP_SUPER_CACHE_SAVE_SETTINGS",N="WP_SUPER_CACHE_SAVE_SETTINGS_FAILURE",w="WP_SUPER_CACHE_SAVE_SETTINGS_SUCCESS",P="WP_SUPER_CACHE_TEST_CACHE",U="WP_SUPER_CACHE_TEST_CACHE_FAILURE",D="WP_SUPER_CACHE_TEST_CACHE_SUCCESS",k="WP_SUPER_CACHE_TOGGLE_PLUGIN",L="WP_SUPER_CACHE_TOGGLE_PLUGIN_FAILURE",M="WP_SUPER_CACHE_TOGGLE_PLUGIN_SUCCESS"},"./client/extensions/wp-super-cache/state/reducer.js":function(e,t,n){"use strict";n.r(t);var r,i,s,o,a,c,u,l,d,p,m,f,_,E=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),b=n.n(E),g=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),h=n.n(g),O=n("./client/state/utils.js"),y=n("./client/extensions/wp-super-cache/state/action-types.js"),j=Object(O.c)({},(r={},b()(r,y.a,function(e,t){var n=t.siteId;return h()({},e,b()({},n,{deleting:!0,status:"pending"}))}),b()(r,y.c,function(e,t){var n=t.siteId;return h()({},e,b()({},n,{deleting:!1,status:"success"}))}),b()(r,y.b,function(e,t){var n=t.siteId;return h()({},e,b()({},n,{deleting:!1,status:"error"}))}),r)),v=Object(O.c)({},(i={},b()(i,y.j,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!0))}),b()(i,y.k,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),b()(i,y.l,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),i)),S=Object(O.c)({},(s={},b()(s,y.D,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!0))}),b()(s,y.E,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),b()(s,y.F,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),s)),I=Object(O.c)({},b()({},y.F,function(e,t){var n=t.siteId,r=t.data;return h()({},e,b()({},n,r))})),T=Object(O.b)({deleteStatus:j,items:I,preloading:v,testing:S}),C=Object(O.c)({},(o={},b()(o,y.p,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!0))}),b()(o,y.q,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),b()(o,y.r,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),o)),R=Object(O.c)({},(a={},b()(a,y.G,function(e,t){var n=t.siteId,r=t.plugin;return h()({},e,b()({},n,b()({},r,!0)))}),b()(a,y.I,function(e,t){var n=t.siteId,r=t.plugin;return h()({},e,b()({},n,b()({},r,!1)))}),b()(a,y.H,function(e,t){var n=t.siteId,r=t.plugin;return h()({},e,b()({},n,b()({},r,!1)))}),a)),A=Object(O.c)({},b()({},y.m,function(e,t){var n=t.siteId,r=t.plugins;return h()({},e,b()({},n,r))}),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",additionalProperties:!1,patternProperties:{"^\\w+$":{type:"object",properties:{desc:{type:"string"},enabled:{type:"boolean"},key:{type:"string"},title:{type:"string"},url:{type:"string"}}}}}}}),N=Object(O.b)({items:A,requesting:C,toggling:R}),w=Object(O.c)({},(c={},b()(c,y.o,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),b()(c,y.v,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!0))}),b()(c,y.w,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),c)),P=Object(O.c)({},b()({},y.o,function(e,t){return h()({},e,b()({},t.siteId,t.status))}),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object"}}}),U=Object(O.b)({items:P,requesting:w}),D=Object(O.c)({},(u={},b()(u,y.s,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!0))}),b()(u,y.t,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),b()(u,y.u,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),u)),k=Object(O.c)({},(l={},b()(l,y.A,function(e,t){var n=t.siteId;return h()({},e,b()({},n,{saving:!0,status:"pending",error:!1}))}),b()(l,y.C,function(e,t){var n=t.siteId;return h()({},e,b()({},n,{saving:!1,status:"success",error:!1}))}),b()(l,y.B,function(e,t){var n=t.siteId,r=t.error;return h()({},e,b()({},n,{saving:!1,status:"error",error:r}))}),l)),L=Object(O.c)({},(d={},b()(d,y.x,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!0))}),b()(d,y.y,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),b()(d,y.z,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),d)),M=Object(O.c)({},(p={},b()(p,y.n,function(e,t){var n=t.siteId,r=t.settings;return h()({},e,b()({},n,r))}),b()(p,y.l,function(e,t){var n=t.siteId,r=t.preloading;return h()({},e,b()({},n,h()({},e[n],{is_preloading:r})))}),p),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",items:{cache_acceptable_files:{type:"string"},cache_compression:{type:"boolean"},cache_direct_pages:{type:"array",items:{type:"string"}},cache_disable_locking:{type:"boolean"},cache_gc_email_me:{type:"boolean"},cache_hello_world:{type:"boolean"},cache_late_init:{type:"boolean"},cache_list:{type:"boolean"},cache_lock_down:{type:"boolean"},cache_max_time:{type:"integer"},cache_mobile_browsers:{type:"string"},cache_mobile_prefixes:{type:"string"},cache_mod_rewrite:{type:"boolean"},cache_next_gc:{type:"integer"},cache_path:{type:"string"},cache_path_url:{type:"string"},cache_rebuild:{type:"boolean"},cache_rejected_uri:{type:"string"},cache_rejected_user_agent:{type:"string"},cache_schedule_interval:{type:"string"},cache_schedule_type:{type:"string"},cache_scheduled_time:{type:"string"},cache_time_interval:{type:"integer"},cache_type:{type:"string"},clear_cache_on_post_edit:{type:"boolean"},disable_utf8:{type:"boolean"},dont_cache_logged_in:{type:"boolean"},front_page_checks:{type:"boolean"},is_cache_enabled:{type:"boolean"},is_mfunc_enabled:{type:"boolean"},is_mobile_enabled:{type:"boolean"},is_preloading:{type:"boolean"},is_super_cache_enabled:{type:"boolean"},make_known_anon:{type:"boolean"},minimum_preload_interval:{type:"integer"},no_cache_for_get:{type:"boolean"},ossdl_cname:{type:"string"},ossdl_https:{type:"boolean"},ossdl_off_cdn_url:{type:"string"},ossdl_off_exclude:{type:"string"},ossdl_off_include_dirs:{type:"string"},ossdlcdn:{type:"boolean"},pages:{type:"object",items:{archives:{type:"boolean"},author:{type:"boolean"},category:{type:"boolean"},feed:{type:"boolean"},frontpage:{type:"boolean"},home:{type:"boolean"},pages:{type:"boolean"},search:{type:"boolean"},single:{type:"boolean"},tag:{type:"boolean"}}},post_count:{type:"string"},preload_email_volume:{type:"string"},preload_interval:{type:"integer"},preload_on:{type:"boolean"},preload_posts:{type:"integer"},preload_taxonomies:{type:"boolean"},refresh_current_only_on_comments:{type:"boolean"},use_304_headers:{type:"boolean"},wp_super_cache_debug:{type:"boolean"},wp_cache_debug_ip:{type:"string"},wp_super_cache_comments:{type:"boolean"},wp_super_cache_front_page_check:{type:"string"},wp_super_cache_front_page_clear:{type:"boolean"},wp_super_cache_front_page_text:{type:"string"},wp_super_cache_front_page_notification:{type:"boolean"}}}}}),x=Object(O.b)({items:M,requesting:D,restoring:L,saveStatus:k}),F=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),V=n.n(F),G=n("./node_modules/lodash/lodash.js"),q={cached:{type:"integer"},cached_list:{type:"object"},expired:{type:"integer"},expired_list:{type:"object"},fsize:{type:"integer"}},H={type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",items:{supercache:{type:"object",items:q},wpcache:{type:"object",items:q}}}}},W=Object(O.c)({},(m={},b()(m,y.g,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!0))}),b()(m,y.h,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),b()(m,y.i,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),m)),B=Object(O.c)({},(f={},b()(f,y.d,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!0))}),b()(f,y.e,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),b()(f,y.f,function(e,t){var n=t.siteId;return h()({},e,b()({},n,!1))}),f)),Q=Object(O.c)({},(_={},b()(_,y.i,function(e,t){var n=t.siteId,r=t.stats;return h()({},e,b()({},n,r))}),b()(_,y.c,function(e,t){var n=t.siteId,r=t.deleteExpired,i={expired:0,expired_list:{}};return r||(i=h()({},i,{cached:0,cached_list:{}})),h()({},e,b()({},n,{supercache:h()({},e[n].supercache,i),wpcache:h()({},e[n].wpcache,i)}))}),b()(_,y.f,function(e,t){var n,r=t.siteId,i=t.url,s=t.isSupercache,o=t.isCached,a=s?"supercache":"wpcache",c=o?"cached_list":"expired_list",u=o?"cached":"expired",l=e[r][a][c],d=l[i],p=V()(l,[i]),m=Object(G.get)(d,"files",0);return h()({},e,b()({},r,h()({},e[r],b()({},a,h()({},e[r][a],(n={},b()(n,u,e[r][a][u]-m),b()(n,c,p),n))))))}),_),H),z=Object(O.b)({deleting:B,generating:W,items:Q});t.default=Object(O.b)({cache:T,plugins:N,status:U,settings:x,stats:z})},"./client/extensions/zoninator/state/action-types.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"l",function(){return f}),n.d(t,"m",function(){return _}),n.d(t,"n",function(){return E}),n.d(t,"o",function(){return b});var r="ZONINATOR_ADD_ZONE",i="ZONINATOR_DELETE_ZONE",s="ZONINATOR_REQUEST_ERROR",o="ZONINATOR_REQUEST_FEED",a="ZONINATOR_REQUEST_FEED_ERROR",c="ZONINATOR_REQUEST_LOCK",u="ZONINATOR_REQUEST_LOCK_ERROR",l="ZONINATOR_REQUEST_ZONES",d="ZONINATOR_RESET_LOCK",p="ZONINATOR_SAVE_FEED",m="ZONINATOR_SAVE_ZONE",f="ZONINATOR_UPDATE_FEED",_="ZONINATOR_UPDATE_LOCK",E="ZONINATOR_UPDATE_ZONE",b="ZONINATOR_UPDATE_ZONES"},"./client/extensions/zoninator/state/reducer.js":function(e,t,n){"use strict";n.r(t);var r,i,s,o,a=n("./client/state/utils.js"),c=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),u=n.n(c),l=n("./client/extensions/zoninator/state/action-types.js"),d=Object(a.c)({},(r={},u()(r,l.d,function(){return!0}),u()(r,l.e,function(){return!1}),u()(r,l.l,function(){return!1}),r)),p=Object(a.e)("siteId",Object(a.e)("zoneId",d)),m=Object(a.c)({},u()({},l.l,function(e,t){var n=t.posts;return n})),f=Object(a.e)("siteId",Object(a.e)("zoneId",m)),_=Object(a.b)({requesting:p,items:f}),E=Object(a.c)(!1,(i={},u()(i,l.m,function(){return!1}),u()(i,l.g,function(){return!0}),i)),b=Object(a.c)(0,u()({},l.i,function(e,t){var n=t.time;return n})),g=Object(a.c)(0,u()({},l.m,function(e,t){return t.expires})),h=Object(a.c)(0,u()({},l.m,function(e,t){return t.maxLockPeriod})),O=Object(a.b)({blocked:E,created:b,expires:g,maxLockPeriod:h}),y=Object(a.e)("siteId",Object(a.e)("zoneId",O)),j=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),v=n.n(j),S=Object(a.c)({},(s={},u()(s,l.h,function(e,t){var n=t.siteId;return v()({},e,u()({},n,!0))}),u()(s,l.o,function(e,t){var n=t.siteId;return v()({},e,u()({},n,!1))}),u()(s,l.c,function(e,t){var n=t.siteId;return v()({},e,u()({},n,!1))}),s)),I=Object(a.c)({},(o={},u()(o,l.o,function(e,t){var n=t.siteId,r=t.data;return v()({},e,u()({},n,r))}),u()(o,l.n,function(e,t){var n=t.siteId,r=t.zoneId,i=t.data;return v()({},e,u()({},n,v()({},e[n],u()({},r,i))))}),o),{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",patternProperties:{"^\\d+$":{type:"object",properties:{id:{type:"integer"},name:{type:"string"},slug:{type:"string"},description:{type:"string"}}}}}}}),T=Object(a.b)({requesting:S,items:I});t.default=Object(a.b)({feeds:_,locks:y,zones:T})},"./client/layout/guided-tours/config.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r),s=function(e){var t=e.children,n=1===i.a.Children.count(t)?"guided-tours__single-button-row":"guided-tours__choice-button-row";return i.a.createElement("div",{className:n},t)},o=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(o),c=n("./node_modules/@babel/runtime/helpers/createClass.js"),u=n.n(c),l=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),d=n.n(l),p=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),m=n.n(p),f=n("./node_modules/@babel/runtime/helpers/inherits.js"),_=n.n(f),E=n("./node_modules/lodash/lodash.js"),b=n("./node_modules/debug/src/browser.js"),g=n.n(b),h=g()("calypso:guided-tours"),O=function(e){var t,n;return n=t=function(t){function n(){return a()(this,n),d()(this,m()(n).apply(this,arguments))}return _()(n,t),u()(n,[{key:"render",value:function(){h("AllTours#render");var t=e[this.props.tourName];return t?i.a.createElement(t,Object(E.omit)(this.props,"tourName")):null}}]),n}(r.Component),t.meta=Object(E.mapValues)(e,Object(E.property)("meta")),n},y=n("./node_modules/prop-types/index.js"),j=n.n(y),v=Object.freeze({branching:j.a.object.isRequired,next:j.a.func.isRequired,quit:j.a.func.isRequired,start:j.a.func.isRequired,isValid:j.a.func.isRequired,isLastStep:j.a.bool.isRequired,tour:j.a.string.isRequired,tourVersion:j.a.string.isRequired,sectionName:j.a.string.isRequired,shouldPause:j.a.bool.isRequired,step:j.a.string.isRequired,lastAction:j.a.object,store:j.a.object}),S=function(e){function t(){return a()(this,t),d()(this,m()(t).apply(this,arguments))}return _()(t,e),u()(t,[{key:"render",value:function(){var e=this.context.isValid;return e(this.props.when)?this.props.children:null}}]),t}(i.a.PureComponent);S.propTypes={when:j.a.func.isRequired},S.contextTypes=v;var I=n("./node_modules/i18n-calypso/index.js"),T=n("./node_modules/gridicons/dist/index.js"),C=n.n(T),R=n("./client/lib/viewport/index.js"),A=n("./client/lib/scroll-to/index.js"),N=410,w=150,P=10,U=function(e,t){return Math.abs(t-e)/2},D=function(e){return e-w},k=function(e){return e+P},L=function(e,t,n){return e+N+P<document.documentElement.clientWidth?e+P:t-N-P>0?t-(N-n):P},M={below:function(e){var t=L(e.left,e.right,e.width),n=k(e.bottom);return{x:t,y:n}},above:function(e){var t=L(e.left,e.right,e.width),n=D(e.top);return{x:t,y:n}},beside:function(e){var t,n=e.left,r=e.right,i=e.top;return{x:(t=r,t<0||t+P+N>document.documentElement.clientWidth?function(e){return Math.max(0,e-P-N)}(n):r+P),y:i+P}},center:function(e){var t=e.left,n=e.right;return{x:Math.max(0,U(t,n)-N/2),y:.2*document.documentElement.clientHeight}},middle:function(e){var t=e.left,n=e.right;return{x:Math.max(0,U(t,n)-N/2),y:23.5+w/2}},right:function(){return{x:Math.max(0,document.documentElement.clientWidth-N-3*P),y:63}}},x=function(e){return[].slice.call(window.document.querySelectorAll(e))};function F(e){return e?-1!==e.indexOf(".")||-1!==e.indexOf("#")||-1!==e.indexOf(" ")?x(e)[0]:x('[data-tip-target="'+e+'"]')[0]:null}function V(e){var t=e.placement,n=void 0===t?"center":t,r=e.targetSlug,i=e.shouldScrollTo,s=void 0!==i&&i,o=e.scrollContainer,a=void 0===o?null:o,c=F(r),u=s?function(e,t){var n=t||G(),r=e.getBoundingClientRect(),i=r.top,s=r.bottom,o=Object(R.c)()?document.documentElement.clientHeight:n.clientHeight;if(s+P+w<=o)return 0;var a=n.scrollHeight-o-n.scrollTop,c=Math.min(.75*i,a);return Object(A.a)({y:c,container:n}),c}(c,a):0,l=c&&c.getBoundingClientRect?c.getBoundingClientRect():window.document.body.getBoundingClientRect(),d=M[function(e,t){var n=t&&t.dataset&&t.dataset.tipTarget;if("sidebar"===n&&Object(R.c)())return"middle";return t&&"center"!==e&&Object(R.c)()?"below":e}(n,c)](l);return{x:d.x,y:d.y-u+(0!==u?P:0)}}function G(){return Object(R.c)()?x("#secondary .sidebar")[0]:x("#secondary .sidebar .sidebar__region")[0]}var q=function(e){function t(e,n){var r;return a()(this,t),r=d()(this,m()(t).call(this,e,n)),r.onContinue=function(){var e=r.context,t=e.next,n=e.tour,i=e.tourVersion,s=e.step,o=r.props.step;t({tour:n,tourVersion:i,step:s,nextStepName:o})},r}return _()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.addTargetListener()}},{key:"componentWillUnmount",value:function(){this.removeTargetListener()}},{key:"componentWillReceiveProps",value:function(e,t){e.when&&t.isValid(e.when)&&this.onContinue()}},{key:"componentWillUpdate",value:function(){this.removeTargetListener()}},{key:"componentDidUpdate",value:function(){this.addTargetListener()}},{key:"addTargetListener",value:function(){var e=this.props,t=e.target,n=void 0!==t&&t,r=e.click,i=e.when,s=F(n);r&&!i&&s&&s.addEventListener&&(s.addEventListener("click",this.onContinue),s.addEventListener("touchstart",this.onContinue))}},{key:"removeTargetListener",value:function(){var e=this.props,t=e.target,n=void 0!==t&&t,r=e.click,i=e.when,s=F(n);r&&!i&&s&&s.removeEventListener&&(s.removeEventListener("click",this.onContinue),s.removeEventListener("touchstart",this.onContinue))}},{key:"defaultMessage",value:function(){return this.props.icon?Object(I.translate)("Click the {{icon/}} to continue.",{components:{icon:i.a.createElement(C.a,{icon:this.props.icon})}}):Object(I.translate)("Click to continue.")}},{key:"render",value:function(){return this.props.hidden?null:i.a.createElement("p",{className:"guided-tours__actionstep-instructions"},i.a.createElement("em",null,this.props.children||this.defaultMessage()))}}]),t}(r.Component);q.displayName="Continue",q.contextTypes=v,q.propTypes={click:j.a.bool,hidden:j.a.bool,icon:j.a.string,step:j.a.string.isRequired,target:j.a.string,when:j.a.func};var H=n("./client/components/external-link/index.jsx"),W=function(e){function t(e){return a()(this,t),d()(this,m()(t).call(this,e))}return _()(t,e),u()(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"guided-tours__external-link"},i.a.createElement(H.a,{target:"_blank",icon:!0,href:this.props.href},this.props.children))}}]),t}(r.Component);W.displayName="Link";var B=W,Q=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),z=n.n(Q),Y=Object(E.flow)(function(e){return Object(E.chunk)(e,2)},E.fromPairs),K=function e(t){if(!t||!t.props)return[];if(t.props.step){var n=t.type.displayName||t.type.name;return[n.toLowerCase(),t.props.step]}return Object(E.flatMap)(r.Children.toArray(t.props.children),function(t){return e(t)||[]})},J=g()("calypso:guided-tours"),Z=function(e){var t,n;return n=t=function(t){function n(e,t){var r;return a()(this,n),r=d()(this,m()(n).call(this,e,t)),r.setTourMeta(e),J("Anonymous#constructor",e,t),r}return _()(n,t),u()(n,[{key:"getChildContext",value:function(){return z()({},this.context,this.tourMeta)}}]),u()(n,[{key:"componentWillReceiveProps",value:function(e){J("Anonymous#componentWillReceiveProps"),this.setTourMeta(e)}},{key:"setTourMeta",value:function(t){var n,i,s,o=t.isValid,a=t.lastAction,c=t.next,u=t.quit,l=t.start,d=t.sectionName,p=t.shouldPause,m=t.stepName,f=m,_=(n=e,i=r.Children.toArray(n.props.children),s=i.map(K).map(Y),Object(E.zipObject)(i.map(Object(E.property)("props.name")),s));this.tourMeta={next:c,quit:u,start:l,isValid:o,lastAction:a,sectionName:d,shouldPause:p,step:f,branching:_,isLastStep:this.isLastStep({step:f,branching:_}),tour:e.props.name,tourVersion:e.props.version}}},{key:"isLastStep",value:function(e){var t=e.step,n=e.branching;return Object(E.isEmpty)(n[t])}},{key:"render",value:function(){return e}}]),n}(r.Component),t.propTypes={isValid:j.a.func.isRequired,lastAction:j.a.object,next:j.a.func.isRequired,quit:j.a.func.isRequired,shouldPause:j.a.bool.isRequired,stepName:j.a.string.isRequired},t.childContextTypes=v,t.meta=Object(E.omit)(e.props,"children"),n},$=n("./client/components/button/index.jsx"),X=function(e){function t(e,n){var r;return a()(this,t),r=d()(this,m()(t).call(this,e,n)),r.onClick=function(){var e=r.context,t=e.next,n=e.tour,i=e.tourVersion,s=e.step,o=r.props.step;t({tour:n,tourVersion:i,step:s,nextStepName:o})},r}return _()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.children;return i.a.createElement($.a,{primary:!0,onClick:this.onClick},e||Object(I.translate)("Next"))}}]),t}(r.Component);X.displayName="Next",X.propTypes={step:j.a.string.isRequired},X.contextTypes=v;var ee=function(e){function t(e,n){var r;return a()(this,t),r=d()(this,m()(t).call(this,e,n)),r.onClick=function(e){r.props.onClick&&r.props.onClick(e);var t=r.context,n=t.quit,i=t.tour,s=t.tourVersion,o=t.step,a=t.isLastStep;n({tour:i,tourVersion:s,step:o,isLastStep:a})},r}return _()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.addTargetListener()}},{key:"componentWillUnmount",value:function(){this.removeTargetListener()}},{key:"componentWillUpdate",value:function(){this.removeTargetListener()}},{key:"componentDidUpdate",value:function(){this.addTargetListener()}},{key:"addTargetListener",value:function(){var e=this.props.target,t=void 0!==e&&e,n=F(t);n&&n.addEventListener&&(n.addEventListener("click",this.onClick),n.addEventListener("touchstart",this.onClick))}},{key:"removeTargetListener",value:function(){var e=this.props.target,t=void 0!==e&&e,n=F(t);n&&n.removeEventListener&&(n.removeEventListener("click",this.onClick),n.removeEventListener("touchstart",this.onClick))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.primary,r=n?"guided-tours__primary-button":"guided-tours__quit-button";return i.a.createElement($.a,{className:r,onClick:this.onClick,primary:n},t||Object(I.translate)("Quit"))}}]),t}(r.Component);ee.displayName="Quit",ee.propTypes={primary:j.a.bool,target:j.a.string},ee.contextTypes=v;var te=n("./node_modules/react-redux/es/index.js"),ne=n("./client/state/ui/selectors.js"),re=n("./client/state/sites/selectors.js"),ie=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(i))),n.onClick=function(e){n.props.onClick&&n.props.onClick(e);var t=n.context,r=t.quit,i=t.tour,s=t.tourVersion,o=t.step,a=t.isLastStep;r({tour:i,tourVersion:s,step:o,isLastStep:a})},n}return _()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.href,r=e.siteSlug,s=e.isButton,o=n.replace(":site",r);return s?i.a.createElement($.a,{primary:!0,onClick:this.onClick,href:o},t):i.a.createElement("a",{onClick:this.onClick,href:o,className:"config-elements__text-link"},t)}}]),t}(r.Component);ie.propTypes={href:j.a.string,isButton:j.a.bool},ie.defaultProps={isButton:!1},ie.contextTypes=v;var se=Object(te.b)(function(e){var t=Object(ne.e)(e),n=Object(re.w)(e,t);return{siteId:t,siteSlug:n}},null)(ie),oe=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),ae=n.n(oe),ce=n("./node_modules/classnames/index.js"),ue=n.n(ce),le=n("./client/components/card/index.jsx"),de=n("./client/lib/path-to-section/index.js"),pe=g()("calypso:guided-tours"),me=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(i))),n.state={initialized:!1},n.observer=null,n.isUpdatingPosition=!1,n.onScrollOrResize=function(){n.isUpdatingPosition||(requestAnimationFrame(function(){n.setStepPosition(n.props),n.isUpdatingPosition=!1}),n.isUpdatingPosition=!0)},n}return _()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this;this.wait(this.props,this.context).then(function(){e.start(),e.setStepSection(e.context,{init:!0}),pe("Step#componentWillMount: stepSection:",e.stepSection),e.skipIfInvalidContext(e.props,e.context),e.scrollContainer=x(e.props.scrollContainer)[0]||window,e.setStepPosition(e.props),e.safeSetState({initialized:!0})})}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.wait(this.props,this.context).then(function(){window.addEventListener("resize",e.onScrollOrResize),e.watchTarget()}),this.props.keepRepositioning&&(this.repositionInterval=setInterval(this.onScrollOrResize,3e3))}},{key:"componentWillReceiveProps",value:function(e,t){var n=this,r=e.shouldScrollTo&&this.props.name!==e.name;this.wait(e,t).then(function(){n.setStepSection(t),n.quitIfInvalidRoute(e,t),n.skipIfInvalidContext(e,t),n.scrollContainer.removeEventListener("scroll",n.onScrollOrResize),n.scrollContainer=x(e.scrollContainer)[0]||window,n.scrollContainer.addEventListener("scroll",n.onScrollOrResize),n.setStepPosition(e,r),n.watchTarget()}),e.keepRepositioning?this.repositionInterval||(this.repositionInterval=setInterval(this.onScrollOrResize,3e3)):clearInterval(this.repositionInterval)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.safeSetState({initialized:!1}),window.removeEventListener("resize",this.onScrollOrResize),this.scrollContainer&&this.scrollContainer.removeEventListener("scroll",this.onScrollOrResize),this.unwatchTarget(),clearInterval(this.repositionInterval)}},{key:"start",value:function(){var e=this.context,t=e.start,n=e.step,r=e.tour,i=e.tourVersion;t({step:n,tour:r,tourVersion:i})}},{key:"wait",value:function(e,t){if(Object(E.isFunction)(e.wait)){var n=e.wait(e,t);if(Object(E.isFunction)(Object(E.get)(n,"then")))return n}return Promise.resolve()}},{key:"safeSetState",value:function(e){this.mounted?this.setState(e):this.state=z()({},this.state,e)}},{key:"watchTarget",value:function(){var e=this;this.props.target&&this.props.onTargetDisappear&&"undefined"!=typeof MutationObserver&&(this.observer||(this.observer=new MutationObserver(function(){var t=document.querySelector('[data-tip-target="'+e.props.target+'"]');t||e.props.onTargetDisappear({quit:function(){return e.context.quit(e.context)},next:function(){return e.skipToNext(e.props,e.context)}})}),this.observer.observe(document.body,{childList:!0,subtree:!0})))}},{key:"unwatchTarget",value:function(){this.observer&&this.observer.disconnect()}},{key:"setStepSection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.init,r=void 0!==n&&n;r?this.stepSection=e.sectionName:(pe("Step#componentWillReceiveProps: stepSection:",this.stepSection,e.sectionName),this.context.step!==e.step?this.stepSection=e.shouldPause?null:e.sectionName:!this.context.shouldPause||e.shouldPause||this.stepSection||(this.stepSection=e.sectionName))}},{key:"quitIfInvalidRoute",value:function(e,t){var n=this;if(t.step===this.context.step&&t.sectionName!==this.context.sectionName&&t.sectionName){var r=t.step,i=t.branching,s=t.lastAction,o=!!i[r].continue,a="ROUTE_SET"===s.type;pe("Step.quitIfInvalidRoute","step",r,"previousStep",this.context.step,"hasContinue",o,"hasJustNavigated",a,"lastAction",s,"path",s.path,"isDifferentSection",this.isDifferentSection(s.path)),!o&&a&&this.isDifferentSection(s.path)&&Object(E.defer)(function(){pe("Step.quitIfInvalidRoute: quitting (different section)"),n.context.quit(n.context)}),Object(E.defer)(function(){var e=n.context.quit,t=F(n.props.target);n.props.target&&!t?(pe("Step.quitIfInvalidRoute: quitting (cannot find target)"),e(n.context)):pe("Step.quitIfInvalidRoute: not quitting")})}}},{key:"isDifferentSection",value:function(e){return this.stepSection&&e&&this.stepSection!==Object(de.a)(e)}},{key:"skipToNext",value:function(e,t){var n=t.branching,r=t.next,i=t.step,s=t.tour,o=t.tourVersion;this.setAnalyticsTimestamp(t);var a,c,u=e.next||(a=n[i],c=Object.keys(a)[0],c&&a[c]),l=this.shouldSkipAnalytics();r({tour:s,tourVersion:o,step:i,nextStepName:u,skipping:l})}},{key:"skipIfInvalidContext",value:function(e,t){var n=e.canSkip,r=e.when;r&&!t.isValid(r)&&n&&this.skipToNext(e,t)}},{key:"setAnalyticsTimestamp",value:function(e){var t=e.step,n=e.shouldPause;(this.context.step!==t||this.context.shouldPause&&!n)&&(this.lastTransitionTimestamp=Date.now())}},{key:"shouldSkipAnalytics",value:function(){return this.lastTransitionTimestamp&&Date.now()-this.lastTransitionTimestamp<500}},{key:"setStepPosition",value:function(e,t){var n,r,i,s=e.placement,o=e.target,a=V({placement:s,targetSlug:o,shouldScrollTo:t,scrollContainer:this.scrollContainer}),c=(n=a,r=n.x,i=n.y,{top:i?i+"px":void 0,left:r?r+"px":void 0});this.setState({stepPos:a,stepCoords:c})}},{key:"render",value:function(){var e=this.props,t=e.when,n=e.children,r=this.context.isLastStep;if(!this.state.initialized)return null;if(pe("Step#render"),this.context.shouldPause)return pe("Step: shouldPause"),null;if(t&&!this.context.isValid(t))return null;var s=this.props,o=s.arrow,a=s.target,c=this.state,u=c.stepCoords,l=c.stepPos,d=[this.props.className,"guided-tours__step","guided-tours__step-glow","init"===this.context.step&&"guided-tours__step-first",r&&"guided-tours__step-finish",a&&"guided-tours__step-pointing",a&&"guided-tours__step-pointing-"+function(e){var t=e.targetSlug,n=e.arrow,r=e.stepPos,i=F(t),s=i&&i.getBoundingClientRect?i.getBoundingClientRect():window.document.body.getBoundingClientRect();return r.y>=s.top&&r.y<=s.bottom&&r.x>=s.left&&r.x<=s.right?"none":(Object(E.startsWith)(n,"left")||Object(E.startsWith)(n,"right"))&&N>.98*document.documentElement.clientWidth?"top-left":n||"none"}({targetSlug:a,arrow:o,stepPos:l})].filter(Boolean),p=z()({},this.props.style,u);return i.a.createElement(le.a,{className:ue.a.apply(void 0,ae()(d)),style:p},i.a.createElement(n,{translate:I.translate}))}}]),t}(r.Component);me.displayName="Step",me.propTypes={name:j.a.string.isRequired,placement:j.a.oneOf(["below","above","beside","center","middle","right"]),next:j.a.string,target:j.a.string,arrow:j.a.oneOf(["top-left","top-center","top-right","right-top","right-middle","right-bottom","bottom-left","bottom-center","bottom-right","left-top","left-middle","left-bottom"]),when:j.a.func,scrollContainer:j.a.string,shouldScrollTo:j.a.bool,style:j.a.object,canSkip:j.a.bool,wait:j.a.func,onTargetDisappear:j.a.func,keepRepositioning:j.a.bool,children:j.a.func.isRequired},me.defaultProps={canSkip:!0},me.contextTypes=v;var fe=function(e){function t(){return a()(this,t),d()(this,m()(t).apply(this,arguments))}return _()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.children,t=this.context.step,n=Array.isArray(e)?Object(E.find)(e,function(e){return e.props.name===t}):e;return n||null}}]),t}(r.Component);fe.propTypes={name:j.a.string.isRequired,version:j.a.string,path:j.a.oneOfType([j.a.string,j.a.arrayOf(j.a.string)]),when:j.a.func},fe.contextTypes=v;var _e=function(e){function t(e,n){var r;return a()(this,t),r=d()(this,m()(t).call(this,e,n)),r.onClick=function(e){r.props.onClick&&r.props.onClick(e);var t=r.context,n=t.quit,i=t.tour,s=t.tourVersion,o=t.step,a=t.isLastStep;n({tour:i,tourVersion:s,step:o,isLastStep:a})},r}return _()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.primary,r=e.subtle,s=e.href,o=e.target,a=ue()("guided-tours__button-link",{"guided-tours__subtle-button":r});return i.a.createElement($.a,{className:a,onClick:this.onClick,primary:n,href:s,target:o},t||Object(I.translate)("Quit"))}}]),t}(r.Component);_e.displayName="LinkQuit",_e.propTypes={primary:j.a.bool,subtle:j.a.bool,href:j.a.string,target:j.a.string},_e.contextTypes=v;var Ee=n("./client/state/ui/guided-tours/contexts.js");function be(e,t){return Object(I.localize)(function(n){var r=n.translate;return i.a.createElement("strong",null,t,t&&"",r(e))})}var ge=E.identity,he=be(ge("Add"),i.a.createElement(C.a,{icon:"add-outline"})),Oe=(be(ge("Add Media")),be(ge("Add New"),i.a.createElement(C.a,{icon:"add-image"}))),ye=(be(ge("All Themes")),be(ge("Change"))),je=be(ge("Continue")),ve=be(ge("Done")),Se=be(ge("Edit")),Ie=be(ge("Edit Image"),i.a.createElement(C.a,{icon:"pencil"})),Te=be(ge("Publish")),Ce=be(ge("Save Settings")),Re=be(ge("Set Featured Image")),Ae=(be(ge("Settings"),i.a.createElement(C.a,{icon:"cog"})),be(ge("Site Tagline"))),Ne=be(ge("Site Title")),we=be(ge("Update")),Pe=be(ge("View Site")),Ue=function(){return Object(A.a)({y:0,container:G()})},De=Z(i.a.createElement(fe,{name:"main",version:"20160601",path:"/",when:Object(E.overEvery)(Ee.f,Object(Ee.e)("guided-tours/main"))},i.a.createElement(me,{name:"init",placement:"right",style:{animationDelay:"2s"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("{{strong}}Need a hand?{{/strong}} We'd love to show you around the place, and give you some ideas for what to do next.",{components:{strong:i.a.createElement("strong",null)}})),i.a.createElement(s,null,i.a.createElement(X,{step:"my-sites"},t("Let's go!")),i.a.createElement(ee,null,t("No thanks."))))}),i.a.createElement(me,{name:"my-sites",target:"my-sites",placement:"below",arrow:"top-left"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("{{strong}}First things first.{{/strong}} Up here, you'll find tools for managing your site's content and design.",{components:{strong:i.a.createElement("strong",null)}})),i.a.createElement(q,{click:!0,icon:"my-sites",step:"sidebar",target:"my-sites"}))}),i.a.createElement(me,{name:"sidebar",target:"sidebar",arrow:"left-middle",placement:"beside"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("This menu lets you navigate around, and will adapt to give you the tools you need when you need them.")),i.a.createElement(s,null,i.a.createElement(X,{step:"click-preview"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"click-preview",target:"sitePreview",arrow:"top-left",placement:"below",when:Ee.i,scrollContainer:".sidebar__region"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Want to take a look at your site?")),i.a.createElement(q,{click:!0,step:"view-site",target:"sitePreview"},t("Click {{viewSiteButton/}} to continue.",{components:{viewSiteButton:i.a.createElement(Pe,null)}})),i.a.createElement(s,null,i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"view-site",placement:"center",when:Ee.i},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("This is what your site looks like to visitors.")),i.a.createElement(s,null,i.a.createElement(X,{step:"themes"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"themes",target:"themes",arrow:"top-left",placement:"below",when:Ee.h,scrollContainer:".sidebar__region",shouldScrollTo:!0},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Change your {{strong}}Theme{{/strong}} to choose a new layout, or {{strong}}Customize{{/strong}} your theme's colors, fonts, and more.",{components:{strong:i.a.createElement("strong",null)}})),i.a.createElement(s,null,i.a.createElement(X,{step:"finish"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"finish",placement:"center"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("{{strong}}That's it!{{/strong}} Now that you know a few of the basics, feel free to wander around.",{components:{strong:i.a.createElement("strong",null)}})),i.a.createElement(s,null,i.a.createElement(ee,{onClick:Ue,primary:!0},t("We're all done!"))),i.a.createElement(B,{href:"https://learn.wordpress.com"},t("Learn more about WordPress.com")))}))),ke=Z(i.a.createElement(fe,{name:"tutorialSitePreview",version:"20170101",path:"/stats",when:Object(E.overEvery)(Object(Ee.e)("guided-tours/tutorial-site-preview"),Ee.i,Ee.f)},i.a.createElement(me,{name:"init",target:"sitePreview",arrow:"top-left",placement:"below",scrollContainer:".sidebar__region",style:{animationDelay:"2s"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("{{viewSiteButton/}} shows you what your site looks like to visitors. Click it to continue.",{components:{viewSiteButton:i.a.createElement(Pe,null)}})),i.a.createElement(q,{hidden:!0,click:!0,step:"finish",target:"sitePreview"}),i.a.createElement(s,null,i.a.createElement(ee,{subtle:!0},t("No, thanks."))))}),i.a.createElement(me,{name:"finish",placement:"center"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Take a look around  and when you're done, explore the rest of WordPress.com.")),i.a.createElement(s,null,i.a.createElement(ee,{primary:!0},t("Got it."))))}))),Le=n("./client/state/current-user/selectors.js"),Me=n("./client/lib/analytics/index.js"),xe=function(){Me.default.tracks.recordEvent("calypso_editor_gdocs_tour_success")},Fe=Z(i.a.createElement(fe,{name:"gdocsIntegrationTour",version:"20170227",path:"/post",when:Object(E.overEvery)(Le.l,Ee.c)},i.a.createElement(me,{name:"init",placement:"right",style:{animationDelay:"2s"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Did you know you can create drafts from Google Docs?")),i.a.createElement(s,null,i.a.createElement(_e,{primary:!0,target:"_blank",onClick:xe,href:"https://apps.wordpress.com/google-docs/"},t("Learn more")),i.a.createElement(ee,null,t("No thanks"))))}))),Ve=Z(i.a.createElement(fe,{name:"simplePaymentsTour",version:"20170816",path:"/post/",when:Object(E.overEvery)(R.b,Ee.g,Le.l)},i.a.createElement(me,{name:"init",arrow:"top-left",target:".editor-html-toolbar__button-insert-content-dropdown, .mce-wpcom-insert-menu button",placement:"below",style:{animationDelay:"2s",marginLeft:"-10px",zIndex:"auto"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Did you know? Sites on the Premium and Business plans can add {{strong}}payment buttons{{/strong}}  sell tickets, collect donations, accept tips, and more.",{components:{strong:i.a.createElement("strong",null)}})),i.a.createElement(s,null,i.a.createElement(ee,{primary:!0},t("Got it, thanks!"))),i.a.createElement(B,{href:"https://en.support.wordpress.com/simple-payments"},t("Learn more about Simple Payments.")))}))),Ge=Z(i.a.createElement(fe,{name:"editorBasicsTour",version:"20170503",path:["/post/","/page/"],when:Object(E.overEvery)(R.b,Ee.f,Le.l)},i.a.createElement(me,{name:"init",arrow:"top-left",target:".editor-title",placement:"below",style:{animationDelay:"5s"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Welcome to the editor! Add a title here.")),i.a.createElement(s,null,i.a.createElement(X,{step:"write"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"write",arrow:"top-left",target:".editor-html-toolbar__buttons, .mce-toolbar-grp.mce-container",placement:"below",style:{marginTop:"40px"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Write your post in the content area.")),i.a.createElement("img",{src:"https://i0.wp.com/en-support.files.wordpress.com/2017/03/editor-content-area_360.gif",style:{marginBottom:"10px",border:"3px solid #00AADC",borderRadius:"4px"},alt:""}),i.a.createElement(s,null,i.a.createElement(X,{step:"add-things"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"add-things",arrow:"top-left",target:".editor-html-toolbar__button-insert-content-dropdown, .mce-wpcom-insert-menu button",placement:"below",style:{marginLeft:"-7px",zIndex:"auto"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Click the {{icon/}} to add images and other things, like a contact form. Sites on the Premium and Business plans can add {{strong}}payment buttons{{/strong}}  sell tickets, collect donations, accept tips, and more.",{components:{strong:i.a.createElement("strong",null),icon:i.a.createElement(C.a,{icon:"add-outline"})}})),i.a.createElement(s,null,i.a.createElement(X,{step:"sidebar-options"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"sidebar-options",arrow:"right-top",target:".editor-ground-control__toggle-sidebar",placement:"beside",style:{marginTop:"-9px"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Add tags, categories, and a featured image from the sidebar.")),i.a.createElement("p",null,t("Click the {{icon/}} to show or hide these settings.",{components:{icon:i.a.createElement(C.a,{icon:"cog"})}})),i.a.createElement(s,null,i.a.createElement(X,{step:"publish"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"publish",arrow:"right-top",target:".editor-ground-control__publish-button",placement:"beside",style:{marginTop:"-17px"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Your changes are saved automatically. Click {{publishButton/}} to share your work with the world!",{components:{publishButton:i.a.createElement(Te,null)}})),i.a.createElement(s,null,i.a.createElement(ee,{primary:!0},t("Got it, I'm ready to write!"))),i.a.createElement(B,{href:"https://learn.wordpress.com/get-published/"},t("Learn more about publishing content.")))}))),qe=Z(i.a.createElement(fe,{name:"mediaBasicsTour",version:"20170321",path:"/media",when:Object(E.overEvery)(R.b,Ee.f)},i.a.createElement(me,{name:"init",arrow:"top-left",target:".media-library__upload-buttons",placement:"below",style:{animationDelay:"2s"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Welcome to your media libary!")),i.a.createElement("p",null,t("Upload media  photos, documents, audio files, and more  by clicking the {{addNewButton/}} button.",{components:{addNewButton:i.a.createElement(Oe,null)}})),i.a.createElement(s,null,i.a.createElement(X,{step:"drag-and-drop"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"drag-and-drop",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("You can also drag-and-drop image and video files from your computer into your media library.")),i.a.createElement("img",{src:"https://i0.wp.com/en-support.files.wordpress.com/2017/07/media-drag-and-drop.gif",style:{marginBottom:"10px",border:"3px solid #00AADC",borderRadius:"4px"},alt:""}),i.a.createElement(s,null,i.a.createElement(X,{step:"select-image"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"select-image",placement:"below",arrow:"top-left",target:".media-library__list-item:not(.is-selected), .media-library__list-item",style:{marginTop:"-10px"},when:Ee.b,next:"done-no-media"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Once you upload a file, you can edit its title, add a caption, and even do basic photo editing.")),i.a.createElement(q,{click:!0,step:"click-to-edit",target:".media-library__list-item:not(.is-selected) .media-library__list-item-figure, .media-library__list-item-figure"},t("To find these options, click on this file to select it.")))}),i.a.createElement(me,{name:"click-to-edit",placement:"below",arrow:"top-left",target:".editor-media-modal__secondary-action",style:{marginLeft:"-8px"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(q,{click:!0,step:"launch-modal",target:".editor-media-modal__secondary-action"},t("Now click the {{editButton/}} button.",{components:{editButton:i.a.createElement(Se,null)}})))}),i.a.createElement(me,{name:"launch-modal",placement:"center"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Here you can edit the title, add a caption, find the media URL, and see other details.")),i.a.createElement(s,null,i.a.createElement(X,{step:"done"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"done",placement:"center"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Need to adjust your image? Click {{editImageButton/}} to perform basic tweaks.",{components:{editImageButton:i.a.createElement(Ie,null)}})),i.a.createElement("p",null,t("Click {{doneButton /}} to go back to your full library. Happy uploading!",{components:{doneButton:i.a.createElement(ve,null)}})),i.a.createElement(s,null,i.a.createElement(ee,{primary:!0},t("Got it, I'm ready to explore!"))))}),i.a.createElement(me,{name:"done-no-media",placement:"center"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Once you upload media files, you can edit them  change titles, do basic image editing, and more  and they'll be ready and waiting for you to add to posts and pages.")),i.a.createElement(s,null,i.a.createElement(ee,{primary:!0},t("Got it, I'm ready to explore!"))))}))),He=Z(i.a.createElement(fe,{name:"checklistAboutPage",version:"20171205",path:"/non-existent-route",when:E.noop},i.a.createElement(me,{name:"init",target:"page-about",arrow:"top-left",placement:"below"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Click {{b}}About{{/b}} to edit this page.",{components:{b:i.a.createElement("strong",null)}})),i.a.createElement(q,{target:"page-about",step:"about-page",click:!0,hidden:!0}))}),i.a.createElement(me,{name:"about-page",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("The About Page is often the most visited page on a site. You might find that it never feels quite done - thats OK. This is the internet and we can update it as many times as we want. The key is to just get it started.")),i.a.createElement("p",null,t("Lets change the default text with a new introduction. Here are some questions to help you out: Who are you and where are you based? Why did you start this site? What can visitors expect to get out of it?")),i.a.createElement(X,{step:"featured-images"},t("All done, continue")))}),i.a.createElement(me,{name:"featured-images",target:"editor-featured-image-current-image",arrow:"top-left",placement:"below"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Featured images are a great way to add more personality to your pages. Lets add something a little more relevant to your About page text.")),i.a.createElement("p",null,t("Press anywhere on this image so we can change it.")),i.a.createElement(q,{target:"editor-featured-image-current-image",step:"choose-image",click:!0,hidden:!0}))}),i.a.createElement(me,{name:"choose-image",target:"media-library-upload-more",placement:"beside",arrow:"left-top"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Either pick an image below or add a new one from your computer.")),i.a.createElement(X,{step:"click-set-featured-image"},t("All done, continue")))}),i.a.createElement(me,{name:"click-set-featured-image",target:"dialog-base-action-confirm",arrow:"right-top",placement:"beside"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(q,{target:"dialog-base-action-confirm",step:"click-update",click:!0},t("Were all set, press {{setFeaturedImageButton/}} to add this image to your page.",{components:{setFeaturedImageButton:i.a.createElement(Re,null)}})))}),i.a.createElement(me,{name:"click-update",target:"editor-publish-button",arrow:"right-top",placement:"beside"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(q,{target:"editor-publish-button",step:"finish",click:!0},t("Almost done, press the {{updateButton/}} button to save your changes.",{components:{updateButton:i.a.createElement(we,null)}})))}),i.a.createElement(me,{name:"finish",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("h1",{className:"tours__title"},i.a.createElement("span",{className:"tours__completed-icon-wrapper"},i.a.createElement(C.a,{icon:"checkmark",className:"tours__completed-icon"})),t("Good job, looks great!")),i.a.createElement("p",null,t("The updates to your About page are being saved. When the page is done saving, lets return to our checklist and see whats next.")),i.a.createElement(se,{isButton:!0,href:"/checklist/:site"},t("Return to the checklist")))})));var We=Z(i.a.createElement(fe,{name:"checklistContactPage",version:"20171205",path:"/non-existent-route",when:E.noop},i.a.createElement(me,{name:"init",placement:"right",style:{animationDelay:"0.7s",zIndex:1},when:function(e){return"post-editor"===Object(ne.c)(e)},canSkip:!1},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Your contact page makes it easy for people to get in touch. Lets personalize this page by adding some explaining when and how people can contact you. Click in the text area below to get started.")),i.a.createElement(s,null,i.a.createElement(X,{step:"featured-images"},t("All done, continue")),i.a.createElement(se,{href:"/checklist/:site"},t("Return to the checklist")),i.a.createElement(q,{step:"featured-images",hidden:!0})))}),i.a.createElement(me,{name:"featured-images",target:"editor-featured-image-current-image",arrow:"top-left",placement:"below"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Featured images are a great way to add more personality to your pages. Lets add something a little more relevant to you and your site.")),i.a.createElement("p",null,t("Press anywhere on this image so we can change it.")),i.a.createElement(q,{target:"editor-featured-image-current-image",step:"choose-image",click:!0,hidden:!0}))}),i.a.createElement(me,{name:"choose-image",target:"media-library-upload-more",placement:"beside",arrow:"left-top",style:{marginTop:"-10px",marginLeft:"-40px"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Either pick an image below or add a new one from your computer.")),i.a.createElement(X,{step:"click-set-featured-image"},t("All done, continue")))}),i.a.createElement(me,{name:"click-set-featured-image",target:"dialog-base-action-confirm",arrow:"right-top",placement:"beside",style:{marginTop:"-10px"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(q,{target:"dialog-base-action-confirm",step:"click-update",click:!0},t("Were all set, press {{setFeaturedImageButton/}} to add this image to your page.",{components:{setFeaturedImageButton:i.a.createElement(Re,null)}})))}),i.a.createElement(me,{name:"click-update",target:"editor-publish-button",arrow:"right-top",placement:"beside",style:{marginTop:"-10px"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(q,{target:"editor-publish-button",step:"finish",click:!0},t("Almost done, press the {{updateButton/}} button to save your changes.",{components:{updateButton:i.a.createElement(we,null)}})))}),i.a.createElement(me,{name:"finish",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("h1",{className:"tours__title"},i.a.createElement("span",{className:"tours__completed-icon-wrapper"},i.a.createElement(C.a,{icon:"checkmark",className:"tours__completed-icon"})),t("Good job, looks great!")),i.a.createElement("p",null,t("The updates to your Contact page are being saved. When the page is done saving, lets return to our checklist and see whats next.")),i.a.createElement(se,{isButton:!0,href:"/checklist/:site"},t("Return to the checklist")))}))),Be=n("./client/state/ui/action-log/selectors.js");function Qe(e){var t=Object(Be.c)(e);return!(t.path===function(e){var t=Object(ne.d)(e);return"/domains/add/"+t.domain}(e))}var ze=Z(i.a.createElement(fe,{name:"checklistDomainRegister",version:"20180717",path:"/domains/add",when:E.noop},i.a.createElement(me,{name:"init",placement:"right",style:{animationDelay:"0.7s",marginTop:"-14px"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Pick one of the suggestions below or type a memorable name to get started.")),i.a.createElement(s,null,i.a.createElement(q,{hidden:!0,when:Qe,step:"finish"}),i.a.createElement(se,{isButton:!1,href:"/checklist/:site"},t("Return to the checklist"))))}),i.a.createElement(me,{name:"finish",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("h1",{className:"tours__title"},i.a.createElement("span",{className:"tours__completed-icon-wrapper"},i.a.createElement(C.a,{icon:"checkmark",className:"tours__completed-icon"})),t("Excellent, youre on your way!")),i.a.createElement("p",null,t("Just complete your purchase and your site will be sporting a cool new address!")),i.a.createElement(ee,{primary:!0},t("Hide")))}))),Ye=n("./client/state/ui/layout-focus/selectors.js"),Ke=n("./client/state/ui/layout-focus/actions.js");function Je(){return!!x(".editor-featured-image.is-assigned").length}var Ze=Z(i.a.createElement(fe,{name:"checklistPublishPost",version:"20171205",path:"/non-existent-route",when:E.noop},i.a.createElement(me,{name:"init",placement:"right",style:{animationDelay:"0.7s",zIndex:2},when:Object(Ee.d)("post-editor"),canSkip:!1},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Its time to get your blog rolling with your first post. Lets replace the copy below with a brief introduction. Here are some questions that can help you out: Who are you and where are you based? Why did you start this site? What can visitors expect to get out of it?")),i.a.createElement(s,null,i.a.createElement(X,{step:"categories-tags"},t("All done, continue")),i.a.createElement(se,{href:"/checklist/:site"},t("Return to the checklist")),i.a.createElement(q,{step:"categories-tags",hidden:!0})))}),i.a.createElement(me,{name:"categories-tags",target:"accordion-categories-tags",arrow:"right-top",placement:"beside",style:{marginTop:"-10px",marginLeft:"-40px"},wait:function(e,t){var n=t.store;return n&&"sidebar"!==Object(Ye.a)(n.getState())&&n.dispatch(Object(Ke.b)("sidebar")),new Promise(function(e,t){"sidebar"===Object(Ye.a)(n.getState())?Object(E.delay)(e,200):t()})}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t('Categories and Tags not only help organize your content but also bring people to your site via the Reader. Click on the {{b}}Categories and Tags{{/b}} section to expand it and pick one or two descriptive tags like "blogging" or "welcome" for it to start showing up to other users in the Reader.',{components:{b:i.a.createElement("strong",null)}})),i.a.createElement(X,{step:"featured-images"},t("All done, continue")))}),i.a.createElement(me,{name:"featured-images",target:"editor-featured-image-current-image",arrow:"top-left",placement:"below",when:Je},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(q,{target:"editor-featured-image-current-image",step:"choose-image",click:!0},i.a.createElement("p",null,t("Featured images are a great way to add more personality to your pages. Lets add something a little more relevant to your blog post.")),i.a.createElement("p",null,t("Press anywhere on this image so we can change it."))))}),i.a.createElement(me,{name:"choose-image",target:"media-library-upload-more",placement:"beside",arrow:"left-top",style:{marginTop:"-10px"},wait:function(){if(!x(".editor-media-modal").length){var e=x('[data-tip-target="accordion-featured-image"] .editor-drawer-well__placeholder, [data-tip-target="accordion-featured-image"] .editor-featured-image__preview .image-preloader');e.length&&e[0].click()}return!0}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(S,{when:Object(E.negate)(Je)},i.a.createElement("p",null,t("Featured images are a great way to add more personality to your pages. Lets add something a little more relevant to your blog post."))),i.a.createElement("p",null,t("Either pick an image below or add a new one from your computer.")),i.a.createElement(X,{step:"click-set-featured-image"},t("All done, continue")))}),i.a.createElement(me,{name:"click-set-featured-image",target:"dialog-base-action-confirm",arrow:"right-top",placement:"beside",style:{marginTop:"-10px"},when:function(e){return"sidebar"===Object(Ye.a)(e)}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(q,{target:"dialog-base-action-confirm",step:"click-update",click:!0},t("Were all set, press {{b}}Set Featured Image{{/b}} to add this image to your blog post.",{components:{b:i.a.createElement("strong",null)}})))}),i.a.createElement(me,{name:"click-update",target:"editor-publish-button",arrow:"right-top",placement:"beside",style:{marginTop:"-10px"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(q,{target:"editor-publish-button",step:"finish",click:!0},t("Almost done, press the {{b}}Update{{/b}} button to save your changes.",{components:{b:i.a.createElement("strong",null)}})))}),i.a.createElement(me,{name:"finish",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("h1",{className:"tours__title"},i.a.createElement("span",{className:"tours__completed-icon-wrapper"},i.a.createElement(C.a,{icon:"checkmark",className:"tours__completed-icon"})),t("You did it!")),i.a.createElement("p",null,t("You published your first blog post. Lets move on and see whats next on our checklist.")),i.a.createElement(se,{isButton:!0,href:"/checklist/:site"},t("Return to the checklist")))})));function $e(e){var t=e.quit,n=e.next,r=document.querySelector(".editor-media-modal");r?n():t()}var Xe=Z(i.a.createElement(fe,{name:"checklistSiteIcon",version:"20171205",path:"/non-existent-route",when:E.noop},i.a.createElement(me,{name:"init",target:"settings-site-icon-change",arrow:"top-left",placement:"below",style:{animationDelay:"0.7s",zIndex:1}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Press {{changeButton/}} to upload your own image or icon that can help people identify your site in the browser.",{components:{changeButton:i.a.createElement(ye,null)}})),i.a.createElement(s,null,i.a.createElement(q,{target:"settings-site-icon-change",step:"choose-image",click:!0,hidden:!0}),i.a.createElement(se,{isButton:!1,href:"/checklist/:site"},t("Return to the checklist"))))}),i.a.createElement(me,{name:"choose-image",target:"media-library-upload-more",placement:"beside",arrow:"left-top",style:{marginTop:"-10px",marginLeft:"-40px"},onTargetDisappear:$e},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Pick or drag a file from your computer to add it to your media library.")),i.a.createElement(X,{step:"click-continue"},t("All done, continue")))}),i.a.createElement(me,{name:"click-continue",target:"dialog-base-action-confirm",arrow:"bottom-center",placement:"above",style:{marginTop:"40px",marginLeft:"60px"},onTargetDisappear:$e},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(q,{target:"dialog-base-action-confirm",step:"click-done",click:!0},t("Good choice, press {{continueButton/}} to use it as your Site Icon.",{components:{continueButton:i.a.createElement(je,null)}})))}),i.a.createElement(me,{name:"click-done",target:"image-editor-button-done",arrow:"bottom-center",placement:"above",style:{marginTop:"30px",marginLeft:"90px"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(q,{target:"image-editor-button-done",step:"finish",click:!0},t("Lets make sure it looks right before you press {{doneButton/}} to save your changes.",{components:{doneButton:i.a.createElement(ve,null)}})))}),i.a.createElement(me,{name:"finish",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("h1",{className:"tours__title"},i.a.createElement("span",{className:"tours__completed-icon-wrapper"},i.a.createElement(C.a,{icon:"checkmark",className:"tours__completed-icon"})),t("Excellent, youre done!")),i.a.createElement("p",null,t("Your Site Icon has been saved. Lets move on and see whats next on our checklist.")),i.a.createElement(se,{isButton:!0,href:"/checklist/:site"},t("Return to the checklist")))}))),et=Z(i.a.createElement(fe,{name:"checklistSiteTagline",version:"20171205",path:"/non-existent-route",when:E.noop},i.a.createElement(me,{name:"init",target:"site-tagline-input",arrow:"top-left",placement:"below",style:{animationDelay:"0.7s"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("First impressions last - a tagline tells visitors what your site is all about without having to read all your content. Enter a short descriptive phrase about your site into the {{siteTaglineButton/}} field.",{components:{siteTaglineButton:i.a.createElement(Ae,null)}})),i.a.createElement(s,null,i.a.createElement(q,{target:"settings-site-profile-save",step:"finish",click:!0,hidden:!0}),i.a.createElement(X,{step:"click-save"},t("All done, continue")),i.a.createElement(se,{href:"/checklist/:site"},t("Return to the checklist"))))}),i.a.createElement(me,{name:"click-save",target:"settings-site-profile-save",arrow:"top-left",placement:"below"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(q,{target:"settings-site-profile-save",step:"finish",click:!0},t("Almost done  press {{saveSettingsButton/}} to save your changes and then see whats next on our list.",{components:{saveSettingsButton:i.a.createElement(Ce,null)}})))}),i.a.createElement(me,{name:"finish",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("h1",{className:"tours__title"},i.a.createElement("span",{className:"tours__completed-icon-wrapper"},i.a.createElement(C.a,{icon:"checkmark",className:"tours__completed-icon"})),t("Way to go!")),i.a.createElement("p",null,t("Your tagline has been saved! Lets move on and see whats next on our checklist.")),i.a.createElement(se,{isButton:!0,href:"/checklist/:site"},t("Return to the checklist")))}))),tt=Z(i.a.createElement(fe,{name:"checklistSiteTitle",version:"20171205",path:"/non-existent-route",when:E.noop},i.a.createElement(me,{name:"init",target:"site-title-input",arrow:"top-left",placement:"below",style:{animationDelay:"0.7s"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Update the {{siteTitleButton/}} field with a descriptive name to let your visitors know which site theyre visiting.",{components:{siteTitleButton:i.a.createElement(Ne,null)}})),i.a.createElement(s,null,i.a.createElement(q,{target:"settings-site-profile-save",step:"finish",click:!0,hidden:!0}),i.a.createElement(X,{step:"click-save"},t("All done, continue")),i.a.createElement(se,{href:"/checklist/:site"},t("Return to the checklist"))))}),i.a.createElement(me,{name:"click-save",target:"settings-site-profile-save",arrow:"top-left",placement:"below"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement(q,{target:"settings-site-profile-save",step:"finish",click:!0},t("Almost done  every time you make a change, it needs to be saved. Lets save your changes and then see whats next on our list.")))}),i.a.createElement(me,{name:"finish",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("h1",{className:"tours__title"},i.a.createElement("span",{className:"tours__completed-icon-wrapper"},i.a.createElement(C.a,{icon:"checkmark",className:"tours__completed-icon"})),t("Good job, looks great!")),i.a.createElement("p",null,t("Your changes have been saved. Lets move on and see whats next on our checklist.")),i.a.createElement(se,{isButton:!0,href:"/checklist/:site"},t("Return to the checklist")))}))),nt=Z(i.a.createElement(fe,{name:"checklistUserAvatar",version:"20171205",path:"/non-existent-route",when:E.noop},i.a.createElement(me,{name:"init",target:"edit-gravatar",placement:"beside",arrow:"left-top",style:{animationDelay:"0.7s"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Personalize your posts and comments with a profile picture. Click on this image to upload your new image.")),i.a.createElement(s,null,i.a.createElement(q,{target:"edit-gravatar",step:"image-notice",click:!0,hidden:!0}),i.a.createElement(se,{isButton:!1,href:"/checklist/:site"},t("Return to the checklist"))))}),i.a.createElement(me,{name:"image-notice",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Let's make sure it looks right before we proceed.")),i.a.createElement(X,{step:"crop-image"},t("Looks good, continue")))}),i.a.createElement(me,{name:"crop-image",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Alright! Press {{b}}Change My Photo{{/b}} to save your changes.",{components:{b:i.a.createElement("strong",null)}})),i.a.createElement(q,{target:"image-editor-button-done",step:"finish",click:!0,hidden:!0}))}),i.a.createElement(me,{name:"finish",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("h1",{className:"tours__title"},i.a.createElement("span",{className:"tours__completed-icon-wrapper"},i.a.createElement(C.a,{icon:"checkmark",className:"tours__completed-icon"})),t("Well done!")),i.a.createElement("p",null,t("Your profile picture has been saved. Let's move on and see what's next on our checklist.")),i.a.createElement(se,{isButton:!0,href:"/checklist/:site"},t("Return to the checklist")))}))),rt=function(){return Object(A.a)({y:0,container:G()})},it=Z(i.a.createElement(fe,{name:"jetpack",version:"20160601",path:"/",when:Object(E.overEvery)(Ee.f,Object(Ee.e)("guided-tours/jetpack-basic"))},i.a.createElement(me,{name:"init",placement:"right",style:{animationDelay:"2s"}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("{{strong}}Need a hand?{{/strong}} We'd love to show you around the place, and give you some ideas for what to do next.",{components:{strong:i.a.createElement("strong",null)}})),i.a.createElement(s,null,i.a.createElement(X,{step:"my-sites"},t("Let's go!")),i.a.createElement(ee,null,t("No thanks."))))}),i.a.createElement(me,{name:"my-sites",target:"my-sites",placement:"below",arrow:"top-left"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("{{strong}}First things first.{{/strong}} Up here, you'll find tools for managing your site's content and design.",{components:{strong:i.a.createElement("strong",null)}})),i.a.createElement(q,{click:!0,icon:"my-sites",step:"sidebar",target:"my-sites"}))}),i.a.createElement(me,{name:"sidebar",target:"sidebar",arrow:"left-middle",placement:"beside"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("This menu lets you navigate around, and will adapt to give you the tools you need when you need them.")),i.a.createElement(s,null,i.a.createElement(X,{step:"click-preview"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"click-preview",target:"sitePreview",arrow:"top-left",placement:"below",when:Ee.i,scrollContainer:".sidebar__region"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Want to take a look at your site?")),i.a.createElement(q,{click:!0,step:"view-site",target:"sitePreview"},t("Click {{viewSiteButton/}} to continue.",{components:{viewSiteButton:i.a.createElement(Pe,null)}})),i.a.createElement(s,null,i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"view-site",placement:"center",when:Ee.i},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("This is what your site looks like to visitors.")),i.a.createElement(s,null,i.a.createElement(X,{step:"themes"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"themes",target:"themes",arrow:"top-left",placement:"below",when:Ee.h,scrollContainer:".sidebar__region",shouldScrollTo:!0},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Change your {{strong}}Theme{{/strong}} to choose a new layout, or {{strong}}Customize{{/strong}} your theme's colors, fonts, and more.",{components:{strong:i.a.createElement("strong",null)}})),i.a.createElement(s,null,i.a.createElement(X,{step:"finish"}),i.a.createElement(ee,null)))}),i.a.createElement(me,{name:"finish",placement:"center"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("{{strong}}That's it!{{/strong}} Now that you know a few of the basics, feel free to wander around.",{components:{strong:i.a.createElement("strong",null)}})),i.a.createElement(s,null,i.a.createElement(ee,{onClick:rt,primary:!0},t("We're all done!"))),i.a.createElement(B,{href:"https://learn.wordpress.com"},t("Learn more about WordPress.com")))}))),st=Z(i.a.createElement(fe,{name:"jetpackMonitoring",version:"20180611"},i.a.createElement(me,{name:"init",target:".jetpack-monitor-settings .form-toggle__switch",arrow:"top-left",placement:"below",style:{animationDelay:"0.7s",zIndex:1}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Let's enable monitoring of your site's uptime by activating the toggle switch for Jetpack Monitor.")),i.a.createElement(s,null,i.a.createElement(q,{target:".jetpack-monitor-settings .form-toggle__switch",step:"finish",click:!0,hidden:!0}),i.a.createElement(se,{href:"/plans/my-plan/:site"},t("Return to the checklist"))))}),i.a.createElement(me,{name:"finish",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("h1",{className:"tours__title"},i.a.createElement("span",{className:"tours__completed-icon-wrapper"},i.a.createElement(C.a,{icon:"checkmark",className:"tours__completed-icon"})),t("Excellent, youre done!")),i.a.createElement("p",null,t("Downtime Monitoring has been enabled. Would you like to continue setting up the security essential features for your site?")),i.a.createElement(s,null,i.a.createElement(se,{isButton:!0,href:"/plans/my-plan/:site"},t("Yes, let's do it.")),i.a.createElement(ee,null,t("No thanks."))))}))),ot=n("./client/lib/plugins/store.js"),at=Z(i.a.createElement(fe,{name:"jetpackPluginUpdates",version:"20180611"},i.a.createElement(me,{name:"init",when:function(e){var t=Object(ne.d)(e),n=!ot.a.isFetchingSite(t)&&!!ot.a.getSitePlugin(t,"jetpack");return n},target:".plugin-item-jetpack .form-toggle__switch",arrow:"top-left",placement:"below",style:{animationDelay:"0.7s",zIndex:1}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Let's activate autoupdates for Jetpack to ensure you're always up-to-date with the latest features and security fixes.")),i.a.createElement(s,null,i.a.createElement(q,{target:".plugin-item-jetpack .form-toggle__switch",step:"finish",click:!0,hidden:!0}),i.a.createElement(se,{href:"/plans/my-plan/:site"},t("Return to the checklist"))))}),i.a.createElement(me,{name:"finish",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("h1",{className:"tours__title"},i.a.createElement("span",{className:"tours__completed-icon-wrapper"},i.a.createElement(C.a,{icon:"checkmark",className:"tours__completed-icon"})),t("Excellent, youre done!")),i.a.createElement("p",null,t("Jetpack will now autoupdate for you. Would you like to continue setting up the security essential features for your site?")),i.a.createElement(s,null,i.a.createElement(se,{isButton:!0,href:"/plans/my-plan/:site"},t("Yes, let's do it.")),i.a.createElement(ee,null,t("No thanks."))))}))),ct=Z(i.a.createElement(fe,{name:"jetpackSignIn",version:"20180704"},i.a.createElement(me,{name:"init",target:".sso__card .form-toggle__switch",arrow:"top-left",placement:"below",style:{animationDelay:"0.7s",zIndex:1}},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Let's enable sign in using WordPress.com's secure authentication for easy login by activating the toggle switch above.")),i.a.createElement(s,null,i.a.createElement(q,{target:".sso__card .form-toggle__switch",step:"finish",click:!0,hidden:!0}),i.a.createElement(se,{href:"/plans/my-plan/:site"},t("Return to the checklist"))))}),i.a.createElement(me,{name:"finish",placement:"right"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("h1",{className:"tours__title"},i.a.createElement("span",{className:"tours__completed-icon-wrapper"},i.a.createElement(C.a,{icon:"checkmark",className:"tours__completed-icon"})),t("Excellent, youre done!")),i.a.createElement("p",null,t("You can now sign into your Jetpack site with your WordPress.com account. Would you like to continue setting up the security essential features for your site?")),i.a.createElement(s,null,i.a.createElement(se,{isButton:!0,href:"/plans/my-plan/:site"},t("Yes, let's do it.")),i.a.createElement(ee,null,t("No thanks."))))})));Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);var ut=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(i))),n.addTargetListener=function(){var e=n.props.parentTarget,t=F(e);t&&t.addEventListener&&(t.addEventListener("click",n.onParentClick),t.addEventListener("touchstart",n.onParentClick))},n.removeTargetListener=function(){var e=n.props.parentTarget,t=F(e);t&&t.addEventListener&&(t.removeEventListener("click",n.onParentClick),t.removeEventListener("touchstart",n.onParentClick))},n.onParentClick=function(e){for(var t=e.target;t&&t!==e.currentTarget;){if(t.matches(n.props.target)){n.props.onClick&&n.props.onClick(e);var r=n.context,i=r.quit,s=r.tour,o=r.tourVersion,a=r.step,c=r.isLastStep;return void i({tour:s,tourVersion:o,step:a,isLastStep:c})}t=t.parentNode}},n}return _()(t,e),t}(ee),lt=Z(i.a.createElement(fe,{name:"simplePaymentsEmailTour",version:"20180501",path:"/",when:E.noop},i.a.createElement(me,{name:"init",target:"side-menu-page",placement:"beside",arrow:"left-top",style:{animationDelay:"2s",marginTop:"-5px"},onTargetDisappear:function(){var e=document.querySelector(".guided-tours__step-first");e.style.left="-9999px"},when:function(e){return Object(ne.g)(e)&&!Object(E.includes)(["customize"],Object(ne.c)(e))},keepRepositioning:!0},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Start by creating a page  this is where your payment buttons will live.")),i.a.createElement(q,{click:!0,step:"choose-payment-button",target:".sidebar__menu li[data-post-type='page'] a.sidebar__button"},t("Click {{strong}}Add{{/strong}} to continue.",{components:{strong:i.a.createElement("strong",null)}})),i.a.createElement(s,null,i.a.createElement(ee,null,t("Quit"))))}),i.a.createElement(me,{name:"choose-payment-button",arrow:"top-left",target:".editor-html-toolbar__button-insert-content-dropdown, .mce-wpcom-insert-menu button",placement:"below",style:{marginLeft:"-7px",zIndex:"auto"},onTargetDisappear:E.noop},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Click on {{addContentButton/}} and choose Payment Button.",{components:{addContentButton:i.a.createElement(he,null)}})),i.a.createElement("p",null,t("You'll be able to set a price, upload a photo, and describe your product or cause.")),i.a.createElement(s,null,i.a.createElement(ut,{primary:!0,parentTarget:".tinymce-container",target:".editor-html-toolbar__button-insert-content-dropdown, .mce-wpcom-insert-menu button"},t("Got it, thanks!"))),i.a.createElement(B,{href:"https://en.support.wordpress.com/simple-payments"},t("Learn more about Simple Payments.")))}))),dt=n("./client/state/selectors/can-current-user.js"),pt=n("./client/state/selectors/can-current-user-manage-plugins.js"),mt=n("./client/state/selectors/is-site-automated-transfer.js"),ft=Z(i.a.createElement(fe,{name:"pluginsBasicTour",version:"20180718",path:["/stats","/plugins"],when:Object(E.overEvery)(function(e){var t=Object(ne.e)(e);return t?Object(dt.a)(e,t,"manage_options"):Object(pt.a)(e)},function(e){return Object(mt.a)(e,Object(ne.e)(e))},R.b,Object(Ee.e)("calypsoify/plugins"))},i.a.createElement(me,{name:"init",arrow:"left-middle",target:".manage_menu__plugins-extra-icon",placement:"below",style:{animationDelay:"2s",marginTop:"-89px",marginLeft:"40px"},scrollContainer:".sidebar__region"},function(e){var t=e.translate;return i.a.createElement(r.Fragment,null,i.a.createElement("p",null,t("Manage plugin settings, and install more plugins here")),i.a.createElement(s,null,i.a.createElement(ee,{primary:!0},t("Got it."))))})));t.a=O({checklistAboutPage:He,checklistContactPage:We,checklistDomainRegister:ze,checklistPublishPost:Ze,checklistSiteIcon:Xe,checklistSiteTagline:et,checklistSiteTitle:tt,checklistUserAvatar:nt,jetpack:it,jetpackMonitoring:st,jetpackPluginUpdates:at,jetpackSignIn:ct,main:De,editorBasicsTour:Ge,mediaBasicsTour:qe,tutorialSitePreview:ke,gdocsIntegrationTour:Fe,simplePaymentsTour:Ve,simplePaymentsEmailTour:lt,pluginsBasicTour:ft})},"./client/layout/logged-out.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./node_modules/react/index.js"),o=n.n(s),a=n("./node_modules/prop-types/index.js"),c=n.n(a),u=n("./node_modules/classnames/index.js"),l=n.n(u),d=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/lodash/lodash.js"),m=n("./client/components/global-notices/index.jsx"),f=n("./client/layout/masterbar/logged-out.jsx"),_=n("./client/notices/index.js"),E=n("./node_modules/gridicons/dist/index.js"),b=n.n(E),g=n("./client/lib/i18n-utils/browser.js"),h=n("./client/lib/oauth2-clients.js"),O=function(e){var t=e.oauth2Client;return o.a.createElement("header",{className:"masterbar masterbar__oauth-client"},o.a.createElement("nav",null,o.a.createElement("ul",{className:"masterbar__oauth-client-main-nav"},o.a.createElement("li",{className:"masterbar__oauth-client-current"},t.icon&&o.a.createElement("div",{className:"masterbar__oauth-client-logo"},o.a.createElement("img",{src:t.icon}))),Object(h.a)(t)?o.a.createElement("li",{className:"masterbar__oauth-client-close"},o.a.createElement("a",{href:"https://woocommerce.com"},"Cancel ",o.a.createElement("span",null,"X"))):o.a.createElement("li",{className:"masterbar__oauth-client-wpcc-sign-in"},o.a.createElement("a",{href:Object(g.b)("https://wordpress.com/",Object(g.h)()),className:"masterbar__oauth-client-wpcom",target:"_self"},o.a.createElement(b.a,{icon:"my-sites",size:24}),"WordPress.com")))))};O.displayName="OauthClientMasterbar",O.propTypes={oauth2Client:c.a.object};var y=O,j=n("./client/state/ui/oauth2-clients/selectors.js"),v=n("./client/state/ui/selectors.js"),S=function(e){var t,n=e.masterbarIsHidden,r=e.oauth2Client,s=e.primary,a=e.secondary,c=e.section,u=e.redirectUri,d=e.useOAuth2Layout,E=(t={},i()(t,"is-group-"+c.group,!!Object(p.get)(c,"group")),i()(t,"is-section-"+c.name,!!Object(p.get)(c,"name")),i()(t,"focus-content",!0),i()(t,"has-no-sidebar",!function(e){return"devdocs"===e.name&&!Object(p.includes)(e.paths,"/devdocs/start")}(c)),i()(t,"has-no-masterbar",n),t),b=null;return d&&r&&r.name?(E.dops=!0,E[r.name]=!0,b=o.a.createElement(y,{oauth2Client:r})):b=o.a.createElement(f.a,{title:c.title,sectionName:c.name,redirectUri:u}),o.a.createElement("div",{className:l()("layout",E)},b,o.a.createElement("div",{id:"content",className:"layout__content"},o.a.createElement(m.a,{id:"notices",notices:_.a.list,forcePinned:"post"===c.name}),o.a.createElement("div",{id:"primary",className:"layout__primary"},s),o.a.createElement("div",{id:"secondary",className:"layout__secondary"},a)))};S.displayName="LayoutLoggedOut",S.propTypes={primary:c.a.element,secondary:c.a.element,masterbarIsHidden:c.a.bool,section:c.a.oneOfType([c.a.bool,c.a.object]),redirectUri:c.a.string,showOAuth2Layout:c.a.bool};t.a=Object(d.b)(function(e){return{masterbarIsHidden:!Object(v.j)(e),section:Object(v.a)(e),oauth2Client:Object(j.a)(e),useOAuth2Layout:Object(j.c)(e)}})(S)},"./client/layout/masterbar/drafts.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/extends.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n.n(b),h=n("./node_modules/react-redux/es/index.js"),O=n("./node_modules/i18n-calypso/index.js"),y=n("./client/components/async-load/index.jsx"),j=n("./client/components/data/query-post-counts/index.jsx"),v=n("./client/components/button/index.jsx"),S=n("./client/components/count/index.jsx"),I=n("./client/state/analytics/actions.js"),T=n("./client/state/ui/selectors.js"),C=n("./client/state/posts/counts/selectors.js"),R=function(e){n.e(63).then(function(t){e(n("./client/layout/masterbar/drafts-popover.jsx").__esModule?n("./client/layout/masterbar/drafts-popover.jsx").default:n("./client/layout/masterbar/drafts-popover.jsx"))}.bind(null,n)).catch(n.oe)},A=function(e){return g.a.createElement(y.a,f()({},e,{require:R,placeholder:null}))},N=function(e){function t(){var e,r;i()(this,t);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return r=c()(this,(e=l()(t)).call.apply(e,[this].concat(o))),r.state={showDrafts:!1},r.preloaded=!1,r.preload=function(){r.preloaded||(n.e(63).then(function(e){n("./client/layout/masterbar/drafts-popover.jsx").__esModule?n("./client/layout/masterbar/drafts-popover.jsx").default:n("./client/layout/masterbar/drafts-popover.jsx")}.bind(null,n)).catch(n.oe),r.preloaded=!0)},r.toggleDrafts=function(){r.setState(function(e){return{showDrafts:!e.showDrafts}})},r.closeDrafts=function(){r.setState({showDrafts:!1})},r.draftClicked=function(){r.props.recordTracksEvent("calypso_masterbar_draft_selected"),r.closeDrafts()},r.newDraftClicked=function(){r.props.recordTracksEvent("calypso_masterbar_drafts_new_draft_clicked"),r.closeDrafts()},r.seeAllDraftsClicked=function(){r.props.recordTracksEvent("calypso_masterbar_drafts_see_all_drafts_clicked"),r.closeDrafts()},r.setDraftsRef=function(e){r.draftsRef=e},r}return p()(t,e),o()(t,[{key:"renderButton",value:function(){return this.props.selectedSiteId&&this.props.draftCount?g.a.createElement(v.a,{compact:!0,borderless:!0,className:"masterbar__toggle-drafts",title:this.props.translate("Latest Drafts"),onClick:this.toggleDrafts,onTouchStart:this.preload,onMouseEnter:this.preload,ref:this.setDraftsRef},g.a.createElement(S.a,{count:this.props.draftCount})):null}},{key:"renderPopover",value:function(){return this.state.showDrafts?g.a.createElement(A,{siteId:this.props.selectedSiteId,draftCount:this.props.draftCount,context:this.draftsRef,closeDrafts:this.closeDrafts,draftClicked:this.draftClicked,newDraftClicked:this.newDraftClicked,seeAllDraftsClicked:this.seeAllDraftsClicked}):null}},{key:"render",value:function(){return this.props.selectedSiteId?g.a.createElement("div",null,g.a.createElement(j.a,{siteId:this.props.selectedSiteId,type:"post"}),this.renderButton(),this.renderPopover()):null}}]),t}(b.Component);N.propTypes={selectedSiteId:E.a.number},t.a=Object(h.b)(function(e){var t=Object(T.e)(e),n=Object(C.a)(e,t,"post","draft");return{selectedSiteId:t,draftCount:n}},{recordTracksEvent:I.i})(Object(O.localize)(N))},"./client/layout/masterbar/item.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/classnames/index.js"),g=n.n(b),h=n("./node_modules/lodash/lodash.js"),O=n("./node_modules/gridicons/dist/index.js"),y=n.n(O),j=n("./client/components/translatable/proptype.js"),v=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n._preloaded=!1,n.preload=function(){!n._preloaded&&Object(h.isFunction)(n.props.preloadSection)&&(n._preloaded=!0,n.props.preloadSection())},n}return p()(t,e),o()(t,[{key:"render",value:function(){var e=g()("masterbar__item",this.props.className,{"is-active":this.props.isActive});return E.a.createElement("a",{"data-tip-target":this.props.tipTarget,href:this.props.url,onClick:this.props.onClick,title:this.props.tooltip,className:e,onTouchStart:this.preload,onMouseEnter:this.preload},!!this.props.icon&&E.a.createElement(y.a,{icon:this.props.icon,size:24}),E.a.createElement("span",{className:"masterbar__item-content"},this.props.children))}}]),t}(_.Component);v.propTypes={url:f.a.string,onClick:f.a.func,tooltip:j.a,icon:f.a.string,className:f.a.string,isActive:f.a.bool,preloadSection:f.a.func},v.defaultProps={icon:"",onClick:h.noop},t.a=v},"./client/layout/masterbar/logged-out.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./client/layout/masterbar/masterbar.jsx"),g=n("./node_modules/react-redux/es/index.js"),h=n("./node_modules/i18n-calypso/index.js"),O=n("./node_modules/lodash/lodash.js"),y=n("./client/config/index.js"),j=n("./client/layout/masterbar/item.jsx"),v=n("./client/components/wordpress-logo/index.jsx"),S=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){return E.a.createElement("svg",{className:this.props.className,width:this.props.width,height:this.props.height,viewBox:"0 0 108 12",xmlns:"http://www.w3.org/2000/svg"},E.a.createElement("g",{fill:"#FFF",fillRule:"evenodd"},E.a.createElement("path",{d:"M34.51,3.18A7.07,7.07,0,0,0,33,3c-2.68,0-4.13,1.79-4.13,4.39s1.46,3.79,3.18,3.79a4.27,4.27,0,0,0,2.51-1v.72h1.83V0H34.51Zm0,5.56a2.75,2.75,0,0,1-1.83.89c-1.06,0-1.76-.7-1.76-2.36s.85-2.72,2.33-2.72a3.6,3.6,0,0,1,1.27.24Zm71-5.74a5.25,5.25,0,0,0-2.66,1.06l-.23.14A2.17,2.17,0,0,0,100.52,3a5.19,5.19,0,0,0-2.66,1V3.2H96V11H98V5.4a4.15,4.15,0,0,1,2-.77c.64,0,1,.35,1,1.44V11H103V5.41a4.19,4.19,0,0,1,2-.78c.64,0,1,.35,1,1.44V11H108V5.61A2.39,2.39,0,0,0,105.54,3ZM12.23,0,10,8.41,7.81,0H5.64l.51,1.81L4.22,8.7,2.12,0H0L3,11H5.3L7.09,5.12,8.78,11H11.1L14.23,0Zm78.3,3C87.85,3,86.6,4.72,86.6,7.1s1.27,4.09,3.93,4.09,3.93-1.71,3.93-4.09S93.18,3,90.53,3Zm0,6.63c-1.27,0-1.93-.82-1.93-2.52s.68-2.52,1.93-2.52,1.93.82,1.93,2.52-.63,2.52-1.93,2.52ZM17.91,3C15.24,3,14,4.72,14,7.1s1.27,4.09,3.93,4.09,3.93-1.71,3.93-4.09S20.57,3,17.91,3Zm0,6.63C16.65,9.63,16,8.81,16,7.11s.68-2.52,1.93-2.52,1.93.82,1.93,2.52-.67,2.52-1.93,2.52Zm7.36-5.15H25.2V3.2H23.41V11h1.93V6.34a2.53,2.53,0,0,1,2.58-1.53h.17V3.1h-.52a2.41,2.41,0,0,0-2.3,1.38ZM42.43,0H38.83V11H40.9V7.13h1.52c2.35,0,4-1.27,4-3.62S44.76,0,42.43,0Zm0,5.56H40.9V1.62h1.54a1.69,1.69,0,0,1,1.87,1.93,1.76,1.76,0,0,1-1.87,2Zm28.29-.18c0-.59.64-.82,1.33-.82a7.93,7.93,0,0,1,2.16.35V3.29A8,8,0,0,0,71.9,3c-1.87,0-3.18.89-3.18,2.33,0,2.8,3.86,2.09,3.86,3.45,0,.68-.61.85-1.49.85a8.53,8.53,0,0,1-2.35-.49v1.59a6.51,6.51,0,0,0,2.28.46c1.82,0,3.55-.54,3.55-2.49,0-2.69-3.86-2-3.86-3.31Zm-7,0c0-.59.64-.82,1.33-.82a7.93,7.93,0,0,1,2.16.35V3.29A8,8,0,0,0,64.86,3c-1.87,0-3.18.89-3.18,2.33,0,2.8,3.86,2.09,3.86,3.45,0,.68-.61.85-1.49.85a8.53,8.53,0,0,1-2.35-.49v1.59a6.51,6.51,0,0,0,2.28.46c1.82,0,3.55-.54,3.55-2.49,0-2.69-3.86-2-3.86-3.31ZM75.86,11h1.93V9H75.86ZM57,3A3.75,3.75,0,0,0,53.2,7c0,2.9,1.53,4.13,4,4.13a9.28,9.28,0,0,0,2.9-.44V9.14a6.63,6.63,0,0,1-2.33.47c-1.44,0-2.4-.4-2.45-2.1h4.93a9.37,9.37,0,0,0,.07-1.15A3.11,3.11,0,0,0,57,3ZM55.29,6.23C55.4,5.15,56,4.46,57,4.46s1.34.82,1.34,1.77ZM80.93,7c0-1.82,1-2.44,2.18-2.44A6.45,6.45,0,0,1,85.28,5V3.38A6.34,6.34,0,0,0,83.08,3a3.86,3.86,0,0,0-4.16,4.11c0,2.41,1.15,4.07,4,4.07a7.19,7.19,0,0,0,2.41-.44V9.14a5.93,5.93,0,0,1-2.17.47C81.92,9.61,80.93,9,80.93,7ZM49.54,4.48h-.07V3.2h-1.8V11h1.93V6.34a2.53,2.53,0,0,1,2.58-1.53h.19V3.1h-.52A2.41,2.41,0,0,0,49.54,4.48Z"})))}}]),t}(_.PureComponent);S.displayName="WordPressWordmark",S.defaultProps={width:144,height:15,className:"wpcom-wordmark"},S.propTypes={width:f.a.number,height:f.a.number,className:f.a.string};var I=n("./client/lib/route/index.js"),T=n("./client/state/selectors/get-current-query-arguments.js"),C=n("./client/state/selectors/get-current-route.js"),R=n("./client/lib/paths/index.js"),A=n("./client/lib/domains/utils.js"),N=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"renderLoginItem",value:function(){var e=this.props,t=e.currentQuery,n=e.currentRoute,r=e.sectionName,i=e.translate,s=e.redirectUri;if(Object(O.includes)(["login","jetpack-onboarding"],r))return null;var o=null;s?o=s:n&&(o=t?Object(I.a)(t,n):n);var a="jetpack-connect"===r,c=Object(R.a)({emailAddress:a&&Object(O.get)(t,"user_email",!1),isJetpack:a,isNative:y.a.isEnabled("login/native-login-links"),locale:Object(h.getLocaleSlug)(),redirectTo:o});return t&&t.partner_id&&(c=Object(I.a)({partner_id:t.partner_id},c)),E.a.createElement(j.a,{url:c},i("Log In",{context:"Toolbar",comment:"Should be shorter than ~12 chars"}))}},{key:"renderSignupItem",value:function(){var e=this.props,t=e.currentQuery,n=e.currentRoute,r=e.sectionName,i=e.translate;if(Object(O.includes)(["signup","jetpack-onboarding"],r))return null;if(Object(O.startsWith)(n,"/jetpack/connect/authorize"))return null;if(Object(O.startsWith)(n,"/jetpack/new"))return null;var s=Object(O.get)(t,"redirect_to","");if(Object(A.e)(s))return null;var o=Object(y.a)("signup_url"),a=Object(O.get)(t,"signup_flow");return Object(O.startsWith)(n,"/log-in/jetpack")?o=Object(O.includes)(Object(O.get)(t,"redirect_to"),"/jetpack/connect/authorize")&&Object(O.includes)(Object(O.get)(t,"redirect_to"),"_wp_nonce")?t.redirect_to:"/jetpack/new":"jetpack-connect"===r?o="/jetpack/new":a&&(o+="/"+a),E.a.createElement(j.a,{url:o},i("Sign Up",{context:"Toolbar",comment:"Should be shorter than ~12 chars"}))}},{key:"render",value:function(){var e=this.props.title;return E.a.createElement(b.a,null,E.a.createElement(j.a,{className:"masterbar__item-logo"},E.a.createElement(v.a,{className:"masterbar__wpcom-logo"}),E.a.createElement(S,{className:"masterbar__wpcom-wordmark"})),E.a.createElement(j.a,{className:"masterbar__item-title"},e),E.a.createElement("div",{className:"masterbar__login-links"},this.renderSignupItem(),this.renderLoginItem()))}}]),t}(_.PureComponent);N.propTypes={redirectUri:f.a.string,sectionName:f.a.string,title:f.a.string,currentQuery:f.a.object,currentRoute:f.a.string},N.defaultProps={sectionName:"",title:""};t.a=Object(g.b)(function(e){return{currentQuery:Object(T.a)(e),currentRoute:Object(C.a)(e)}})(Object(h.localize)(N))},"./client/layout/masterbar/masterbar.jsx":function(e,t,n){"use strict";var r=n("./node_modules/prop-types/index.js"),i=n.n(r),s=n("./node_modules/react/index.js"),o=n.n(s),a=function(e){var t=e.children;return o.a.createElement("header",{id:"header",className:"masterbar"},t)};a.displayName="Masterbar",a.propTypes={children:i.a.node.isRequired},t.a=a},"./client/layout/sidebar/button.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/i18n-calypso/index.js"),E=n("./node_modules/react/index.js"),b=n.n(E),g=n("./client/lib/url/index.js"),h=n("./client/sections-helper.js"),O=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n._preloaded=!1,n.preload=function(){!n._preloaded&&n.props.preloadSectionName&&(n._preloaded=!0,Object(h.b)(n.props.preloadSectionName))},n.getTarget=function(){return n.props.forceTargetInternal?null:Object(g.e)(n.props.href)?"_blank":null},n}return p()(t,e),o()(t,[{key:"render",value:function(){return this.props.href?b.a.createElement("a",{rel:Object(g.e)(this.props.href)?"external":null,onClick:this.props.onClick,href:this.props.href,target:this.getTarget(),className:"sidebar__button",onMouseEnter:this.preload,"data-tip-target":this.props.tipTarget},this.props.children||this.props.translate("Add")):null}}]),t}(b.a.Component);O.propTypes={href:f.a.string,onClick:f.a.func,preloadSectionName:f.a.string,forceTargetInternal:f.a.bool},O.defaultProps={forceTargetInternal:!1},t.a=Object(_.localize)(O)},"./client/layout/sidebar/footer.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r);t.a=function(e){var t=e.children;return t?i.a.createElement("div",{className:"sidebar__footer"},t):null}},"./client/layout/sidebar/heading.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r);t.a=function(e){var t=e.children,n=e.onClick;return i.a.createElement("h2",{className:"sidebar__heading",onClick:n},t)}},"./client/layout/sidebar/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/classnames/index.js"),g=n.n(b),h=n("./client/layout/sidebar/region.jsx"),O=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){var e=E.a.Children.toArray(this.props.children).some(function(e){return e.type===h.a});return E.a.createElement("ul",{className:g()("sidebar",this.props.className,{"has-regions":e}),onClick:this.props.onClick,"data-tip-target":"sidebar"},this.props.children)}}]),t}(E.a.Component);O.displayName="Sidebar",O.propTypes={className:f.a.string,onClick:f.a.func}},"./client/layout/sidebar/item.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return S});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react/index.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/classnames/index.js"),g=n.n(b),h=n("./node_modules/gridicons/dist/index.js"),O=n.n(h),y=n("./client/lib/url/index.js"),j=n("./client/sections-helper.js"),v=n("./client/components/translatable/proptype.js"),S=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n._preloaded=!1,n.preload=function(){!n._preloaded&&n.props.preloadSectionName&&(n._preloaded=!0,Object(j.b)(n.props.preloadSectionName))},n}return p()(t,e),o()(t,[{key:"render",value:function(){var e=Object(y.e)(this.props.link),t=e&&!this.props.forceInternalLink,n=g()(this.props.className,{selected:this.props.selected});return f.a.createElement("li",{className:n,"data-tip-target":this.props.tipTarget,"data-post-type":this.props.postType},f.a.createElement("a",{onClick:this.props.onNavigate,href:this.props.link,target:t?"_blank":null,rel:e?"noopener noreferrer":null,onMouseEnter:this.preload},f.a.createElement(O.a,{icon:this.props.icon,size:24}),f.a.createElement("span",{className:"menu-link-text"},this.props.label),t&&f.a.createElement(O.a,{icon:"external",size:24})),this.props.children)}}]),t}(f.a.Component);S.propTypes={label:v.a.isRequired,className:E.a.string,link:E.a.string.isRequired,onNavigate:E.a.func,icon:E.a.string,selected:E.a.bool,preloadSectionName:E.a.string,forceInternalLink:E.a.bool,testTarget:E.a.string,tipTarget:E.a.string}},"./client/layout/sidebar/menu.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r),s=n("./node_modules/classnames/index.js"),o=n.n(s);t.a=function(e){var t=e.children,n=e.className;return i.a.createElement("li",{className:o()("sidebar__menu",n)},t)}},"./client/layout/sidebar/region.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r),s=n("./node_modules/classnames/index.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(m),_=n("./node_modules/@babel/runtime/helpers/inherits.js"),E=n.n(_),b=n("./node_modules/prop-types/index.js"),g=n.n(b),h=n("./node_modules/i18n-calypso/index.js"),O=n("./client/components/button/index.jsx"),y=function(e){function t(){var e,n;c()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=p()(this,(e=f()(t)).call.apply(e,[this].concat(i))),n.onClick=function(e){e.preventDefault();var t=document.getElementById(n.props.skipToElementId);/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus()},n}return E()(t,e),l()(t,[{key:"render",value:function(){return i.a.createElement(O.a,{onClick:this.onClick,className:"sidebar__skip-navigation"},this.props.translate("Skip navigation"))}}]),t}(i.a.Component);y.propTypes={skipToElementId:g.a.string};var j=Object(h.localize)(y);t.a=function(e){var t=e.children,n=e.className;return i.a.createElement("div",{className:o()("sidebar__region",n)},i.a.createElement(j,{skipToElementId:"primary"}),t)}},"./client/lib/abtest/active-tests.js":function(e,t,n){"use strict";t.a={nudgeAPalooza:{datestamp:"20180726",variations:{sidebarUpsells:20,themesNudgesUpdates:20,customPluginAndThemeLandingPages:20,plansBannerUpsells:20,control:20},defaultVariation:"control",allowExistingUsers:!0},springSale30PercentOff:{datestamp:"20180413",variations:{upsell:50,control:50},defaultVariation:"control",allowExistingUsers:!0},signupAtomicStoreVsPressable:{datestamp:"20171101",variations:{atomic:99,pressable:1},defaultVariation:"atomic",allowExistingUsers:!0,localeTargets:"any"},businessPlanDescriptionAT:{datestamp:"20170605",variations:{original:50,pluginsAndThemes:50},defaultVariation:"original"},ATPromptOnCancel:{datestamp:"20170515",variations:{hide:20,show:80},defaultVariation:"hide",allowExistingUsers:!0},ATUpgradeOnCancel:{datestamp:"20170515",variations:{hide:20,show:80},defaultVariation:"hide",allowExistingUsers:!0},skipThemesSelectionModal:{datestamp:"20170904",variations:{skip:50,show:50},defaultVariation:"show",allowExistingUsers:!0,localeTargets:"any"},jetpackSignupGoogleTop:{datestamp:"20180427",variations:{original:50,top:50},defaultVariation:"original"},domainSuggestionKrakenV323:{datestamp:"20180726",variations:{domainsbot:0,group_1:22700,group_3:22700,group_4:22700,group_6:1e4,group_7:1e4,group_8:22700},defaultVariation:"domainsbot"},aboutSuggestionMatches:{datestamp:"20180704",variations:{control:50,enhancedSort:50},defaultVariation:"control"},includeDotBlogSubdomain:{datestamp:"20180723",variations:{yes:50,no:50},defaultVariation:"no"}}},"./client/lib/abtest/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"c",function(){return O}),n.d(t,"b",function(){return y});var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/store/store.js"),a=n.n(o),c=n("./node_modules/i18n-calypso/index.js"),u=n.n(c),l=n("./client/lib/abtest/active-tests.js"),d=n("./client/lib/analytics/index.js"),p=n("./client/lib/user/index.js"),m=n("./client/lib/wp/browser.js"),f=n("./client/lib/abtest/utility.js"),_=n("./client/lib/i18n-utils/browser.js"),E=i()("calypso:abtests"),b=Object(p.default)();function g(e,t){if(!(this instanceof g))return new g(e,t);this.init(e,t)}var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new g(e,t).getVariationAndSetAsNeeded()},O=function(){return a.a.get(f.a)||{}},y=function(){return Object(s.keys)(l.a).map(g)},j=function(){return!1!==b.get()},v=Object(_.f)(),S=function(e){return-1!==v.indexOf(e)};g.prototype.init=function(e,t){if(!/^[A-Za-z\d]+$/.test(e))throw new Error('The test name "'+e+'" should be camel case');var n=l.a[e];if(!n)throw new Error("No A/B test configuration data found for "+e);var r=n.variations,i=void 0!==n.assignmentMethod?n.assignmentMethod:"default",o=Object(s.keys)(r);if(!r||0===o.length)throw new Error("No A/B test variations found for "+e);if(!n.defaultVariation)throw new Error("No default variation found for "+e);if(!Object(s.includes)(o,n.defaultVariation))throw new Error("A default variation is specified for "+e+" but it is not part of the variations");if(this.localeTargets=["en"],n.localeTargets)if("any"===n.localeTargets)this.localeTargets=!1;else{if(!Object(s.isArray)(n.localeTargets)||!Object(s.every)(n.localeTargets,S))throw new Error('localeTargets can be either "any" or an array of one or more valid language slugs');this.localeTargets=n.localeTargets}var a=n.datestamp;if(this.name=e,this.datestamp=a,this.startDate=function(e){var t=u.a.moment(e,"YYYYMMDD");if(!t.isValid())throw new Error("The date "+e+" should be in the YYYYMMDD format");return t}(a),this.variationDetails=r,this.defaultVariation=n.defaultVariation,this.variationNames=o,this.assignmentMethod=i,this.experimentId=e+"_"+a,n.countryCodeTargets){if(!1===t)throw new Error("Test config has countryCodeTargets, but no geoLocation passed to abtest function");this.countryCodeTargets=n.countryCodeTargets,this.geoLocation=t}this.allowExistingUsers=!0===n.allowExistingUsers},g.prototype.getVariationAndSetAsNeeded=function(){var e=this.getSavedVariation(this.experimentId);if(!this.hasTestStartedYet())return E("%s: Test will start on %s.",this.experimentId,this.datestamp),e||this.defaultVariation;if(e&&Object(s.includes)(this.variationNames,e))return E('%s: existing variation: "%s"',this.experimentId,e),e;if(!this.isEligibleForAbTest())return E("%s: User is ineligible to participate in A/B test",this.experimentId),this.defaultVariation;var t=this.assignVariation();return this.saveVariation(t),E('%s: new variation: "%s"',this.experimentId,t),t},g.prototype.getVariation=function(){return this.getSavedVariation(this.experimentId)},g.prototype.isEligibleForAbTest=function(){var e="undefined"!=typeof navigator?navigator:{},t=e.language||e.userLanguage||"en",n=e.languages&&e.languages.length?e.languages[0]:"en",r=u.a.getLocaleSlug()||"en";if(!a.a.enabled)return E("%s: Local storage is not enabled",this.experimentId),!1;if(this.localeTargets){var i=new RegExp("^("+this.localeTargets.join("|")+")","i"),s=b.get().localeSlug||"en";if(j()&&!s.match(i))return E("%s: User has a %s locale",this.experimentId,s),!1;if(!j()&&!t.match(i))return E("%s: Logged-out user has a %s navigator.language preference",this.experimentId,s),!1;if(!j()&&!n.match(i))return E("%s: Logged-out user has a %s navigator.languages primary preference",this.experimentId,s),!1;if(!j()&&!r.match(i))return E("%s: Logged-out user has the %s locale in session",this.experimentId,s),!1}return this.countryCodeTargets&&-1===this.countryCodeTargets.indexOf(this.geoLocation)?(E("%s: geoLocation is %s, test targets: %s",this.experimentId,this.geoLocation,this.countryCodeTargets.join(", ")),!1):this.hasBeenInPreviousSeriesTest()?(E("%s: User has been in a previous series test",this.experimentId),!1):!(this.hasRegisteredBeforeTestBegan()&&!this.allowExistingUsers)||(E("%s: User was registered before the test began",this.experimentId),!1)},g.prototype.hasTestStartedYet=function(){return u.a.moment().isAfter(this.startDate)},g.prototype.hasBeenInPreviousSeriesTest=function(){var e,t=Object(s.keys)(O());return Object(s.some)(t,function(t){return e=t.substring(0,t.length-"_YYYYMMDD".length),t!==this.experimentId&&e===this.name}.bind(this))},g.prototype.hasRegisteredBeforeTestBegan=function(){return b.get()&&u.a.moment(b.get().date).isBefore(this.startDate)},g.prototype.getSavedVariation=function(){return O()[this.experimentId]||null},g.prototype.assignVariation=function(){var e,t,n=0,r=Object(s.get)(b,"data.ID"),i=Object(s.reduce)(this.variationDetails,function(e,t){return e+t},0);for(e in t="userId"!==this.assignmentMethod||isNaN(+r)?Math.random()*i:Number(b.data.ID)%i,this.variationDetails)if(n+=this.variationDetails[e],t<n)return e},g.prototype.recordVariation=function(e){d.default.tracks.recordEvent("calypso_abtest_start",{abtest_name:this.experimentId,abtest_variation:e})},g.prototype.saveVariation=function(e){j()?this.saveVariationOnBackend(e):this.recordVariation(e),this.saveVariationInLocalStorage(e)},g.prototype.saveVariationOnBackend=function(e){m.a.undocumented().saveABTestData(this.experimentId,e,function(t){t?E("%s: Error saving variation %s: %s",this.experimentId,e,t):E("%s: Variation saved successfully: %s.",this.experimentId,e)}.bind(this))},g.prototype.saveVariationInLocalStorage=function(e){var t=O();t[this.experimentId]=e,a.a.set(f.a,t)}},"./client/lib/abtest/utility.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n("./client/lib/abtest/active-tests.js"),i="ABTests";function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appendDatestamp,n=void 0!==t&&t,i=e.asCSV,s=void 0!==i&&i,o=Object.keys(r.a).map(function(e){return n?e+"_"+r.a[e].datestamp:e});return s?o.join(","):o}},"./client/lib/analytics/ad-tracking.js":function(e,t,n){"use strict";n.d(t,"b",function(){return je}),n.d(t,"a",function(){return ve}),n.d(t,"m",function(){return Se}),n.d(t,"l",function(){return Ie}),n.d(t,"k",function(){return Te}),n.d(t,"c",function(){return Ce}),n.d(t,"i",function(){return Re}),n.d(t,"e",function(){return Ae}),n.d(t,"d",function(){return Ne}),n.d(t,"f",function(){return we}),n.d(t,"h",function(){return Ve}),n.d(t,"g",function(){return Ge}),n.d(t,"j",function(){return qe});var r,i,s,o=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),a=n.n(o),c=n("./node_modules/cookie/index.js"),u=n.n(c),l=n("./node_modules/debug/src/browser.js"),d=n.n(l),p=n("./node_modules/lodash/lodash.js"),m=n("./node_modules/uuid/index.js"),f=n("./client/config/index.js"),_=n("./client/lib/products-values/index.js"),E=n("./client/lib/user/index.js"),b=n("./client/lib/load-script/index.js"),g=n("./client/lib/analytics/utils.js"),h=n("./client/utils.js"),O=d()("calypso:analytics:ad-tracking"),y=Object(E.default)(),j=!1,v=!1,S=!0,I=!0,T=!0,C=!0,R=!0,A=!0,N=!0,w=!0,P=!0,U=!0,D=!0,k=!1,L=!1,M=!1,x=!1,F=!1,V=!1,G=!0,q=86400,H=0,W=0,B="https://connect.facebook.net/en_US/fbevents.js",Q="https://www.googleadservices.com/pagead/conversion_async.js",z="https://bat.bing.com/bat.js",Y="https://static.criteo.net/js/ld/ld.js",K=Object(f.a)("google_adwords_conversion_id"),J=Object(f.a)("google_adwords_conversion_id_jetpack"),Z="https://sp.analytics.yahoo.com/spp.pl?a=10000&.yp=10014088&ec=wordpresspurchase",$="https://sp.analytics.yahoo.com/spp.pl?a=10000&.yp=10014088",X="https://secure.ace-tag.advertising.com/action/type=132958/bins=1/rich=0/Mnum=1516/",ee="https://secure.leadback.advertising.com/adcedge/lb?site=695501&betr=sslbet_1472760417=[+]ssprlb_1472760417[720]|sslbet_1472760452=[+]ssprlb_1472760452[8760]",te="https://data.adxcel-ec2.com/pixel/?ad_log=referer&action=purchase&pixid=7efc5994-458b-494f-94b3-31862eee9e26",ne="https://d.turn.com/r/dd/id/L21rdC84MTYvY2lkLzE3NDc0MzIzNDgvdC8yL2NhdC8zMjE4NzUwOQ",re="https://s.yimg.com/wi/ytc.js",ie="https://static.ads-twitter.com/uwt.js",se="https://6355556.fls.doubleclick.net/activityi",oe="https://snap.licdn.com/li.lms-analytics/insight.min.js",ae="https://d3ir0rz7vxwgq5.cloudfront.net/mwData.min.js",ce="https://a.quora.com/qevents.js",ue="https://mc.yandex.ru/metrika/watch.js",le="https://amplify.outbrain.com/cp/obtp.js",de="https://cdn.nanigans.com/NaN_tracker.js",pe={bingInit:"4074038",facebookInit:"823166884443641",facebookJetpackInit:"919484458159593",googleConversionLabel:"MznpCMGHr2MQ1uXz_AM",googleConversionLabelJetpack:"0fwbCL35xGIQqv3svgM",criteo:"31321",quantcast:"p-3Ma3jHaQMB_bS",yahooProjectId:"10000",yahooPixelId:"10014088",twitterPixelId:"nvzbs",dcmFloodlightAdvertiserId:"6355556",linkedInPartnerId:"195308",quoraPixelId:"420845cb70e444938cf0728887a74ca1",outbrainAdvId:"00f0f5287433c2851cc0cb917c7ff0465e",nanigansAppId:"653793"},me="dcmsid",fe=1800,_e={USD:1,EUR:1,JPY:125,AUD:1.35,CAD:1.35,GBP:.75,BRL:2.55};function Ee(){var e={uid:"",custom:"",account_id:1015,customer_id:1012,tag_action:"visit",timeout:100};window.setBrowserAttributeData();var t=0,n=function n(){window.mwDataReady()?document.body.appendChild(window.mwPixel(e)):t===e.timeout?clearTimeout(n):(setTimeout(n,1),t++)};window.addEventListener?window.addEventListener("load",n,!1):window.attachEvent("onload",n)}T&&!window.fbq&&function(){var e=window.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)};window._fbq||(window._fbq=e);window._fbq.disablePushState=!0,e.push=e,e.loaded=!0,e.version="2.0",e.queue=[]}(),C&&!window.uetq&&(window.uetq=[]),M&&!window.criteo_q&&(window.criteo_q=[]),A&&!window._qevents&&(window._qevents=[]),N&&!window.twq&&(r=window.twq=function(){r.exe?r.exe.apply(r,arguments):r.queue.push(arguments)},r.version="1.1",r.queue=[]),U&&!window._linkedin_data_partner_id&&(window._linkedin_data_partner_id=pe.linkedInPartnerId),F&&!window.qp&&(i=window.qp=function(){i.qp?i.qp.apply(i,arguments):i.queue.push(arguments)},i.queue=[]),D&&(s=window.obApi=function(){s.dispatch?s.dispatch.apply(s,arguments):s.queue.push(arguments)},s.version="1.0",s.loaded=!0,s.marketerId=pe.outbrainAdvId,s.queue=[]);var be=!1;var ge=Object(h.b)(b.a);function he(e){return Oe.apply(this,arguments)}function Oe(){return Oe=a()(regeneratorRuntime.mark(function e(t){var n,r,i,s,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:j=!0,n=[],T&&n.push(B),I&&n.push(Q),C&&n.push(z),M&&n.push(Y),A&&n.push((void 0,a="https:"===document.location.protocol?"https://secure":"http://edge",a+".quantserve.com/quant.js")),k&&n.push(re),N&&n.push(ie),U&&n.push(oe),V&&n.push(ae),F&&n.push(ce),L&&n.push(ue),D&&n.push(le),r=!1,i=0;case 16:if(!(i<n.length)){e.next=30;break}return s=n[i],e.prev=18,e.next=21,ge(s);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),r=!0,O("A tracking script failed to load: ",e.t0);case 27:i++,e.next=16;break;case 30:if(!r){e.next=32;break}return e.abrupt("return");case 32:T&&Fe(),C&&(o={ti:pe.bingInit,q:window.uetq},"undefined"!=typeof UET&&(window.uetq=new UET(o),window.uetq.push("pageLoad"))),N&&window.twq("init",pe.twitterPixelId),V&&Ee(),F&&window.qp("init",pe.quoraPixelId),L&&(window.Ya?window.yaCounter45268389=new window.Ya.Metrika({id:45268389}):(O("Error: Yandex's window.Ya not ready or missing"),L=!1)),v=!0,"function"==typeof t&&t();case 40:case"end":return e.stop()}var a},e,this,[[18,23]])})),Oe.apply(this,arguments)}function ye(){var e=f.a.isEnabled("ad-tracking")&&!Object(g.e)()&&je();return O("isAdTrackingAllowed:",e),e}function je(){var e=u.a.parse(document.cookie);return"yes"===e.sensitive_pixel_option||"no"!==e.sensitive_pixel_option&&!ve()}function ve(){var e=y.get(),t=Object(p.get)(e,"user_ip_country_code");if(!t)return!0;return Object(p.includes)(["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK","GB","CH","IS","LI","NO"],t)}function Se(e,t){window.fbq&&window.fbq("trackSingleCustom",pe.facebookInit,e,t)}function Ie(e){window.google_trackConversion&&window.google_trackConversion({google_conversion_id:K,google_custom_params:e,google_remarketing_only:!0})}function Te(){ye()&&M&&function(){if(!ye()||!M)return;Le("viewItem",{item:"1"})}()}function Ce(e){if(ye()){if(!j)return he(Ce.bind(null,e));var t=_.a.isJetpackPlan(e);O(t?"Recorded that this Jetpack item was added to the cart":"Recorded that this item was added to the cart",e),T&&window.fbq("trackSingle",t?pe.facebookJetpackInit:pe.facebookInit,"AddToCart",{product_slug:e.product_slug,free_trial:Boolean(e.free_trial)}),M&&Le("viewItem",{item:e.product_id})}}function Re(e){M&&function(e){if(!ye()||!M)return;Le("viewBasket",{currency:e.currency,item:ke(e)})}(e)}function Ae(e,t){if(ye()){var n=Me(e.total_cost,e.currency);O("recordOrder: ga ecommerce plugin load"),window.ga("require","ecommerce"),function(e,t){if(!ye()||!M)return;Le("trackTransaction",{id:t,currency:e.currency,item:ke(e)})}(e,t),function(e,t){if(!ye()||!S)return;O("recordOrderInFloodlight: Record purchase");var n={type:"wpsal0",cat:"wpsale",qty:1,cost:e.total_cost,u2:e.products.map(function(e){return e.product_name}).join(", "),u3:e.currency,ord:t};Ue(n)}(e,t),function(e,t){if(!ye()||!T)return;if(e.total_cost<.01)return void O("recordOrderInFacebook: Skipping due to a 0-value cart.");var n=Object(p.some)(e.products,_.a.isJetpackPlan),r=Object(p.some)(e.products,function(e){return!_.a.isJetpackPlan(e)});O(n&&r?"recordOrderInFacebook: Record purchase containing Jetpack and non-Jetpack products":n?"recordOrderInFacebook: Record purchase containing Jetpack":"recordOrderInFacebook: Record purchase");var i=y.get(),s={currency:e.currency,product_slug:e.products.map(function(e){return e.product_slug}).join(", "),value:e.total_cost,user_id:i?i.ID:0,order_id:t};O("recordParamsInFacebook: ",s),n&&r?window.fbq("track","Purchase",s):window.fbq("trackSingle",n?pe.facebookJetpackInit:pe.facebookInit,"Purchase",s)}(e,t),function(e,t){if(!ye()||!G)return;var n=e.products.filter(function(e){return e.cost>=.01});if(0===n.length)return void O("recordOrderInNanigans: Skip cart because it has ONLY <0.01 products");O("recordOrderInNanigans: Record purchase");var r=n.map(function(e){return 100*e.cost}),i={sku:n.map(function(e){return e.product_slug}),qty:n.map(function(){return 1}),currency:e.currency,unique:t},s=["purchase","main",r,i];be||(!function(){be=!0;var e=y.get(),t=e&&e.email?e.email.toLowerCase().replace(/\s/g,""):"";window.NaN_api=[[pe.nanigansAppId,t?Object(g.b)(t):""]],O("Nanigans setup: ",window.NaN_api,", for e-mail: "+t)}(),ge(de));O("Nanigans push:",s),window.NaN_api.push(s)}(e,t),function(e,t){if(!ye())return void O("recordOrderInGoogleAnalytics: skipping as ad tracking is disallowed");var n={id:t,affiliation:"WordPress.com",revenue:e.total_cost,currency:e.currency};O("recordOrderInGoogleAnalytics: ga ecommerce add transaction",n),window.ga("ecommerce:addTransaction",n)}(e,t),e.products.forEach(function(e){!function e(t,n){if(!ye())return;if(!j)return he(e.bind(null,t,n));var r=_.a.isJetpackPlan(t);O(r?"Recording Jetpack purchase":"Recording purchase",t);var i=y.get();var s=i?Object(g.b)(i.ID):0;try{var o={currency:t.currency,id:n,name:t.product_slug,price:t.cost,sku:t.product_slug,quantity:1};if(O("recordProduct: ga ecommerce add item",o),window.ga("ecommerce:addItem",o),I&&window.google_trackConversion&&window.google_trackConversion({google_conversion_id:r?J:K,google_conversion_label:r?pe.googleConversionLabelJetpack:pe.googleConversionLabel,google_conversion_value:t.cost,google_conversion_currency:t.currency,google_custom_params:{product_slug:t.product_slug,user_id:s,order_id:n},google_remarketing_only:!1}),N&&window.twq("track","Purchase",{value:t.cost.toString(),currency:t.currency,content_name:t.product_name,content_type:"product",content_ids:[t.product_slug],num_items:t.volume,order_id:n}),L&&window.yaCounter45268389.reachGoal("ProductPurchase",{order_id:n,product_slug:t.product_slug,order_price:t.cost,currency:t.currency}),xe(t.currency)){var a=Me(t.cost,t.currency);if(C){var c={ec:"purchase",gv:a};r&&(c.el="jetpack"),window.uetq.push(c)}A&&window._qevents.push({qacct:pe.quantcast,labels:"_fp.event.Purchase Confirmation,_fp.pcat."+t.product_slug,orderid:n.toString(),revenue:a.toString(),event:"refresh"}),k&&YAHOO.ywa.I13N.fireBeacon([{projectId:pe.yahooProjectId,properties:{pixelId:pe.yahooPixelId,qstrings:{et:"custom",ec:"wordpress.com",ea:"purchase",el:t.product_slug,gv:a.toString()}}}])}}catch(e){O("Unable to save purchase tracking data",e)}}(e,t)}),O("recordOrder: ga ecommerce send"),window.ga("ecommerce:send"),P&&((new Image).src=ne),R&&((new Image).src=Z+(null!==n?"&gv="+n:"")),w&&((new Image).src=X),x&&((new Image).src=te),F&&window.qp("track","Generic")}else O("recordOrder: skipping as ad tracking is disallowed")}function Ne(){if(ye()&&S){O("recordAliasInFloodlight: Aliasing anonymous user id with WordPress.com user id");Ue({type:"wordp0",cat:"alias0"})}}function we(e){if(ye()&&S){var t=Date.now()/1e3;if(!(t<W+q)){W=t;var n=function(){var e=u.a.parse(document.cookie),t=e[me];if(t)return O("Floodlight: Existing session: "+t),t;var n=Object(m.v4)().replace(new RegExp("-","g"),"");return O("Floodlight: New session: "+n),n}();O("Floodlight: Recording page view for session "+n),document.cookie=u.a.serialize(me,n,{maxAge:fe}),Ue({type:"wordp0",cat:"wpvisit",u6:e,u7:n,ord:n}),Ue({type:"wordp0",cat:"wppv",u6:e,u7:n})}}}function Pe(){var e={},t=y.get();t&&(e.u4=Object(g.b)(t.ID));var n,r=(n=u.a.parse(document.cookie),n.tk_ai);return r&&(e.u5=r),e}function Ue(e){if(ye()&&S){e=Object(p.assign)(e,Pe()),e.src=pe.dcmFloodlightAdvertiserId,void 0===e.ord&&(e.ord=De(),e.num=De()),O("recordParamsInFloodlight:",e);var t=Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join(";"),n=se+";"+t+"?",r=document.createElement("iframe");r.setAttribute("src",n),r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("frameborder","0"),r.setAttribute("style","display: none"),document.body.appendChild(r)}}function De(){return 1e13*Math.random()}function ke(e){return e.products.map(function(e){return{id:e.product_id,price:e.cost,quantity:e.volume}})}function Le(e,t){var n;if(ye()&&M){if(!j)return he(Le.bind(null,e,t));var r=[];r.push({event:"setAccount",account:pe.criteo}),r.push({event:"setSiteType",type:function(){if(/iPad/.test(navigator.userAgent))return"t";if(/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Silk/.test(navigator.userAgent))return"m";return"d"}()}),y.get()&&r.push({event:"setEmail",email:[Object(g.b)(y.get().email)]});var i=Object(p.clone)(t);i.event=e,r.push(i),O("Track `"+e+"` event in Criteo",Object(p.cloneDeep)(r)),(n=window.criteo_q).push.apply(n,r)}}function Me(e,t){return xe(t)?(e/_e[t]).toFixed(3):null}function xe(e){return-1!==Object.keys(_e).indexOf(e)}function Fe(){var e,t,n;y.get()?(e=y.get(),t={em:(n=e.email,n.toLowerCase().replace(/ /g,""))},O("FB Advanced Matching",t),window.fbq("init",pe.facebookInit,t),window.fbq("set","autoConfig",!1,pe.facebookJetpackInit),window.fbq("init",pe.facebookJetpackInit,t)):(window.fbq("init",pe.facebookInit),window.fbq("set","autoConfig",!1,pe.facebookJetpackInit),window.fbq("init",pe.facebookJetpackInit))}function Ve(){ye()&&S&&(O("DCM Floodlight: Recording sign up start"),Ue({type:"wordp0",cat:"pre-p0"}))}function Ge(){ye()&&S&&(O("DCM Floodlight: Recording sign up completion"),Ue({type:"wordp0",cat:"signu0"}))}function qe(e,t){var n="function"==typeof t?t:p.noop;!function(){if(ye()){if(!j)return he(qe);if(v){O("Retargeting: Quantcast & Facebook"),A&&window._qevents.push({qacct:pe.quantcast,event:"refresh"}),T&&window.fbq("trackSingle",pe.facebookInit,"PageView");var e=Date.now()/1e3;e<H+q||(H=e,O("Retargeting: others (rate limited)"),N&&window.twq("track","PageView"),I&&window.google_trackConversion&&window.google_trackConversion({google_conversion_id:K,google_remarketing_only:!0}),R&&((new Image).src=$),w&&((new Image).src=ee),F&&window.qp("track","ViewContent"),L&&window.yaCounter45268389.hit(document.location.href),D&&window.obApi("track","PAGE_VIEW"))}}}(),n()}},"./client/lib/analytics/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),i=n.n(r),s=n("./node_modules/cookie/index.js"),o=n.n(s),a=n("./node_modules/debug/src/browser.js"),c=n.n(a),u=n("./node_modules/qs/lib/index.js"),l=n("./node_modules/url/url.js"),d=n.n(l),p=n("./node_modules/lodash/lodash.js"),m=n("./client/config/index.js"),f=n("./client/lib/mixins/emitter/index.js"),_=n("./client/lib/analytics/utils.js"),E=n("./client/lib/load-script/index.js"),b=n("./client/lib/analytics/ad-tracking.js"),g=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),h=n.n(g);n.d(t,"makeGoogleAnalyticsTrackingFunction",function(){return x}),n.d(t,"ga",function(){return F}),n.d(t,"mc",function(){return V}),n.d(t,"pageView",function(){return G}),n.d(t,"tracks",function(){return q});var O,y,j,v,S,I,T=c()("calypso:analytics:mc"),C=c()("calypso:analytics:ga"),R=c()("calypso:analytics:hotjar"),A=c()("calypso:analytics:tracks"),N=c()("calypso:analytics:statsd"),w=["a8c_cookie_banner_ok"];function P(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function U(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9;return window.crypto&&window.crypto.getRandomValues?(e=new Uint8Array(t),window.crypto.getRandomValues(e)):e=Object(p.times)(t,function(){return Math.floor(256*Math.random())}),btoa(String.fromCharCode.apply(String,e))}function D(){return m.a.isEnabled("google-analytics")&&!Object(_.a)()&&!Object(_.c)()&&Object(b.b)()}window._tkq=window._tkq||[],window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date,Object(E.a)("//stats.wp.com/w.js?56",function(e){e&&(I=!0)});var k=null,L=0;"undefined"!=typeof window&&window.addEventListener("popstate",function(){k=null});var M={initialize:function(e,t){M.setUser(e),M.setSuperProps(t),M.identifyUser()},setUser:function(e){y=e},setSuperProps:function(e){!function(){if(I){var e,t;if(y&&y.get())e="wpcom:user_id",t=y.get().ID;else if(e=P("_ut")||"anon",t=P("_ui"),!t){var n=o.a.parse(document.cookie);n.tk_ai?t=n.tk_ai:(t=U(18),document.cookie=o.a.serialize("tk_ai",t))}Object(E.a)("/nostats.js?_ut="+encodeURIComponent(e)+"&_ui="+encodeURIComponent(t))}}(),O=e},setSelectedSite:function(e){j=e},setSiteCount:function(e){v=e},setDispatch:function(e){S=e},mc:{bumpStat:function(e,t){if("object"===i()(e)?T("Bumping stats %o",e):T("Bumping stat %s:%s",e,t),Object(m.a)("mc_analytics_enabled")){var n=function(e,t){var n="";if("object"===i()(e))for(var r in e)n+="&x_"+encodeURIComponent(r)+"="+encodeURIComponent(e[r]);else n="&x_"+encodeURIComponent(e)+"="+encodeURIComponent(t);return n}(e,t);(new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv"+n+"&t="+Math.random()}},bumpStatWithPageView:function(e,t){if("object"===i()(e)?T("Bumping page view with props %o",e):T("Bumping page view %s:%s",e,t),Object(m.a)("mc_analytics_enabled")){var n=function(e,t){var n="";if("object"===i()(e))for(var r in e)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(e[r]);else n="&"+encodeURIComponent(e)+"="+encodeURIComponent(t);return n}(e,t);(new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom"+n+"&t="+Math.random()}}},pageView:{record:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};setTimeout(function(){n.last_pageview_path_with_count=k+"("+L.toString()+")",L++,n.this_pageview_path_with_count=e+"("+L.toString()+")",M.tracks.recordPageView(e,n),M.ga.recordPageView(e,t),M.emit("page-view",e,t),k=e},0)}},timing:{record:function(e,t,n){var r=k||"unknown";M.ga.recordTiming(r,e,t,n),M.statsd.recordTiming(r,e,t,n)}},tracks:{recordEvent:function(e,t){var n;if(t=t||{},A('Record event "%s" called with props %o',e,t),0===e.indexOf("calypso_")||Object(p.includes)(w,e)){if(O){S&&S({type:"ANALYTICS_SUPER_PROPS_UPDATE"});var r=Object(_.d)(t.path)?null:j;n=O.getAll(r,v),t=Object(p.assign)({},t,n)}t=Object(p.omit)(t,p.isUndefined),A('Recording event "%s" with actual props %o',e,t),window._tkq.push(["recordEvent",e,t]),M.emit("record-event",e,t)}else A('- Event name must be prefixed by "calypso_" or added to `EVENT_NAME_EXCEPTIONS`')},recordPageView:function(e,t){var n={path:e,do_not_track:Object(_.a)()?1:0};if(t&&(n=Object(p.assign)(n,t)),window.location){var r=d.a.parse(window.location.href),i=Object(u.parse)(r.query),s=Object(p.pickBy)(i,function(e,t){return Object(p.startsWith)(t,"utm_")});n=Object(p.assign)(n,s)}M.tracks.recordEvent("calypso_page_view",n),Object(b.j)(),Object(b.f)(e)},createRandomId:U,anonymousUserId:function(){var e=o.a.parse(document.cookie);return e.tk_ai},setOptOut:function(e){window._tkq.push(["setOptOut",e])}},statsd:{recordTiming:function(e,t,n,r){if(Object(m.a)("boom_analytics_enabled")){var i,s="/"===e?"homepage":e.replace(/^\//,"").replace(/\.|\/|:/g,"_");Object(p.startsWith)(s,"read_list")?s="read_list":Object(p.startsWith)(s,"tag_")?s="tag__id":Object(p.startsWith)(s,"domains_add_suggestion_")?s="domains_add_suggestion__suggestion__domain":s.match(/^plugins_[^_].*__/)?s="plugins__site__plugin":s.match(/^plugins_[^_]/)?s="plugins__site__unknown":Object(p.startsWith)(s,"read_post_feed_")?s="read_post_feed__id":Object(p.startsWith)(s,"read_post_id_")?s="read_post_id__id":null!=(i=s.match(/^start_(.*)_(..)$/))?s="start_"+i[1]:Object(p.startsWith)(s,"page__")?s=s.replace(/^page__/,"post__"):Object(p.startsWith)(s,"edit_")&&(s=s.replace(/^edit_.+?__/,"post__")),N("Recording timing: path="+s+" event="+t+" duration="+n+"ms");var o=function(e,t,n){var r=e.replace(/[.:-]/g,"_"),i=t.replace("-","_"),s=JSON.stringify({beacons:["calypso."+Object(m.a)("boom_analytics_key")+"."+r+"."+i+":"+n+"|ms"]}),o=[r,s].map(encodeURIComponent),a=h()(o,2),c=a[0],u=a[1];return"https://pixel.wp.com/boom.gif?v=calypso&u="+c+"&json="+u}(s,t,n);(new Image).src=o}}},ga:{initialized:!1,initialize:function(){var e={};M.ga.initialized||(y&&y.get()&&(e.userId=Object(_.b)(y.get().ID)),window.ga("create",Object(m.a)("google_analytics_key"),"auto",e),window.ga("set","anonymizeIp",!0),M.ga.initialized=!0)},recordPageView:x(function(e,t){C("Recording Page View ~ [URL: "+e+"] [Title: "+t+"]"),window.ga("set","page",e),window.ga("send",{hitType:"pageview",page:e,title:t})}),recordEvent:x(function(e,t,n,r){var i="Recording Event ~ [Category: "+e+"] [Action: "+t+"]";void 0!==n&&(i+=" [Option Label: "+n+"]"),void 0!==r&&(i+=" [Option Value: "+r+"]"),C(i),window.ga("send","event",e,t,n,r)}),recordTiming:x(function(e,t,n,r){C("Recording Timing ~ [URL: "+e+"] [Duration: "+n+"]"),window.ga("send","timing",e,t,n,r)})},hotjar:{addHotJarScript:function(){var e,t,n,r;Object(m.a)("hotjar_enabled")&&!Object(_.a)()&&!Object(_.c)()&&Object(b.b)()?(e=window,t=document,R("Loading HotJar script"),e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:227769,hjsv:5},n=t.getElementsByTagName("head")[0],r=t.createElement("script"),r.async=1,r.src="//static.hotjar.com/c/hotjar-"+e._hjSettings.hjid+".js?sv="+e._hjSettings.hjsv,n.appendChild(r)):R("Not loading HotJar script")}},identifyUser:function(){var e=this.tracks.anonymousUserId();y&&y.initialized&&(e&&Object(b.d)(),window._tkq.push(["identifyUser",y.get().ID,y.get().username]))},setProperties:function(e){window._tkq.push(["setProperties",e])},clearedIdentity:function(){window._tkq.push(["clearIdentity"])}};if(D())try{Object(E.a)("https://www.google-analytics.com/analytics.js")}catch(e){c()("GA script failed to load properly: ",e)}function x(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];D()?(M.ga.initialize(),e.apply(void 0,n)):C("[Disallowed] analytics %s( %o )",e.name,n)}}Object(f.a)(M);t.default=M;var F=M.ga,V=M.mc,G=M.pageView,q=M.tracks},"./client/lib/analytics/track-component-view/index.jsx":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/debug/src/browser.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n("./node_modules/react-redux/es/index.js"),h=n("./client/state/analytics/actions.js"),O=f()("calypso:analytics:TrackComponentView"),y=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){O("Component will mount.");var e=this.props,t=e.eventName,n=e.eventProperties;t&&(O('Recording Tracks event "'+t+'".'),this.props.recordTracksEvent(t,n));var r=this.props,i=r.statGroup,s=r.statName;i&&(O('Bumping stat "'+s+'".'),this.props.bumpStat(i,s))}},{key:"render",value:function(){return null}}]),t}(b.Component);y.propTypes={eventName:E.a.string,eventProperties:E.a.object,recordTracksEvent:E.a.func,bumpStat:E.a.func},y.defaultProps={recordTracksEvent:function(){},bumpStat:function(){}},t.a=Object(g.b)(null,{bumpStat:h.a,recordTracksEvent:h.i})(y)},"./client/lib/analytics/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return E});var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./node_modules/hash.js/lib/hash/sha/256.js"),o=n.n(s),a=i()("calypso:analytics:utils");function c(){var e=Boolean(window&&("1"===window.doNotTrack||window.navigator&&"1"===window.navigator.doNotTrack));return a("Do Not Track: "+e),e}function u(e){return o()().update(e.toString()).digest("hex")}var l=["@","email=","email_address=","first=","last=","first-name=","last-name=","address-1=","phone="],d=l.map(function(e){return encodeURIComponent(e)});function p(){var e=document.location.href,t=function(t){return-1!==e.indexOf(t)},n=l.some(t)||d.some(t);return a("Is PII URL: "+n),n}var m=["/log-in"];function f(){var e=function(){var e=document.location.href,t=m.some(function(t){return-1!==e.indexOf(t)});return a("Is URL Blacklisted for Performance: "+t),t}()||p()||c();return a("Is Skipping Ads: "+e),e}var _=/\/(:site|:site_id|:siteid|:blogid|:blog_id|:siteslug)(\/|$|\?)/i,E=function(e){return!e||!_.test(e)}},"./client/lib/automated-transfer/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/config/index.js"),a=n("./client/lib/plans/index.js"),c=n("./client/lib/plans/constants.js"),u=n("./client/lib/site/utils.js");function l(e){if("object"!==("undefined"==typeof window?"undefined":i()(window)))return!1;if(Object(s.get)(e,"options.is_automated_transfer"))return!0;if(!Object(o.b)("automated-transfer"))return!1;if("wpcalypso"===Object(o.a)("env_id"))return!0;var t=Object(s.get)(e,"plan.product_slug");if(!Object(a.x)(t,{type:c.db,group:c.E}))return!1;var n=Object(u.g)("manage_options",e);return!!n}},"./client/lib/cart-values/cart-items.js":function(e,t,n){"use strict";n.d(t,"g",function(){return j}),n.d(t,"i",function(){return I}),n.d(t,"j",function(){return C}),n.d(t,"b",function(){return R}),n.d(t,"d",function(){return H}),n.d(t,"f",function(){return K}),n.d(t,"e",function(){return J}),n.d(t,"h",function(){return $}),n.d(t,"c",function(){return X});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(s),a=n("./node_modules/immutability-helper/index.js"),c=n.n(a),u=n("./node_modules/lodash/lodash.js"),l=n("./client/lib/products-values/index.js"),d=n("./client/lib/products-values/sort.js"),p=n("./client/lib/domains/index.js"),m=n("./client/lib/domains/constants.js"),f=n("./client/lib/plans/index.js");function _(e){function t(t){t=t||[];var n=t.some(function(t){return Object(u.isEqual)(e,t)});return n?t:t.concat([e])}return function(n){return function(e,t){if(z(e)&&!Object(l.I)(e)&&!Object(l.p)(e))return!0;if(!z(e)&&O(t))return!0;if(Object(l.w)(e)||g(t))return!0;if(Object(l.B)(e))return!0;return!1}(e,n)?c()(n,{products:{$set:[e]}}):c()(n,{products:{$apply:t}})}}function E(e){function t(t){var n=Object(u.reject)(t,function(t){return e.product_slug===t.product_slug&&e.meta===t.meta}),r=Object(l.n)(e)||Object(l.q)(e);return n.map(function(t){return Object(l.G)(t)&&r&&Object(l.c)(e)===Object(l.c)(t)?c()(t,{extra:{$merge:{domain_to_bundle:""}}}):t})}return function(e){return c()(e,{products:{$apply:t}})}}function b(e){return e&&e.products||[]}function g(e){return Object(u.some)(b(e),"free_trial")}function h(e){return e&&Object(u.some)(b(e),l.G)}function O(e){return Object(u.some)(b(e),z)}function y(e){return Object(u.filter)(b(e),{product_slug:m.d.TRANSFER_IN})}function j(e,t){if(Object(f.t)(e))return null;var n=Object(u.get)(t,"domainToBundle","");return i()({product_slug:e,free_trial:Object(u.get)(t,"isFreeTrialItem",!1)},n?{extra:{domain_to_bundle:n}}:{})}function v(e,t){return j(e,t)}function S(e,t){return j(e,t)}function I(e,t){var n=Object(u.find)(t,["product_slug",e])||{};return Object(u.get)(n,"is_privacy_protection_product_purchase_allowed",!1)}function T(e,t,n){var r=n?{extra:{source:n}}:void 0;return Object.assign({product_slug:e,meta:t},r)}function C(e,t){return{product_slug:"premium_theme",meta:e,extra:{source:t}}}function R(e){return T("domain_map",e.domain,e.source)}function A(e){return T("offsite_redirect",e.domain,e.source)}function N(e){return T("private_whois",e.domain,e.source)}function w(e){return T(m.d.TRANSFER_IN_PRIVACY,e.domain,e.source)}function P(e){var t=e.product_slug||"gapps",n=T(t,e.meta?e.meta:e.domain);return Object(u.assign)(n,{extra:{google_apps_users:e.users}})}function U(){return{product_slug:"custom-design"}}function D(){return{product_slug:"no-adverts/no-adverts.php"}}function k(){return{product_slug:"videopress"}}function L(){return{product_slug:"unlimited_space"}}function M(){return{product_slug:"unlimited_themes"}}function x(e){return{product_slug:e}}function F(e){return Object(u.find)(b(e),{free_trial:!0})}function V(e){return Object(u.filter)(b(e),{is_domain_registration:!0})}function G(e){return Object(u.filter)(b(e),{product_slug:"domain_map"})}function q(e,t){return Object(u.merge)({},e,{extra:{purchaseId:t.id,purchaseDomain:t.domain,purchaseType:"renewal",includedDomain:t.includedDomain}})}function H(e,t){return Object(u.some)(b(e),{is_domain_registration:!0,meta:t})}function W(e){return V(e).filter(function(t){return!Object(u.some)(e.products,{meta:t.meta,product_slug:"private_whois"})})}function B(e){return y(e).filter(function(t){return!Object(u.some)(e.products,{meta:t.meta,product_slug:m.d.TRANSFER_IN_PRIVACY})})}function Q(e,t,n){return u.flow.apply(null,t.map(function(e){return Object(l.r)(e)?n(w({domain:e.meta})):n(N({domain:e.meta}))}))}function z(e){return e.extra&&"renewal"===e.extra.purchaseType}function Y(e){return Object(u.get)(e,"extra.privacy_available",!0)}function K(e){return!(!e||!e.next_domain_is_free)}function J(e,t){var n=Object(u.get)(e,"bundled_domain","");return""!==n&&Object(u.toLower)(t)===Object(u.toLower)(Object(u.get)(e,"bundled_domain",""))}function Z(e,t){if(e&&t&&h(e)){var n=V(e).concat(G(e)),r=n.shift()||{};return t===r.meta}return!1}function $(e,t,n,r){return e&&(Object(l.q)(r)||Object(l.n)(r)||r.domain_name&&!Object(l.x)(r))&&!Z(n,r.domain_name)&&!K(n)&&!h(n)&&(!t||t&&"free_plan"===t.plan.product_slug)}function X(e,t,n,r){return r.product_slug&&"Free"!==r.cost?Z(n,r.domain_name)?"FREE_WITH_PLAN":K(n)?"FREE_WITH_PLAN":$(e,t,n,r)?"INCLUDED_IN_PREMIUM":"PRICE":"FREE_DOMAIN"}t.a={add:_,addPrivacyToAllDomains:function(e){return Q(0,o()(W(e)).concat(o()(B(e))),_)},businessPlan:S,customDesignItem:U,domainMapping:R,domainPrivacyProtection:N,domainRegistration:function(e){return Object(u.assign)(T(e.productSlug,e.domain,e.source),i()({is_domain_registration:!0},e.extra?{extra:e.extra}:{}))},domainTransfer:function(e){return Object(u.assign)(T(m.d.TRANSFER_IN,e.domain,e.source),i()({},e.extra?{extra:e.extra}:{}))},domainTransferPrivacy:w,fillGoogleAppsRegistrationData:function(e,t){var n=Object(u.filter)(b(e),l.y);return u.flow.apply(null,n.map(function(e){return e.extra=Object(u.assign)(e.extra,{google_apps_registration_data:t}),_(e)}))},findFreeTrial:F,getAll:b,getAllSorted:function(e){return Object(d.a)(b(e))},getDomainMappings:G,getDomainPriceRule:X,getDomainRegistrations:V,getDomainRegistrationsWithoutPrivacy:W,getDomainTransfers:y,getDomainTransfersWithoutPrivacy:B,getGoogleApps:function(e){return Object(u.filter)(b(e),l.y)},getIncludedDomain:function(e){return e.extra&&e.extra.includedDomain},getItemForPlan:function(e,t){if(t=t||{},Object(f.o)(e.product_slug))return function(e,t){return j(e,t)}(e.product_slug,t);if(Object(f.q)(e.product_slug))return v(e.product_slug,t);if(Object(f.m)(e.product_slug))return S(e.product_slug,t);throw new Error("Invalid plan product slug: "+e.product_slug)},getRenewalItemFromCartItem:q,getRenewalItemFromProduct:function(e,t){var n;if(e=Object(l.b)(e),Object(l.o)(e)&&(n=T(e.product_slug,t.domain,t.source)),Object(l.G)(e)&&(n=j(e.product_slug)),Object(l.y)(e)&&(n=P(e)),Object(l.J)(e)&&(n=A(t)),Object(l.E)(e)&&(n={product_slug:"no-adverts/no-adverts.php"}),Object(l.k)(e)&&(n={product_slug:"custom-design"}),Object(l.O)(e)&&(n={product_slug:"videopress"}),Object(l.M)(e)&&(n={product_slug:"unlimited_space"}),Object(l.N)(e)&&(n={product_slug:"unlimited_themes"}),Object(l.K)(e)&&(n=x(e.product_slug)),!n)throw new Error("This product cannot be renewed.");return q(n,e)},getRenewalItems:function(e){return b(e).filter(z)},getSiteRedirects:function(e){return Object(u.filter)(b(e),{product_slug:"offsite_redirect"})},getTlds:function(e){var t=Object(u.concat)(V(e),y(e));return Object(u.uniq)(Object(u.map)(t,function(e){return Object(p.l)(e.meta)}))},googleApps:P,googleAppsExtraLicenses:function(e){var t=T("gapps_extra_license",e.domain,e.source);return Object(u.assign)(t,{extra:{google_apps_users:e.users}})},guidedTransferItem:function(){return{product_slug:"guided_transfer"}},isDomainBeingUsedForPlan:Z,isNextDomainFree:K,hasDomainCredit:function(e){return e.has_bundle_credit||h(e)},hasDomainInCart:H,hasDomainMapping:function(e){return Object(u.some)(b(e),l.n)},hasDomainRegistration:function(e){return Object(u.some)(b(e),l.q)},hasOnlyDomainProductsWithPrivacySupport:function(e){return Object(u.every)(Object(u.concat)(y(e),V(e)),Y)},hasFreeTrial:g,hasGoogleApps:function(e){return Object(u.some)(b(e),l.y)},hasOnlyFreeTrial:function(e){return e.products&&F(e)&&Object(u.every)(b(e),{cost:0})},hasOnlyProductsOf:function(e,t){return e.products&&Object(u.every)(b(e),{product_slug:t})},hasOnlyRenewalItems:function(e){return Object(u.every)(b(e),z)},hasPlan:h,hasOnlyBundledDomainProducts:function(e){return e&&Object(u.every)(o()(V(e)).concat(o()(y(e))),l.g)},hasPremiumPlan:function(e){return Object(u.some)(b(e),l.H)},hasProduct:function(e,t){return b(e).some(function(e){return e.product_slug===t})},hasRenewableSubscription:function(e){return e.products&&Object(u.some)(b(e),function(e){return function(e){var t=e.bill_period;if(!Number.isInteger(t)){var n=Object(f.h)(e.product_slug);n&&(t=Object(f.j)(n.term))}return t}(e)>0})},hasRenewalItem:O,hasTld:function(e,t){var n=Object(u.concat)(V(e),y(e));return Object(u.some)(n,function(e){return Object(p.l)(e.meta)===t})},noAdsItem:D,planItem:j,premiumPlan:v,remove:E,removeItemAndDependencies:function(e,t,n){var r=function e(t,n,r){var i=b(n).filter(function(e){return Object(l.m)(t,e,r)});return Object(u.uniq)(Object(u.flatten)(i.concat(i.map(function(t){return e(t,n)}))))}(e,t,n),i=r.map(E).concat(E(e));return u.flow.apply(null,i)},removePrivacyFromAllDomains:function(e){return Q(0,o()(V(e)).concat(o()(y(e))),E)},replaceItem:function(e,t){return function(n){return Object(u.flow)([E(e),_(t)])(n)}},siteRedirect:A,shouldBundleDomainWithPlan:$,spaceUpgradeItem:x,supportsPrivacyProtectionPurchase:I,themeItem:C,unlimitedSpaceItem:L,unlimitedThemesItem:M,videoPressItem:k,hasStaleItem:function(e){return Object(u.some)(b(e),function(e){return e.time_added_to_cart&&1e3*e.time_added_to_cart<Date.now()-6e5})},hasTransferProduct:function(e){return Object(u.some)(b(e),l.r)}}},"./client/lib/cart-values/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"applyCoupon",function(){return E}),n.d(t,"removeCoupon",function(){return b}),n.d(t,"canRemoveFromCart",function(){return g}),n.d(t,"emptyCart",function(){return _}),n.d(t,"preprocessCartForServer",function(){return f}),n.d(t,"fillInAllCartItemAttributes",function(){return j}),n.d(t,"fillInSingleCartItemAttributes",function(){return v}),n.d(t,"getNewMessages",function(){return h}),n.d(t,"getRefundPolicy",function(){return S}),n.d(t,"isFree",function(){return y}),n.d(t,"isPaidForFullyInCredits",function(){return O}),n.d(t,"isPaymentMethodEnabled",function(){return C}),n.d(t,"paymentMethodClassName",function(){return I}),n.d(t,"paymentMethodName",function(){return T}),n.d(t,"getLocationOrigin",function(){return R});var r=n("./node_modules/url/url.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/immutability-helper/index.js"),a=n.n(o),c=n("./node_modules/i18n-calypso/index.js"),u=n.n(c),l=n("./client/config/index.js"),d=n("./client/lib/cart-values/cart-items.js");n.d(t,"cartItems",function(){return d.a});var p=n("./client/lib/products-values/index.js"),m=n("./client/state/data-getters/index.js");function f(e){var t=e.coupon,n=e.is_coupon_applied,r=e.is_coupon_removed,s=e.currency,o=e.temporary,a=e.extra,c=e.products,u=!(t||n||r||"undefined"==typeof document),l=u?i.a.parse(document.URL,!0).query.coupon:"";return Object.assign({coupon:t,is_coupon_applied:n,is_coupon_removed:r,currency:s,temporary:o,extra:a,products:c.map(function(e){var t=e.product_id,n=e.meta,r=e.free_trial,i=e.volume,s=e.extra;return{product_id:t,meta:n,free_trial:r,volume:i,extra:s}})},u&&l&&{coupon:l,is_coupon_applied:!1})}function _(e,t){return Object.assign({blog_id:e,products:[]},t)}function E(e){return function(t){return a()(t,{coupon:{$set:e},is_coupon_applied:{$set:!1},$unset:["is_coupon_removed"]})}}function b(){return function(e){return a()(e,{coupon:{$set:""},is_coupon_applied:{$set:!1},$merge:{is_coupon_removed:!0}})}}function g(e,t){return!p.a.isCredits(t)&&(!d.a.hasRenewalItem(e)||!p.a.isPrivacyProtection(t)&&!p.a.isDomainRedemption(t))}function h(e,t){var n,r,i,s;return e=e||{},t=t||{},s=t.messages||[],e&&e.client_metadata&&t.client_metadata?(n=e.client_metadata.last_server_response_date,r=t.client_metadata.last_server_response_date,i=u.a.moment(r).isAfter(n),i?s:[]):s}function O(e){return!d.a.hasFreeTrial(e)&&!d.a.hasProduct(e,"wordpress-com-credits")&&e.total_cost<=e.credits&&e.total_cost>0}function y(e){return 0===e.total_cost&&!d.a.hasFreeTrial(e)}function j(e,t){return a()(e,{products:{$apply:function(e){return e.map(function(e){return v(e,t)})}}})}function v(e,t){var n=t[e.product_slug],r=p.a.whitelistAttributes(n);return Object(s.extend)({},e,r)}function S(e){return d.a.hasDomainRegistration(e)&&d.a.hasPlan(e)?"planWithDomainRefund":d.a.hasDomainRegistration(e)?"domainRefund":"genericRefund"}function I(e){return{alipay:"WPCOM_Billing_Stripe_Source_Alipay",bancontact:"WPCOM_Billing_Stripe_Source_Bancontact","credit-card":"WPCOM_Billing_MoneyPress_Paygate",ebanx:"WPCOM_Billing_Ebanx","emergent-paywall":"WPCOM_Billing_Emergent_Paywall",eps:"WPCOM_Billing_Stripe_Source_Eps",giropay:"WPCOM_Billing_Stripe_Source_Giropay",ideal:"WPCOM_Billing_Stripe_Source_Ideal",paypal:"WPCOM_Billing_PayPal_Express",p24:"WPCOM_Billing_Stripe_Source_P24","brazil-tef":"WPCOM_Billing_Ebanx_Redirect_Brazil_Tef"}[e]||""}function T(e){var t={alipay:"Alipay",bancontact:"Bancontact","credit-card":u.a.translate("Credit or debit card"),"emergent-paywall":"Net Banking / Paytm / Debit Card",eps:"EPS",giropay:"Giropay",ideal:"iDEAL",paypal:"PayPal",p24:"Przelewy24","brazil-tef":"Transferncia bancria"};if("credit-card"===e){var n=Object(m.b)().data;if("IN"===n)return u.a.translate("Credit Card")}return t[e]||e}function C(e,t){var n=I(t);return""!==n&&(!(["alipay","bancontact","eps","emergent-paywall","giropay","ideal","paypal","p24","brazil-tef"].indexOf(t)>=0&&!l.a.isEnabled("upgrades/redirect-payments"))&&(Object(s.isArray)(e.allowed_payment_methods)&&e.allowed_payment_methods.indexOf(n)>=0))}function R(e){return e.protocol+"//"+e.hostname+(e.port?":"+e.port:"")}t.default={applyCoupon:E,removeCoupon:b,cartItems:d.a,emptyCart:_,isPaymentMethodEnabled:C}},"./client/lib/cart/store/cart-analytics.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/analytics/index.js"),s=n("./client/lib/cart-values/index.js"),o=n("./client/lib/analytics/ad-tracking.js");function a(e,t){var n=s.cartItems.getAll(e),i=s.cartItems.getAll(t);Object(r.each)(Object(r.difference)(i,n),u),Object(r.each)(Object(r.difference)(n,i),l)}function c(e){return Object(r.omit)(e,["extra"])}function u(e){i.default.tracks.recordEvent("calypso_cart_product_add",c(e)),Object(o.c)(e)}function l(e){i.default.tracks.recordEvent("calypso_cart_product_remove",c(e))}},"./client/lib/cart/store/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/upgrades/constants.js"),a=n("./client/lib/mixins/emitter/index.js"),c=n("./node_modules/i18n-calypso/index.js"),u=n.n(c),l=n("./client/dispatcher/index.js"),d=n("./node_modules/debug/src/browser.js"),p=n.n(d),m=n("./client/lib/cart-values/index.js"),f=p()("calypso:cart-data:cart-synchronizer");function _(e){return Object(s.assign)({},e,{client_metadata:{last_server_response_date:u.a.moment().toISOString()},products:(t=e.products,t.map(function(e){return Object(s.assign)({},e,{product_id:parseInt(e.product_id,10)})}))});var t}function E(e,t){if(!(this instanceof E))return new E(e,t);this._cartKey=e,this._wpcom=t,this._latestValue=null,this._hasLoadedFromServer=!1,this._activeRequest=null,this._queuedChanges=null,this._paused=!1,this.dispatchToken=l.a.register(this.handleDispatch.bind(this))}Object(a.a)(E.prototype),E.prototype.handleDispatch=function(e){var t=e.action;if(t.type===o.a.TRANSACTION_STEP_SET){var n=t.step;n.first&&n.last||(n.first?this.pause():n.last&&this.resume())}},E.prototype.update=function(e){this._hasLoadedFromServer?(this._activeRequest&&"canceled"!==this._activeRequest.state&&(this._activeRequest.state="canceled"),this._latestValue=e(this._latestValue),this._performRequest("update",this._postToServer.bind(this)),this.emit("change")):this._enqueueChange(e)},E.prototype.pause=function(){this._paused=!0},E.prototype.resume=function(){this._paused=!1},E.prototype._enqueueChange=function(e){this._queuedChanges?this._queuedChanges=Object(s.flowRight)(e,this._queuedChanges):this._queuedChanges=e},E.prototype._processQueuedChanges=function(){this._queuedChanges&&(this._activeRequest&&"canceled"!==this._activeRequest.state&&(this._activeRequest.state="canceled"),this._latestValue=this._queuedChanges(this._latestValue),this._queuedChanges=null,this._performRequest("update",this._postToServer.bind(this)))},E.prototype._postToServer=function(e){this._wpcom.setCart(this._cartKey,Object(m.preprocessCartForServer)(this._latestValue),function(t,n){t?e(t):e(null,_(n))})},E.prototype._poll=function(){this._performRequest("poll",this._getFromServer.bind(this))},E.prototype.fetch=function(){this._performRequest("fetch",this._getFromServer.bind(this))},E.prototype._getFromServer=function(e){this._wpcom.getCart(this._cartKey,function(t,n){t?e(t):e(null,_(n))})};var b=0;E.prototype._performRequest=function(e,t){if("poll"!==e||!this._paused){if(this._activeRequest&&"pending"===this._activeRequest.state)return!1;var n={id:b++,type:e,state:"pending"};this._activeRequest=n,f(n.id+": starting "+n.type),t(function(e,t){if("canceled"!==n.state){if(e)throw e;f(n.id+": finishing "+n.type),this._latestValue=t,n.state="completed",this._hasLoadedFromServer||(this._processQueuedChanges(),this._hasLoadedFromServer=!0),this.emit("change")}else f(n.id+": canceled "+n.type)}.bind(this))}},E.prototype.getLatestValue=function(){if(!this._hasLoadedFromServer)throw new Error("Value cannot be read before fetching from the server at least once.");return this._latestValue},E.prototype.hasLoadedFromServer=function(){return this._hasLoadedFromServer},E.prototype.hasPendingServerUpdates=function(){return this._activeRequest&&"update"===this._activeRequest.type&&"pending"===this._activeRequest.state};var g=E,h=n("./client/lib/data-poller/index.js"),O=n("./client/lib/cart/store/cart-analytics.js"),y=n("./client/lib/products-list/index.js"),j=n("./client/lib/wp/browser.js"),v=Object(y.a)(),S=j.a.undocumented(),I=null,T=null,C=null,R={get:function(){var e=A()?T.getLatestValue():{};return Object(s.assign)({},e,{hasLoadedFromServer:A(),hasPendingServerUpdates:T&&T.hasPendingServerUpdates()})},setSelectedSiteId:function(e){e&&I===e||(I=e||"no-site",T&&C&&(h.a.remove(C),T.off("change",N)),T=g(I,S),T.on("change",N),C=h.a.add(R,T._poll.bind(T)))}};function A(){return T&&T.hasLoadedFromServer()}function N(){R.emit("change")}function w(e){var t=Object(s.flowRight)(Object(s.partialRight)(m.fillInAllCartItemAttributes,v.get()),e),n=R.get(),r=t(n);T.update(t),Object(O.a)(n,r)}Object(a.a)(R),R.dispatchToken=l.a.register(function(e){var t=e.action;switch(t.type){case o.a.CART_DISABLE:T&&C&&(h.a.remove(C),T.off("change",N)),T=null,C=null,I=null;break;case o.a.CART_PRIVACY_PROTECTION_ADD:w(m.cartItems.addPrivacyToAllDomains(R.get()));break;case o.a.CART_PRIVACY_PROTECTION_REMOVE:w(m.cartItems.removePrivacyFromAllDomains(R.get()));break;case o.a.GOOGLE_APPS_REGISTRATION_DATA_ADD:w(m.cartItems.fillGoogleAppsRegistrationData(R.get(),t.registrationData));break;case o.a.CART_ITEMS_ADD:w(s.flow.apply(void 0,i()(t.cartItems.map(function(e){return m.cartItems.add(e)}))));break;case o.a.CART_COUPON_APPLY:w(Object(m.applyCoupon)(t.coupon));break;case o.a.CART_COUPON_REMOVE:w(Object(m.removeCoupon)());break;case o.a.CART_ITEM_REMOVE:w(m.cartItems.removeItemAndDependencies(t.cartItem,R.get(),t.domainsWithPlansOnly));break;case o.a.CART_ITEM_REPLACE:w(m.cartItems.replaceItem(t.oldItem,t.newItem))}});t.a=R},"./client/lib/catch-js-errors/log.js":function(e,t,n){"use strict";n.r(t),n.d(t,"registerLogger",function(){return a}),n.d(t,"default",function(){return c});var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=i()("calypso:catch-js-errors:log"),o=null;function a(e){o=e}function c(e,t){s(e,t),o&&o.log&&o.log(e,t)}},"./client/lib/compare-props/index.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js");t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignore,n=e.deep,i=e.shallow;return function(e,s){for(var o in e)if(!t||!Object(r.includes)(t,o))if(n&&Object(r.includes)(n,o)){if(!Object(r.isEqual)(e[o],s[o]))return!1}else if((!i||Object(r.includes)(i,o))&&e[o]!==s[o])return!1;for(var a in s)if(!(a in e)&&(!t||!Object(r.includes)(t,a))&&(!i||Object(r.includes)(i,a)))return!1;return!0}}},"./client/lib/create-config/index.js":function(e,t,n){e.exports=function(e){var t=function(e){return function(t){if(t in e)return e[t];"undefined"!=typeof window&&console.error("%cCore Error: %cCould not find config value for key %c${ key }%c. Please make sure that if you need it then it has a default value assigned in %cconfig/_shared.json%c.","color: red; font-size: 120%","color: black;","color: blue;","color: black;","color: blue;","color: black")}}(e);return t.isEnabled=function(e){return function(t){return e.features&&!!e.features[t]||!1}}(e),t}},"./client/lib/create-selector/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return u});n("./node_modules/@babel/runtime/helpers/typeof.js");var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/react-pure-render/shallowEqual.js"),s=n.n(i),o=(n("./client/lib/warn/index.js"),function(e){return e}),a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.join()},c=function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.map(function(e){return e.apply(void 0,[t].concat(r))})}};function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,u=Object(r.memoize)(e,i);return Array.isArray(n)&&(n=c(n)),Object.assign(function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=n.apply(void 0,[e].concat(i));return Array.isArray(a)||(a=[a]),t&&!s()(a,t)&&u.cache.clear(),t=a,u.apply(void 0,[e].concat(i))},{memoizedSelector:u})}},"./client/lib/data-poller/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),i=n.n(r),s=n("./node_modules/debug/src/browser.js"),o=n.n(s),a=o()("calypso:poller"),c=3e4,u=0;function l(e,t,n){n=n||{},this.id=u,u++,this.paused=!1,this.startOnFirstChange=this.startOnFirstChange.bind(this),this.stopOnNoChangeListeners=this.stopOnNoChangeListeners.bind(this),this.interval=n.interval||c,this.pauseWhenHidden=!0,"pauseWhenHidden"in n&&(this.pauseWhenHidden=n.pauseWhenHidden),void 0!==n.leading?this.leading=!!n.leading:this.leading=!0,this.dataStore=e,this.fetcher=t,this.dataStore.on("newListener",this.startOnFirstChange),this.dataStore.on("removeListener",this.stopOnNoChangeListeners),this.dataStore.listeners("change").length>0&&this.start()}l.prototype.start=function(){var e=function(){a("Calling fetcher for %o",{fetcher:this.fetcher,store:this.dataStore}),this.fetch()}.bind(this);this.timer||(a("Starting poller for %o",this.dataStore),this.leading&&e(),this.timer=setInterval(e,this.interval),this.paused=!1)},l.prototype.stop=function(){this.timer&&(a("Stopping poller for %o",this.dataStore),clearInterval(this.timer),this.timer=!1,this.paused=!1)},l.prototype.fetch=function(){"string"==typeof this.fetcher?this.dataStore[this.fetcher]():this.fetcher.call(null)},l.prototype.clear=function(){this.dataStore.off("newListener",this.startOnFirstChange),this.dataStore.off("removeListener",this.stopOnNoChangeListeners),this.stop()},l.prototype.startOnFirstChange=function(e){"change"===e&&this.start()},l.prototype.stopOnNoChangeListeners=function(e){"change"===e&&0===this.dataStore.listeners("change").length&&this.stop()};var d=l,p=o()("calypso:poller"),m={};function f(){var e,t;for(t in p("Pausing active pollers"),m)e=m[t],e.timer&&e.pauseWhenHidden&&(e.stop(),e.paused=!0)}function _(){var e,t;for(t in p("Resuming paused pollers"),m)e=m[t],e.paused&&e.start()}function E(){document.hidden?f():_()}t.a={add:function(e,t,n){var r=new d(e,t,n);return 0===r.id&&document&&document.addEventListener("visibilitychange",E,!1),m[r.id]=r,p("Adding poller %o",r),r},remove:function(e){"object"!==i()(e)&&m[e]&&(e=m[e]),e.clear(),p("Removing poller %o",e),delete m[e.id]},pauseAll:f,resumePaused:_}},"./client/lib/detect-history-navigation/index.js":function(e,t,n){"use strict";var r=!1;t.a={start:function(){window.addEventListener("popstate",function(e){r=!!e.state})},loadedViaHistory:function(){return r}}},"./client/lib/discounts/index.js":function(e,t,n){"use strict";var r=n("./client/lib/plans/constants.js"),i=[{name:"simple_payments_wpcom",startsAt:new Date(2018,6,9,0,0,0),endsAt:new Date(2018,8,9,23,59,59),plansPageNoticeText:"Upgrade to a Premium or Business plan today and start collecting payments with the Simple Payments button!",targetPlans:[{type:r.eb,group:r.E},{type:r.fb,group:r.E}]},{name:"simple_payments_jetpack",startsAt:new Date(2018,6,9,0,0,0),endsAt:new Date(2018,8,9,23,59,59),plansPageNoticeText:"Upgrade to a Premium or Professional plan today and start collecting payments with the Simple Payments button!",targetPlans:[{type:r.eb,group:r.D},{type:r.fb,group:r.D}]},{name:"renewing_plan",startsAt:new Date(2018,6,11,0,0,0),endsAt:new Date(2018,6,16,23,59,59),plansPageNoticeText:"Enter coupon code YOURGIFT30 during checkout to redeem your 30% off discount!",targetPlans:[{type:r.fb,group:r.E},{type:r.gb,group:r.E}]},{name:"free_domain",plansPageNoticeTextTitle:"Get a free domain name by upgrading to any plan listed below!",plansPageNoticeText:"Improve your SEO, branding, credibility, and even word-of-mouth marketing with a custom domain. All plan upgrades include a free domain name of your choice."}];function s(e){var t=i.find(function(t){if(e!==t.name)return!1;var n=new Date;return!(t.startsAt&&t.startsAt>n||t.endsAt&&t.endsAt<n)});return void 0!==t&&t}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i})},"./client/lib/domains/constants.js":function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return l});var r={MAPPED:"MAPPED",REGISTERED:"REGISTERED",SITE_REDIRECT:"SITE_REDIRECT",WPCOM:"WPCOM",TRANSFER:"TRANSFER"},i={PENDING_OWNER:"PENDING_OWNER",PENDING_REGISTRY:"PENDING_REGISTRY",CANCELLED:"CANCELLED",COMPLETED:"COMPLETED",PENDING_START:"PENDING_START"},s={OPENHRS:"OpenHRS",OPENSRS:"OpenSRS",WWD:"WWD",MAINTENANCE:"Registrar TLD Maintenance"},o={AVAILABLE:"available",BLACKLISTED:"blacklisted_domain",DOTBLOG_SUBDOMAIN:"dotblog_subdomain",EMPTY_QUERY:"empty_query",EMPTY_RESULTS:"empty_results",FORBIDDEN:"forbidden_domain",FORBIDDEN_SUBDOMAIN:"forbidden_subdomain",INVALID:"invalid_domain",INVALID_QUERY:"invalid_query",INVALID_TLD:"invalid_tld",MAINTENANCE:"tld_in_maintenance",MAPPABLE:"mappable",MAPPED:"mapped_domain",MAPPED_OTHER_SITE_SAME_USER:"mapped_to_other_site_same_user",MAPPED_SAME_SITE_NOT_TRANSFERRABLE:"mapped_to_same_site_not_transferrable",MAPPED_SAME_SITE_TRANSFERRABLE:"mapped_to_same_site_transferrable",NOT_AVAILABLE:"not_available",NOT_REGISTRABLE:"available_but_not_registrable",PURCHASES_DISABLED:"domain_registration_unavailable",RECENTLY_UNMAPPED:"recently_mapped",RECENTLY_EXPIRED:"recently_expired",REGISTERED:"registered_domain",REGISTERED_OTHER_SITE_SAME_USER:"registered_on_other_site_same_user",REGISTERED_SAME_SITE:"registered_on_same_site",RESTRICTED:"restricted_domain",TLD_NOT_SUPPORTED:"tld_not_supported",TLD_NOT_SUPPORTED_TEMPORARILY:"tld_not_supported_temporarily",TRANSFER_PENDING:"transfer_pending",TRANSFER_PENDING_SAME_USER:"transfer_pending_same_user",TRANSFERRABLE:"transferrable",UNKNOWN:"unknown",UNKOWN_ACTIVE:"unknown_active_domain_with_wpcom"},a={G_SUITE:{PROVIDER:"g-suite",SERVICE:"G-Suite"},MICROSOFT_OFFICE365:{PROVIDER:"microsoft-office365",SERVICE:"O365"},ZOHO_MAIL:{PROVIDER:"zoho-mail",SERVICE:"Zoho"}},c={TRANSFER_IN:"domain_transfer",TRANSFER_IN_PRIVACY:"domain_transfer_privacy"},u={NONE:"NONE",PENDING:"PENDING",PENDING_ASYNC:"PENDING_ASYNC",ACCEPTED_CONTRACTUAL_MINIMUM:"ACCEPTED_CONTRACTUAL_MINIMUM",ACCEPTED_FULL:"ACCEPTED_FULL",DENIED:"DENIED",FORCED_ALL_CONTRACTUAL:"FORCED_ALL_CONTRACTUAL"},l={DISCOVERY_TXT_RECORD_NAME:"_domainconnect",API_URL:"public-api.wordpress.com/rest/v1.3/domain-connect"}},"./client/lib/domains/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return _}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return b}),n.d(t,"g",function(){return D}),n.d(t,"h",function(){return U}),n.d(t,"i",function(){return j}),n.d(t,"j",function(){return T}),n.d(t,"k",function(){return A}),n.d(t,"l",function(){return w}),n.d(t,"m",function(){return P}),n.d(t,"n",function(){return S}),n.d(t,"o",function(){return C}),n.d(t,"p",function(){return R}),n.d(t,"q",function(){return I}),n.d(t,"r",function(){return N}),n.d(t,"s",function(){return v}),n.d(t,"t",function(){return O}),n.d(t,"u",function(){return g}),n.d(t,"v",function(){return h}),n.d(t,"f",function(){return k});var r=n("./node_modules/inherits/inherits_browser.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/wp/browser.js"),a=n("./client/lib/domains/constants.js"),c=n("./client/lib/domains/utils.js"),u=n("./client/lib/domains/tlds/wpcom-multi-level-tlds.json"),l=n("./client/lib/format-currency/index.js"),d=["in"],p=["google"];function m(e){this.code=e,this.message=e}function f(e){var t=e.split(".")[1],n=Object(s.some)(p,function(t){return Object(s.includes)(e,t)});return!(Object(s.includes)(d,t)||n)}function _(e,t,n){e&&t?o.a.undocumented().checkAuthCode(e,t,function(e,t){e?n(e.error):n(null,t)}):n(null,{success:!1})}function E(e,t){var n=e.domainName,r=e.blogId;n?o.a.undocumented().isDomainAvailable(n,r,function(e,n){e?t(e.error):t(null,n)}):t(null,{status:a.b.EMPTY_QUERY})}function b(e,t){e?o.a.undocumented().getInboundTransferStatus(e,function(e,n){e?t(e.error):t(null,n)}):t(null)}function g(e,t,n){t&&e?o.a.undocumented().restartInboundTransfer(e,t,function(e,t){e?n(e.error):n(null,t)}):n(null)}function h(e,t,n,r){t&&e?o.a.undocumented().startInboundTransfer(e,t,n,function(e,t){e?r(e.error):r(null,t)}):r(null)}function O(e,t){e?o.a.undocumented().resendInboundTransferEmail(e,function(e,n){e?t(e):t(null,n)}):t(null)}function y(e,t,n){t?(t.match(/^https?:\/\//i)||(t="http://"+t),o.a.undocumented().canRedirect(e,t,function(e,t){e?n(new m(e.error)):t.can_redirect?n(null):n(new m("cannot_redirect"))})):n(new m("empty_query"))}function j(e){return e.trim().toLowerCase().replace(/^(https?:\/\/)?(www\.)?/,"").replace(/\/$/,"").replace(/_/g,"-")}function v(e){return e.match(/\..+\.[a-z]{2,3}\.[a-z]{2}$|\..+\.[a-z]{3,}$|\..{4,}\.[a-z]{2}$/)}function S(e){return"no_subscription"!==Object(s.get)(e,"googleAppsSubscription.status","")}function I(e){return e.type===a.h.MAPPED}function T(e){return e.filter(function(e){return Object(s.includes)([a.h.REGISTERED,a.h.MAPPED],e.type)&&f(e.name)})}function C(e){return T(e).length>0}function R(e){return 0!==Object(s.get)(e,"googleAppsSubscription.pendingUsers.length",0)}function A(e){var t=e.domains,n=e.selectedDomainName,r=e.isTransfer;return Object(s.find)(t,function(e){return e.name===n&&(!(!r||e.type!==a.h.TRANSFER)||e.type!==a.h.TRANSFER)})}function N(e){return e.type===a.h.REGISTERED}function w(e){var t=e.lastIndexOf(".");if(-1===t)return"";var n=Object(c.f)(e,u);return n||(n=e.substring(t+1)),n}function P(e){return e.substring(e.lastIndexOf(".")+1)}function U(e){var t=w(e),n=Object(s.replace)(t,/\./g,"dot");return Object(s.includes)(["com","net","org"],n)?"domain_reg":"dot"+n+"_domain"}function D(e,t,n){var r=Object(s.get)(t,[e,"cost"],null);return r&&(r+=Object(s.get)(t,["domain_map","cost"],0),r=Object(l.a)(r,n)),r}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.a.undocumented().getAvailableTlds(e)}i()(m,Error)},"./client/lib/domains/tlds/wpcom-multi-level-tlds.json":function(e){e.exports={"co.in":1,"com.br":0,"firm.in":1,"gen.in":1,"ind.in":1,"net.br":0,"net.in":1,"org.in":1}},"./client/lib/domains/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return p});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/domains/constants.js"),s=n("./client/lib/cart-values/index.js"),o=n("./client/lib/products-values/index.js");function a(e){return"redirect"===e.type?i.h.SITE_REDIRECT:"transfer"===e.type?i.h.TRANSFER:e.wpcom_domain?i.h.WPCOM:e.has_registration?i.h.REGISTERED:i.h.MAPPED}function c(e){return"pending_owner"===e.transfer_status?i.g.PENDING_OWNER:"pending_registry"===e.transfer_status?i.g.PENDING_REGISTRY:"cancelled"===e.transfer_status?i.g.CANCELLED:"completed"===e.transfer_status?i.g.COMPLETED:"pending_start"===e.transfer_status?i.g.PENDING_START:null}function u(e){switch(e.gdpr_consent_status){case"NONE":return i.e.NONE;case"PENDING":return i.e.PENDING;case"PENDING_ASYNC":return i.e.PENDING_ASYNC;case"ACCEPTED_CONTRACTUAL_MINIMUM":return i.e.ACCEPTED_CONTRACTUAL_MINIMUM;case"ACCEPTED_FULL":return i.e.ACCEPTED_FULL;case"DENIED":return i.e.DENIED;case"FORCED_ALL_CONTRACTUAL":return i.e.FORCED_ALL_CONTRACTUAL;default:return null}}function l(e,t){var n;return e&&!Object(r.isEmpty)(e.purchases)&&(n=Object(r.find)(Object(r.values)(e.purchases),o.q)),s.cartItems.hasDomainRegistration(t)&&(n=s.cartItems.getDomainRegistrations(t)[0]),n?n.meta:null}function d(e){return Object(r.startsWith)(e,"/domain-connect/authorize/")}function p(e,t){if(!e)return"";if(void 0!==t[e])return e;var n=Object(r.split)(e,"."),i=Object(r.join)(Object(r.drop)(n),".");return p(i,t)}},"./client/lib/e2e/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r="wp-e2e-tests";function i(){return new RegExp(r).test(navigator.userAgent)}},"./client/lib/format-currency/currencies.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={AED:{symbol:"..",grouping:",",decimal:".",precision:2},AFN:{symbol:"",grouping:",",decimal:".",precision:2},ALL:{symbol:"Lek",grouping:".",decimal:",",precision:2},AMD:{symbol:"",grouping:",",decimal:".",precision:2},ANG:{symbol:"",grouping:",",decimal:".",precision:2},AOA:{symbol:"Kz",grouping:",",decimal:".",precision:2},ARS:{symbol:"$",grouping:".",decimal:",",precision:2},AUD:{symbol:"A$",grouping:",",decimal:".",precision:2},AWG:{symbol:"",grouping:",",decimal:".",precision:2},AZN:{symbol:"",grouping:" ",decimal:",",precision:2},BAM:{symbol:"",grouping:".",decimal:",",precision:2},BBD:{symbol:"$",grouping:",",decimal:".",precision:2},BDT:{symbol:"",grouping:",",decimal:".",precision:0},BGN:{symbol:".",grouping:" ",decimal:",",precision:2},BHD:{symbol:"..",grouping:",",decimal:".",precision:3},BIF:{symbol:"FBu",grouping:",",decimal:".",precision:0},BMD:{symbol:"$",grouping:",",decimal:".",precision:2},BND:{symbol:"$",grouping:".",decimal:",",precision:0},BOB:{symbol:"Bs",grouping:".",decimal:",",precision:2},BRL:{symbol:"R$",grouping:",",decimal:".",precision:2},BSD:{symbol:"$",grouping:",",decimal:".",precision:2},BTC:{symbol:"",grouping:",",decimal:".",precision:2},BTN:{symbol:"Nu.",grouping:",",decimal:".",precision:1},BWP:{symbol:"P",grouping:",",decimal:".",precision:2},BYR:{symbol:".",grouping:" ",decimal:",",precision:2},BZD:{symbol:"BZ$",grouping:",",decimal:".",precision:2},CAD:{symbol:"C$",grouping:",",decimal:".",precision:2},CDF:{symbol:"FC",grouping:",",decimal:".",precision:2},CHF:{symbol:"CHF",grouping:"'",decimal:".",precision:2},CLP:{symbol:"$",grouping:".",decimal:",",precision:2},CNY:{symbol:"",grouping:",",decimal:".",precision:2},COP:{symbol:"$",grouping:".",decimal:",",precision:2},CRC:{symbol:"",grouping:".",decimal:",",precision:2},CUC:{symbol:"CUC",grouping:",",decimal:".",precision:2},CUP:{symbol:"$MN",grouping:",",decimal:".",precision:2},CVE:{symbol:"$",grouping:",",decimal:".",precision:2},CZK:{symbol:"K",grouping:" ",decimal:",",precision:2},DJF:{symbol:"Fdj",grouping:",",decimal:".",precision:0},DKK:{symbol:"kr.",grouping:"",decimal:",",precision:2},DOP:{symbol:"RD$",grouping:",",decimal:".",precision:2},DZD:{symbol:"..",grouping:",",decimal:".",precision:2},EGP:{symbol:"..",grouping:",",decimal:".",precision:2},ERN:{symbol:"Nfk",grouping:",",decimal:".",precision:2},ETB:{symbol:"ETB",grouping:",",decimal:".",precision:2},EUR:{symbol:"",grouping:".",decimal:",",precision:2},FJD:{symbol:"$",grouping:",",decimal:".",precision:2},FKP:{symbol:"",grouping:",",decimal:".",precision:2},GBP:{symbol:"",grouping:",",decimal:".",precision:2},GEL:{symbol:"Lari",grouping:" ",decimal:",",precision:2},GHS:{symbol:"",grouping:",",decimal:".",precision:2},GIP:{symbol:"",grouping:",",decimal:".",precision:2},GMD:{symbol:"D",grouping:",",decimal:".",precision:2},GNF:{symbol:"FG",grouping:",",decimal:".",precision:0},GTQ:{symbol:"Q",grouping:",",decimal:".",precision:2},GYD:{symbol:"$",grouping:",",decimal:".",precision:2},HKD:{symbol:"HK$",grouping:",",decimal:".",precision:2},HNL:{symbol:"L.",grouping:",",decimal:".",precision:2},HRK:{symbol:"kn",grouping:".",decimal:",",precision:2},HTG:{symbol:"G",grouping:",",decimal:".",precision:2},HUF:{symbol:"Ft",grouping:".",decimal:",",precision:0},IDR:{symbol:"Rp",grouping:".",decimal:",",precision:0},ILS:{symbol:"",grouping:",",decimal:".",precision:2},INR:{symbol:"",grouping:",",decimal:".",precision:2},IQD:{symbol:"..",grouping:",",decimal:".",precision:2},IRR:{symbol:"",grouping:",",decimal:"/",precision:2},ISK:{symbol:"kr.",grouping:".",decimal:",",precision:0},JMD:{symbol:"J$",grouping:",",decimal:".",precision:2},JOD:{symbol:"..",grouping:",",decimal:".",precision:3},JPY:{symbol:"",grouping:",",decimal:".",precision:0},KES:{symbol:"S",grouping:",",decimal:".",precision:2},KGS:{symbol:"",grouping:" ",decimal:"-",precision:2},KHR:{symbol:"",grouping:",",decimal:".",precision:0},KMF:{symbol:"CF",grouping:",",decimal:".",precision:2},KPW:{symbol:"",grouping:",",decimal:".",precision:0},KRW:{symbol:"",grouping:",",decimal:".",precision:0},KWD:{symbol:"..",grouping:",",decimal:".",precision:3},KYD:{symbol:"$",grouping:",",decimal:".",precision:2},KZT:{symbol:"",grouping:" ",decimal:"-",precision:2},LAK:{symbol:"",grouping:",",decimal:".",precision:0},LBP:{symbol:"..",grouping:",",decimal:".",precision:2},LKR:{symbol:"",grouping:",",decimal:".",precision:0},LRD:{symbol:"$",grouping:",",decimal:".",precision:2},LSL:{symbol:"M",grouping:",",decimal:".",precision:2},LYD:{symbol:"..",grouping:",",decimal:".",precision:3},MAD:{symbol:"..",grouping:",",decimal:".",precision:2},MDL:{symbol:"lei",grouping:",",decimal:".",precision:2},MGA:{symbol:"Ar",grouping:",",decimal:".",precision:0},MKD:{symbol:".",grouping:".",decimal:",",precision:2},MMK:{symbol:"K",grouping:",",decimal:".",precision:2},MNT:{symbol:"",grouping:" ",decimal:",",precision:2},MOP:{symbol:"MOP$",grouping:",",decimal:".",precision:2},MRO:{symbol:"UM",grouping:",",decimal:".",precision:2},MTL:{symbol:"",grouping:",",decimal:".",precision:2},MUR:{symbol:"",grouping:",",decimal:".",precision:2},MVR:{symbol:"MVR",grouping:",",decimal:".",precision:1},MWK:{symbol:"MK",grouping:",",decimal:".",precision:2},MXN:{symbol:"MX$",grouping:",",decimal:".",precision:2},MYR:{symbol:"RM",grouping:",",decimal:".",precision:2},MZN:{symbol:"MT",grouping:",",decimal:".",precision:0},NAD:{symbol:"$",grouping:",",decimal:".",precision:2},NGN:{symbol:"",grouping:",",decimal:".",precision:2},NIO:{symbol:"C$",grouping:",",decimal:".",precision:2},NOK:{symbol:"kr",grouping:" ",decimal:",",precision:2},NPR:{symbol:"",grouping:",",decimal:".",precision:2},NZD:{symbol:"NZ$",grouping:",",decimal:".",precision:2},OMR:{symbol:"",grouping:",",decimal:".",precision:3},PAB:{symbol:"B/.",grouping:",",decimal:".",precision:2},PEN:{symbol:"S/.",grouping:",",decimal:".",precision:2},PGK:{symbol:"K",grouping:",",decimal:".",precision:2},PHP:{symbol:"",grouping:",",decimal:".",precision:2},PKR:{symbol:"",grouping:",",decimal:".",precision:2},PLN:{symbol:"z",grouping:" ",decimal:",",precision:2},PYG:{symbol:"",grouping:".",decimal:",",precision:2},QAR:{symbol:"",grouping:",",decimal:".",precision:2},RON:{symbol:"lei",grouping:".",decimal:",",precision:2},RSD:{symbol:".",grouping:".",decimal:",",precision:2},RUB:{symbol:"",grouping:" ",decimal:",",precision:2},RWF:{symbol:"RWF",grouping:" ",decimal:",",precision:2},SAR:{symbol:"",grouping:",",decimal:".",precision:2},SBD:{symbol:"$",grouping:",",decimal:".",precision:2},SCR:{symbol:"",grouping:",",decimal:".",precision:2},SDD:{symbol:"LSd",grouping:",",decimal:".",precision:2},SDG:{symbol:"",grouping:",",decimal:".",precision:2},SEK:{symbol:"kr",grouping:",",decimal:".",precision:2},SGD:{symbol:"$",grouping:",",decimal:".",precision:2},SHP:{symbol:"",grouping:",",decimal:".",precision:2},SLL:{symbol:"Le",grouping:",",decimal:".",precision:2},SOS:{symbol:"S",grouping:",",decimal:".",precision:2},SRD:{symbol:"$",grouping:",",decimal:".",precision:2},STD:{symbol:"Db",grouping:",",decimal:".",precision:2},SVC:{symbol:"",grouping:",",decimal:".",precision:2},SYP:{symbol:"",grouping:",",decimal:".",precision:2},SZL:{symbol:"E",grouping:",",decimal:".",precision:2},THB:{symbol:"",grouping:",",decimal:".",precision:2},TJS:{symbol:"TJS",grouping:" ",decimal:";",precision:2},TMT:{symbol:"m",grouping:" ",decimal:",",precision:0},TND:{symbol:"..",grouping:",",decimal:".",precision:3},TOP:{symbol:"T$",grouping:",",decimal:".",precision:2},TRY:{symbol:"TL",grouping:".",decimal:",",precision:2},TTD:{symbol:"TT$",grouping:",",decimal:".",precision:2},TVD:{symbol:"$",grouping:",",decimal:".",precision:2},TWD:{symbol:"NT$",grouping:",",decimal:".",precision:2},TZS:{symbol:"TSh",grouping:",",decimal:".",precision:2},UAH:{symbol:"",grouping:" ",decimal:",",precision:2},UGX:{symbol:"USh",grouping:",",decimal:".",precision:2},USD:{symbol:"$",grouping:",",decimal:".",precision:2},UYU:{symbol:"$U",grouping:".",decimal:",",precision:2},UZS:{symbol:"",grouping:" ",decimal:",",precision:2},VEB:{symbol:"Bs.",grouping:",",decimal:".",precision:2},VEF:{symbol:"Bs. F.",grouping:".",decimal:",",precision:2},VND:{symbol:"",grouping:".",decimal:",",precision:1},VUV:{symbol:"VT",grouping:",",decimal:".",precision:0},WST:{symbol:"WS$",grouping:",",decimal:".",precision:2},XAF:{symbol:"F",grouping:",",decimal:".",precision:2},XCD:{symbol:"$",grouping:",",decimal:".",precision:2},XOF:{symbol:"F",grouping:" ",decimal:",",precision:2},XPF:{symbol:"F",grouping:",",decimal:".",precision:2},YER:{symbol:"",grouping:",",decimal:".",precision:2},ZAR:{symbol:"R",grouping:" ",decimal:",",precision:2},ZMW:{symbol:"ZK",grouping:",",decimal:".",precision:2},WON:{symbol:"",grouping:",",decimal:".",precision:2}}},"./client/lib/format-currency/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/i18n-calypso/index.js"),o=n("./client/lib/format-currency/currencies.js");function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u(t);if(!r||isNaN(e))return null;var o=i()({},r,n),a=o.decimal,c=o.grouping,l=o.precision,d=o.symbol,p=e<0?"-":"",m=Object(s.numberFormat)(Math.abs(e),{decimals:l,thousandsSep:c,decPoint:a});return""+p+d+m}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=u(t);if(!r||isNaN(e))return null;var o=i()({},r,n),a=o.decimal,c=o.grouping,l=o.precision,d=o.symbol,p=e<0?"-":"",m=Math.abs(e),f=Math.floor(m),_=Object(s.numberFormat)(f,{decimals:0,thousandsSep:c,decPoint:a}),E=l>0?Object(s.numberFormat)(m-f,{decimals:l,thousandsSep:c,decPoint:a}).slice(1):"";return{sign:p,symbol:d,integer:_,fraction:E}}function u(e){return o.a[e]||{symbol:"$",grouping:",",decimal:".",precision:2}}},"./client/lib/format-number-compact/index.js":function(e,t,n){"use strict";var r=n("./node_modules/i18n-calypso/index.js"),i=n.n(r),s={en:{symbol:"K",grouping:",",decimal:"."},es:{symbol:" mil",grouping:".",decimal:","},"pt-br":{symbol:" mil",grouping:".",decimal:","},de:{symbol:" Tsd.",grouping:".",decimal:","},fr:{symbol:" k",grouping:" ",decimal:","},he:{symbol:"K",grouping:",",decimal:"."},ja:{symbol:"",unitValue:1e4,grouping:",",decimal:"."},nl:{symbol:"K",grouping:".",decimal:","},tr:{symbol:" B",grouping:".",decimal:","},id:{symbol:" rb",grouping:".",decimal:","},"zh-cn":{symbol:"",unitValue:1e4,grouping:",",decimal:"."},"zh-tw":{symbol:"",unitValue:1e4,grouping:",",decimal:"."},ko:{symbol:"",grouping:",",decimal:"."},ar:{symbol:" ",grouping:"",decimal:""},sv:{symbol:" tn",grouping:" ",decimal:","}};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a.getLocaleSlug();if(isNaN(e)||!s[t])return null;var n=s[t],o=n.decimal,a=n.grouping,c=n.symbol,u=n.unitValue,l=void 0===u?1e3:u,d=e<0?"-":"",p=Math.abs(e);if(p<l)return""+d+p;var m=p<10*l?1:0,f=Object(r.numberFormat)(p/l,{decimals:m,thousandsSep:a,decPoint:o});return""+d+f+c}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return l});var a=1e3,c=1e3*a,u=1e3*c;function l(e){return e<a?String(e):e<c?(e/a).toFixed(1)+"K":e<u?(e/c).toFixed(1)+"M":(e/u).toFixed(1)+"G"}},"./client/lib/formatting/index.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/striptags/striptags.js"),s=n.n(i),o=document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument("").createElement("textarea"):document.createElement("textarea");function a(e){return"string"!=typeof e||-1===e.indexOf("&")?e:function(e){o.innerHTML=e;var t=o.textContent;return o.innerHTML="",t}(e)}function c(e){return s()(e)}function u(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"string"!=typeof e?e:(e=e&&Object(r.trim)(e),e?(t=e.match(/\S+/g),t&&1!==t.length?t.length<=i?t.join(""):(n=t.splice(-i,i),t.join(" ")+" "+n.join("")):e):e)}
/**
 * Automatically add paragraph and break tags
 *
 * Adapted from WordPress
 *
 * @copyright 2015 by the WordPress contributors.
 * @license See CREDITS.md.
 * @see wp-admin/js/editor.js
 *
 * @param {string} pee     html string
 * @return {string}        html string with HTML paragraphs instead of double line-breaks
 */function l(e){var t="table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary",n=!1,r=!1;return-1!==e.indexOf("<object")&&(e=e.replace(/<object[\s\S]+?<\/object>/g,function(e){return e.replace(/[\r\n]+/g,"")})),e=e.replace(/<[^<>]+>/g,function(e){return e.replace(/[\r\n]+/g," ")}),-1===e.indexOf("<pre")&&-1===e.indexOf("<script")||(n=!0,e=e.replace(/<(pre|script)[^>]*>[\s\S]+?<\/\1>/g,function(e){return e.replace(/(\r\n|\n)/g,"<wp-line-break>")})),-1!==e.indexOf("[caption")&&(r=!0,e=e.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(e){return e=e.replace(/<br([^>]*)>/g,"<wp-temp-br$1>"),e=e.replace(/<[a-zA-Z0-9]+( [^<>]+)?>/g,function(e){return e.replace(/[\r\n\t]+/," ")}),e.replace(/\s*\n\s*/g,"<wp-temp-br />")})),e+="\n\n",e=e.replace(/<br \/>\s*<br \/>/gi,"\n\n"),e=e.replace(new RegExp("(<(?:"+t+")(?: [^>]*)?>)","gi"),"\n$1"),e=e.replace(new RegExp("(</(?:"+t+")>)","gi"),"$1\n\n"),e=e.replace(/<hr( [^>]*)?>/gi,"<hr$1>\n\n"),e=e.replace(/\s*<option/gi,"<option"),e=e.replace(/<\/option>\s*/gi,"</option>"),e=e.replace(/\r\n|\r/g,"\n"),e=e.replace(/\n\s*\n+/g,"\n\n"),e=e.replace(/([\s\S]+?)\n\n/g,"<p>$1</p>\n"),e=e.replace(/<p>\s*?<\/p>/gi,""),e=e.replace(new RegExp("<p>\\s*(</?(?:"+t+")(?: [^>]*)?>)\\s*</p>","gi"),"$1"),e=e.replace(/<p>(<li.+?)<\/p>/gi,"$1"),e=e.replace(/<p>\s*<blockquote([^>]*)>/gi,"<blockquote$1><p>"),e=e.replace(/<\/blockquote>\s*<\/p>/gi,"</p></blockquote>"),e=e.replace(new RegExp("<p>\\s*(</?(?:"+t+")(?: [^>]*)?>)","gi"),"$1"),e=e.replace(new RegExp("(</?(?:"+t+")(?: [^>]*)?>)\\s*</p>","gi"),"$1"),e=e.replace(/\s*\n/gi,"<br />\n"),e=e.replace(new RegExp("(</?(?:"+t+")[^>]*>)\\s*<br />","gi"),"$1"),e=e.replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)>)/gi,"$1"),e=e.replace(/(?:<p>|<br ?\/?>)*\s*\[caption([^\[]+)\[\/caption\]\s*(?:<\/p>|<br ?\/?>)*/gi,"[caption$1[/caption]"),e=e.replace(/(<(?:div|th|td|form|fieldset|dd)[^>]*>)(.*?)<\/p>/g,function(e,t,n){return n.match(/<p( [^>]*)?>/)?e:t+"<p>"+n+"</p>"}),n&&(e=e.replace(/<wp-line-break>/g,"\n")),r&&(e=e.replace(/<wp-temp-br([^>]*)>/g,"<br$1>")),e}function d(e){var t="blockquote|ul|ol|li|table|thead|tbody|tfoot|tr|th|td|h[1-6]|fieldset",n=t+"|div|p",r=t+"|pre",i=!1,s=!1;return e?(-1===e.indexOf("<pre")&&-1===e.indexOf("<script")||(i=!0,e=e.replace(/<(pre|script)[^>]*>[\s\S]+?<\/\1>/g,function(e){return e=e.replace(/<br ?\/?>(\r\n|\n)?/g,"<wp-line-break>"),e=e.replace(/<\/?p( [^>]*)?>(\r\n|\n)?/g,"<wp-line-break>"),e.replace(/\r?\n/g,"<wp-line-break>")})),-1!==e.indexOf("[caption")&&(s=!0,e=e.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(e){return e.replace(/<br([^>]*)>/g,"<wp-temp-br$1>").replace(/[\r\n\t]+/,"")})),e=e.replace(new RegExp("\\s*</("+n+")>\\s*","g"),"</$1>\n"),e=e.replace(new RegExp("\\s*<((?:"+n+")(?: [^>]*)?)>","g"),"\n<$1>"),e=e.replace(/(<p [^>]+>.*?)<\/p>/g,"$1</p#>"),e=e.replace(/<div( [^>]*)?>\s*<p>/gi,"<div$1>\n\n"),e=e.replace(/\s*<p>/gi,""),e=e.replace(/\s*<\/p>\s*/gi,"\n\n"),e=e.replace(/\n[\s\u00a0]+\n/g,"\n\n"),e=e.replace(/\s*<br ?\/?>\s*/gi,"\n"),e=e.replace(/\s*<div/g,"\n<div"),e=e.replace(/<\/div>\s*/g,"</div>\n"),e=e.replace(/\s*\[caption([^\[]+)\[\/caption\]\s*/gi,"\n\n[caption$1[/caption]\n\n"),e=e.replace(/caption\]\n\n+\[caption/g,"caption]\n\n[caption"),e=e.replace(new RegExp("\\s*<((?:"+r+")(?: [^>]*)?)\\s*>","g"),"\n<$1>"),e=e.replace(new RegExp("\\s*</("+r+")>\\s*","g"),"</$1>\n"),e=e.replace(/<li([^>]*)>/g,"\t<li$1>"),-1!==e.indexOf("<option")&&(e=e.replace(/\s*<option/g,"\n<option"),e=e.replace(/\s*<\/select>/g,"\n</select>")),-1!==e.indexOf("<hr")&&(e=e.replace(/\s*<hr( [^>]*)?>\s*/g,"\n\n<hr$1>\n\n")),-1!==e.indexOf("<object")&&(e=e.replace(/<object[\s\S]+?<\/object>/g,function(e){return e.replace(/[\r\n]+/g,"")})),e=e.replace(/<\/p#>/g,"</p>\n"),e=e.replace(/\s*(<p [^>]+>[\s\S]*?<\/p>)/g,"\n$1"),e=e.replace(/^\s+/,""),e=e.replace(/[\s\u00a0]+$/,""),i&&(e=e.replace(/<wp-line-break>/g,"\n")),s&&(e=e.replace(/<wp-temp-br([^>]*)>/g,"<br$1>")),e):""}function p(e){if("string"!=typeof e)throw new Error("capitalPDangit expects a string as input");return e.replace(/Wordpress/g,"WordPress")}function m(e){if(e&&e.querySelector)return e;if("string"!=typeof e)return null;var t=document.createElement("div");t.innerHTML=e;for(var n=t.children,r=document.createDocumentFragment();n.length>0;)r.appendChild(n[0]);return r}n.d(t,"b",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return m});String.fromCharCode(160)},"./client/lib/i18n-utils/browser.js":function(e,t,n){"use strict";n.d(t,"h",function(){return o});var r=n("./node_modules/i18n-calypso/index.js"),i=n.n(r),s=n("./client/lib/i18n-utils/utils.js");n.d(t,"a",function(){return s.a}),n.d(t,"b",function(){return s.b}),n.d(t,"d",function(){return s.d}),n.d(t,"e",function(){return s.e}),n.d(t,"f",function(){return s.f}),n.d(t,"g",function(){return s.g}),n.d(t,"i",function(){return s.h}),n.d(t,"j",function(){return s.i}),n.d(t,"k",function(){return s.j}),n.d(t,"c",function(){return s.c}),n.d(t,"l",function(){return s.k});var o=function(){return i.a.getLocaleSlug()}},"./client/lib/i18n-utils/switch-locale.js":function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return E});var r=n("./node_modules/superagent/lib/client.js"),i=n.n(r),s=n("./node_modules/i18n-calypso/index.js"),o=n.n(s),a=n("./node_modules/debug/src/browser.js"),c=n.n(a),u=n("./node_modules/lodash/lodash.js"),l=n("./client/lib/i18n-utils/utils.js"),d=c()("calypso:i18n");function p(e,t){document.documentElement.lang=e,document.documentElement.dir=t?"rtl":"ltr";var n=t?"-rtl":"",r=window.app.staticUrls["style"+n+".css"];E("main-css",r)}var m=null;function f(e){var t=Object(l.e)(e);if(t&&"undefined"!=typeof document){var n=t.langSlug,r=t.parentLangSlug,s=r||n;m=n,Object(l.i)(n)?(o.a.configure({defaultLocaleSlug:n}),p(s,!!t.rtl)):i.a.get(function(e){var t="undefined"==typeof window?"https://":"//";return t+"widgets.wp.com/languages/calypso/"+e+".json"}(n)).end(function(r,i){r?d("Encountered an error loading locale file for "+e+". Falling back to English."):n===m&&(o.a.setLocale(i.body),p(s,!!t.rtl))})}}var _={};function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.noop;if(_.hasOwnProperty(e)&&_[e]===t)n();else{_[e]=t;var r=document.getElementById(e);r&&r.getAttribute("href")===t?n():function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.noop,r=Object.assign(document.createElement("link"),{rel:"stylesheet",type:"text/css",href:e}),i=function(){"onload"in r&&(r.onload=null),n(null,r)};"onload"in r?r.onload=i:setTimeout(i,500);document.head.insertBefore(r,t?t.nextSibling:null)}(t,r,function(t,i){r&&r.parentElement&&r.parentElement.removeChild(r),i.id=e,n()})}}},"./client/lib/i18n-utils/utils.js":function(e,t,n){"use strict";n.d(t,"i",function(){return u}),n.d(t,"j",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"g",function(){return f}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return E}),n.d(t,"k",function(){return b}),n.d(t,"h",function(){return g}),n.d(t,"d",function(){return h});var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/url/url.js"),s=n("./node_modules/i18n-calypso/index.js"),o=n("./client/config/index.js"),a=/^[A-Z]{2,3}(-[A-Z]{2,3})?(_[A-Z]{2,6})?$/i;function c(e){return e.replace(/\/$/,"").split("/")}function u(e){return e===Object(o.a)("i18n_default_locale_slug")}function l(e){if(!Object(r.isString)(e))return!1;var t=m(e);return!!t&&Object(r.isString)(t.parentLangSlug)}function d(e){return-1===["en","sr_latin"].indexOf(e)}function p(){return Object(r.map)(Object(o.a)("languages"),"langSlug")}function m(e){if(a.test(e))return Object(r.find)(Object(o.a)("languages"),{langSlug:e})||Object(r.find)(Object(o.a)("languages"),{langSlug:e.split(/[-_]/)[0]})}function f(e){var t=Object(i.parse)(e),n=c(t.pathname).pop();return void 0===m(n)?void 0:n}function _(e,t){var n=Object(i.parse)(e),r=n.search||"";return b(n.pathname)+"/"+t+r}function E(e,t){return t&&"en"!==t?e.replace("https://wordpress.com","https://"+t+".wordpress.com"):e}function b(e){var t=Object(i.parse)(e),n=t.search||"",r=c(t.pathname),s=r.pop();return void 0===m(s)&&r.push(s),r.join("/")+n}function g(){var e=Object(s.getLocaleSlug)();return Object(o.a)("support_site_locales").indexOf(e)>-1?e:"en"}function h(){var e=Object(s.getLocaleSlug)();return Object(o.a)("forum_locales").indexOf(e)>-1?"//"+e+".forums.wordpress.com":"//en.forums.wordpress.com"}},"./client/lib/impure-lodash/index.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js");t.a={debounce:r.debounce,isPlainObject:r.isPlainObject,uniqueId:r.uniqueId}},"./client/lib/invites/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/key-mirror/index.js"),i=n.n(r),s=i()({FETCH_INVITE:null,RECEIVE_INVITE:null,RECEIVE_INVITE_ERROR:null,INVITE_ACCEPTED:null,RECEIVE_INVITE_ACCEPTED_SUCCESS:null,RECEIVE_INVITE_ACCEPTED_ERROR:null,SENDING_INVITES:null,RECEIVE_SENDING_INVITES_ERROR:null,RECEIVE_SENDING_INVITES_SUCCESS:null,CREATE_INVITE_VALIDATION:null,RECEIVE_CREATE_INVITE_VALIDATION_ERROR:null,RECEIVE_CREATE_INVITE_VALIDATION_SUCCESS:null})},"./client/lib/keyboard-shortcuts/global.js":function(e,t,n){"use strict";var r,i=n("./node_modules/page/page.js"),s=n.n(i),o=n("./client/config/index.js"),a=n("./client/lib/route/index.js"),c=n("./client/lib/keyboard-shortcuts/index.js"),u=n("./client/lib/redux-bridge/index.js"),l=n("./client/state/ui/selectors.js"),d=n("./client/state/ui/layout-focus/actions.js");function p(){if(!(this instanceof p))return new p;this.selectedSite=null,this.bindShortcuts()}t.a=function(){return r||(r=new p),r},p.prototype.bindShortcuts=function(){c.a.on("open-help",this.openHelp.bind(this)),c.a.on("go-to-reader",this.goToReader.bind(this)),c.a.on("go-to-my-likes",this.goToMyLikes.bind(this)),c.a.on("open-site-selector",this.openSiteSelector.bind(this)),c.a.on("go-to-stats",this.goToStats.bind(this)),c.a.on("go-to-blog-posts",this.goToBlogPosts.bind(this)),c.a.on("go-to-pages",this.goToPages.bind(this)),o.a.isEnabled("devdocs")&&c.a.on("go-to-dev-docs",this.goToDevDocs.bind(this))},p.prototype.setSelectedSite=function(e){this.selectedSite=e},p.prototype.openHelp=function(){this.showInlineHelp&&this.showInlineHelp()},p.prototype.openSiteSelector=function(){"sites"===Object(l.b)(Object(u.b)())?Object(u.a)(Object(d.b)("sites")):s()("/sites")},p.prototype.goToReader=function(){s()("/")},p.prototype.goToMyLikes=function(){s()("/activities/likes")},p.prototype.goToStats=function(){var e=this.selectedSite;if(e&&e.capabilities&&!e.capabilities.view_stats)return null;e&&e.slug?s()(Object(a.e)(e.slug)):s()("/stats")},p.prototype.goToBlogPosts=function(){var e=this.selectedSite;if(e&&e.capabilities&&!e.capabilities.edit_posts)return null;e&&e.slug?s()("/posts/my/"+e.slug):s()("/posts/my")},p.prototype.goToPages=function(){var e=this.selectedSite;if(e&&e.capabilities&&!e.capabilities.edit_pages)return null;e&&e.slug?s()("/pages/"+e.slug):s()("/pages")},p.prototype.goToDevDocs=function(){s()("/devdocs")}},"./client/lib/keyboard-shortcuts/index.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/mixins/emitter/index.js"),s=n("./client/lib/keyboard-shortcuts/key-bindings.js"),o="undefined"==typeof window?void 0:n("./node_modules/keymaster/keymaster.js"),a=o?o.filter:void 0,c=Object(r.flatMap)(s.a);function u(e){return a(e)&&!e.target.isContentEditable}function l(e){if(!(this instanceof l))return new l(e);this.lastKey=void 0,this.lastKeyTime=void 0,this.timeLimit=2e3,this.boundKeyHandler=this.handleKeyPress.bind(this),this.isNotificationsOpen=!1,"undefined"!=typeof window&&(o.filter=u,this.bindShortcuts(e))}l.prototype.bindShortcuts=function(e){var t=this;e.forEach(function(e){t.bindShortcut(e.eventName,e.keys,e.type,e.checkKeys)}),window.addEventListener("keydown",this.boundKeyHandler,!1)},l.prototype.bindShortcut=function(e,t,n,r){var i,s=this,a=[];a="string"==typeof t[0]?[t]:t,a.forEach(function(t){"sequence"===n?o(t[1],function(n,r){if(!s.isNotificationsOpen)return s.lastKey===t[0]&&s.lastKeyTime>Date.now()-s.timeLimit?(s.emitEvent(e,n,r),s.lastKey=t[1],s.lastKeyTime=Date.now(),!1):void 0}):(t=t.join("+"),o(t,function(t,n){var o;s.isNotificationsOpen&&"n"!==s._getKey(t)&&27!==t.keyCode||(r&&r.length>0?(o=s._getKey(t),i=r.filter(function(e){return e===o}),1===i.length&&s.emitEvent(e,t,n)):s.emitEvent(e,t,n))}))})},l.prototype._getKey=function(e){var t;return e.key?e.key:(t=e.keyIdentifier,t=t.substring(2,t.length),String.fromCharCode(parseInt(t,16)))},l.prototype.emitEvent=function(){this.emit.apply(this,arguments)},l.prototype.handleKeyPress=function(e){o.filter(e)&&(this.lastKey=String.fromCharCode(e.keyCode).toLowerCase(),this.lastKeyTime=Date.now())},l.prototype.setNotificationsOpen=function(e){this.isNotificationsOpen=e},Object(i.a)(l.prototype),t.a=new l(c)},"./client/lib/keyboard-shortcuts/key-bindings.js":function(e,t,n){"use strict";var r=function(e){return function(t){return t(e)}},i={listNavigation:[{eventName:"move-selection-down",keys:["j"],description:{keys:["j"],text:r("Move selection down")}},{eventName:"move-selection-up",keys:["k"],description:{keys:["k"],text:r("Move selection up")}},{eventName:"open-selection",keys:["enter"],description:{keys:["enter"],text:r("Open selection")}},{eventName:"go-to-top",keys:["."],description:{keys:["."],text:r("Go to top")}}],siteNavigation:[{eventName:"open-keyboard-shortcuts-menu",keys:[["shift","/"],["shift",","]],checkKeys:["?","",""],description:{keys:["?"],text:r("This menu")}},{eventName:"open-help",keys:["g","h"],type:"sequence",description:{keys:["g","h"],text:r("Open Help")}},{eventName:"go-to-reader",keys:["g","r"],type:"sequence",description:{keys:["g","r"],text:r("Go to Reader")}},{eventName:"go-to-my-likes",keys:["g","l"],type:"sequence",description:{keys:["g","l"],text:r("Go to My Likes")}},{eventName:"open-site-selector",keys:["g","w"],type:"sequence",description:{keys:["g","w"],text:r("Switch Site")}},{eventName:"go-to-stats",keys:["g","s"],type:"sequence",description:{keys:["g","s"],text:r("Go to Stats")}},{eventName:"go-to-blog-posts",keys:["g","b"],type:"sequence",description:{keys:["g","b"],text:r("Go to Blog Posts")}},{eventName:"go-to-pages",keys:["g","p"],type:"sequence",description:{keys:["g","p"],text:r("Go to Pages")}},{eventName:"open-notifications",keys:["n"],description:{keys:["n"],text:r("Open Notifications")}},{eventName:"exit-support-user",keys:["s","u"],type:"sequence"}],reader:[{eventName:"like-selection",keys:["l"],description:{keys:["l"],text:r("Like post")}},{eventName:"close-full-post",keys:["esc"],description:{keys:["esc"],text:r("Close full post")}}],blogPostsAndPages:[{eventName:"edit-selection",keys:["e"],description:{keys:["e"],text:r("Edit selection")}},{eventName:"open-stats-page",keys:["s"],description:{keys:["s"],text:r("Open stats page")}}],developer:[{eventName:"go-to-dev-docs",keys:["g","d"],type:"sequence",description:{keys:["g","d"],text:r("Go to DevDocs")}}]};t.a=i},"./client/lib/load-script/index.js":function(e,t,n){"use strict";var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./client/config/index.js"),o=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),a=n.n(o),c=i()("lib/load-script/callback-handler"),u=new Map;function l(){return u}function d(e){return l().has(e)}function p(e,t){if(c('Removing a known callback for a script from "'+e+'"'),d(e)){var n=l(),r=n.get(e);r.delete(t),0===r.size&&n.delete(e)}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=l();if(n.has(e)){var r='Executing callbacks for "'+e+'"';c(null===t?r:r+' with args "'+t+'"'),a()(n.get(e)).filter(function(e){return"function"==typeof e}).forEach(function(e){return e(t)}),n.delete(e)}}function f(e){var t=e.target,n=t.getAttribute("src");c('Handling successful request for "'+n+'"'),m(n),this.onload=null}function _(e){var t=e.target,n=t.getAttribute("src");c('Handling failed request for "'+n+'"'),m(n,new Error('Failed to load script "'+n+'"')),this.onerror=null}var E=i()("lib/load-script/dom-operations");n.d(t,"a",function(){return h}),n.d(t,"b",function(){return O}),n.d(t,"c",function(){return p});var b=i()("lib/load-script"),g="https://s0.wp.com/wp-includes/js/jquery/jquery.js";function h(e,t){var n,r=!d(e);!function(e,t){var n=l();d(e)?(c('Adding a callback for an existing script from "'+e+'"'),n.get(e).add(t)):(c('Adding a callback for a new script from "'+e+'"'),n.set(e,new Set([t])))}(e,t),r&&(n=function(e){E('Creating script element for "'+e+'"');var t=document.createElement("script");return t.src=e,t.type="text/javascript",t.async=!0,t.onload=f,t.onerror=_,t}(e),E("Attaching element to head"),document.head.appendChild(n))}function O(e,t){if(b('Loading a jQuery dependent script from "'+e+'"'),s.a.isEnabled("desktop")&&(b('Attaching jQuery from node_modules to window for "'+e+'"'),window.$=window.jQuery=n("jquery")),window.jQuery)return b('jQuery found on window, skipping jQuery script loading for "'+e+'"'),void h(e,t);h(g,function(n){n&&t(n),h(e,t)})}},"./client/lib/localforage/index.js":function(e,t,n){"use strict";var r=n("./node_modules/localforage/dist/localforage.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/debug/src/browser.js"),a=n.n(o),c=a()("calypso:support-user"),u={};function l(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var d={_driver:"localForageBypass",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.db={},u[t.name]=t.db,this._dbInfo=t,Promise.resolve()},iterate:function(e){var t=this,n=new Promise(function(n,r){t.ready().then(function(){try{var i=t._dbInfo.db;for(var s in i){var o=i[s];e(o,s)}n()}catch(e){r(e)}}).catch(r)});return l(n,e),n},getItem:function(e,t){var n=this;c("localForage bypass","getItem",e),"string"!=typeof e&&(e=String(e));var r=new Promise(function(t,r){n.ready().then(function(){try{var i=n._dbInfo.db,s=i[e];t(s)}catch(e){r(e)}}).catch(r)});return l(r,t),r},setItem:function(e,t,n){var r=this;c("localForage bypass","setItem",e);var i=new Promise(function(n,i){if("string"!=typeof e)return i();r.ready().then(function(){void 0===t&&(t=null);var i=t,s=r._dbInfo.db;s[e]=t,n(i)}).catch(i)});return l(i,n),i},removeItem:function(e,t){var n=this;c("localForage bypass","removeItem",e);var r=new Promise(function(t,r){if("string"!=typeof e)return r();n.ready().then(function(){var r=n._dbInfo.db;r.hasOwnProperty(e)&&delete r[e],t()}).catch(r)});return l(r,t),r},clear:function(e){var t=this;c("localForage bypass","clear");var n=new Promise(function(e,n){t.ready().then(function(){var n=t._dbInfo.db;for(var r in n)n.hasOwnProperty(r)&&delete n[r];e()}).catch(n)});return l(n,e),n},length:function(e){var t=this,n=new Promise(function(e,n){t.keys().then(function(t){e(t.length)}).catch(n)});return l(n,e),n},key:function(e,t){var n=this,r=new Promise(function(t,r){n.ready().then(function(){var r=n._dbInfo.db,i=null,s=0;for(var o in r)if(r.hasOwnProperty(o)&&void 0!==r[o]){if(e===s){i=o;break}s++}t(i)}).catch(r)});return l(r,t),r},keys:function(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var n=t._dbInfo.db,r=[];for(var i in n)n.hasOwnProperty(i)&&r.push(i);e(r)}).catch(n)});return l(n,e),n}},p=a()("calypso:localforage"),m={name:"calypso",storeName:"calypso_store",version:1,description:"Calypso Browser Storage",driver:[i.a.INDEXEDDB,i.a.WEBSQL,i.a.LOCALSTORAGE]},f=!1,_=i.a.defineDriver(d).then(function(){return i.a.config(m),f=!0,i.a}).catch(function(e){return p("Configuring localforage: %s",e)}),E=Object(s.reduce)(["getItem","setItem","removeItem","length","key","keys","iterate","clear"],function(e,t){var n,r;return e[t]=(n=_,r=i.a[t],function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.then(function(e){return r.apply(e,t)})}),e},{});E.bypass=function(){f?p("Cannot bypass localforage after initialization"):m.driver=[d._driver]};t.a=Object.assign({},i.a,E)},"./client/lib/make-json-schema-parser/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return E}),n.d(t,"b",function(){return b});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/inherits.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js"),p=n.n(d),m=n("./node_modules/is-my-json-valid/index.js"),f=n.n(m),_=n("./node_modules/lodash/lodash.js"),E=function(e){function t(e){var n;return i()(this,t),n=o()(this,c()(t).call(this,"Failed to validate with JSON schema")),n.schemaErrors=e,n}return l()(t,e),t}(p()(Error)),b=function(e){function t(e,n,r){var s;return i()(this,t),s=o()(this,c()(t).call(this,e.message)),s.inputData=n,s.transformer=r,s}return l()(t,e),t}(p()(Error));t.c=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_.identity,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(s){var o,a,c;return t||(o=Object.assign({greedy:!0,verbose:!0},i),a=f()(e,o),c=f.a.filter(Object.assign({},e,e.type&&"object"===e.type&&{additionalProperties:!1})),n=function(e){if(!a(e))throw new E(a.errors);return c(e)},t=function(e){try{return r(e)}catch(t){throw new b(t,e,r)}}),t(n(s))}}},"./client/lib/media/actions.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(a),u=n("./node_modules/lodash/lodash.js"),l=n("./node_modules/debug/src/browser.js"),d=n.n(l),p=n("./client/dispatcher/index.js"),m=n("./client/lib/wp/browser.js"),f=n("./client/lib/redux-bridge/index.js"),_=n("./client/state/ui/editor/selectors.js"),E=n("./client/lib/media/utils.js"),b=n("./client/lib/media/store.js"),g=n("./client/lib/media/list-store.js"),h=n("./client/lib/media/validation-store.js"),O=d()("calypso:media"),y={_fetching:{}},j=3154e7;y.setQuery=function(e,t){p.a.handleViewAction({type:"SET_MEDIA_QUERY",siteId:e,query:t})},y.fetch=function(e,t){var n=[e,t].join();y._fetching[n]||(y._fetching[n]=!0,p.a.handleViewAction({type:"FETCH_MEDIA_ITEM",siteId:e,id:t}),O("Fetching media for %d using ID %d",e,t),m.a.site(e).media(t).get(function(t,r){p.a.handleServerAction({type:"RECEIVE_MEDIA_ITEM",error:t,siteId:e,data:r}),delete y._fetching[n]}))},y.fetchNextPage=function(e){if(!g.a.isFetchingNextPage(e)){p.a.handleViewAction({type:"FETCH_MEDIA_ITEMS",siteId:e});var t=g.a.getNextPageQuery(e),n=function(n,r){p.a.handleServerAction({type:"RECEIVE_MEDIA_ITEMS",error:n,siteId:e,data:r,query:t})};O("Fetching media for %d using query %o",e,t),t.source?m.a.undocumented().externalMediaList(t,n):m.a.site(e).mediaList(t,n)}};function v(e,t,n){var r=Date.now()+j,i=n.ID;return t.reduce(function(s,a,c){var u=new Date(r-(t.length-c)).toISOString(),l=o()({date:u},Object(E.c)(a));return a.ID&&(l.ID=a.ID),p.a.handleViewAction({type:"CREATE_MEDIA_ITEM",siteId:i,data:l,site:n}),h.a.getErrors(i,l.ID).length?Promise.resolve():s.then(function(){var t={type:"RECEIVE_MEDIA_ITEM",id:l.ID,siteId:i};return e(a,i).then(function(e){p.a.handleServerAction(Object.assign(t,{data:e.media[0]})),p.a.handleServerAction({type:"FETCH_MEDIA_LIMITS",siteId:i})}).catch(function(e){p.a.handleServerAction(Object.assign(t,{error:e}))})})},Promise.resolve())}y.addExternal=function(e,t,n){return v(function(e){return function(t,n){return m.a.undocumented().site(n).uploadExternalMedia(e,[t.guid])}}(n),t,e)},y.add=function(e,t){return t instanceof window.FileList&&(t=i()(t)),Array.isArray(t)||(t=[t]),v(function(e,t){var n="string"==typeof e,r=Object(_.f)(Object(f.b)()),i=e.title;return r?e=c()({parent_id:r},n?"url":"file",e):e.fileContents&&(e={file:e}),i&&(e.title=i),O("Uploading media to %d from %o",t,e),n?m.a.site(t).addMediaUrls({},e):m.a.site(t).addMediaFiles({},e)},t,e)},y.edit=function(e,t){var n=Object(u.assign)({},b.a.get(e,t.ID),t);p.a.handleViewAction({type:"RECEIVE_MEDIA_ITEM",siteId:e,data:n})},y.update=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(t))t.forEach(y.update.bind(null,e));else{var r=t.ID,i=Object(u.assign)({},b.a.get(e,r),t),s={type:"RECEIVE_MEDIA_ITEM",siteId:e,data:i};t.media?s.data=o()({},i,Object(E.c)(t.media),{ID:r}):n&&t.media_url&&(s.data=o()({},i,Object(E.c)(t.media_url),{ID:r})),n&&s.data&&(s.data.isDirty=!0),O("Updating media for %o by ID %o to %o",e,r,s),p.a.handleViewAction(s);var a=n?"edit":"update";m.a.site(e).media(t.ID)[a](t,function(t,r){p.a.handleServerAction({type:"RECEIVE_MEDIA_ITEM",error:t,siteId:e,data:n?o()({},r,{isDirty:!0}):r})})}},y.delete=function(e,t){Array.isArray(t)?t.forEach(y.delete.bind(null,e)):(p.a.handleViewAction({type:"REMOVE_MEDIA_ITEM",siteId:e,data:t}),O("Deleting media from %d by ID %d",e,t.ID),m.a.site(e).media(t.ID).delete(function(t,n){p.a.handleServerAction({type:"REMOVE_MEDIA_ITEM",error:t,siteId:e,data:n}),p.a.handleServerAction({type:"FETCH_MEDIA_LIMITS",siteId:e})}))},y.setLibrarySelectedItems=function(e,t){O("Setting selected items for %d as %o",e,t),p.a.handleViewAction({type:"SET_MEDIA_LIBRARY_SELECTED_ITEMS",siteId:e,data:t})},y.clearValidationErrors=function(e,t){O("Clearing validation errors for %d, with item ID %d",e,t),p.a.handleViewAction({type:"CLEAR_MEDIA_VALIDATION_ERRORS",siteId:e,itemId:t})},y.clearValidationErrorsByType=function(e,t){O("Clearing validation errors for %d, by type %s",e,t),p.a.handleViewAction({type:"CLEAR_MEDIA_VALIDATION_ERRORS",siteId:e,errorType:t})},y.sourceChanged=function(e){O("Media data source changed"),p.a.handleViewAction({type:"CHANGE_MEDIA_SOURCE",siteId:e})},t.a=y},"./client/lib/media/constants.js":function(e,t,n){"use strict";n.d(t,"i",function(){return s}),n.d(t,"h",function(){return o}),n.d(t,"j",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return f});var r=n("./node_modules/key-mirror/index.js"),i=n.n(r),s=i()({FILE_TYPE_UNSUPPORTED:null,FILE_TYPE_NOT_IN_PLAN:null,SERVER_ERROR:null,UPLOAD_VIA_URL_404:null,EXCEEDS_MAX_UPLOAD_SIZE:null,EXCEEDS_PLAN_STORAGE_LIMIT:null,NOT_ENOUGH_SPACE:null,SERVICE_FAILED:null}),o={thumbnail:{width:150,height:150},medium:{width:300,height:300},large:{width:1024,height:1024}},a=["ogv","mp4","m4v","mov","wmv","avi","mpg","3gp","3g2"],c=["default","circle","square"],u=["default"],l={items:[],type:"default",columns:3,orderBy:"menu_order",link:"",size:"thumbnail"},d={jpg:"image/jpeg",jpeg:"image/jpeg",jpe:"image/jpeg",gif:"image/gif",png:"image/png",bmp:"image/bmp",tif:"image/tiff",tiff:"image/tiff",ico:"image/x-icon",asf:"video/x-ms-asf",asx:"video/x-ms-asf",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wm:"video/x-ms-wm",avi:"video/avi",divx:"video/divx",flv:"video/x-flv",mov:"video/quicktime",qt:"video/quicktime",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",mp4:"video/mp4",m4v:"video/mp4",ogv:"video/ogg",webm:"video/webm",mkv:"video/x-matroska",txt:"text/plain",asc:"text/plain",c:"text/plain",cc:"text/plain",h:"text/plain",csv:"text/csv",tsv:"text/tab-separated-values",ics:"text/calendar",rtx:"text/richtext",css:"text/css",htm:"text/html",html:"text/html",mp3:"audio/mpeg",m4a:"audio/mpeg",m4b:"audio/mpeg",ra:"audio/x-realaudio",ram:"audio/x-realaudio",wav:"audio/wav",ogg:"audio/ogg",oga:"audio/ogg",mid:"audio/midi",midi:"audio/midi",wma:"audio/x-ms-wma",wax:"audio/x-ms-wax",mka:"audio/x-matroska",rtf:"application/rtf",js:"application/javascript",pdf:"application/pdf",swf:"application/x-shockwave-flash",class:"application/java",tar:"application/x-tar",zip:"application/zip",gz:"application/x-gzip",gzip:"application/x-gzip",rar:"application/rar","7z":"application/x-7z-compressed",exe:"application/x-msdownload",doc:"application/msword",pot:"application/vnd.ms-powerpoint",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",wri:"application/vnd.ms-write",xla:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlt:"application/vnd.ms-excel",xlw:"application/vnd.ms-excel",mdb:"application/vnd.ms-access",mpp:"application/vnd.ms-project",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",docm:"application/vnd.ms-word.document.macroEnabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",dotm:"application/vnd.ms-word.template.macroEnabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xltm:"application/vnd.ms-excel.template.macroEnabled.12",xlam:"application/vnd.ms-excel.addin.macroEnabled.12",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",sldm:"application/vnd.ms-powerpoint.slide.macroEnabled.12",onetoc:"application/onenote",onetoc2:"application/onenote",onetmp:"application/onenote",onepkg:"application/onenote",odt:"application/vnd.oasis.opendocument.text",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odg:"application/vnd.oasis.opendocument.graphics",odc:"application/vnd.oasis.opendocument.chart",odb:"application/vnd.oasis.opendocument.database",odf:"application/vnd.oasis.opendocument.formula",wp:"application/wordperfect",wpd:"application/wordperfect",key:"application/vnd.apple.keynote",numbers:"application/vnd.apple.numbers",pages:"application/vnd.apple.pages"},p="MEDIA_IMAGE_THUMBNAIL",m="MEDIA_IMAGE_PHOTON",f="MEDIA_IMAGE_RESIZER"},"./client/lib/media/list-store.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/dispatcher/index.js"),s=n("./client/lib/media/store.js"),o=n("./client/lib/media/utils.js"),a=n("./client/lib/mixins/emitter/index.js"),c={_activeQueries:{},DEFAULT_QUERY:Object.freeze({number:20}),_media:{}},u=Object.freeze({isFetchingNextPage:!1}),l=Object.freeze(["number","page_handle"]);function d(e){if(e in c._media){var t=Object(o.r)(c.getAll(e));c._media[e]=Object(r.map)(t,"ID")}}function p(e){e in c._media||(c._media[e]=[])}function m(e,t,n){var r;p(e),n?(r=c._media[e].indexOf(n),-1!==r&&c._media[e].splice(r,1,t.ID)):-1===c._media[e].indexOf(t.ID)&&c.isItemMatchingQuery(e,t)&&c._media[e].push(t.ID)}function f(e,t){var n;e in c._media&&(n=c._media[e].indexOf(t.ID),-1!==n&&c._media[e].splice(n,1))}function _(e){delete c._media[e],delete c._activeQueries[e].nextPageHandle,c._activeQueries[e].isFetchingNextPage=!1}function E(e,t){c.ensureActiveQueryForSiteId(e),Object(r.assign)(c._activeQueries[e],t)}function b(e,t){return e in c._activeQueries&&Object(r.isEqual)(Object(r.omit)(t,l),Object(r.omit)(c._activeQueries[e].query,l))}c.ensureActiveQueryForSiteId=function(e){e in c._activeQueries||(c._activeQueries[e]=Object(r.assign)({},u))},c.isItemMatchingQuery=function(e,t){var n,i;return!(e in c._activeQueries)||(n=Object(r.omit)(c._activeQueries[e].query,l),!Object.keys(n).length||(i=!0,n.search&&!n.source&&(i=t.title&&-1!==t.title.toLowerCase().indexOf(n.search.toLowerCase())),n.source&&i&&(i=!t.external),n.mime_type&&i&&(i=t.mime_type&&0===t.mime_type.indexOf(n.mime_type)),i))},Object(a.a)(c),c.get=function(e,t){return s.a.get(e,t)},c.getAllIds=function(e){return c._media[e]},c.getAll=function(e){var t=c.getAllIds(e);if(t)return t.map(s.a.get.bind(null,e))},c.getNextPageQuery=function(e){return e in c._activeQueries?Object(r.assign)({},c.DEFAULT_QUERY,{page_handle:c._activeQueries[e].nextPageHandle},c._activeQueries[e].query):c.DEFAULT_QUERY},c.hasNextPage=function(e){return!(e in c._activeQueries)||null!==c._activeQueries[e].nextPageHandle},c.isFetchingNextPage=function(e){return e in c._activeQueries&&c._activeQueries[e].isFetchingNextPage},c.dispatchToken=i.a.register(function(e){var t,n,o,a,u=e.action;switch(i.a.waitFor([s.a.dispatchToken]),u.type){case"CHANGE_MEDIA_SOURCE":_(u.siteId),c.emit("change");break;case"SET_MEDIA_QUERY":u.siteId&&u.query&&(o=u.siteId,a=u.query,a=Object(r.omit)(a,"page_handle"),c.ensureActiveQueryForSiteId(o),b(o,a)||_(o),c._activeQueries[o].query=a);break;case"FETCH_MEDIA_ITEMS":if(!u.siteId)break;E(u.siteId,{isFetchingNextPage:!0}),c.emit("change");break;case"CREATE_MEDIA_ITEM":case"RECEIVE_MEDIA_ITEM":if(u.error&&u.siteId&&u.id&&(f(u.siteId,{ID:u.id}),c.emit("change")),!u.siteId)break;if(u.error||!u.data)break;m(u.siteId,u.data,u.id),d(u.siteId),c.emit("change");break;case"RECEIVE_MEDIA_ITEMS":if(!u.siteId)break;if(E(u.siteId,{isFetchingNextPage:!1,nextPageHandle:(n=u.data,n&&n.meta&&n.meta.next_page?n.meta.next_page:null)}),u.error||!u.data||u.query&&!b(u.siteId,u.query))break;!function(e,t){p(e),t.forEach(function(t){m(e,t)})}(u.siteId,u.data.media),(void 0===u.query||void 0!==u.query&&(t=u.query.source,-1===["pexels"].indexOf(t)))&&d(u.siteId),c.emit("change");break;case"REMOVE_MEDIA_ITEM":if(!u.siteId||!u.data)break;u.error?m(u.siteId,u.data):f(u.siteId,u.data),c.emit("change")}}),t.a=c},"./client/lib/media/store.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/media/utils.js"),s=n("./client/dispatcher/index.js"),o=n("./client/lib/mixins/emitter/index.js"),a=n("./client/lib/media/validation-store.js"),c={_media:{},_pointers:{}};function u(e,t,n){if(e in c._media||(c._media[e]={}),n){e in c._pointers||(c._pointers[e]={}),c._pointers[e][n]=t.ID;var r=c._media[e][n];Object(i.k)(r)&&(t.description=r.description,t.alt=r.alt,t.caption=r.caption),delete c._media[e][n]}c._media[e][t.ID]=t}function l(e,t){e in c._media&&(c._media[e][t.ID]={ID:t.ID,status:t.status})}Object(o.a)(c),c.get=function(e,t){if(e in c._media)return e in c._pointers&&t in c._pointers[e]?c.get(e,c._pointers[e][t]):c._media[e][t]},c.getAll=function(e){if(e in c._media)return Object(r.values)(c._media[e])},c.dispatchToken=s.a.register(function(e){var t,n=e.action;switch(s.a.waitFor([a.a.dispatchToken]),n.type){case"CHANGE_MEDIA_SOURCE":t=n.siteId,c._pointers[t]={},c._media[t]={},c.emit("change");break;case"CREATE_MEDIA_ITEM":case"RECEIVE_MEDIA_ITEM":case"RECEIVE_MEDIA_ITEMS":if(n.error&&n.siteId&&n.id&&(l(n.siteId,{ID:n.id}),c.emit("change")),n.error||!n.siteId||!n.data)break;Array.isArray(n.data.media)?function(e,t){t.forEach(function(t){u(e,t)})}(n.siteId,n.data.media):u(n.siteId,n.data,n.id),c.emit("change");break;case"REMOVE_MEDIA_ITEM":if(!n.siteId||!n.data)break;n.error?u(n.siteId,n.data):l(n.siteId,n.data),c.emit("change");break;case"FETCH_MEDIA_ITEM":if(!n.siteId||!n.id)break;u(n.siteId,{ID:n.id}),c.emit("change");break;case"FETCH_MEDIA_LIMITS":if(!n.siteId)break;c.emit("fetch-media-limits")}}),t.a=c},"./client/lib/media/utils.js":function(e,t,n){"use strict";n.d(t,"s",function(){return g}),n.d(t,"g",function(){return O}),n.d(t,"h",function(){return y}),n.d(t,"d",function(){return j}),n.d(t,"r",function(){return v}),n.d(t,"l",function(){return S}),n.d(t,"f",function(){return I}),n.d(t,"n",function(){return T}),n.d(t,"m",function(){return C}),n.d(t,"j",function(){return R}),n.d(t,"p",function(){return A}),n.d(t,"q",function(){return N}),n.d(t,"i",function(){return w}),n.d(t,"e",function(){return P}),n.d(t,"a",function(){return U}),n.d(t,"b",function(){return D}),n.d(t,"k",function(){return k}),n.d(t,"o",function(){return L}),n.d(t,"c",function(){return M});var r=n("./node_modules/url/url.js"),i=n.n(r),s=n("./node_modules/path-browserify/index.js"),o=n.n(s),a=n("./node_modules/photon/index.js"),c=n.n(a),u=n("./node_modules/lodash/lodash.js"),l=n("./node_modules/valid-url/index.js"),d=n("./client/lib/resize-image-url/index.js"),p=n("./client/lib/media/constants.js"),m=n("./client/lib/shortcode/index.js"),f=n("./client/lib/impure-lodash/index.js"),_=n("./client/lib/version-compare/index.js"),E=f.a.uniqueId,b=/^[a-z\d]+$/i;function g(e,t){if(e){if(e.transient)return e.URL;if(e.URL)return t=t||{},t.photon?t.maxWidth?c()(e.URL,{width:t.maxWidth}):c()(e.URL):e.thumbnails&&t.size in e.thumbnails?e.thumbnails[t.size]:t.maxWidth?Object(d.a)(e.URL,{w:t.maxWidth}):e.URL}}function h(e){var t;if(e){var n,r="string"==typeof e,s="File"in window&&e instanceof window.File;if(r)n=Object(l.isUri)(e)?i.a.parse(e).pathname:e,t=o.a.extname(n).slice(1);else if(s)t=o.a.extname(e.name).slice(1);else if(e.extension)t=e.extension;else{var a=i.a.parse(e.URL||e.file||e.guid||"").pathname||"";t=o.a.extname(a).slice(1)}return t}}function O(e){var t=y(e);if(t){var n=t.match(/^([^\/]+)\//);return n?n[1]:void 0}}function y(e){if(e){if(e.mime_type)return e.mime_type;if("File"in window&&e instanceof window.File)return e.type;var t=h(e);if(t)return t=t.toLowerCase(),p.g.hasOwnProperty(t)?p.g[t]:void 0}}function j(e,t){return e.filter(function(e){return O(e)===t})}function v(e){return e.slice(0).sort(function(e,t){if(e.date&&t.date){var n=Date.parse(t.date)-Date.parse(e.date);if(0!==n)return n}return t.ID-e.ID})}function S(e){return!e||!e.jetpack}function I(e){return e?e.options.allowed_file_types:[]}function T(e,t){return!(!t||!e)&&(!S(t)||p.j.some(function(t){return t.toLowerCase()===e.extension.toLowerCase()}))}function C(e,t){return!(!t||!e)&&(!S(t)||I(t).some(function(t){return t.toLowerCase()===e.extension.toLowerCase()}))}function R(e,t){var n=e.size;return t&&t.options&&isFinite(n)&&t.options.max_upload_size?t.jetpack&&Object(u.includes)(Object(u.get)(t,"options.active_modules"),"videopress")&&Object(_.a)(Object(u.get)(t,"options.jetpack_version"),"4.5",">=")&&Object(u.startsWith)(y(e),"video/")?null:n>t.options.max_upload_size:null}function A(e){return!(!e||!e.videopress_guid)&&b.test(e.videopress_guid)}function N(e){if(!isNaN(e)){var t=Math.floor(e/3600),n=Math.floor(e/60)%60,r=Math.floor(e)%60,i=[n,r].map(function(e){return("0"+e).slice(-2)}).join(":");return t&&(i=[t,i].join(":")),i=i.replace(/^(00:)+/g,""),-1===i.indexOf(":")&&(i="0:"+i),i.replace(/^0(\d)(.*)/,"$1$2")}}function w(e,t){var n,r;return t&&t.options&&(n=t.options["image_"+e+"_width"],r=t.options["image_"+e+"_height"]),e in p.h&&(n=n||p.h[e].width,r=r||p.h[e].height),{width:n,height:r}}function P(e){var t;if(e.items.length)return t=Object.assign({ids:e.items.map(function(e){return e.ID}).join()},e),delete t.items,Object(u.includes)(p.a,t.type)||delete t.columns,Object(u.includes)(p.c,t.type)||delete t.size,t=Object(u.omitBy)(t,function(e,t){return p.b[t]===e}),t.orderBy&&(t.orderby=t.orderBy,delete t.orderBy),Object(m.c)({tag:"gallery",type:"single",attrs:t})}function U(e,t,n){return t.ID===e.author_ID?n.capabilities.delete_posts:n.capabilities.delete_others_posts}function D(e,t,n,r){HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var r=atob(this.toDataURL(t,n).split(",")[1]),i=r.length,s=new Uint8Array(i),o=0;o<i;o++)s[o]=r.charCodeAt(o);e(new Blob([s],{type:t||"image/png"}))}}),e.toBlob(t,n,r)}function k(e){return e?!!e.transient:null}function L(e){return!(!e||!e.URL)}function M(e){var t={transient:!0,ID:E("media-")};if("string"==typeof e)Object.assign(t,{file:e,title:o.a.basename(e),extension:h(e),mime_type:y(e)});else if(e.thumbnails)Object.assign(t,{file:e.URL,title:e.name,caption:e.caption||"",extension:e.extension,mime_type:e.mime_type,guid:e.URL,URL:e.URL,external:!0});else{var n=e.fileContents||e,r=e.fileName||e.name,i=window.URL.createObjectURL(n);Object.assign(t,{URL:i,guid:i,file:r,title:e.title||o.a.basename(r),extension:h(e.fileName||n),mime_type:y(e.fileName||n),size:n.size})}return t}},"./client/lib/media/validation-store.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/dispatcher/index.js"),s=n("./client/lib/mixins/emitter/index.js"),o=n("./client/lib/media/utils.js"),a=n("./client/lib/media/constants.js"),c={_errors:{}};function u(e){e in c._errors||(c._errors[e]={})}Object(s.a)(c);c.validateItem=function(e,t){var n=[];e&&(o.m(t,e)||(o.n(t,e)?n.push(a.i.FILE_TYPE_NOT_IN_PLAN):n.push(a.i.FILE_TYPE_UNSUPPORTED)),!0===o.j(t,e)&&n.push(a.i.EXCEEDS_MAX_UPLOAD_SIZE),n.length&&(u(e.ID),c._errors[e.ID][t.ID]=n))},c.clearValidationErrors=function(e,t){e in c._errors&&(t?delete c._errors[e][t]:delete c._errors[e])},c.clearValidationErrorsByType=function(e,t){e in c._errors&&(c._errors[e]=Object(r.pickBy)(Object(r.mapValues)(c._errors[e],function(e){return Object(r.without)(e,t)}),function(e){return!Object(r.isEmpty)(e)}))},c.getAllErrors=function(e){return c._errors[e]||{}},c.getErrors=function(e,t){return e in c._errors&&c._errors[e][t]||[]},c.hasErrors=function(e,t){return t?c.getErrors(e,t).length:Object.keys(c.getAllErrors(e)).length},c.dispatchToken=i.a.register(function(e){var t,n,r=e.action;switch(r.type){case"CREATE_MEDIA_ITEM":if(!r.siteId||!r.data)break;t=Array.isArray(r.data.media)?r.data.media:[r.data],n=t.reduce(function(e,t){var n;return c.validateItem(r.site,t),n=c.getErrors(r.siteId,t.ID),n.length&&(e[t.ID]=n),e},{}),n&&Object.keys(n).length&&(r.error=c.getAllErrors(r.siteId),c.emit("change"));break;case"RECEIVE_MEDIA_ITEM":case"RECEIVE_MEDIA_ITEMS":if(!function(e){return e.error&&(e.id||(t=e.error,t.error&&"servicefail"===t.error));var t}(r))break;n=Array.isArray(r.error.errors)?r.error.errors:[r.error],function(e,t,n){u(e),c._errors[e][t]=n.map(function(e){switch(e.error){case"http_404":return a.i.UPLOAD_VIA_URL_404;case"upload_error":return 0===e.message.indexOf("Not enough space to upload")?a.i.NOT_ENOUGH_SPACE:0===e.message.indexOf("You have used your space quota")?a.i.EXCEEDS_PLAN_STORAGE_LIMIT:a.i.SERVER_ERROR;case"servicefail":return a.i.SERVICE_FAILED;default:return a.i.SERVER_ERROR}})}(r.siteId,r.id?r.id:0,n),c.emit("change");break;case"CHANGE_MEDIA_SOURCE":case"CLEAR_MEDIA_VALIDATION_ERRORS":if(!r.siteId)break;r.errorType?c.clearValidationErrorsByType(r.siteId,r.errorType):c.clearValidationErrors(r.siteId,r.itemId),c.emit("change")}}),t.a=c},"./client/lib/mixins/data-observe/index.js":function(e,t,n){"use strict";var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=i()("calypso:data-observe");t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{componentDidMount:function(){t.forEach(function(e){this.props[e]?this.props[e].on("change",this.update):s(e+" is not set.")},this)},componentWillUnmount:function(){t.forEach(function(e){this.props[e]&&this.props[e].off("change",this.update)},this)},componentWillReceiveProps:function(e){t.forEach(function(t){this.props[t]!==e[t]&&(this.props[t]&&this.props[t].off("change",this.update),e[t]&&e[t].on("change",this.update))},this)},update:function(){s("Re-rendering "+this.constructor.displayName+" component."),this.forceUpdate()}}}},"./client/lib/mixins/emitter/index.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/events/events.js");t.a=function(e){Object(r.assign)(e,i.EventEmitter.prototype),e.emitChange=function(){this.emit("change")},e.off=e.removeListener}},"./client/lib/oauth-token/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l});var r=n("./node_modules/cookie/index.js"),i=n.n(r),s=n("./node_modules/store/store.js"),o=n.n(s),a="wpcom_token",c=31536e6;function u(){var e=i.a.parse(document.cookie);if(void 0!==e[a])return e[a];var t=o.a.get(a);return t||!1}function l(e){document.cookie=i.a.serialize(a,e,{maxAge:c})}},"./client/lib/oauth2-clients.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/lodash/lodash.js"),i=function(e){return Object(r.includes)([50019,50915,50916],e.id)}},"./client/lib/path-to-section/index.js":function(e,t,n){"use strict";var r=n("./client/config/index.js"),i=n("./node_modules/lodash/lodash.js"),s="wordpress-com"===Object(r.a)("project")?n("./client/wordpress-com.js"):null,o=s?function(e){var t=Object(i.maxBy)(s,function(t){return Object(i.max)(t.paths.map(function(t){return Object(i.startsWith)(e,t)?t.length:0}))}),n=Object(i.filter)(t.paths,function(t){return Object(i.startsWith)(e,t)});return 1===n.length&&"/"===n[0]&&"/"!==e?null:t.paths.some(function(t){return Object(i.startsWith)(e,t)})?Object(i.get)(t,"name"):null}:function(e){var t=e.match(/[^/]+/);return t&&t[0]};t.a=o},"./client/lib/paths/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),i=n.n(r),s=n("./client/lib/url/index.js"),o=n("./client/lib/i18n-utils/browser.js"),a=n("./client/config/index.js");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isJetpack,n=e.isNative,r=e.locale,i=e.redirectTo,c=e.twoFactorAuthType,u=e.socialConnect,l=e.emailAddress,d=e.socialService,p=e.oauth2ClientId,m=Object(a.a)("login_url");return n&&Object(a.b)("login/wp-login")&&(m="/log-in",d?m+="/"+d+"/callback":c?m+="/"+c:u?m+="/social-connect":t&&(m+="/jetpack")),r&&"en"!==r&&(m=n?Object(o.a)(m,r):Object(o.b)(m,r)),i&&(m=Object(s.a)({redirect_to:i},m)),l&&(m=Object(s.a)({email_address:l},m)),p&&!isNaN(p)&&(m=Object(s.a)({client_id:p},m)),m}function u(e){var t,n="";return e?(t="object"===i()(e)?e.slug:e,n="/"+t):e&&"object"===i()(e)&&(n="/"+e.ID+"/new"),n}function l(e){var t=u(e);return"/post"+t}function d(e){var t="/sharing";return e&&(t+="/"+e.slug),t}n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return c})},"./client/lib/perfmon/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return C}),n.d(t,"b",function(){return R});var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/page/page.js"),s=n.n(i),o=n("./client/lib/analytics/index.js"),a=n("./client/config/index.js"),c=n("./node_modules/debug/src/browser.js"),u=n.n(c),l=u()("calypso:perfmon"),d=["placeholder","pulsing-dot is-active","is-loading","is-processing"],p=["editor-drawer-well__placeholder","stats-page-placeholder__header","stats-page-placeholder__content"],m=d.map(function(e){return"[class*='"+e+"']"}).join(", "),f=document.getElementById("wpcom"),_={subtree:!0,attributes:!0,childList:!0,attributeFilter:["class"]},E=null,b=!1,g=0,h=null,O=[],y=!1;function j(e){e.forEach(I),Object(r.remove)(O,function(e){return!f.contains(e)||!S(e)}),function(){var e=O.length;l("Checking active placeholders. Count: "+e),e>0&&(y=!0);if(y&&0===e){var t=function(){if(g>1)return{startTime:h,trigger:"navigation"};return{startTime:0,trigger:"initial"}}(),n=t.startTime,r=t.trigger,i=Math.round(performance.now()-n);l("Recording placeholder wait. Duration: "+i+", Trigger: "+r),o.default.timing.record("placeholder-wait."+r,i),v()}}()}function v(){E&&b&&(O=[],y=!1,E.disconnect(),b=!1)}function S(e){var t=e.className;return t&&t.indexOf&&d.some(function(e){return t.indexOf(e)>=0})&&!p.some(function(e){return t.indexOf(e)>=0})}function I(e){var t=[];if("class"===e.attributeName)t=[e.target];else{if(!("childList"===e.type&&e.addedNodes.length>0))return;t=e.addedNodes}Object(r.each)(t,function(e){S(e)&&T(e),e.querySelectorAll&&Object(r.each)(e.querySelectorAll(m),T)})}function T(e){O.indexOf(e)>=0||O.push(e)}function C(){var e;Object(a.b)("perfmon")&&("undefined"!=typeof window&&(window.MutationObserver||window.WebKitMutationObserver)&&window.performance&&(s()(function(e,t){g++,h=performance.now(),l("entering page navigation",e.path),t()}),s.a.exit(function(e,t){l("exiting page navigation",e.path),v(),t()}),e=window.MutationObserver||window.WebKitMutationObserver,E=new e(j)))}function R(){E&&!b&&(E.observe(f,_),b=!0)}},"./client/lib/plans/constants.js":function(e,t,n){"use strict";n.d(t,"I",function(){return E}),n.d(t,"J",function(){return b}),n.d(t,"X",function(){return g}),n.d(t,"Y",function(){return h}),n.d(t,"V",function(){return O}),n.d(t,"W",function(){return y}),n.d(t,"L",function(){return j}),n.d(t,"P",function(){return v}),n.d(t,"S",function(){return S}),n.d(t,"N",function(){return I}),n.d(t,"Q",function(){return T}),n.d(t,"T",function(){return C}),n.d(t,"O",function(){return R}),n.d(t,"R",function(){return A}),n.d(t,"M",function(){return N}),n.d(t,"Z",function(){return w}),n.d(t,"K",function(){return P}),n.d(t,"U",function(){return M}),n.d(t,"G",function(){return x}),n.d(t,"H",function(){return F}),n.d(t,"h",function(){return V}),n.d(t,"k",function(){return G}),n.d(t,"u",function(){return q}),n.d(t,"v",function(){return H}),n.d(t,"j",function(){return W}),n.d(t,"m",function(){return B}),n.d(t,"z",function(){return Q}),n.d(t,"A",function(){return z}),n.d(t,"B",function(){return Y}),n.d(t,"c",function(){return K}),n.d(t,"C",function(){return J}),n.d(t,"n",function(){return Z}),n.d(t,"b",function(){return $}),n.d(t,"w",function(){return X}),n.d(t,"x",function(){return ee}),n.d(t,"q",function(){return te}),n.d(t,"s",function(){return ne}),n.d(t,"t",function(){return re}),n.d(t,"o",function(){return ie}),n.d(t,"e",function(){return se}),n.d(t,"f",function(){return oe}),n.d(t,"g",function(){return ae}),n.d(t,"d",function(){return ce}),n.d(t,"i",function(){return ue}),n.d(t,"l",function(){return le}),n.d(t,"p",function(){return de}),n.d(t,"y",function(){return pe}),n.d(t,"r",function(){return me}),n.d(t,"E",function(){return fe}),n.d(t,"D",function(){return _e}),n.d(t,"cb",function(){return Ee}),n.d(t,"ab",function(){return be}),n.d(t,"bb",function(){return ge}),n.d(t,"eb",function(){return he}),n.d(t,"fb",function(){return Oe}),n.d(t,"gb",function(){return ye}),n.d(t,"db",function(){return je}),n.d(t,"F",function(){return Re}),n.d(t,"a",function(){return Ae}),n.d(t,"ib",function(){return Ne}),n.d(t,"kb",function(){return we}),n.d(t,"mb",function(){return Pe}),n.d(t,"lb",function(){return Ue}),n.d(t,"jb",function(){return De}),n.d(t,"hb",function(){return ke});var r,i,s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),c=n.n(a),u=n("./node_modules/react/index.js"),l=n.n(u),d=n("./node_modules/i18n-calypso/index.js"),p=n.n(d),m=n("./node_modules/lodash/lodash.js"),f=n("./client/config/index.js"),_=n("./client/lib/plans/index.js"),E="business-bundle",b="business-bundle-2y",g="value_bundle",h="value_bundle-2y",O="personal-bundle",y="personal-bundle-2y",j="free_plan",v="jetpack_free",S="jetpack_premium",I="jetpack_business",T="jetpack_personal",C="jetpack_premium_monthly",R="jetpack_business_monthly",A="jetpack_personal_monthly",N="host-bundle",w="wpcom-enterprise",P="chargeback",U=[g],D=[],k=[S,C],L=[C,R,A],M=31,x=365,F=730,V="custom-domain",G="jetpack-essential",q="premium-themes",H="unlimited-storage",W="google-analytics",B="no-adverts",Q="video-upload",z="video-upload-jetpack-premium",Y="video-upload-jetpack-pro",K="audio-upload",J="wordads-instant",Z="no-wp-branding",$="advanced-seo",X="upload-plugins",ee="upload-themes",te="republicize",ne="simple-payments",re="spam-akismet-plus",ie="offsite-backup-vaultpress-daily",se="backup-archive-30",oe="backup-archive-unlimited",ae="backup-storage-space-unlimited",ce="automated-restores",ue="easy-site-migration",le="malware-scanning-daily-and-on-demand",de="one-click-threat-resolution",pe="video-cdn-limited",me="seo-preview-tools",fe="GROUP_WPCOM",_e="GROUP_JETPACK",Ee="TERM_MONTHLY",be="TERM_ANNUALLY",ge="TERM_BIENNIALLY",he="TYPE_FREE",Oe="TYPE_PERSONAL",ye="TYPE_PREMIUM",je="TYPE_BUSINESS",ve=function(){return p.a.translate("/month, billed annually or every two years")},Se=function(){return p.a.translate("/month, billed every two years")},Ie=function(){return{group:fe,type:Oe,getTitle:function(){return p.a.translate("Personal")},getAudience:function(){return p.a.translate("Best for hobbyists")},getBlogAudience:function(){return p.a.translate("Best for hobbyists")},getPortfolioAudience:function(){return p.a.translate("Best for hobbyists")},getStoreAudience:function(){return p.a.translate("Best for hobbyists")},getDescription:function(){return p.a.translate("{{strong}}Best for Personal Use:{{/strong}} Boost your website with a custom domain name, and remove all WordPress.com advertising. Get access to high-quality email and live chat support.",{components:{strong:l.a.createElement("strong",{className:"plans__features plan-features__targeted-description-heading"})}})},getFeatures:function(){return[V,G,"email-live-chat-support","free-themes","basic-design","6gb-storage",B]},getSignupFeatures:function(){return["email-live-chat-support-signup","free-custom-domain","all-free-features"]},getBlogSignupFeatures:function(){return["free-custom-domain","email-live-chat-support-signup","all-free-features"]},getPortfolioSignupFeatures:function(){return["free-custom-domain","email-live-chat-support-signup","all-free-features"]}}},Te=function(){return{group:fe,type:ye,getTitle:function(){return p.a.translate("Premium")},getAudience:function(){return p.a.translate("Best for entrepreneurs")},getBlogAudience:function(){return p.a.translate("Best for professionals")},getPortfolioAudience:function(){return p.a.translate("Best for freelancers")},getStoreAudience:function(){return p.a.translate("Best for freelancers")},getDescription:function(){return p.a.translate("{{strong}}Best for Entrepreneurs & Freelancers:{{/strong}} Build a unique website with advanced design tools, CSS editing, lots of space for audio and video, and the ability to monetize your site with ads.",{components:{strong:l.a.createElement("strong",{className:"plans__features plan-features__targeted-description-heading"})}})},getFeatures:function(){return Object(m.compact)([V,G,"email-live-chat-support",q,"advanced-design","13gb-storage",B,Object(f.b)("republicize")&&te,ne,J,Q])},getPromotedFeatures:function(){return[V,B,"advanced-design","13gb-storage"]},getSignupFeatures:function(){return Object(m.compact)(["advanced-customization","unlimited-premium-themes","all-personal-features"])},getBlogSignupFeatures:function(){return["monetise-your-site","unlimited-premium-themes","all-personal-features"]},getPortfolioSignupFeatures:function(){return["advanced-customization","unlimited-premium-themes","all-personal-features"]}}},Ce=function(){return{group:fe,type:je,getTitle:function(){return p.a.translate("Business")},getAudience:function(){return p.a.translate("Best for small businesses")},getBlogAudience:function(){return p.a.translate("Best for brands")},getPortfolioAudience:function(){return p.a.translate("Best for small businesses")},getStoreAudience:function(){return p.a.translate("The plan for stores and small businesses")},getDescription:function(e){return e&&"pluginsAndThemes"===e("businessPlanDescriptionAT")?p.a.translate("{{strong}}Best for Small Business:{{/strong}} Power your business website with custom plugins and themes, unlimited premium and business theme templates, Google Analytics support, unlimited storage, and the ability to remove WordPress.com branding.",{components:{strong:l.a.createElement("strong",{className:"plans__features plan-features__targeted-description-heading"})}}):p.a.translate("{{strong}}Best for Small Business:{{/strong}} Power your business website with unlimited premium and business theme templates, Google Analytics support, unlimited storage, and the ability to remove WordPress.com branding.",{components:{strong:l.a.createElement("strong",{className:"plans__features plan-features__targeted-description-heading"})}})},getTagline:function(){return p.a.translate("Learn more about everything included with Business and take advantage of its professional features.")},getFeatures:function(){return Object(m.compact)([V,G,"email-live-chat-support",q,"advanced-design",H,B,Object(f.b)("republicize")&&te,ne,J,Q,"business-onboarding",$,Object(f.b)("automated-transfer")&&X,Object(f.b)("automated-transfer")&&ee,W,Z])},getPromotedFeatures:function(){return[H,q,V,B,"advanced-design",Q,"business-onboarding"]},getSignupFeatures:function(){return["upload-themes-and-plugins","google-analytics-signup","all-premium-features"]},getBlogSignupFeatures:function(){return["upload-themes-and-plugins","advanced-seo-tools","all-premium-features"]},getPortfolioSignupFeatures:function(){return["upload-themes-and-plugins","unlimited-storage-signup","all-premium-features"]}}},Re=(r={},o()(r,j,{group:fe,type:he,term:be,getTitle:function(){return p.a.translate("Free")},getAudience:function(){return p.a.translate("Best for students")},getBlogAudience:function(){return p.a.translate("Best for students")},getPortfolioAudience:function(){return p.a.translate("Best for students")},getStoreAudience:function(){return p.a.translate("Best for students")},getProductId:function(){return 1},getStoreSlug:function(){return j},getPathSlug:function(){return"beginner"},getDescription:function(){return p.a.translate("Get a free website and be on your way to publishing your first post in less than five minutes.")},getFeatures:function(){return["wordpress-subdomain",G,"community-support","free-themes","basic-design","3gb-storage"]},getSignupFeatures:function(){return["community-support","wordpress-subdomain-signup","free-themes-signup"]},getBlogSignupFeatures:function(){return["community-support","wordpress-subdomain-signup","free-themes-signup"]},getPortfolioSignupFeatures:function(){return["community-support","wordpress-subdomain-signup","free-themes-signup"]},getBillingTimeFrame:function(){return p.a.translate("for life")}}),o()(r,O,c()({},Ie(),{term:be,getBillingTimeFrame:ve,availableFor:function(e){return Object(m.includes)([j],e)},getProductId:function(){return 1009},getStoreSlug:function(){return O},getPathSlug:function(){return"personal"}})),o()(r,y,c()({},Ie(),{term:ge,getBillingTimeFrame:Se,availableFor:function(e){return Object(m.includes)([j,O],e)},getProductId:function(){return 1029},getStoreSlug:function(){return y},getPathSlug:function(){return"personal-2-years"}})),o()(r,g,c()({},Te(),{term:be,getBillingTimeFrame:ve,availableFor:function(e){return Object(m.includes)([j,O,y],e)},getProductId:function(){return 1003},getStoreSlug:function(){return g},getPathSlug:function(){return"premium"}})),o()(r,h,c()({},Te(),{term:ge,getBillingTimeFrame:Se,availableFor:function(e){return Object(m.includes)([j,O,y,g],e)},getProductId:function(){return 1023},getStoreSlug:function(){return h},getPathSlug:function(){return"premium-2-years"}})),o()(r,E,c()({},Ce(),{term:be,getBillingTimeFrame:ve,availableFor:function(e){return Object(m.includes)([j,O,y,g,h],e)},getProductId:function(){return 1008},getStoreSlug:function(){return E},getPathSlug:function(){return"business"}})),o()(r,b,c()({},Ce(),{term:ge,getBillingTimeFrame:Se,availableFor:function(e){return Object(m.includes)([j,O,y,g,h,E],e)},getProductId:function(){return 1028},getStoreSlug:function(){return b},getPathSlug:function(){return"business-2-years"}})),o()(r,v,{term:be,group:_e,type:he,getTitle:function(){return p.a.translate("Free")},getAudience:function(){return p.a.translate("Best for students")},getProductId:function(){return 2002},getStoreSlug:function(){return v},getTagline:function(){return p.a.translate("Upgrade your site to access additional features, including spam protection, backups, and priority support.")},getDescription:function(){return p.a.translate("The features most needed by WordPress sites  perfectly packaged and optimized for everyone.")},getFeatures:function(){return["standard-security-tools","site-stats","traffic-tools","jetpack-manage"]},getSignupFeatures:function(){return["free-wordpress-themes","site-stats","standard-security-tools","traffic-tools","blank-feature"]},getBillingTimeFrame:function(){return p.a.translate("for life")},getSignupBillingTimeFrame:function(){return p.a.translate("for life")}}),o()(r,S,{group:_e,type:ye,term:be,getTitle:function(){return p.a.translate("Premium")},getAudience:function(){return p.a.translate("Best for small businesses")},getSubtitle:function(){return p.a.translate("Protection, speed, and revenue.")},getProductId:function(){return 2e3},getStoreSlug:function(){return S},availableFor:function(e){return Object(m.includes)([v,T,A,C],e)},getPathSlug:function(){return"premium"},getDescription:function(){return p.a.translate("Comprehensive, automated scanning for security vulnerabilities, fast video hosting, and marketing automation.")},getTagline:function(){return p.a.translate("Your site is being secured and you have access to marketing tools and priority support.")},getFeatures:function(){return Object(m.compact)([ie,se,ae,ce,re,ue,"priority-support",Object(f.b)("republicize")&&te,ne,J,Y,"malware-scanning-daily",$,W])},getSignupFeatures:function(){return Object(m.compact)(["malware-scanning-daily","marketing-automation",J,Y,$,"concierge-setup-jetpack","all-personal-features-jetpack"])},getBillingTimeFrame:function(){return p.a.translate("per year")},getSignupBillingTimeFrame:function(){return p.a.translate("per year")}}),o()(r,C,{group:_e,type:ye,term:Ee,getTitle:function(){return p.a.translate("Premium")},getAudience:function(){return p.a.translate("Best for small businesses")},getProductId:function(){return 2003},getStoreSlug:function(){return C},getPathSlug:function(){return"premium-monthly"},availableFor:function(e){return Object(m.includes)([v,T,A],e)},getDescription:function(){return p.a.translate("Comprehensive, automated scanning for security vulnerabilities, fast video hosting, and marketing automation.")},getTagline:function(){return p.a.translate("Your site is being secured and you have access to marketing tools and priority support.")},getFeatures:function(){return Object(m.compact)([ie,se,ae,ce,re,ue,"priority-support",Object(f.b)("republicize")&&te,ne,J,Y,"malware-scanning-daily",$,W])},getSignupFeatures:function(){return Object(m.compact)(["malware-scanning-daily","marketing-automation",J,Y,$,"concierge-setup-jetpack","all-personal-features-jetpack"])},getBillingTimeFrame:function(){return p.a.translate("per month, billed monthly")},getSignupBillingTimeFrame:function(){return p.a.translate("per month")}}),o()(r,T,{group:_e,type:Oe,term:be,getTitle:function(){return p.a.translate("Personal")},getAudience:function(){return p.a.translate("Best for hobbyists")},getProductId:function(){return 2005},getStoreSlug:function(){return T},availableFor:function(e){return Object(m.includes)([v,A],e)},getPathSlug:function(){return"jetpack-personal"},getDescription:function(){return p.a.translate("Security essentials for your WordPress site, including automated backups and priority support.")},getTagline:function(){return p.a.translate("Your data is being securely backed up and you have access to priority support.")},getFeatures:function(){return[ie,se,ae,ce,re,ue,"priority-support"]},getSignupFeatures:function(){return[ie,re,"priority-support","all-free-features-jetpack"]},getBillingTimeFrame:function(){return p.a.translate("per year")},getSignupBillingTimeFrame:function(){return p.a.translate("per year")}}),o()(r,A,{group:_e,type:Oe,term:Ee,getTitle:function(){return p.a.translate("Personal")},getAudience:function(){return p.a.translate("Best for hobbyists")},getStoreSlug:function(){return A},getProductId:function(){return 2006},getPathSlug:function(){return"jetpack-personal-monthly"},availableFor:function(e){return Object(m.includes)([v],e)},getDescription:function(){return p.a.translate("Security essentials for your WordPress site, including automated backups and priority support.")},getTagline:function(){return p.a.translate("Your data is being securely backed up and you have access to priority support.")},getFeatures:function(){return[ie,se,ae,ce,re,ue,"priority-support"]},getSignupFeatures:function(){return[ie,re,"priority-support","all-free-features-jetpack"]},getBillingTimeFrame:function(){return p.a.translate("per month, billed monthly")},getSignupBillingTimeFrame:function(){return p.a.translate("per month")}}),o()(r,I,{group:_e,type:je,term:be,getTitle:function(){return p.a.translate("Professional")},getAudience:function(){return p.a.translate("Best for organizations")},getStoreSlug:function(){return I},getProductId:function(){return 2001},availableFor:function(e){return Object(m.includes)([R,v,S,C,T,A],e)},getPathSlug:function(){return"professional"},getDescription:function(){return p.a.translate("The most powerful WordPress sites: unlimited premium themes, real-time backups, and enhanced search.")},getTagline:function(){return p.a.translate("You have full access to premium themes, marketing tools, and priority support.")},getFeatures:function(){return Object(m.compact)(["offsite-backup-vaultpress-realtime",oe,ae,ce,re,ue,"priority-support","search",Object(f.b)("republicize")&&te,ne,J,Y,le,de,$,W,q])},getSignupFeatures:function(){return Object(m.compact)([q,"offsite-backup-vaultpress-realtime","search","all-premium-features-jetpack"])},getBillingTimeFrame:function(){return p.a.translate("per year")},getSignupBillingTimeFrame:function(){return p.a.translate("per year")}}),o()(r,R,{group:_e,type:je,term:Ee,getTitle:function(){return p.a.translate("Professional")},getAudience:function(){return p.a.translate("Best for organizations")},getSubtitle:function(){return p.a.translate("Ultimate security and traffic tools.")},getProductId:function(){return 2004},getStoreSlug:function(){return R},getPathSlug:function(){return"professional-monthly"},availableFor:function(e){return Object(m.includes)([v,S,C,T,A],e)},getDescription:function(){return p.a.translate("The most powerful WordPress sites: unlimited premium themes, real-time backups, and enhanced search.")},getTagline:function(){return p.a.translate("You have full access to premium themes, marketing tools, and priority support.")},getFeatures:function(){return Object(m.compact)(["offsite-backup-vaultpress-realtime",oe,ae,ce,re,ue,"priority-support",Object(f.b)("republicize")&&te,ne,J,Y,le,de,$,W,q])},getSignupFeatures:function(){return Object(m.compact)([q,"offsite-backup-vaultpress-realtime","search","all-premium-features-jetpack"])},getBillingTimeFrame:function(){return p.a.translate("per month, billed monthly")},getSignupBillingTimeFrame:function(){return p.a.translate("per month")}}),r),Ae=(Object.keys(Re),i={},o()(i,"blank-feature",{getSlug:function(){return"blank-feature"},getTitle:function(){return""}}),o()(i,"all-free-features-jetpack",{getSlug:function(){return"all-free-features-jetpack"},getTitle:function(){return p.a.translate("{{a}}All free features{{/a}}",{components:{a:l.a.createElement("a",{href:"https://jetpack.com/features/comparison",target:"_blank",rel:"noopener noreferrer"})}})},getDescription:function(){return p.a.translate("Also includes all features offered in the free version of Jetpack.")}}),o()(i,"all-free-features",{getSlug:function(){return"all-free-features"},getTitle:function(){return p.a.translate("All free features")}}),o()(i,"all-personal-features-jetpack",{getSlug:function(){return"all-personal-features-jetpack"},getTitle:function(){return p.a.translate("{{a}}All Personal features{{/a}}",{components:{a:l.a.createElement("a",{href:"https://jetpack.com/features/comparison",target:"_blank",rel:"noopener noreferrer"})}})},getDescription:function(){return p.a.translate("Also includes all features offered in the Personal plan.")}}),o()(i,"all-personal-features",{getSlug:function(){return"all-personal-features"},getTitle:function(){return p.a.translate("All Personal features")}}),o()(i,"all-premium-features-jetpack",{getSlug:function(){return"all-premium-features-jetpack"},getTitle:function(){return p.a.translate("{{a}}All Premium features{{/a}}",{components:{a:l.a.createElement("a",{href:"https://jetpack.com/features/comparison",target:"_blank",rel:"noopener noreferrer"})}})},getDescription:function(){return p.a.translate("Also includes all features offered in the Premium plan.")}}),o()(i,"all-premium-features",{getSlug:function(){return"all-premium-features"},getTitle:function(){return p.a.translate("All Premium features")}}),o()(i,"advanced-customization",{getSlug:function(){return"advanced-customization"},getTitle:function(){return p.a.translate("Advanced customization")}}),o()(i,"free-custom-domain",{getSlug:function(){return"free-custom-domain"},getTitle:function(){return p.a.translate("Free custom domain")}}),o()(i,"unlimited-premium-themes",{getSlug:function(){return"unlimited-premium-themes"},getTitle:function(){return p.a.translate("Unlimited premium themes")}}),o()(i,"monetise-your-site",{getSlug:function(){return"monetise-your-site"},getTitle:function(){return p.a.translate("Monetize your site with ads")}}),o()(i,"upload-themes-and-plugins",{getSlug:function(){return"upload-themes-and-plugins"},getTitle:function(){return p.a.translate("Upload themes and plugins")}}),o()(i,"google-analytics-signup",{getSlug:function(){return"google-analytics-signup"},getTitle:function(){return p.a.translate("Google Analytics")}}),o()(i,"email-live-chat-support-signup",{getSlug:function(){return"email-live-chat-support-signup"},getTitle:function(){return p.a.translate("Email and live chat support")}}),o()(i,"free-themes-signup",{getSlug:function(){return"free-themes-signup"},getTitle:function(){return p.a.translate("Dozens of Free Themes")}}),o()(i,"wordpress-subdomain-signup",{getSlug:function(){return"wordpress-subdomain-signup"},getTitle:function(){return p.a.translate("WordPress.com subdomain")}}),o()(i,"unlimited-storage-signup",{getSlug:function(){return"unlimited-storage-signup"},getTitle:function(){return p.a.translate("Unlimited storage")}}),o()(i,"advanced-seo-tools",{getSlug:function(){return"advanced-seo-tools"},getTitle:function(){return p.a.translate("Advanced SEO tools")}}),o()(i,"unlimited-backup",{getSlug:function(){return"unlimited-backup"},getTitle:function(){return p.a.translate("Unlimited Backup Space")}}),o()(i,"free-wordpress-themes",{getSlug:function(){return"free-wordpress-themes"},getTitle:function(){return p.a.translate("Free WordPress Themes")}}),o()(i,pe,{getSlug:function(){return pe},getTitle:function(){return p.a.translate("13GB Video Storage")},getDescription:function(){return p.a.translate("High-speed video hosting on our CDN, free of ads and watermarks, fully optimized for WordPress.")}}),o()(i,"video-cdn-unlimited",{getSlug:function(){return"video-cdn-unlimited"},getTitle:function(){return p.a.translate("Unlimited Video Storage")}}),o()(i,me,{getSlug:function(){return me},getTitle:function(){return p.a.translate("SEO Tools")},getDescription:function(){return p.a.translate("Edit your page titles and meta descriptions, and preview how your content will appear on social media.")}}),o()(i,W,{getSlug:function(){return W},getTitle:function(){return p.a.translate("Google Analytics Integration")},getDescription:function(){return p.a.translate("Track website statistics with Google Analytics for a deeper understanding of your website visitors and customers.")}}),o()(i,H,{getSlug:function(){return H},getTitle:function(){return p.a.translate("{{strong}}Unlimited{{/strong}} Storage Space",{components:{strong:l.a.createElement("strong",null)}})},getDescription:function(){return p.a.translate("With increased storage space you'll be able to upload more images, videos, audio, and documents to your website.")},getStoreSlug:function(){return"unlimited_space"}}),o()(i,V,{getSlug:function(){return V},getTitle:function(){return p.a.translate("Custom Domain Name")},getDescription:function(e,t){return t?p.a.translate("Your domain (%s) is included with this plan.",{args:t}):p.a.translate("Get a free custom domain name (example.com) with this plan to use for your website. Does not apply to premium domains.")}}),o()(i,G,{getSlug:function(){return G},getTitle:function(){return p.a.translate("Jetpack Essential Features")},getDescription:function(){return p.a.translate("Improve your SEO, protect your site from spammers, keep a closer eye on your site with expanded activity logs, and automate social media sharing.")}}),o()(i,q,{getSlug:function(){return q},getTitle:function(){return p.a.translate("{{strong}}Unlimited{{/strong}} Premium Themes",{components:{strong:l.a.createElement("strong",null)}})},getDescription:function(){return p.a.translate("Unlimited access to all of our advanced premium theme templates, including templates specifically tailored for businesses.")},getStoreSlug:function(){return"unlimited_themes"}}),o()(i,Q,{getSlug:function(){return Q},getTitle:function(){return p.a.translate("VideoPress Support")},getDescription:function(){return p.a.translate("The easiest way to upload videos to your website and display them using a fast, unbranded, customizable player with rich stats.")},getStoreSlug:function(){return"videopress"}}),o()(i,z,{getSlug:function(){return z},getTitle:function(){return p.a.translate("VideoPress Support")},getDescription:function(){return p.a.translate("Easy video uploads, and a fast, unbranded, customizable video player, enhanced with rich stats and unlimited storage space. ")},getStoreSlug:function(){return"videopress"}}),o()(i,Y,{getSlug:function(){return Y},getTitle:function(){return p.a.translate("{{strong}}Unlimited{{/strong}} Video Hosting",{components:{strong:l.a.createElement("strong",null)}})},getDescription:function(){return p.a.translate("Easy video uploads, and a fast, unbranded, customizable video player, enhanced with rich stats and unlimited storage space. ")},getStoreSlug:function(){return"videopress"}}),o()(i,K,{getSlug:function(){return K},getTitle:function(){return p.a.translate("Audio Upload Support")},getDescription:function(){return p.a.translate("The easiest way to upload audio files that use any major audio file format. ")},getStoreSlug:function(){return"videopress"}}),o()(i,"basic-design",{getSlug:function(){return"basic-design"},getTitle:function(){return p.a.translate("Basic Design Customization")},getDescription:function(){return p.a.translate("Customize your selected theme template with pre-set color schemes, background designs, and font styles.")},getStoreSlug:function(){return"advanced-design"}}),o()(i,"advanced-design",{getSlug:function(){return"advanced-design"},getTitle:function(){return p.a.translate("{{strong}}Advanced{{/strong}} Design Customization",{components:{strong:l.a.createElement("strong",null)}})},getDescription:function(){return p.a.translate("Customize your selected theme template with extended color schemes, background designs, and complete control over website CSS.")},getStoreSlug:function(){return"advanced-design"}}),o()(i,B,{getSlug:function(){return B},getTitle:function(){return p.a.translate("Remove WordPress.com Ads")},getDescription:function(){return p.a.translate("Allow your visitors to visit and read your website without seeing any WordPress.com advertising.")},getStoreSlug:function(){return"no-adverts/no-adverts.php"}}),o()(i,te,{getSlug:function(){return te},getTitle:function(){return p.a.translate("Advanced Social Media")},getDescription:function(){return p.a.translate("Schedule your social media updates in advance and promote your posts when it's best for you.")}}),o()(i,ne,{getSlug:function(){return ne},getTitle:function(){return p.a.translate("Simple Payments")},getDescription:function(){return p.a.translate("Sell anything with a simple PayPal button.")}}),o()(i,Z,{getSlug:function(){return Z},getTitle:function(){return p.a.translate("Remove WordPress.com Branding")},getDescription:function(){return p.a.translate("Keep the focus on your site's brand by removing the WordPress.com footer branding.")},getStoreSlug:function(){return"no-adverts/no-adverts.php"}}),o()(i,"business-onboarding",{getSlug:function(){return"business-onboarding"},getTitle:function(){return p.a.translate("Get Personalized Help")},getDescription:function(){return p.a.translate("Schedule a one-on-one orientation with a Happiness Engineer to set up your site and learn more about WordPress.com.")}}),o()(i,$,{getSlug:function(){return $},getTitle:function(){return p.a.translate("SEO Tools")},getDescription:function(){return p.a.translate("Adds tools to enhance your site's content for better results on search engines and social media.")}}),o()(i,X,{getSlug:function(){return X},getTitle:function(){return p.a.translate("Install Plugins")},getDescription:function(){return p.a.translate("Install custom plugins on your site.")}}),o()(i,ee,{getSlug:function(){return ee},getTitle:function(){return p.a.translate("Upload Themes")},getDescription:function(){return p.a.translate("Upload custom themes on your site.")}}),o()(i,J,{getSlug:function(){return J},getTitle:function(){return p.a.translate("Site Monetization")},getDescription:function(){return p.a.translate("Put your site to work and earn through ad revenue, easy-to-add PayPal buttons, and more.")}}),o()(i,"wordpress-subdomain",{getSlug:function(){return"wordpress-subdomain"},getTitle:function(){return p.a.translate("WordPress.com Subdomain")},getDescription:function(){return p.a.translate("Your site address will use a WordPress.com subdomain (sitename.wordpress.com).")}}),o()(i,"free-themes",{getSlug:function(){return"free-themes"},getTitle:function(){return p.a.translate("Dozens of Free Themes")},getDescription:function(){return p.a.translate("Access to a wide range of professional theme templates for your website so you can find the exact design you're looking for.")}}),o()(i,"3gb-storage",{getSlug:function(){return"3gb-storage"},getTitle:function(){return p.a.translate("3GB Storage Space")},getDescription:function(){return p.a.translate("Storage space for adding images and documents to your website.")}}),o()(i,"6gb-storage",{getSlug:function(){return"6gb-storage"},getTitle:function(){return p.a.translate("{{strong}}6GB{{/strong}} Storage Space",{components:{strong:l.a.createElement("strong",null)}})},getDescription:function(){return p.a.translate("With increased storage space you'll be able to upload more images, audio, and documents to your website.")}}),o()(i,"13gb-storage",{getSlug:function(){return"13gb-storage"},getTitle:function(){return p.a.translate("{{strong}}13GB{{/strong}} Storage Space",{components:{strong:l.a.createElement("strong",null)}})},getDescription:function(){return p.a.translate("With increased storage space you'll be able to upload more images, videos, audio, and documents to your website.")}}),o()(i,"community-support",{getSlug:function(){return"community-support"},getTitle:function(){return p.a.translate("Community support")},getDescription:function(){return p.a.translate("Get support through our user community forums.")}}),o()(i,"email-live-chat-support",{getSlug:function(){return"email-live-chat-support"},getTitle:function(){return p.a.translate("Email & Live Chat Support")},getDescription:function(){return p.a.translate("Live chat support to help you get started with your site.")}}),o()(i,"priority-support",{getSlug:function(){return"priority-support"},getTitle:function(){return p.a.translate("Priority Support")},getDescription:function(){return p.a.translate("Live chat support to help you get started with Jetpack.")}}),o()(i,"standard-security-tools",{getSlug:function(){return"standard-security-tools"},getTitle:function(){return p.a.translate("Standard Security Tools")},getDescription:function(){return p.a.translate("Brute force protection, downtime monitoring, secure sign on, and automatic updates for your plugins.")}}),o()(i,"site-stats",{getSlug:function(){return"site-stats"},getTitle:function(){return p.a.translate("Site Stats and Analytics")},getDescription:function(){return p.a.translate("The most important metrics for your site.")}}),o()(i,"traffic-tools",{getSlug:function(){return"traffic-tools"},getTitle:function(){return p.a.translate("Traffic and Promotion Tools")},getDescription:function(){return p.a.translate("Build and engage your audience with more than a dozen optimization tools.")}}),o()(i,"jetpack-manage",{getSlug:function(){return"jetpack-manage"},getTitle:function(){return p.a.translate("Centralized Dashboard")},getDescription:function(){return p.a.translate("Manage all of your WordPress sites from one location.")}}),o()(i,re,{getSlug:function(){return re},getTitle:function(){return p.a.translate("Spam Protection")},getDescription:function(){return p.a.translate("State-of-the-art spam defense, powered by Akismet.")}}),o()(i,ie,{getSlug:function(){return ie},getTitle:function(){return p.a.translate("Daily Off-site Backups")},getDescription:function(){return p.a.translate("Automatic daily backups of your entire site, with unlimited, WordPress-optimized secure storage.")}}),o()(i,"offsite-backup-vaultpress-realtime",{getSlug:function(){return"offsite-backup-vaultpress-realtime"},getTitle:function(){return p.a.translate("{{strong}}Real-time{{/strong}} Off-site Backups",{components:{strong:l.a.createElement("strong",null)}})},getDescription:function(){return p.a.translate("Automatic realtime backups of every single aspect of your site. Stored safely and optimized for WordPress.")}}),o()(i,se,{getSlug:function(){return se},getTitle:function(){return p.a.translate("30-day Backup Archive")},getDescription:function(){return p.a.translate("Browse or restore any backup made within the past 30 days.")}}),o()(i,"backup-archive-15",{getSlug:function(){return"backup-archive-15"},getTitle:function(){return p.a.translate("15-day Backup Archive")},getDescription:function(){return p.a.translate("Browse or restore any backup made within the past 15 days.")}}),o()(i,oe,{getSlug:function(){return oe},getTitle:function(){return p.a.translate("Unlimited Backup Archive")},getDescription:function(){return p.a.translate("Browse or restore any backup made since you activated the service.")}}),o()(i,ae,{getSlug:function(){return ae},getTitle:function(){return p.a.translate("Unlimited Backup Storage Space")},getDescription:function(){return p.a.translate("Absolutely no limits on storage space for your backups.")}}),o()(i,ce,{getSlug:function(){return ce},getTitle:function(){return p.a.translate("Automated Restores")},getDescription:function(){return p.a.translate("Restore your site from any available backup with a single click.")}}),o()(i,ue,{getSlug:function(){return ue},getTitle:function(){return p.a.translate("Easy Site Migration")},getDescription:function(){return p.a.translate("Easily and quickly move or duplicate your site to any location.")}}),o()(i,"malware-scanning-daily",{getSlug:function(){return"malware-scanning-daily"},getTitle:function(){return p.a.translate("Daily Malware Scanning")},getDescription:function(){return p.a.translate("Comprehensive, automated scanning for security vulnerabilities or threats on your site.")}}),o()(i,le,{getSlug:function(){return le},getTitle:function(){return p.a.translate("Daily and On-demand Malware Scanning")},getDescription:function(){return p.a.translate("Automated security scanning with the option to run complete site scans at any time.")}}),o()(i,de,{getSlug:function(){return de},getTitle:function(){return p.a.translate("One-click Threat Resolution")},getDescription:function(){return p.a.translate("Repair any security issues found on your site with just a single click.")}}),o()(i,"polls-pro",{getSlug:function(){return"polls-pro"},getTitle:function(){return p.a.translate("Advanced Polls and Ratings")},getDescription:function(){return p.a.translate("Custom polls, surveys, ratings, and quizzes for the ultimate in customer and reader engagement.")}}),o()(i,"core-jetpack",{getSlug:function(){return"core-jetpack"},getTitle:function(){return p.a.translate("Core Jetpack Services")},getDescription:function(){return p.a.translate("Stats, themes, and promotion tools.")},hideInfoPopover:!0}),o()(i,"basic-security-jetpack",{getSlug:function(){return"basic-security-jetpack"},getTitle:function(){return p.a.translate("Basic Security")},getDescription:function(){return p.a.translate("Brute force protection, monitoring, secure logins, updates.")},hideInfoPopover:!0}),o()(i,"basic-support-jetpack",{getSlug:function(){return"basic-support-jetpack"},getTitle:function(){return p.a.translate("Basic Support")},getDescription:function(){return p.a.translate("Free support to help you make the most of Jetpack.")},hideInfoPopover:!0}),o()(i,"speed-jetpack",{getSlug:function(){return"speed-jetpack"},getTitle:function(){return p.a.translate("Speed and Storage")},getDescription:function(){return p.a.translate("Unlimited use of our high speed image content delivery network.")},hideInfoPopover:!0}),o()(i,"speed-advanced-jetpack",{getSlug:function(){return"speed-advanced-jetpack"},getTitle:function(){return p.a.translate("Speed and Storage")},getDescription:function(){return p.a.translate("Also includes 13Gb of high-speed, ad-free video hosting.")},hideInfoPopover:!0}),o()(i,"speed-unlimited_jetpack",{getSlug:function(){return"speed-unlimited_jetpack"},getTitle:function(){return p.a.translate("Speed and Storage")},getDescription:function(){return p.a.translate("Also includes unlimited, high-speed, ad-free video hosting.")},hideInfoPopover:!0}),o()(i,"site-backups-jetpack",{getSlug:function(){return"site-backups-jetpack"},getTitle:function(){return p.a.translate("Site Backups")},getDescription:function(){return p.a.translate("Automated daily backups (unlimited storage), one-click restores, and 30-day archive.")},hideInfoPopover:!0}),o()(i,"security-scanning-jetpack",{getSlug:function(){return"security-scanning-jetpack"},getTitle:function(){return p.a.translate("Advanced Security")},getDescription:function(){return p.a.translate("Also includes daily scans for malware and security threats.")},hideInfoPopover:!0}),o()(i,"revenue-generation-jetpack",{getSlug:function(){return"revenue-generation-jetpack"},getTitle:function(){return p.a.translate("Revenue Generation")},getDescription:function(){return p.a.translate("High-quality ads to generate income from your site.")},hideInfoPopover:!0}),o()(i,"vidoe-hosting-jetpack",{getSlug:function(){return"vidoe-hosting-jetpack"},getTitle:function(){return p.a.translate("Video Hosting")},getDescription:function(){return p.a.translate("13Gb of high-speed, HD, and ad-free video hosting.")},hideInfoPopover:!0}),o()(i,"security-essentials-jetpack",{getSlug:function(){return"security-essentials-jetpack"},getTitle:function(){return p.a.translate("Essential Security")},getDescription:function(){return p.a.translate("Daily backups, unlimited storage, one-click restores, spam filtering.")},hideInfoPopover:!0}),o()(i,"priority-support-jetpack",{getSlug:function(){return"priority-support-jetpack"},getTitle:function(){return p.a.translate("Priority Support")},getDescription:function(){return p.a.translate("Faster response times from our security experts.")},hideInfoPopover:!0}),o()(i,"seo-tools-jetpack",{getSlug:function(){return"seo-tools-jetpack"},getTitle:function(){return p.a.translate("Advanced Traffic Tools")},getDescription:function(){return p.a.translate("Automatically re-promote existing content to social media.")},hideInfoPopover:!0}),o()(i,"seo-tools-jetpack",{getSlug:function(){return"seo-tools-jetpack"},getTitle:function(){return p.a.translate("Advanced Traffic Tools")},getDescription:function(){return p.a.translate("Also includes SEO previews and Google Analytics.")},hideInfoPopover:!0}),o()(i,"concierge-setup-jetpack",{getSlug:function(){return"concierge-setup-jetpack"},getTitle:function(){return p.a.translate("Concierge Setup")},getDescription:function(){return p.a.translate("A complimentary one-on-one orientation session with a Jetpack expert.")}}),o()(i,"marketing-automation",{getSlug:function(){return"marketing-automation"},getTitle:function(){return p.a.translate("Social Media Automation")},getDescription:function(){return p.a.translate("Re-share previously published content on social media, or schedule new shares in advance.")}}),o()(i,"search",{getSlug:function(){return"search"},getTitle:function(){return p.a.translate("Enhanced Site-wide Search")},getDescription:function(){return p.a.translate("Fast, relevant search results with custom filtering, powered by Elasticsearch.")}}),i),Ne=function(e){return e.map(function(e){return Ae[e]})};function we(e){return Object(m.includes)(L,e)}function Pe(e){return Object(m.includes)(U,e)}function Ue(e){return Object(m.includes)(D,e)}function De(e){return Object(m.includes)(k,e)}function ke(e){return Object(_.n)(e)?"is-free-plan":Object(_.o)(e)?"is-personal-plan":Object(_.q)(e)?"is-premium-plan":Object(_.m)(e)?"is-business-plan":""}},"./client/lib/plans/index.js":function(e,t,n){"use strict";n.d(t,"h",function(){return u}),n.d(t,"k",function(){return l}),n.d(t,"r",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"i",function(){return m}),n.d(t,"v",function(){return f}),n.d(t,"z",function(){return _}),n.d(t,"g",function(){return E}),n.d(t,"l",function(){return b}),n.d(t,"w",function(){return g}),n.d(t,"m",function(){return h}),n.d(t,"q",function(){return O}),n.d(t,"o",function(){return y}),n.d(t,"n",function(){return j}),n.d(t,"s",function(){return v}),n.d(t,"u",function(){return S}),n.d(t,"t",function(){return I}),n.d(t,"c",function(){return T}),n.d(t,"d",function(){return C}),n.d(t,"x",function(){return R}),n.d(t,"b",function(){return A}),n.d(t,"e",function(){return N}),n.d(t,"p",function(){return P}),n.d(t,"y",function(){return U}),n.d(t,"a",function(){return D}),n.d(t,"j",function(){return k});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=(n("./node_modules/moment/moment.js"),n("./node_modules/url/url.js")),o=n("./node_modules/lodash/lodash.js"),a=n("./client/config/index.js"),c=(n("./client/lib/products-values/index.js"),n("./client/lib/plans/constants.js"));Object(a.b)("plans/personal-plan");function u(e){return"[object Object]"===Object.prototype.toString.apply(e)&&-1!==Object(o.values)(c.F).indexOf(e)?e:c.F[e]}function l(){return Object.keys(c.a)}function d(e){return!!c.a[e]}function p(e){return c.a[e]}function m(e){return Object(o.get)(u(e),"getPathSlug",function(){})()}function f(e,t){return Object(o.includes)(Object(o.get)(u(e),"getFeatures",function(){return[]})(),t)}function _(e,t){return!e.hasLoadedFromServer&&!e.isRequesting&&t}function E(e){return T(e,{term:c.cb})||""}function b(e){return T(e,{term:c.ab})||""}function g(e,t){var n=u(e),r=u(t);return n&&r&&n.type===r.type&&n.group===r.group}function h(e){return R(e,{type:c.db})}function O(e){return R(e,{type:c.gb})}function y(e){return R(e,{type:c.fb})}function j(e){return R(e,{type:c.eb})}function v(e){return R(e,{type:c.db,group:c.E})}function S(e){return R(e,{type:c.gb,group:c.E})}function I(e){return R(e,{type:c.eb,group:c.E})}function T(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u(e);if(!n)return[];return C(i()({},Object(o.pick)(n,"type","group","term"),t))}(e,t)[0]}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=c.F;return Object.keys(t).filter(function(n){return R(t[n],e)})}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["type","group","term"],r=Object(o.difference)(Object.keys(t),n);if(r.length)throw new Error("planMatches can only match against "+n.join(",")+", but unknown keys "+r.join(",")+" were passed.");var i=u(e)||{},s=function(e){return!(e in t)||i[e]===t[e]};return s("type")&&s("group")&&s("term")}function A(e,t){return function(e,t){var n=w(e);return parseFloat((t/n).toFixed(2))}(u(e).term,t)}function N(e){return w(u(e).term)}function w(e){if(e===c.cb)return 1;if(e===c.ab)return 12;if(e===c.bb)return 24;throw new Error("Unknown term: "+e)}var P=function(){return Object(a.b)("manage/plan-features")};function U(e,t,n){var r=Object(s.parse)(e);return"monthly"===n&&(r.pathname+="/monthly"),t&&(r.pathname+="/"+t),Object(s.format)(r)}function D(e,t){var n=i()({},u(e)),r=u(e).getFeatures(t);return n.getFeatures=function(){return r},n}function k(e){switch(e){case c.cb:return c.U;case c.ab:return c.G;case c.bb:return c.H}}},"./client/lib/plugins/actions.js":function(e,t,n){"use strict";var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/analytics/index.js"),a=n("./client/dispatcher/index.js"),c=n("./client/lib/site/utils.js"),u=n("./client/lib/wp/browser.js"),l=i()("calypso:my-sites:plugins:actions"),d={},p=function(e,t,n,r){d[t]?d[t].push({action:e,siteId:t,pluginId:n,callback:r}):(d[t]=[],e(function e(n,r,i){n&&n(r,i);var s=d[t].shift();s?s.action(e.bind(void 0,s.callback)):delete d[t]}.bind(void 0,r)))},m=function(e,t,n,r){return new Promise(function(i,s){p(e,t,n,function(e,t){r&&r(e,t),e&&s(e),i(t)})})},f=function(e){return new Promise(function(t){return t(e)})},_=function(e){return new Promise(function(t,n){return n(e)})},E=function(e,t){return e.jetpack?t.id:t.slug},b=function(e,t){var n=u.a.site(e.ID),r=e.jetpack?n.plugin(t):n.wpcomPlugin(t);return r},g=function(e,t,n){var r=b(e,t);return r[n].bind(r)},h=function(e,t,n,r){if(r)return o.default.tracks.recordEvent(e+"_error",{site:n.ID,plugin:t.slug,error:r.error}),void o.default.mc.bumpStat(e,"failed");o.default.tracks.recordEvent(e+"_success",{site:n.ID,plugin:t.slug}),o.default.mc.bumpStat(e,"succeeded")},O={removePluginsNotices:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.a.handleViewAction({type:"REMOVE_PLUGINS_NOTICES",logs:t})},fetchSitePlugins:function(e){if(Object(c.g)("manage_options",e)&&e.jetpack){var t=function(t,n){a.a.handleServerAction({type:"RECEIVE_PLUGINS",action:"RECEIVE_PLUGINS",site:e,data:n,error:t})};e.jetpack?u.a.site(e.ID).pluginsList(t):u.a.site(e.ID).wpcomPluginsList(t)}else Object(s.defer)(function(){a.a.handleViewAction({type:"NOT_ALLOWED_TO_RECEIVE_PLUGINS",action:"RECEIVE_PLUGINS",site:e})})},updatePlugin:function(e,t){if(l("updatePlugin",e,t),t.update&&e.canUpdateFiles){a.a.handleViewAction({type:"UPDATE_PLUGIN",action:"UPDATE_PLUGIN",site:e,plugin:t});var n=g(e,t.id,"updateVersion");p(n,e.ID,t.id,function(n,r){a.a.handleServerAction({type:"RECEIVE_UPDATED_PLUGIN",action:"UPDATE_PLUGIN",site:e,plugin:t,data:r,error:n}),h("calypso_plugin_updated",t,e,n)})}},installPlugin:function(e,t){if(!e.canUpdateFiles)return _("Error: Can't update files on the site");if(!Object(c.g)("manage_options",e))return _("Error: User can't manage the site");var n=function(){var n=g(e,t.slug,"install");return m(n,e.ID,t.slug)},r=function(t){var n=t.id,r=g(e,n,"updateVersion");return m(r,e.ID,n)},i=function(t){var n=t.id,r=g(e,n,"activate");return m(r,e.ID,n)},s=function(t){var n=t.id,r=g(e,n,"enableAutoupdate");return m(r,e.ID,t.id)},o=function(n,r,i){var s={type:n,action:"INSTALL_PLUGIN",site:e,plugin:t,data:r,error:i};"INSTALL_PLUGIN"!==n?(a.a.handleServerAction(s),h("calypso_plugin_installed",t,e,i)):a.a.handleViewAction(s)},u=function(e){return o("RECEIVE_INSTALLED_PLUGIN",e),e},l=function n(a){return"PluginAlreadyInstalledError"===a.name?e.isMainNetworkSite?r(t).then(s).then(u).catch(n):r(t).then(i).then(s).then(u).catch(n):"ActivationErrorError"===a.name?r(t).then(s).then(u).catch(n):(o("RECEIVE_INSTALLED_PLUGIN",null,a),a)};return o("INSTALL_PLUGIN"),e.isMainNetworkSite?n().then(s).then(u).catch(l):n().then(i).then(s).then(u).catch(l)},removePlugin:function(e,t){if(e.canUpdateFiles&&Object(c.g)("manage_options",e)){a.a.handleViewAction({type:"REMOVE_PLUGIN",action:"REMOVE_PLUGIN",site:e,plugin:t});var n=function(n,r,i){var s={type:n,action:"REMOVE_PLUGIN",site:e,plugin:t,data:r,error:i};a.a.handleServerAction(s),h("calypso_plugin_removed",t,e,i)};return function(t){if(t.active){var n=t.id,r=g(e,n,"deactivate");return m(r,e.ID,n)}return f(t)}(t).then(function(t){if(t.autoupdate){var n=t.id,r=g(e,n,"disableAutoupdate");return m(r,e.ID,n)}return f(t)}).then(function(t){var n=t.id,r=g(e,n,"delete");return m(r,e.ID,n)}).then(function(e){return n("RECEIVE_REMOVE_PLUGIN",e)}).catch(function(e){return n("RECEIVE_REMOVE_PLUGIN",null,e)})}},activatePlugin:function(e,t){a.a.handleViewAction({type:"ACTIVATE_PLUGIN",action:"ACTIVATE_PLUGIN",site:e,plugin:t});var n=E(e,t),r=b(e,n),i=r.activate.bind(r);p(i,e.ID,n,function(n,r){if(a.a.handleServerAction({type:"RECEIVE_ACTIVATED_PLUGIN",action:"ACTIVATE_PLUGIN",site:e,plugin:t,data:r,error:n}),n&&"activation_error"!==n.error||(!r||!r.active)&&!n)return o.default.mc.bumpStat("calypso_plugin_activated","failed"),void o.default.tracks.recordEvent("calypso_plugin_activated_error",{error:n&&n.error?n.error:"Undefined activation error",site:e.ID,plugin:t.slug});o.default.mc.bumpStat("calypso_plugin_activated","succeeded"),o.default.tracks.recordEvent("calypso_plugin_activated_success",{site:e.ID,plugin:t.slug})})},deactivatePlugin:function(e,t){a.a.handleViewAction({type:"DEACTIVATE_PLUGIN",action:"DEACTIVATE_PLUGIN",site:e,plugin:t});var n=E(e,t),r=b(e,n),i=r.deactivate.bind(r);p(i,e.ID,n,function(n,r){if(a.a.handleServerAction({type:"RECEIVE_DEACTIVATED_PLUGIN",action:"DEACTIVATE_PLUGIN",site:e,plugin:t,data:r,error:n}),n&&"deactivation_error"!==n.error)return o.default.mc.bumpStat("calypso_plugin_deactivated","failed"),void o.default.tracks.recordEvent("calypso_plugin_deactivated_error",{error:n.error?n.error:"Undefined deactivation error",site:e.ID,plugin:t.slug});o.default.mc.bumpStat("calypso_plugin_deactivated","succeeded"),o.default.tracks.recordEvent("calypso_plugin_deactivated_success",{site:e.ID,plugin:t.slug})})},togglePluginActivation:function(e,t){Object(c.g)("manage_options",e)&&(l("togglePluginActivation",e,t),t.active?O.deactivatePlugin(e,t):O.activatePlugin(e,t))},enableAutoUpdatesPlugin:function(e,t){if(Object(c.g)("manage_options",e)&&e.canAutoupdateFiles){a.a.handleViewAction({type:"ENABLE_AUTOUPDATE_PLUGIN",action:"ENABLE_AUTOUPDATE_PLUGIN",site:e,plugin:t});var n=g(e,t.id,"enableAutoupdate");p(n,e.ID,t.id,function(n,r){a.a.handleServerAction({type:"RECEIVE_ENABLED_AUTOUPDATE_PLUGIN",action:"ENABLE_AUTOUPDATE_PLUGIN",site:e,plugin:t,data:r,error:n}),h("calypso_plugin_autoupdate_enabled",t,e,n),t.update&&!n&&O.updatePlugin(e,t)})}},disableAutoUpdatesPlugin:function(e,t){if(Object(c.g)("manage_options",e)&&e.canAutoupdateFiles){a.a.handleViewAction({type:"DISABLE_AUTOUPDATE_PLUGIN",action:"DISABLE_AUTOUPDATE_PLUGIN",site:e,plugin:t});var n=g(e,t.id,"disableAutoupdate");p(n,e.ID,t.id,function(n,r){a.a.handleServerAction({type:"RECEIVE_DISABLED_AUTOUPDATE_PLUGIN",action:"DISABLE_AUTOUPDATE_PLUGIN",site:e,plugin:t,data:r,error:n}),h("calypso_plugin_autoupdate_disabled",t,e,n)})}},togglePluginAutoUpdate:function(e,t){Object(c.g)("manage_options",e)&&e.canAutoupdateFiles&&(t.autoupdate?O.disableAutoUpdatesPlugin(e,t):O.enableAutoUpdatesPlugin(e,t))},removePluginUpdateInfo:function(e,t){a.a.handleViewAction({type:"REMOVE_PLUGINS_UPDATE_INFO",site:e,plugin:t})},resetQueue:function(){d={}}};t.a=O},"./client/lib/plugins/sanitize-section-content.js":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/valid-url/index.js"),a=n.n(o),c=function(e){for(var t=new DOMParser,n=t.parseFromString(e,"text/html"),r=n.createTreeWalker(n.body,NodeFilter.SHOW_ALL,null,!1),o=[],c=[],u=function(){var e=r.currentNode,t=e.nodeName.toLowerCase(),n=function(e){if("iframe"!==e.nodeName.toLowerCase())return!1;if("youtube-player"!==e.getAttribute("class"))return!1;if("text/html"!==e.getAttribute("type"))return!1;var t=document.createElement("a");return t.href=e.getAttribute("src"),a.a.isWebUri(e.getAttribute("src"))&&("youtube.com"===t.hostname||"www.youtube.com"===t.hostname)}(e);if(!function(e){switch(e){case"#text":case"a":case"b":case"blockquote":case"code":case"div":case"em":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"i":case"img":case"li":case"ol":case"p":case"span":case"strong":case"ul":return!0;default:return!1}}(t)&&!n)return o.push(e),"continue";var i=function(e){var t=e.nodeName.toLocaleLowerCase();switch(t){case"h1":case"h2":return"h3";default:return null}}(e);i&&c.push([e,document.createElement(i)]),Object(s.filter)(e.attributes,function(e){var n=e.name,r=e.value;return!function(e,t){switch(e){case"a":return"href"===t;case"iframe":switch(t){case"class":case"type":case"height":case"width":case"src":return!0;default:return!1}case"img":switch(t){case"alt":case"src":return!0;default:return!1}default:return!1}}(t,n)||("href"===n||"src"===n)&&!a.a.isWebUri(r)}).forEach(function(t){var n=t.name;return e.removeAttribute(n)}),"a"===t&&e.getAttribute("href")&&(e.setAttribute("target","_blank"),e.setAttribute("rel","external noopener noreferrer")),n&&e.setAttribute("src",e.getAttribute("src").replace("http://","https://"))};r.nextNode();)u();return c.forEach(function(e){for(var t,n=i()(e,2),r=n[0],s=n[1];t=r.firstChild;)s.appendChild(t);r.parentNode.replaceChild(s,r)}),o.forEach(function(e){var t,n=e.parentNode;try{for(;t=e.firstChild;)n.insertBefore(t,e);n.removeChild(e)}catch(e){}}),n.body.innerHTML}},"./client/lib/plugins/store.js":function(e,t,n){"use strict";var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/dispatcher/index.js"),a=n("./client/lib/mixins/emitter/index.js"),c=n("./client/lib/plugins/actions.js"),u=n("./client/lib/version-compare/index.js"),l=n("./client/lib/plugins/utils.js"),d=n("./client/lib/redux-bridge/index.js"),p=n("./client/state/selectors/get-network-sites.js"),m=n("./client/state/sites/selectors.js"),f=n("./client/state/sites/actions.js"),_=i()("calypso:sites-plugins:sites-plugins-store"),E={},b={},g={none:function(){return!1},all:function(){return!0},active:function(e){return e.sites.some(function(e){return e.plugin&&e.plugin.active})},inactive:function(e){return e.sites.some(function(e){return e.plugin&&!e.plugin.active})},updates:function(e){return e.sites.some(function(e){return e.plugin&&e.plugin.update&&e.canUpdateFiles})},isEqual:function(e,t){return t.slug===e}};function h(e){var t=Object(p.a)(Object(d.b)(),e.ID);t&&t.forEach(c.a.fetchSitePlugins)}function O(e,t,n){n.network&&(e.options.is_multi_site||Object(u.a)(e.options.jetpack_version,"3.7.0-dev","<"))||(b[e.ID]||(b[e.ID]={}),b[e.ID][t]||(b[e.ID][t]={slug:t}),n=Object(l.b)(n),b[e.ID][t]=Object(s.assign)({},b[e.ID][t],n),_("update to ",b[e.ID][t]))}function y(e,t){E[e.ID]=!1,b[e.ID]={},t.forEach(function(t){O(e,t.slug||t.id,t)})}var j={getPlugin:function(e,t){var n={},r=!1;if(n.sites=[],e=Object(s.isArray)(e)?e:[e],e.forEach(function(e){var i=j.getSitePlugins(e);void 0!==i&&(r=!0),i&&i.forEach(function(r){r.slug===t&&(n=Object(s.assign)(n,r),n.sites.push(Object(s.assign)({},e,{plugin:r})))},this)}),r)return n},getPlugins:function(e,t){var n=!1,r={};return e=Object(s.isArray)(e)?e:[e],0===e.length?[]:(e.forEach(function(e){var t=j.getSitePlugins(e);void 0!==t&&(n=!0),t&&t.forEach(function(t){r[t.slug]||(r[t.slug]=Object(s.assign)({},t,{sites:[]})),r[t.slug].sites.push(Object(s.assign)({},e,{plugin:t}))},this)}),n?(r=Object(s.sortBy)(r,function(e){return e.name}),r?(r.filter&&t&&g[t]&&(r=r.filter(g[t])),r):[]):void 0)},getSitePlugins:function(e){return e?(b[e.ID]||E[e.ID]||(c.a.fetchSitePlugins(e),E[e.ID]=!0),b[e.ID]?Object(s.values)(b[e.ID]):b[e.ID]):[]},getSitePlugin:function(e,t){var n=this.getSitePlugins(e);return n?Object(s.find)(n,g.isEqual.bind(this,t)):n},getSites:function(e,t){var n,r,i=this.getPlugins(e);if(i)return n=Object(s.find)(i,g.isEqual.bind(this,t)),n?(r=n.sites.filter(function(e){return e.visible}).map(function(e){var t=Object(s.clone)(Object(m.l)(Object(d.b)(),e.ID));return t.plugin=e.plugin,t}),r.sort(function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})):null},isFetchingSite:function(e){return E[e.ID]},getNotInstalledSites:function(e,t){var n=this.getSites(e,t)||[];return e.filter(function(e){return!!e.visible&&((!e.jetpack||!e.isSecondaryNetworkSite)&&n.every(function(t){return t.slug!==e.slug}))})},emitChange:function(){this.emit("change")}};j.dispatchToken=o.a.register(function(e){var t,n,r,i=e.action;switch(_("register event Type",i.type,i),i.type){case"RECEIVE_PLUGINS":if(E[i.site.ID]=!1,i.error)return y(i.site,[]),void j.emitChange();y(i.site,i.data.plugins),j.emitChange();break;case"NOT_ALLOWED_TO_RECEIVE_PLUGINS":E[i.site.ID]=!1,b[i.site.ID]={},j.emitChange();break;case"AUTOUPDATE_PLUGIN":case"UPDATE_PLUGIN":j.emitChange();break;case"REMOVE_PLUGINS_UPDATE_INFO":O(i.site,i.plugin.slug,{update:null}),j.emitChange();break;case"RECEIVE_AUTOUPDATE_PLUGIN":case"RECEIVE_UPDATED_PLUGIN":i.error?(_("plugin updating error",i.error),O(i.site,i.plugin.slug,{update:i.plugin.update})):(O(i.site,i.plugin.slug,Object.assign({update:{recentlyUpdated:!0}},i.data)),Object(d.a)(Object(f.g)(i.site.ID)),setTimeout(c.a.removePluginUpdateInfo.bind(c.a,i.site,i.plugin),1e4)),j.emitChange();break;case"RECEIVE_INSTALLED_PLUGIN":i.error?_("plugin installing error",i.error):(t=i.site,n=i.plugin.slug,r=i.data,O(t,n,r),h(t)),j.emitChange();break;case"RECEIVE_REMOVE_PLUGIN":i.error?(_("plugin removing error",i.error),O(i.site,i.plugin.slug,i.plugin)):function(e,t){h(e),b[e.ID]||(b[e.ID]={}),delete b[e.ID][t],_("removed plugin "+t)}(i.site,i.plugin.slug),j.emitChange();break;case"ACTIVATE_PLUGIN":O(i.site,i.plugin.slug,{active:!0}),j.emitChange();break;case"DEACTIVATE_PLUGIN":O(i.site,i.plugin.slug,{active:!1}),j.emitChange();break;case"RECEIVE_ACTIVATED_PLUGIN":i.error&&"activation_error"!==i.error.error||(!i.data||!i.data.active)&&!i.error?(_("plugin activation error",i.error),O(i.site,i.plugin.slug,{active:!1})):O(i.site,i.plugin.slug,{active:!0}),j.emitChange();break;case"RECEIVE_DEACTIVATED_PLUGIN":i.error&&"deactivation_error"!==i.error.error?(_("plugin deactivation error",i.error),O(i.site,i.plugin.slug,{active:!0})):O(i.site,i.plugin.slug,{active:!1}),j.emitChange();break;case"ENABLE_AUTOUPDATE_PLUGIN":O(i.site,i.plugin.slug,{autoupdate:!0}),j.emitChange();break;case"DISABLE_AUTOUPDATE_PLUGIN":O(i.site,i.plugin.slug,{autoupdate:!1}),j.emitChange();break;case"RECEIVE_ENABLED_AUTOUPDATE_PLUGIN":i.error?(_("plugin activation error",i.error),O(i.site,i.plugin.slug,{autoupdate:!1})):O(i.site,i.plugin.slug,{autoupdate:!0}),j.emitChange();break;case"RECEIVE_DISABLED_AUTOUPDATE_PLUGIN":i.error?(_("plugin deactivation error",i.error),O(i.site,i.plugin.slug,{autoupdate:!0})):O(i.site,i.plugin.slug,{autoupdate:!1}),j.emitChange()}}),Object(a.a)(j),t.a=j},"./client/lib/plugins/utils.js":function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/formatting/index.js"),s=n("./client/lib/plugins/sanitize-section-content.js");function o(e,t){return e&&t.site&&t.site.ID===e.ID}function a(e,t){return e&&t.plugin&&t.plugin.slug===e}function c(e,t){return e=function(e){return Object(r.pick)(e,"action_links","active","author","author_url","autoupdate","banners","compatibility","description","short_description","detailsFetched","downloaded","homepage","icons","id","last_updated","name","network","num_ratings","plugin_url","rating","ratings","sections","slug","support_URL","update","updating","version","wp_admin_settings_page_url")}(Object(r.assign)(e,t)),Object(r.transform)(e,function(t,n,o){switch(o){case"short_description":case"description":case"name":case"slug":t[o]=Object(i.b)(n);break;case"author":t.author=n,t.author_name=(f=n,f?Object(i.b)(f.replace(/(<([^>]+)>)/gi,"")):""),t.author_url=e.author_url||function(e){var t=/<a\s+(?:[^>]*?\s+)?href="([^"]*)"/.exec(e);return t&&t[1]?t[1]:""}(n);break;case"sections":for(var a={},c=Object.keys(n),u=0;u<c.length;u++){var l=c[u];if(!n[l])throw new Error("Section expected for key "+l);a[l]=Object(s.a)(n[l])}t.sections=a,t.screenshots=a.screenshots?function(e){var t=Object(i.c)(e),n=t&&t.querySelectorAll("li");if(!n)return null;var s=Object(r.map)(n,function(e){var t=e.querySelectorAll("img"),n=e.querySelectorAll("p");if(t[0]&&t[0].src)return{url:t[0].src,caption:n[0]?n[0].textContent:null}});return s=s.filter(function(e){return e}),s.length?s:null}(a.screenshots):null;break;case"num_ratings":case"rating":t[o]=parseInt(n,10);break;case"ratings":for(var d in n)n[d]=parseInt(n[d],10);t[o]=n;break;case"icons":n&&(t.icon=n["2x"]||n["1x"]||n.svg||n.default);break;case"homepage":case"plugin_url":t.plugin_url=n;break;case"compatibility":t[o]=(p=n,m=Object(r.sortBy)(Object.keys(p).map(function(e){for(var t=e.split(".").map(function(e){return Number.parseInt(e,10)});t.length<3;)t.push(0);return t}),[0,1,2]),m.map(function(e){return e.length&&0===e[e.length-1]&&e.pop(),e.join(".")}));break;default:t[o]=n}var p,m,f})}function u(e){return e?Object(r.map)(e,function(e){return c(e)}):[]}function l(e,t,n){return Object(r.filter)(e,function(e,t,n){return!e&&!t||!(!o(e,n)||!a(t,n))||!(t||!o(e,n))||!(e||!a(t,n))}.bind(this,t,n))}},"./client/lib/post-normalizer/rule-content-detect-media.js":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/get-video-id/index.js"),s=n.n(i),o=n("./client/lib/post-normalizer/utils.js"),a=n("./client/state/reader/posts/sizes.js");var c=function(e){if(function(e){if(!e||!e.getAttribute("src"))return!1;var t=e.getAttribute("src"),n=Object(r.some)(["gravatar.com","/wpcom-smileys/"],function(e){return Object(r.includes)(t.toLowerCase(),e)});return!(function(e){if(!e||!e.src)return!1;var t=e.height+e.width;return 1===t||2===t}(e)||n)}(e)){var t=Object(o.a)(e)||{width:0,height:0},n=t.width,i=t.height;return{src:Object(o.h)(e.getAttribute("src"),a.g),width:n,height:i,mediaType:"image"}}return!1},u=function(e){if(!Object(o.c)(e))return!1;var t=Number(e.width),n=Number(e.height),i=t/n;return{type:function(e){var t,n=e;do{if(n.className&&(t=n.className.match(/\bembed-([-a-zA-Z0-9_]+)\b/),t))return t[1]}while(n=n.parentNode);return null}(e),src:e.src,iframe:e.outerHTML,aspectRatio:i,width:t,height:n,mediaType:"video",autoplayIframe:function(e){var t=s()(e.src);if(t&&Object(r.includes)(["youtube","vimeo","videopress"],t.service)){var n=e.cloneNode();return-1===n.src.indexOf("?")?n.src+="?autoplay=1":n.src+="&autoplay=1",n.outerHTML}return null}(e)}};function l(e,t){var n=t.querySelectorAll("img[src], iframe"),i=Object(r.map)(n,function(e){var t=e.nodeName.toLowerCase();return"iframe"===t?u(e):"img"===t&&c(e)});return e.content_media=Object(r.compact)(i),e.content_embeds=Object(r.filter)(e.content_media,function(e){return"video"===e.mediaType}),e.content_images=Object(r.filter)(e.content_media,function(e){return"image"===e.mediaType}),e.featured_image&&(e.featured_image=Object(o.h)(e.featured_image,a.g)),e}},"./client/lib/post-normalizer/rule-content-detect-polls.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/i18n-calypso/index.js"),s=n.n(i),o=n("./client/lib/post-normalizer/utils.js");function a(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");var n=t.querySelectorAll("noscript");return Object(r.forEach)(n,function(e){if(e.firstChild){var t=Object(o.b)(e.innerHTML),n=t.querySelector('a[href^="http://polldaddy.com/poll/"]');if(n){var r=n.href.match(/https?:\/\/polldaddy.com\/poll\/([0-9]+)/)[1];if(r){var i=document.createElement("p");i.innerHTML='<a target="_blank" rel="external noopener noreferrer" href="https://polldaddy.com/poll/'+r+'">'+s.a.translate("Take our poll")+"</a>",e.parentNode.replaceChild(i,e)}}}}),e}},"./client/lib/post-normalizer/rule-content-detect-surveys.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/i18n-calypso/index.js"),s=n.n(i);function o(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");var n=t.querySelectorAll(".pd-embed");return n?(Object(r.forEach)(n,function(e){var t=null;try{t=JSON.parse(e.getAttribute("data-settings"))}catch(e){return}var n=t,r=n.domain,i=n.id;if(r&&i){var o=document.createElement("p");o.innerHTML='<a target="_blank" rel="external noopener noreferrer" href="https://'+r+i+'">'+s.a.translate("Take our survey")+"</a>",e.parentNode.replaceChild(o,e)}}),e):e}},"./client/lib/post-normalizer/rule-content-disable-autoplay.js":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/url/url.js"),s=n.n(i);function o(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");return Object(r.forEach)(t.querySelectorAll("audio, video"),function(e){return e.autoplay=!1}),e}function a(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");return Object(r.forEach)(t.querySelectorAll("iframe"),function(e){var t,n,i=s.a.parse(e.src,!0,!0);i.query&&(i.query=(t=i.query,n=Object.keys(t).filter(function(e){return/^auto_?play$/i.test(e)}),Object(r.forEach)(n,function(e){var n=t[e].toLowerCase();"1"===n?t[e]="0":"true"===n&&(t[e]="false")}),t),i.search=null,e.src=s.a.format(i))}),e}},"./client/lib/post-normalizer/rule-content-make-embeds-safe.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/post-normalizer/utils.js"),s=n("./node_modules/url/url.js"),o=n.n(s);function a(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");var n=t.querySelectorAll("iframe");if(Object(r.forEach)(n,function(e){Object(r.startsWith)(e.src,"http")?(e.src=e.src.replace(/^http:/,"https:"),!function(e){var t=e.src&&o.a.parse(e.src).hostname,n=t&&t.toLowerCase();return Object(r.some)(["spotify.com","kickstarter.com","soundcloud.com","embed.ted.com","player.twitch.tv"],function(e){return Object(r.endsWith)("."+n,"."+e)})}(e)?Object(i.c)(e)?e.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups"):e.setAttribute("sandbox",""):e.removeAttribute("sandbox")):e.parentNode.removeChild(e)}),e.is_external||e.is_jetpack){var s=t.querySelectorAll("embed,object");Object(r.forEach)(s,function(e){e.parentNode.removeChild(e)})}return e}},"./client/lib/post-normalizer/rule-content-make-images-safe.js":function(e,t,n){"use strict";var r=n("./node_modules/url/url.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/safe-image-url/index.js"),a=n("./client/lib/post-normalizer/utils.js"),c="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",u=function(e){if(e&&e.hasAttributes()){var t=Object(s.filter)(e.attributes,function(e){return Object(s.startsWith)(e.name,"on")});t.forEach(function(t){return e.removeAttribute(t.name)}),e.removeAttribute("srcset")}},l=function(e){if(e){return Object(s.some)(["feeds.feedburner.com","feeds.wordpress.com/",".feedsportal.com","wp-includes","wp-content/themes","wp-content/plugins","stats.wordpress.com","pixel.wp.com"],function(t){return Object(s.includes)(e.toLowerCase(),t)})}};t.a=function(e){return function(t,n){if(!n)throw new Error("this transform must be used as part of withContentDOM");var r=n.querySelectorAll("img[src]");return Object(s.forEach)(r,function(n){return function(e,t,n){var r=t.getAttribute("src"),d=i.a.parse(r,!1,!0),p=d.hostname;p||(r=i.a.resolve(e.URL,r));var m=n?Object(a.h)(Object(o.a)(r),n):Object(o.a)(r);if(!m&&Object(s.startsWith)(r,"https://")&&(m=r),u(t),!m||l(r))return t.parentNode.removeChild(t),void t.setAttribute("src",c);t.setAttribute("src",m)}(t,n,e)}),t}}},"./client/lib/post-normalizer/rule-content-make-links-safe.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/post-normalizer/utils.js");function s(e,t){var n=Object(r.toArray)(t.querySelectorAll("a[href]"));return Object(r.forEach)(n,function(e){i.j.test(e.href)||e.removeAttribute("href")}),e}},"./client/lib/post-normalizer/rule-content-remove-elements-by-selector.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./node_modules/lodash/lodash.js"),i=[".sharedaddy","script",".jp-relatedposts",".jp-relatedposts-headline",".mc4wp-form",".wpcnt",".OUTBRAIN",".adsbygoogle","form","input","select","button","textarea"].join(", ");function s(e){e.parentNode&&e.parentNode.removeChild(e)}function o(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");var n=t.querySelectorAll(i);return Object(r.forEach)(n,s),e}},"./client/lib/post-normalizer/rule-content-remove-styles.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js");function i(e,t){var n=Element.prototype,r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;return!!r&&r.call(e,t)}function s(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");var n='.gallery, .gallery *, .gallery-row, .gallery-row *, .gallery-group, .gallery-group *, blockquote[class^="instagram-"], blockquote[class^="instagram-"] *, blockquote[class^="twitter-"], blockquote[class^="twitter-"] *',s=t.querySelectorAll("[style]");return Object(r.forEach)(s,function(e){i(e,n)||e.removeAttribute("style")}),Object(r.forEach)(t.querySelectorAll("style"),function(e){i(e,n)||e.parentNode&&e.parentNode.removeChild(e)}),Object(r.forEach)(t.querySelectorAll("[align]"),function(e){"IMG"!==e.tagName&&e.removeAttribute("align")}),e}},"./client/lib/post-normalizer/rule-create-better-excerpt.js":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var r=n("./node_modules/striptags/striptags.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/post-normalizer/utils.js");function a(e){e.parentNode&&e.parentNode.removeChild(e)}function c(e){return 0===e.childNodes.length?"BR"===e.nodeName&&e:c(e.firstChild)}function u(e){if(!e)return"";var t=Object(o.b)(i()(e,["p","br","sup","sub"]));t.id="__better_excerpt__",Object(s.toArray)(t.querySelectorAll("p")).filter(function(e){return 0===Object(s.trim)(e.textContent).length}).forEach(a),Object(s.toArray)(t.querySelectorAll("p")).forEach(function(e){e.removeAttribute("style"),e.removeAttribute("align")}),function(e){if(e)for(;c(e);)a(c(e))}(t),Object(s.forEach)(t.querySelectorAll("#__better_excerpt__ > p, #__better_excerpt__ > br"),function(e,t){t>=3&&e.parentNode&&e.parentNode.removeChild(e)});var n=Object(s.trim)(t.innerHTML.replace(/&nbsp;/g," "));return t.innerHTML="",n}function l(e){if(!e||!e.content)return e;var t,n,r=(t=e.content,n=Object(o.b)(t),Object(s.forEach)(n.querySelectorAll('.wp-caption, style, script, blockquote[class^="instagram-"], figure, .tiled-gallery'),a),n.innerHTML);if(e.content_no_html=Object(s.trim)(i()(r)),e.better_excerpt=u(r),e.better_excerpt_no_html=Object(s.trim)(i()(e.better_excerpt)),e.better_excerpt_no_html){var c=e.better_excerpt_no_html.replace(/\[...\]\w*$/,"");if(c.length>160){var l=c.lastIndexOf(" ",160);c=c.substring(0,l)+""}e.short_excerpt=c}return e}},"./client/lib/post-normalizer/rule-decode-entities.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/formatting/index.js"),s=n("./client/lib/safe-image-url/index.js"),o=["excerpt","title","site_name"];function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return t.forEach(function(t){e[t]&&(e[t]=Object(i.b)(e[t]))}),e.parent&&e.parent.title&&(e.parent.title=Object(i.b)(e.parent.title)),e.author&&(e.author.name&&(e.author.name=Object(i.b)(e.author.name)),e.author.avatar_URL&&(e.author.avatar_URL=Object(s.a)(e.author.avatar_URL))),e.tags&&Object(r.forOwn)(e.tags,function(e){e.name=Object(i.b)(e.name)}),e}},"./client/lib/post-normalizer/rule-keep-valid-images.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/lodash/lodash.js");function i(e,t){return function(n){var i,s,o=(i=e,s=t,function(e){return e.width>=i&&e.height>=s});return n.images&&(n.images=Object(r.filter)(n.images,o)),n.content_images&&(n.content_images=Object(r.filter)(n.content_images,o)),n}}},"./client/lib/post-normalizer/rule-make-links-safe.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./client/lib/post-normalizer/utils.js");function i(e){return e&&e.URL&&!r.j.test(e.URL)&&(e.URL=""),e&&e.short_URL&&!r.j.test(e.short_URL)&&(e.short_URL=""),e}},"./client/lib/post-normalizer/rule-make-site-id-safe-for-api.js":function(e,t,n){"use strict";function r(e){return e.site_id&&(e.normalized_site_id=(""+e.site_id).replace(/::/g,"/")),e}n.d(t,"a",function(){return r})},"./client/lib/post-normalizer/rule-pick-canonical-image.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/post-normalizer/utils.js");function s(e){var t;if(Object(i.k)(e.post_thumbnail)){var n=e.post_thumbnail,s=n.URL,o=n.width,a=n.height;t={uri:s,width:o,height:a}}else if(e.content_images&&e.content_images.length){var c=Object(r.find)(e.content_images,i.d);c&&(t={uri:c.src,width:c.width,height:c.height})}return t&&(e.canonical_image=t),e}},"./client/lib/post-normalizer/rule-pick-primary-tag.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/lodash/lodash.js");function i(e){var t=Object(r.maxBy)(Object(r.values)(e.tags),function(e){return e.post_count});return void 0!==t&&(e.primary_tag=t),e}},"./client/lib/post-normalizer/rule-prevent-widows.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/formatting/index.js");function s(e){return Object(r.forEach)(["excerpt"],function(t){e[t]&&(e[t]=Object(i.d)(e[t],2))}),e}},"./client/lib/post-normalizer/rule-safe-image-properties.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/post-normalizer/utils.js");function s(e){return function(t){return Object(i.g)(t.author,"avatar_URL",e),Object(i.g)(t,"featured_image",e,t.URL),t.post_thumbnail&&Object(i.g)(t.post_thumbnail,"URL",e,t.URL),t.featured_media&&"image"===t.featured_media.type&&Object(i.g)(t.featured_media,"uri",e,t.URL),t.canonical_image&&t.canonical_image.uri&&Object(i.g)(t.canonical_image,"uri",e,t.URL),t.attachments&&Object(r.forOwn)(t.attachments,function(n){Object(r.startsWith)(n.mime_type,"image/")&&Object(i.g)(n,"URL",e,t.URL)}),t}}},"./client/lib/post-normalizer/rule-strip-html.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/formatting/index.js");function s(e){return Object(r.forEach)(["excerpt","title","site_name"],function(t){e[t]&&(e[t]=Object(i.f)(e[t]))}),e.author&&e.author.name&&(e.author.name=Object(i.f)(e.author.name)),e}},"./client/lib/post-normalizer/rule-wait-for-images-to-load.js":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/post-normalizer/utils.js"),a=n("./node_modules/debug/src/browser.js"),c=n.n(a),u=c()("calypso:post-normalizer:wait-for-images-to-load");function l(e){return{src:e.src,width:e.naturalWidth,height:e.naturalHeight}}var d=Object(s.flow)(function(e){var t=new Image;return t.src=e,t},function(e){return e.complete&&e.naturalWidth>0?Promise.resolve(e):new Promise(function(t,n){e.onload=function(){return t(e)},e.onerror=function(){return n(e)}})});function p(e){return new Promise(function(t){var n=[];Object(o.k)(e.post_thumbnail)?n.push(e.post_thumbnail.URL):e.featured_image&&n.push(e.featured_image);var r={};if(Object(s.forEach)(e.content_images,function(e){var t=Object(o.a)(e);t&&(r[e.src]={src:e.src,naturalWidth:t.width,naturalHeight:t.height}),n.push(e.src)}),0!==n.length){var a={},c=Object(s.map)(Object(s.take)(n,10),function(e){return e in r?Promise.resolve(r[e]):d(e)});Object(s.forEach)(c,function(r){r.then(function(e){a[e.src]=e}).catch(function(t){return u("failed to load image",t,e),null}).then(function(){if(c=Object(s.pull)(c,r),0===c.length){var o=Object(s.filter)(Object(s.map)(n,function(e){return a[e]}),Boolean);u=o,e.featured_image&&(Object(s.find)(u,{src:e.featured_image})||(e.featured_image=null)),e.images=Object(s.map)(u,l),e.content_images=Object(s.filter)(Object(s.map)(e.content_images,function(t){return Object(s.find)(e.images,{src:t.src})}),Boolean),e.content_media=Object(s.map)(e.content_media,function(t){if("image"===t.mediaType){var n=Object(s.find)(e.images,{src:t.src});return i()({},t,n)}return t}),t(e)}var u}).catch(function(e){u("Fulfilling promise failed",e)})})}else t(e)})}},"./client/lib/post-normalizer/rule-with-content-dom.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/post-normalizer/utils.js");function s(e){return function(t){if(!t||!t.content||!e)return t;var n=Object(i.b)(t.content);return t=Object(r.reduce)(e,function(e,t){return t(e,n)},t),t.content=n.innerHTML,n.innerHTML="",t}}},"./client/lib/post-normalizer/utils.js":function(e,t,n){"use strict";n.d(t,"h",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"f",function(){return f}),n.d(t,"k",function(){return _}),n.d(t,"c",function(){return E}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return h}),n.d(t,"a",function(){return O}),n.d(t,"j",function(){return y}),n.d(t,"i",function(){return j});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/url/url.js"),a=n.n(o),c=n("./client/lib/safe-image-url/index.js"),u="undefined"!=typeof window&&window.devicePixelRatio&&window.devicePixelRatio>1?2:1,l=80;function d(e,t){if(!e)return e;var n={};try{n=a.a.parse(e,!0,!0)}catch(e){}if(!n.host)return e;var r=-1!==n.host.indexOf("gravatar.com");delete n.search,Object(s.forEach)(["h","crop","resize","fit"],function(e){delete n.query[e]});var i=r?"s":"w";return n.query[i]=t*u,r||(n.query.quality=l,n.query.strip="info"),n.query=Object.keys(n.query).sort().reduce(function(e,t){return e[t]=n.query[t],e},{}),a.a.format(n)}function p(e,t,n,r){e&&e[t]&&(r&&!a.a.parse(e[t],!0,!0).hostname&&(e[t]=a.a.resolve(r,e[t])),e[t]=Object(c.a)(e[t]),n&&(e[t]=d(e[t],n)))}function m(e){if("undefined"!=typeof DOMParser&&DOMParser.prototype.parseFromString){var t=new DOMParser,n=t.parseFromString(e,"text/html");if(Object(s.has)(n,"body"))return n.body}var r=document.createElement("div");return r.innerHTML=e,r}function f(e){if(!e)return!1;var t=a.a.parse(e).pathname;return Object(s.some)([".jpg",".jpeg",".png",".gif"],function(e){return Object(s.endsWith)(t,e)})}function _(e){return!(!e||!e.URL)&&f(e.URL)}function E(e){var t=e.src&&a.a.parse(e.src).hostname,n=t&&t.toLowerCase();return Object(s.some)(["youtube.com","youtube-nocookie.com","videopress.com","vimeo.com","cloudup.com","soundcloud.com","8tracks.com","spotify.com","me.sh","bandcamp.com","kickstarter.com","facebook.com","embed.itunes.apple.com","nyt.com","google.com","mixcloud.com","players.brightcove.net","embed.ted.com","fast.wistia.net","player.twitch.tv","archive.org","codepen.io","www.audiomack.com","player.theplatform.com","embed.radiopublic.com","gfycat.com","scribd.com"],function(e){return Object(s.endsWith)("."+n,"."+e)})}function b(e){return!!e&&(!(e.width<100)&&!(e.width*e.height<7500))}function g(e){var t,n=a.a.parse(e),r=n.pathname;return t=n.hostname,/^i[0-2]\.wp\.com$/.test(t)?r.substring(r.indexOf("/",1)):r}function h(e){if(_(e.post_thumbnail)){var t=g(e.post_thumbnail.URL),n=Object(s.findIndex)(e.images,function(e){return g(e.src)===t},1);if(n>0)return n}return!1}function O(e){if(e.height&&e.width)return{height:e.height,width:e.width};if(e.naturalHeight&&e.natualWidth)return{height:e.naturalHeight,width:e.naturalWidth};if(e.dataset&&e.dataset.origSize){var t=e.dataset.origSize.split(",").map(Number),n=i()(t,2),r=n[0],s=n[1];return{width:r,height:s}}return null}var y=/^https?:\/\//;function j(e){if(y.test(e))return e}},"./client/lib/preferences/constants.js":function(e,t,n){"use strict";t.a={LOCALSTORAGE_KEY:"preferences-data",USER_SETTING_KEY:"calypso_preferences"}},"./client/lib/preferences/store.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/dispatcher/index.js"),s=n("./client/lib/mixins/emitter/index.js"),o=n("./client/lib/preferences/constants.js"),a={_preferences:void 0};function c(){a._preferences||(a._preferences={})}function u(e){c(),Object(r.forOwn)(e,function(e,t){!function(e,t){c(),null===t?delete a._preferences[e]:a._preferences[e]=t}(t,e)})}Object(s.a)(a),a.getAll=function(){return a._preferences},a.get=function(e){if(a._preferences)return a._preferences[e]},a.dispatchToken=i.a.register(function(e){var t=e.action;switch(t.type){case"UPDATE_ME_SETTINGS":case"RECEIVE_ME_SETTINGS":!t.error&&t.data&&t.data[o.a.USER_SETTING_KEY]&&(u(t.data[o.a.USER_SETTING_KEY]),a.emit("change"))}}),t.a=a},"./client/lib/products-list/index.js":function(e,t,n){"use strict";var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./client/lib/wp/browser.js"),o=n("./client/lib/mixins/emitter/index.js"),a=i()("calypso:ProductsList");function c(){if(!(this instanceof c))return new c;this.initialized=!1}Object(o.a)(c.prototype),c.prototype.get=function(){var e;if(!this.data){if(a("First time loading ProductsList, check store"),"undefined"!=typeof localStorage)try{e=JSON.parse(localStorage.getItem("ProductsList"))}catch(e){}e?this.initialize(e):this.data={},this.fetch()}return this.data},c.prototype.fetch=function(){a("getting ProductsList from api"),this.isFetching=!0,s.a.undocumented().getProducts(function(e,t){var n;e?a("error fetching ProductsList from api",e):(n=t,a("ProductsList fetched from api:",n),this.initialized?this.data=n:this.initialize(n),this.isFetching=!1,this.emit("change"),"undefined"!=typeof localStorage&&localStorage.setItem("ProductsList",JSON.stringify(n)))}.bind(this))},c.prototype.initialize=function(e){this.data=e,this.initialized=!0},c.prototype.hasLoadedFromServer=function(){return this.initialized};var u=new c;t.a=function(){return u.hasLoadedFromServer()||u.isFetching||u.get(),u}},"./client/lib/products-values/index.js":function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"i",function(){return f}),n.d(t,"e",function(){return _}),n.d(t,"v",function(){return E}),n.d(t,"u",function(){return b}),n.d(t,"w",function(){return g}),n.d(t,"F",function(){return h}),n.d(t,"H",function(){return O}),n.d(t,"h",function(){return y}),n.d(t,"t",function(){return j}),n.d(t,"B",function(){return v}),n.d(t,"A",function(){return S}),n.d(t,"C",function(){return I}),n.d(t,"P",function(){return T}),n.d(t,"D",function(){return C}),n.d(t,"Q",function(){return R}),n.d(t,"f",function(){return A}),n.d(t,"G",function(){return w}),n.d(t,"s",function(){return P}),n.d(t,"I",function(){return U}),n.d(t,"o",function(){return D}),n.d(t,"p",function(){return k}),n.d(t,"q",function(){return L}),n.d(t,"n",function(){return M}),n.d(t,"J",function(){return x}),n.d(t,"r",function(){return F}),n.d(t,"l",function(){return G}),n.d(t,"g",function(){return q}),n.d(t,"j",function(){return H}),n.d(t,"d",function(){return W}),n.d(t,"c",function(){return B}),n.d(t,"m",function(){return Q}),n.d(t,"x",function(){return z}),n.d(t,"y",function(){return Y}),n.d(t,"z",function(){return K}),n.d(t,"L",function(){return J}),n.d(t,"k",function(){return Z}),n.d(t,"E",function(){return $}),n.d(t,"O",function(){return X}),n.d(t,"M",function(){return ee}),n.d(t,"N",function(){return te}),n.d(t,"K",function(){return ne});var r,i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),o=n("./node_modules/lodash/lodash.js"),a=n("./client/lib/plans/constants.js"),c=n("./client/lib/plans/index.js"),u=n("./client/lib/domains/constants.js"),l=n("./client/lib/products-values/schema.json"),d=(r={domain:{domain_redemption:!0,gapps:!0,gapps_extra_license:!0,gapps_unlimited:!0,private_whois:!0}},s()(r,a.I,{domain_redemption:!0}),s()(r,a.J,{domain_redemption:!0}),s()(r,a.V,{domain_redemption:!0}),s()(r,a.W,{domain_redemption:!0}),s()(r,a.X,{domain_redemption:!0}),s()(r,a.Y,{domain_redemption:!0}),s()(r,u.d.TRANSFER_IN,s()({},u.d.TRANSFER_IN_PRIVACY,!0)),r);function p(e){var t=Object(o.difference)(l.required,Object.keys(e));if(!Object(o.isEmpty)(t))throw new Error("Missing required attributes for ProductValue: ["+t.join(", ")+"]")}function m(e){return Object(o.assign)({},e,{product_slug:e.product_slug||e.productSlug,product_type:e.product_type||e.productType,is_domain_registration:void 0!==e.is_domain_registration?e.is_domain_registration:e.isDomainRegistration,free_trial:e.free_trial||e.freeTrial})}function f(e){return e=m(e),p(e),e.product_slug===a.K}function _(e,t){return t=m(t),p(t),e.indexOf(t.product_slug)>=0}function E(e){return e=m(e),p(e),e.product_slug===a.L}function b(e){return e=m(e),p(e),e.product_slug===a.P}function g(e){return e=m(e),p(e),Boolean(e.free_trial)}function h(e){return e=m(e),p(e),Object(c.o)(e.product_slug)}function O(e){return e=m(e),p(e),Object(c.q)(e.product_slug)}function y(e){return e=m(e),p(e),Object(c.m)(e.product_slug)}function j(e){return e=m(e),p(e),e.product_slug===a.Z}function v(e){return e=m(e),p(e),Object(c.x)(e.product_slug,{group:a.D})}function S(e){return e=m(e),p(e),y(e)&&v(e)}function I(e){return e=m(e),p(e),O(e)&&v(e)}function T(e){return e=m(e),p(e),"vip"===e.product_slug}function C(e){var t=m(e);return p(t),parseInt(t.bill_period,10)===a.U}function R(e){var t=m(e);return p(t),parseInt(t.bill_period,10)===a.G}function A(e){var t=m(e);return p(t),parseInt(t.bill_period,10)===a.H}function N(e){return e=m(e),p(e),e.product_slug===a.M}function w(e){return e=m(e),p(e),h(e)||O(e)||y(e)||j(e)||N(e)}function P(e){return w(e)&&!v(e)}function U(e){return e=m(e),p(e),"private_whois"===e.product_slug}function D(e){return e=m(e),p(e),M(e)||L(e)||U(e)}function k(e){return e=m(e),p(e),"domain_redemption"===e.product_slug}function L(e){return e=m(e),p(e),!!e.is_domain_registration}function M(e){return e=m(e),p(e),"domain_map"===e.product_slug}function x(e){return e=m(e),p(e),"offsite_redirect"===e.product_slug}function F(e){return e=m(e),p(e),e.product_slug===u.d.TRANSFER_IN}function V(e){return e=m(e),p(e),e.product_slug===u.d.TRANSFER_IN_PRIVACY}function G(e){return F(e)&&e.delayedProvisioning}function q(e){return e=m(e),p(e),!!e.is_bundled}function H(e){return e=m(e),p(e),"wordpress-com-credits"===e.product_slug}function W(e){return e=m(e),p(e),L(e)?0:M(e)?1:U(e)?2:void 0}function B(e){e=m(e),p(e);var t=Object(o.get)(e,"extra.domain_to_bundle",!1);return t||e.meta}function Q(e,t,n){var r=!1;e=m(e),p(e);var i=L(e)?"domain":e.product_slug,s=L(t)?"domain":t.product_slug;return n&&(r=w(e)&&(L(t)||M(t))),r||d[i]&&d[i][s]&&B(e)===B(t)}function z(e){return e=m(e),p(e),!0===e.is_free}function Y(e){return e=m(e),p(e),"gapps"===e.product_slug||"gapps_unlimited"===e.product_slug||"gapps_extra_license"===e.product_slug}function K(e){return e=m(e),p(e),"guided_transfer"===e.product_slug}function J(e){return e=m(e),p(e),"premium_theme"===e.product_slug}function Z(e){return e=m(e),p(e),"custom-design"===e.product_slug}function $(e){return e=m(e),p(e),"no-adverts/no-adverts.php"===e.product_slug}function X(e){return e=m(e),p(e),"videopress"===e.product_slug}function ee(e){return e=m(e),p(e),"unlimited_space"===e.product_slug}function te(e){return e=m(e),p(e),"unlimited_themes"===e.product_slug}function ne(e){return e=m(e),p(e),"1gb_space_upgrade"===e.product_slug||"5gb_space_upgrade"===e.product_slug||"10gb_space_upgrade"===e.product_slug||"50gb_space_upgrade"===e.product_slug||"100gb_space_upgrade"===e.product_slug}t.a={formatProduct:m,getDomainProductRanking:W,includesProduct:_,isBusiness:y,isChargeback:f,isCredits:H,isCustomDesign:Z,isDependentProduct:Q,isDelayedDomainTransfer:G,isDomainMapping:M,isDomainProduct:D,isDomainRedemption:k,isDomainRegistration:L,isDomainTransfer:F,isDomainTransferPrivacy:V,isDomainTransferProduct:function(e){return e=m(e),p(e),F(e)||V(e)},isBundled:q,isDotComPlan:P,isEnterprise:j,isFreeJetpackPlan:b,isFreePlan:E,isPersonal:h,isFreeTrial:g,isFreeWordPressComDomain:z,isGoogleApps:Y,isGuidedTransfer:K,isJetpackBusiness:S,isJetpackPlan:v,isJetpackPremium:I,isJetpackMonthlyPlan:function(e){return C(e)&&v(e)},isVipPlan:T,isMonthly:C,isJpphpBundle:N,isNoAds:$,isPlan:w,isPremium:O,isPrivacyProtection:U,isSiteRedirect:x,isSpaceUpgrade:ne,isTheme:J,isUnlimitedSpace:ee,isUnlimitedThemes:te,isVideoPress:X,whitelistAttributes:function(e){return Object(o.pick)(e,Object.keys(l.properties))}}},"./client/lib/products-values/schema.json":function(e){e.exports={title:"ProductValue",type:"object",required:["product_slug"],additionalProperties:!0,properties:{product_id:{type:"number"},product_name:{type:"string"},product_slug:{type:"string"},is_domain_registration:{type:"boolean"}}}},"./client/lib/products-values/sort.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/purchases/index.js"),s=n("./client/lib/products-values/index.js");t.a=function(e){var t,n,o,a,c;return t=e.filter(s.G),n=e.filter(i.m),o=Object(r.difference)(e,n),o=o.filter(s.o),o=Object(r.toPairs)(Object(r.groupBy)(o,"meta")),o=Object(r.sortBy)(o,function(e){return e[1][0]&&0===e[1][0].cost?-1:e[0]}),o=o.map(function(e){return Object(r.sortBy)(e[1],s.d)}),o=Object(r.flatten)(o),a=e.filter(s.j),c=Object(r.difference)(e,t,o,n,a),t.concat(n).concat(o).concat(c).concat(a)}},"./client/lib/protect-form/index.jsx":function(e,t,n){"use strict";n.d(t,"c",function(){return L}),n.d(t,"a",function(){return M}),n.d(t,"b",function(){return x});var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/createClass.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/inherits.js"),f=n.n(m),_=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),E=n.n(_),b=n("./node_modules/prop-types/index.js"),g=n.n(b),h=n("./node_modules/react/index.js"),O=n.n(h),y=n("./node_modules/debug/src/browser.js"),j=n.n(y),v=n("./node_modules/page/page.js"),S=n.n(v),I=n("./node_modules/i18n-calypso/index.js"),T=n.n(I),C=n("./node_modules/lodash/lodash.js"),R=j()("calypso:protect-form"),A=[],N=0;function w(e){if(A.length){R("unsaved form changes detected");var t=T.a.translate("You have unsaved changes.");return(e||window.event).returnValue=t,t}}function P(){0===N&&"undefined"!=typeof window&&window.addEventListener("beforeunload",w),N++}function U(){N--,0===N&&"undefined"!=typeof window&&window.removeEventListener("beforeunload",w)}function D(e){Object(C.includes)(A,e)||A.push(e)}function k(e){A=Object(C.without)(A,e)}var L=function(e){return function(t){function n(){var e,t;o()(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=l()(this,(e=p()(n)).call.apply(e,[this].concat(i))),t.markChanged=function(){return D(E()(E()(t)))},t.markSaved=function(){return k(E()(E()(t)))},t}return f()(n,t),c()(n,[{key:"componentDidMount",value:function(){P()}},{key:"componentWillUnmount",value:function(){U(),this.markSaved()}},{key:"render",value:function(){return O.a.createElement(e,i()({markChanged:this.markChanged,markSaved:this.markSaved},this.props))}}]),n}(h.Component)},M=function(e){function t(){return o()(this,t),l()(this,p()(t).apply(this,arguments))}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){P(),this.props.isChanged&&D(this)}},{key:"componentWillUnmount",value:function(){U(),k(this)}},{key:"componentWillReceiveProps",value:function(e){e.isChanged!==this.props.isChanged&&(e.isChanged?D(this):k(this))}},{key:"render",value:function(){return null}}]),t}(h.Component);M.propTypes={isChanged:g.a.bool.isRequired};var x=function(e,t){if(!A.length)return t();if(R("unsaved form changes detected"),function(){if("undefined"==typeof window)return!0;var e=T.a.translate("You have unsaved changes. Are you sure you want to leave this page?");return window.confirm(e)}())A=[],t();else{var n=e.canonicalPath;setTimeout(function(){S.a.replace(n,null,!1,!1)},0)}}},"./client/lib/purchases/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return P}),n.d(t,"c",function(){return U}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return m}),n.d(t,"i",function(){return f}),n.d(t,"j",function(){return _}),n.d(t,"o",function(){return A}),n.d(t,"q",function(){return N}),n.d(t,"p",function(){return O}),n.d(t,"k",function(){return E}),n.d(t,"l",function(){return b}),n.d(t,"m",function(){return g}),n.d(t,"n",function(){return h}),n.d(t,"r",function(){return v}),n.d(t,"s",function(){return S}),n.d(t,"t",function(){return I}),n.d(t,"u",function(){return T}),n.d(t,"v",function(){return C}),n.d(t,"w",function(){return R}),n.d(t,"x",function(){return j}),n.d(t,"y",function(){return k}),n.d(t,"z",function(){return L}),n.d(t,"b",function(){return y}),n.d(t,"A",function(){return M}),n.d(t,"B",function(){return D});var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/moment/moment.js"),s=n.n(i),o=n("./node_modules/i18n-calypso/index.js"),a=n.n(o),c=n("./client/lib/products-values/index.js");function u(e){return e.includedDomain}function l(e,t){return e.reduce(function(e,n){var i=Object(r.find)(e,{id:n.siteId});if(i)i.purchases=i.purchases.concat(n);else{var s=Object(r.find)(t,{ID:n.siteId});e=e.concat({id:n.siteId,name:n.siteName,slug:s?s.slug:n.domain,isDomainOnly:!!s&&s.options.is_domain_only,title:n.siteName||n.domain||"",purchases:[n],domain:s?s.domain:n.domain})}return e},[]).sort(function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:-1})}function d(e){return Object(c.q)(e)?e.meta:e.productName}function p(e){return e.expiryMoment.format("LL")}function m(e){return Boolean(e.includedDomain)}function f(e){return e.hasPrivacyProtection}function _(e){return!g(e)&&(!function(e){return e.pendingTransfer}(e)&&(!E(e)&&(!!v(e)||e.canDisableAutoRenew)))}function E(e){return"expired"===e.expiryStatus}function b(e){return Object(r.includes)(["cardExpired","cardExpiring","manualRenew","expiring"],e.expiryStatus)}function g(e){return"included"===e.expiryStatus}function h(e){return"oneTimePurchase"===e.expiryStatus}function O(e){return void 0!==e.payment&&"credits"===e.payment.type}function y(e){return A(e)&&"WPCOM_Billing_Ebanx"!==e.payment.creditCard.processor}function j(e){return!!v(e)||void 0!==e.subscribedDate&&void 0!==e.refundPeriodInDays&&s()().diff(s()(e.subscribedDate),"days")<=e.refundPeriodInDays}function v(e){return e.isRefundable}function S(e){return!g(e)&&(Object(c.B)(e)||b(e)||E(e)||Object(c.r)(e)&&!v(e)&&function(e){return e.isCancelable}(e))}function I(e){return e.isRenewable}function T(e){return e.isRenewal}function C(e){return Object(r.includes)(["active","autoRenewing"],e.expiryStatus)}function R(e){var t=[c.q,h];return!t.some(function(t){return t(e)})}function A(e){return"credit_card"===e.payment.type&&w(e)}function N(e){return"paypal_direct"===e.payment.type&&e.payment.expiryMoment}function w(e){return Boolean(e.payment.creditCard.expiryMoment)}function P(e){return e.canExplicitRenew}function U(e){return A(e)&&w(e)&&e.payment.creditCard.expiryMoment.diff(e.expiryMoment,"months")<0}function D(e){return void 0!==e.subscribedDate&&s()(e.subscribedDate).diff(s()(),"days")>=-7}function k(e){return A(e)?e.payment.creditCard.type:N(e)?"placeholder":e.payment.type||null}function L(e){return Object(c.L)(e)?a.a.translate("Premium Theme"):Object(c.G)(e)?a.a.translate("Site Plan"):Object(c.q)(e)?e.productName:e.meta?e.meta:null}function M(e){return!g(e)&&A(e)&&U(e)&&function(e){return e.payment.creditCard.expiryMoment.diff(s()(),"months")}(e)<3}},"./client/lib/query-manager/post/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={context:"display",http_envelope:!1,pretty:!1,number:20,offset:0,page:1,order:"DESC",order_by:"date",type:"post",status:"publish",sticky:"include",search:""}},"./client/lib/redux-bridge/index.js":function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return u});var r=n("./client/dispatcher/index.js"),i=null;function s(e){i=e}function o(){if(i)return i.getState()}function a(){var e;if(i)return(e=i).dispatch.apply(e,arguments)}var c=new Set;function u(e){c.add(e)}r.a.register(function(e){var t=e.action,n=void 0===t?{}:t;c.has(n.type)&&a(function(e){return Object.assign({},e,{type:"FLUX_"+e.type})}(n))})},"./client/lib/resize-image-url/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/url/url.js"),s=n("./client/lib/safe-image-url/index.js"),o=/^https?:$/,a=Object(r.get)("undefined"!=typeof window&&window,"devicePixelRatio",1)>1?2:1,c=["w","h","resize","fit","s"],u={photon:/(^i\d\.wp\.com|(^|\.)wordpress\.com)$/,gravatar:/(^|\.)gravatar\.com$/},l=function(e){return e*a};function d(e,t,n){if("string"!=typeof e)return e;var a=Object(i.parse)(e,!0,!0);if(!o.test(a.protocol))return e;if(!a.hostname)return e;if(a.query=Object(r.omit)(a.query,c),"number"==typeof t){var p=Object(r.findKey)(u,String.prototype.match.bind(a.hostname));if("gravatar"===p)t={s:t};else if(t=n>0?{fit:[t,n].join()}:{w:t},!p)return d(Object(s.a)(e),t)}return Object(r.assign)(a.query,Object(r.mapValues)(t,function(e,t){return"resize"===t||"fit"===t?e.split(",").map(l).join(","):Object(r.includes)(c,t)?l(e):e})),delete a.search,Object(i.format)(a)}},"./client/lib/restore-last-path/index.js":function(e,t,n){"use strict";n.d(t,"b",function(){return _}),n.d(t,"a",function(){return b});var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./node_modules/page/page.js"),o=n.n(s),a=n("./node_modules/store/store.js"),c=n.n(a),u=n("./client/lib/url/index.js"),l=i()("calypso:restore-last-path"),d="last_path",p=/^\/(stats|plans|view|posts|pages|media|types|themes|sharing|people|plugins|domains)/i;function m(){return c.a.get(d)}function f(e){if("string"!=typeof e||!e.length)throw"path is empty";if(!function(e){return!!e.match(p)}(e))throw"path is not whitelisted: "+e;if(Object(u.g)(e))throw'path is "outside" Calypso: '+e}function _(e){return new Promise(function(t,n){if(!e||"/"===e)return c.a.remove(d),t("emptied saved path");try{f(e)}catch(e){return n(e)}var r=m();if(r===e)return n("path is identical");c.a.set(d,e),t("saved path: "+e)})}var E=!0;function b(e){if(!E)return!1;E=!1;var t=function(){var e=m();try{return f(e),e}catch(e){l(e)}}();return!("/"!==e||!t)&&(o()(t),!0)}},"./client/lib/route/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"h",function(){return f});var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),i=n.n(r),s=n("./node_modules/page/page.js"),o=n.n(s),a=n("./node_modules/url/url.js"),c=n.n(a),u=n("./node_modules/lodash/lodash.js"),l=n("./client/lib/route/path.js");n.d(t,"b",function(){return l.a}),n.d(t,"c",function(){return l.b}),n.d(t,"d",function(){return l.c}),n.d(t,"e",function(){return l.d}),n.d(t,"f",function(){return l.e}),n.d(t,"g",function(){return l.f}),n.d(t,"i",function(){return l.g});var d=function(e,t){if("object"!==i()(e))throw new Error("addQueryArgs expects the first argument to be an object.");if("string"!=typeof t)throw new Error("addQueryArgs expects the second argument to be a string.");e=Object(u.pickBy)(e,function(e){return null!=e});var n=c.a.parse(t,!0),r=n.query||{};r=Object.assign(r,e);var s=Object.assign(n,{query:r,search:!1});return c.a.format(s)},p=function(e){return e.replace(/(\/)?$/,"/")},m=function(e){return"/"===e?e:e.replace(/\/$/,"")},f=function(e,t){var n,r,i=m(e.pathname);i!==e.pathname?o.a.redirect((n=i,r=e.querystring,n+(r?"?"+r:""))):t()}},"./client/lib/route/legacy-routes.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./client/config/index.js"),i=function(e){return function(){return!r.a.isEnabled(e)}},s=[{match:/.php$/},{match:/^\/?$/,predicate:i("reader")},{match:/^\/manage/},{match:/^\/plans/},{match:/^\/me/,noMatch:/^\/me\/(billing|next)/,predicate:i("me/my-profile")}];function o(e){return s.some(function(t){var n=t.match,r=t.noMatch,i=void 0===r?{test:function(){return!1}}:r,s=t.predicate,o=void 0===s?function(){return!0}:s;return o(e)&&n.test(e)&&!i.test(e)})}},"./client/lib/route/path.js":function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"b",function(){return p});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/route/index.js"),s={day:"/stats/day/",week:"/stats/week/",month:"/stats/month/",year:"/stats/year/",insights:"/stats/insights/",googleMyBusiness:"/google-my-business/stats/"};function o(e){var t=e.split("?")[0],n=t.split("/");if(0===t.indexOf("/checkout/thank-you/no-site/"))return!1;if(0===t.indexOf("/me/purchases/")||0===t.indexOf("/checkout/thank-you/")){var r=n[3];if(r&&-1!==r.indexOf("."))return r;var i=parseInt(r,10);if(Number.isSafeInteger(i))return i}for(var s=2;s>0;s--){var o=n[n.length-s];if(o&&-1!==o.indexOf("."))return o}for(var a=2;a>0;a--){var c=parseInt(n[n.length-a],10);if(Number.isSafeInteger(c))return c}return!1}function a(e,t){var n=c(e).split("/");if(Object(r.includes)(["post","page","edit"],n[1])){var i="edit"===n[1]?3:2;n.splice(i,0,t)}else n.push(t);return n.join("/")}function c(e,t){var n=e.split("?")[0];return t||(t=o(n)),t&&(n=Object(i.j)(n).replace("/"+t+"/","/")),Object(i.k)(n)}function u(e){return e?"/stats/day/"+e:Object(i.k)("/stats/day/")}function l(e,t){if(!e)return u(t);if("insights"===e&&!t)return u();var n=s[e];return n?t?Object(i.k)(n+t):Object(i.k)(n):u(t)}function d(e){switch(e){case"drafts":return"draft,pending";case"scheduled":return"future";case"trashed":return"trash";default:return"publish,private"}}function p(e){window.location=e}},"./client/lib/safe-image-url/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r,i=n("./node_modules/@babel/runtime/helpers/typeof.js"),s=n.n(i),o=n("./node_modules/photon/index.js"),a=n.n(o),c=n("./node_modules/url/url.js"),u=n("./node_modules/lodash/lodash.js");r="object"===("undefined"==typeof location?"undefined":s()(location))?new RegExp("^(/(?!/)|data:image/[^;]+;|blob:"+location.origin+"/)"):/^(\/(?!\/)|data:image\/[^;]+;)/;var l=/^([-a-zA-Z0-9_]+\.)*(gravatar\.com|wordpress\.com|wp\.com|a8c\.com)$/;function d(e){if("string"!=typeof e)return null;if(r.test(e))return e;var t=Object(c.parse)(e,!1,!0),n=t.hostname,i=t.path,s=t.query;return l.test(n)?e.replace(/^http:/,"https:"):s&&s.length>0?null:Object(u.endsWith)(i,".svg")?null:a()(e)}},"./client/lib/scroll-to/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=new Map;var c=function(){function e(t){var n=this;i()(this,e),this.finish=function(){n.updater(n.end.x,n.end.y),n.onComplete&&n.onComplete(),a.delete(n.container)},this.step=function(e){if(n.nextFrame=null,!n.startTime)return n.startTime=e,void n.animate();if(e-n.startTime>=n.duration)n.finish();else{var t=(e-n.startTime)/n.duration,r=n.easing(t),i=Math.round(n.start.x+(n.end.x-n.start.x)*r),s=Math.round(n.start.y+(n.end.y-n.start.y)*r);i===n.x&&s===n.y||(n.x=i,n.y=s,n.updater(i,s)),n.animate()}},this.x=t.x,this.y=t.y,this.startTime=null,this.duration=t.duration,this.start=t.start,this.end=t.end,this.onStart=t.onStart,this.onComplete=t.onComplete,this.updater=t.updater,this.easing=t.easing,this.container=t.container}return o()(e,[{key:"animate",value:function(){this.nextFrame=requestAnimationFrame(this.step)}},{key:"cancel",value:function(){this.nextFrame&&(cancelAnimationFrame(this.nextFrame),this.nextFrame=null),this.finishTimeout&&(clearTimeout(this.finishTimeout),this.finishTimeout=null)}},{key:"jumpTo",value:function(e,t){this.cancel(),this.end={x:e,y:t},this.updater(e,t),this.finishTimeout=setTimeout(this.finish,this.duration)}}]),e}();function u(e){var t=e-1;return Math.sqrt(1-t*t)}function l(e){var t=e.container||window;if(!a.has(t)){var n=function(e){if(e&&void 0!==e.scrollTop)return{x:e.scrollLeft,y:e.scrollTop};var t=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;return{x:t,y:n}}(t),r=new c({start:n,end:{x:e.x,y:e.y},container:t,easing:e.easing||u,duration:e.duration||500,updater:function(e){return e=e&&void 0!==e.scrollTop?e:window,function(t,n){e===window?e.scrollTo(t,n):(e.scrollTop=n,e.scrollLeft=t)}}(t),x:n.x,y:n.y,onStart:e.onStart,onComplete:e.onComplete});return a.set(t,r),r.animate(),e.onStart&&e.onStart(),r}var i=a.get(t);i.jumpTo(e.x,e.y)}},"./client/lib/shortcode/index.js":function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return p});var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=/(\w+)\s*=\s*"([^"]*)"(?:\s|$)|(\w+)\s*=\s*\'([^\']*)\'(?:\s|$)|(\w+)\s*=\s*([^\s\'"]+)(?:\s|$)|"([^"]*)"(?:\s|$)|(\S+)(?:\s|$)/g,a=/\[(\[?)([^\[\]\/\s\u00a0\u200b]+)(?![\w-])([^\]\/]*(?:\/(?!\])[^\]\/]*)*?)(?:(\/)\]|\](?:([^\[]*(?:\[(?!\/\2\])[^\[]*)*)(\[\/\2\]))?)(\]?)/,c=Object(s.memoize)(function(e){var t,n={},r=[];for(e=e.replace(/[\u00a0\u200b]/g," ");t=o.exec(e);)t[1]?n[t[1].toLowerCase()]=t[2]:t[3]?n[t[3].toLowerCase()]=t[4]:t[5]?n[t[5].toLowerCase()]=t[6]:t[7]?r.push(t[7]):t[8]&&r.push(t[8]);return{named:n,numeric:r}}),u=function(e){var t="["+e.tag,n=function(e){var t,n;if("string"==typeof e)return c(e);if(Array.isArray(e))n=e;else{if("object"===i()(e)&&Object(s.isEqual)(Object.keys(e),["named","numeric"]))return e;"object"===i()(e)&&(t=e)}return{named:t||{},numeric:n||[]}}(e.attrs);return Object.keys(n.named).forEach(function(e){var r=n.named[e];t+=" "+e+'="'+r+'"'}),n.numeric.forEach(function(e){/\s/.test(e)?t+=' "'+e+'"':t+=" "+e}),"single"===e.type?t+"]":"self-closing"===e.type?t+" /]":(t+="]",e.content&&(t+=e.content),t+"[/"+e.tag+"]")},l=function(e){var t,n=e.match(a);if(!n)return null;t=n[4]?"self-closing":n[6]?"closed":"single";var r={tag:n[2],type:t};return/\S/.test(n[3])&&(r.attrs=c(n[3])),n[5]&&(r.content=n[5]),r},d=Object(s.memoize)(function(e){return new RegExp("\\[(\\[?)("+e+")(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)(\\[\\/\\2\\]))?)(\\]?)","g")}),p=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=d(t);i.lastIndex=r||0;var s=i.exec(n);if(s){if("["===s[1]&&"]"===s[7])return e(t,n,i.lastIndex);var o={index:s.index,content:s[0],shortcode:l(s[0])};return s[1]&&(o.content=o.content.slice(1),o.index++),s[7]&&(o.content=o.content.slice(0,-1)),o}}},"./client/lib/site/utils.js":function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return m});var r=n("./node_modules/i18n-calypso/index.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/url/index.js");function a(e,t){return t&&t.capabilities&&t.capabilities[e]}function c(e){return e&&e.options?e.options.timezone:null}function u(e){return e&&e.options?e.options.gmt_offset:null}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"modifyFiles";if(e&&e.options&&e.options.file_mod_disabled)return e.options.file_mod_disabled.map(function(e){if("modifyFiles"===t||"autoupdateFiles"===t||"autoupdateCore"===t){if("has_no_file_system_write_access"===e)return i.a.translate("The file permissions on this host prevent editing files.");if("disallow_file_mods"===e)return i.a.translate("File modifications are explicitly disabled by a site administrator.")}return"autoupdateFiles"!==t&&"autoupdateCore"!==t||"automatic_updater_disabled"!==e?"autoupdateCore"===t&&"wp_auto_update_core_disabled"===e?i.a.translate("Core autoupdates are explicitly disabled by a site administrator."):null:i.a.translate("Any autoupdates are explicitly disabled by a site administrator.")}).filter(function(e){return e})}function d(e){if(!e)return!1;if(e.options&&e.options.is_multi_network)return!1;if(!1===e.is_multisite)return!0;if(e.is_multisite){var t=Object(s.get)(e.options,"unmapped_url",null),n=Object(s.get)(e.options,"main_network_site",null);return!(!t||!n)&&!(Object(o.m)(t)!==Object(o.m)(n))}return!1}function p(e){return e&&e.domain&&e.wpcom_url?e.domain!==e.wpcom_url:null}function m(e,t){return e.options.active_modules&&e.options.active_modules.indexOf(t)>-1}},"./client/lib/store/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./client/dispatcher/index.js"),i=n("./client/lib/mixins/emitter/index.js"),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=t,o={};return Object(i.a)(o),o.get=function(){return s},o.dispatchToken=r.a.register(function(t){r.a.waitFor(n);var i=e(s,t);i!==s&&(s=i,o.emitChange())}),o}},"./client/lib/touch-detect/index.js":function(e,t,n){"use strict";
/**
 * This test is for touch events.
 * It may not accurately detect a touch screen, but may be close enough depending on the use case.
 *
 * @copyright Modernizr  2009-2015.
 * @license See CREDITS.md.
 * @see https://github.com/Modernizr/Modernizr/blob/master/feature-detects/touchevents.js
 *
 * @returns {Boolean} whether touch screen is available
 */
function r(){return window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}n.d(t,"a",function(){return r})},"./client/lib/tree-select/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});n("./node_modules/lodash/lodash.js");var r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join()};function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i=new WeakMap,s=n.getCacheKey,a=void 0===s?r:s,c=function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),c=1;c<r;c++)s[c-1]=arguments[c];var u=e.apply(void 0,[n].concat(s));var l=u.reduce(o,i),d=a.apply(void 0,s);if(l.has(d))return l.get(d);var p=t.apply(void 0,[u].concat(s));return l.set(d,p),p};return c.clearCache=function(){i=new WeakMap},c}var s={};function o(e,t,n,r){var i=t||s,o=e.get(i);if(o)return o;var a=n===r.length-1?new Map:new WeakMap;return e.set(i,a),a}},"./client/lib/upgrades/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={CART_COUPON_APPLY:"CART_COUPON_APPLY",CART_COUPON_REMOVE:"CART_COUPON_REMOVE",CART_DISABLE:"CART_DISABLE",CART_ITEMS_ADD:"CART_ITEMS_ADD",CART_ITEM_REMOVE:"CART_ITEM_REMOVE",CART_ITEM_REPLACE:"CART_ITEM_REPLACE",CART_POPUP_CLOSE:"CART_POPUP_CLOSE",CART_POPUP_OPEN:"CART_POPUP_OPEN",CART_PRIVACY_PROTECTION_ADD:"CART_PRIVACY_PROTECTION_ADD",CART_PRIVACY_PROTECTION_REMOVE:"CART_PRIVACY_PROTECTION_REMOVE",CART_ON_MOBILE_SHOW:"CART_ON_MOBILE_SHOW",DNS_ADD:"DNS_ADD",DNS_ADD_COMPLETED:"DNS_ADD_COMPLETED",DNS_ADD_FAILED:"DNS_ADD_FAILED",DNS_APPLY_TEMPLATE_COMPLETED:"DNS_APPLY_TEMPLATE_COMPLETED",DNS_DELETE:"DNS_DELETE",DNS_DELETE_COMPLETED:"DNS_DELETE_COMPLETED",DNS_DELETE_FAILED:"DNS_DELETE_FAILED",DNS_FETCH:"DNS_FETCH",DNS_FETCH_COMPLETED:"DNS_FETCH_COMPLETED",DNS_FETCH_FAILED:"DNS_FETCH_FAILED",DOMAINS_FETCH:"DOMAINS_FETCH",DOMAINS_FETCH_COMPLETED:"DOMAINS_FETCH_COMPLETED",DOMAINS_FETCH_FAILED:"DOMAINS_FETCH_FAILED",DOMAINS_INITIALIZE:"DOMAINS_INITIALIZE",DOMAIN_TRANSFER_CANCEL_REQUEST_COMPLETED:"DOMAIN_TRANSFER_CANCEL_REQUEST_COMPLETED",DOMAIN_TRANSFER_ACCEPT_COMPLETED:"DOMAIN_TRANSFER_ACCEPT_COMPLETED",DOMAIN_TRANSFER_CODE_REQUEST_COMPLETED:"DOMAIN_TRANSFER_CODE_REQUEST_COMPLETED",DOMAIN_TRANSFER_DECLINE_COMPLETED:"DOMAIN_TRANSFER_DECLINE_COMPLETED",EMAIL_FORWARDING_ADD_COMPLETED:"EMAIL_FORWARDING_ADD_COMPLETED",EMAIL_FORWARDING_DELETE_COMPLETED:"EMAIL_FORWARDING_DELETE_COMPLETED",EMAIL_FORWARDING_FETCH:"EMAIL_FORWARDING_FETCH",EMAIL_FORWARDING_FETCH_COMPLETED:"EMAIL_FORWARDING_FETCH_COMPLETED",EMAIL_FORWARDING_FETCH_FAILED:"EMAIL_FORWARDING_FETCH_FAILED",ICANN_VERIFICATION_RESEND_COMPLETED:"ICANN_VERIFICATION_RESEND_COMPLETED",GOOGLE_APPS_REGISTRATION_DATA_ADD:"GOOGLE_APPS_REGISTRATION_DATA_ADD",NAMESERVERS_FETCH:"NAMESERVERS_FETCH",NAMESERVERS_FETCH_COMPLETED:"NAMESERVERS_FETCH_COMPLETED",NAMESERVERS_FETCH_FAILED:"NAMESERVERS_FETCH_FAILED",NAMESERVERS_UPDATE_COMPLETED:"NAMESERVERS_UPDATE_COMPLETED",PRIMARY_DOMAIN_SET:"PRIMARY_DOMAIN_SET",PRIMARY_DOMAIN_SET_COMPLETED:"PRIMARY_DOMAIN_SET_COMPLETED",PRIMARY_DOMAIN_SET_FAILED:"PRIMARY_DOMAIN_SET_FAILED",PRIVACY_PROTECTION_CANCEL:"PRIVACY_PROTECTION_CANCEL",PRIVACY_PROTECTION_CANCEL_COMPLETED:"PRIVACY_PROTECTION_CANCEL_COMPLETED",PRIVACY_PROTECTION_CANCEL_FAILED:"PRIVACY_PROTECTION_CANCEL_FAILED",PRIVACY_PROTECTION_ENABLE_COMPLETED:"PRIVACY_PROTECTION_ENABLE_COMPLETED",PURCHASES_REMOVE:"PURCHASES_REMOVE",PURCHASES_SITE_FETCH:"PURCHASES_SITE_FETCH",PURCHASES_SITE_FETCH_COMPLETED:"PURCHASES_SITE_FETCH_COMPLETED",PURCHASES_SITE_FETCH_FAILED:"PURCHASES_SITE_FETCH_FAILED",PURCHASES_USER_FETCH:"PURCHASES_USER_FETCH",PURCHASES_USER_FETCH_COMPLETED:"PURCHASES_USER_FETCH_COMPLETED",PURCHASES_USER_FETCH_FAILED:"PURCHASES_USER_FETCH_FAILED",PURCHASE_REMOVE:"PURCHASE_REMOVE",PURCHASE_REMOVE_COMPLETED:"PURCHASE_REMOVE_COMPLETED",PURCHASE_REMOVE_FAILED:"PURCHASE_REMOVE_FAILED",SITE_REDIRECT_FETCH:"SITE_REDIRECT_FETCH",SITE_REDIRECT_FETCH_COMPLETED:"SITE_REDIRECT_FETCH_COMPLETED",SITE_REDIRECT_FETCH_FAILED:"SITE_REDIRECT_FETCH_FAILED",SITE_REDIRECT_NOTICE_CLOSE:"SITE_REDIRECT_NOTICE_CLOSE",SITE_REDIRECT_UPDATE:"SITE_REDIRECT_UPDATE",SITE_REDIRECT_UPDATE_COMPLETED:"SITE_REDIRECT_UPDATE_COMPLETED",SITE_REDIRECT_UPDATE_FAILED:"SITE_REDIRECT_UPDATE_FAILED",TRANSACTION_DOMAIN_DETAILS_SET:"TRANSACTION_DOMAIN_DETAILS_SET",TRANSACTION_NEW_CREDIT_CARD_DETAILS_SET:"TRANSACTION_NEW_CREDIT_CARD_DETAILS_SET",TRANSACTION_PAYMENT_SET:"TRANSACTION_PAYMENT_SET",TRANSACTION_RESET:"TRANSACTION_RESET",TRANSACTION_STEP_SET:"TRANSACTION_STEP_SET",WAPI_DOMAIN_INFO_FETCH:"WAPI_DOMAIN_INFO_FETCH",WAPI_DOMAIN_INFO_FETCH_COMPLETED:"WAPI_DOMAIN_INFO_FETCH_COMPLETED",WAPI_DOMAIN_INFO_FETCH_FAILED:"WAPI_DOMAIN_INFO_FETCH_FAILED",WHOIS_FETCH:"WHOIS_FETCH",WHOIS_FETCH_COMPLETED:"WHOIS_FETCH_COMPLETED",WHOIS_FETCH_FAILED:"WHOIS_FETCH_FAILED",WHOIS_UPDATE_COMPLETED:"WHOIS_UPDATE_COMPLETED"}},"./client/lib/url/index.js":function(e,t,n){"use strict";n.d(t,"g",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"m",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"j",function(){return _}),n.d(t,"l",function(){return E}),n.d(t,"k",function(){return b}),n.d(t,"i",function(){return g}),n.d(t,"h",function(){return h}),n.d(t,"d",function(){return O}),n.d(t,"c",function(){return y});var r=n("./node_modules/url/url.js"),i=n("./node_modules/lodash/lodash.js"),s=n("./client/config/index.js"),o=n("./client/lib/route/legacy-routes.js"),a=n("./client/lib/route/index.js");function c(e){return e&&(Object(i.startsWith)(e,"//")||!Object(i.startsWith)(e,"/"))}function u(e){Object(i.startsWith)(e,"http://")||Object(i.startsWith)(e,"https://")||Object(i.startsWith)(e,"//")||(e="//"+e);var t=Object(r.parse)(e,!1,!0),n=t.hostname,a=t.path;return!!n&&("undefined"!=typeof window&&n===window.location.hostname?!(!a||!Object(o.a)(a.replace("//","/"))):n!==Object(s.a)("hostname"))}function l(e){return e&&Object(i.startsWith)(e,"https://")}n.d(t,"a",function(){return a.a});var d=/^\w+:\/\//,p=/^https?:\/\//;function m(e){return""===e?"":e?e.replace(p,""):null}function f(e,t){return!1===d.test(e)?t+"://"+e:e}function _(e,t){var n=t+"://";if(Object(i.startsWith)(e,n))return e;var r=f(e,t);return r!==e?r:e.replace(d,n)}function E(e){return e?m(e).replace(/\//g,"::"):null}function b(e){return m(e).replace(/\/$/,"")}function g(e){if(!e)return!1;var t=Object(r.parse)(e);if(t.protocol||(t=Object(r.parse)("http://"+e)),!t.hostname||-1===t.hostname.indexOf("."))return!1;if(t.hostname.lastIndexOf(".")>t.hostname.length-3)return!1;var n=t.hostname.split(".").filter(Boolean);return!(n.length<2)}function h(e,t){if(!e)return null;var n=Object(r.parse)(e,!0);return n.query=Object(i.omit)(n.query,t),delete n.search,Object(r.format)(n)}function O(e){if(!Object(i.isString)(e)&&!Object(i.has)(e,"toString"))return"";try{return decodeURI(e)}catch(t){return e}}function y(e){if(!Object(i.isString)(e)&&!Object(i.has)(e,"toString"))return"";try{return decodeURIComponent(e)}catch(t){return e}}},"./client/lib/user-settings/index.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/debug/src/browser.js"),s=n.n(i),o=n("./client/lib/formatting/index.js"),a=n("./client/lib/mixins/emitter/index.js"),c=n("./client/lib/user/index.js"),u=n("./client/lib/user/utils.js"),l=n("./client/lib/wp/browser.js"),d=s()("calypso:user:settings"),p=Object(c.default)(),m=l.a.undocumented();function f(e){var t={display_name:e.display_name&&Object(o.b)(e.display_name),description:e.description&&Object(o.b)(e.description),user_URL:e.user_URL&&Object(o.b)(e.user_URL)};return Object(r.assign)({},e,t)}function _(e,t){Object(r.unset)(e,t);var n=t.split(".");if(n.length>1){n.pop();var i=n.join(".");i&&Object(r.isEmpty)(Object(r.get)(e,i))&&_(e,i)}}function E(){if(!(this instanceof E))return new E;this.settings=!1,this.initialized=!1,this.reAuthRequired=!1,this.fetchingSettings=!1,this.unsavedSettings={}}Object(a.a)(E.prototype),E.prototype.hasSettings=function(){return!!this.settings},E.prototype.getSettings=function(){return this.settings||this.fetchSettings(),this.settings},E.prototype.fetchSettings=function(){u.default.isLoggedIn()&&!this.fetchingSettings&&(this.fetchingSettings=!0,d("Fetching user settings"),m.me().settings().get(function(e,t){e||(this.settings=f(t),this.initialized=!0,this.emit("change")),this.fetchingSettings=!1,d("Settings successfully retrieved")}.bind(this)))},E.prototype.saveSettings=function(e,t){var n=t||this.unsavedSettings;if(Object(r.isEmpty)(n))return d("There are no settings to save."),e(null),!1;d("Saving settings: "+JSON.stringify(n)),m.me().settings().update(n,function(n,i){var s=this;n||(this.settings=f(Object(r.merge)(this.settings,i)),t?Object(r.keys)(i).forEach(function(e){return delete s.unsavedSettings[e]}):this.unsavedSettings={},this.emit("change"),p.fetch()),e(n,i)}.bind(this))},E.prototype.cancelPendingEmailChange=function(e){m.me().settings().update({user_email_change_pending:!1},function(t,n){t||(this.settings=Object(r.merge)(this.settings,n),this.emit("change")),e(t,n)}.bind(this))},E.prototype.getOriginalSetting=function(e){return Object(r.get)(this.settings,e,null)},E.prototype.isTwoStepEnabled=function(){return!!this.settings&&this.settings.two_step_enabled},E.prototype.isTwoStepSMSEnabled=function(){return!!this.settings&&this.settings.two_step_sms_enabled},E.prototype.isPendingEmailChange=function(){return!!this.settings&&!!this.settings.new_user_email},E.prototype.getSetting=function(e){var t=null;return Object(r.has)(this.settings,e)&&(t=this.isSettingUnsaved(e)?Object(r.get)(this.unsavedSettings,e):Object(r.get)(this.settings,e)),t},E.prototype.updateSetting=function(e,t){if(Object(r.has)(this.settings,e)){Object(r.set)(this.unsavedSettings,e,t);var n=!1;return Object(r.get)(this.settings,e)===Object(r.get)(this.unsavedSettings,e)&&"user_login"!==e&&"language"!==e&&(n=!0),"language"===e&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&(e===t.language&&Object(r.isEmpty)(t.locale_variant)||e===t.locale_variant)}(t,this.settings)&&(n=!0),n&&(d("Removing "+e+" from changed settings."),_(this.unsavedSettings,e)),this.emit("change"),!0}return d(e+" does not exist in user-settings data module."),!1},E.prototype.isSettingUnsaved=function(e){return Object(r.has)(this.unsavedSettings,e)},E.prototype.removeUnsavedSetting=function(e){this.isSettingUnsaved(e)&&(_(this.unsavedSettings,e),this.emit("change"))},E.prototype.hasUnsavedSettings=function(){return!Object(r.isEmpty)(this.unsavedSettings)},t.a=new E},"./client/lib/user/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./client/dispatcher/index.js"),i=n("./client/lib/invites/constants.js"),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/typeof.js"),l=n.n(u),d=n("./node_modules/lodash/lodash.js"),p=n("./node_modules/store/store.js"),m=n.n(p),f=n("./node_modules/debug/src/browser.js"),_=n.n(f),E=n("./client/config/index.js"),b=n("./node_modules/qs/lib/index.js"),g=n("./client/lib/user/support-user-interop.js"),h=n("./client/lib/wp/browser.js"),O=n("./client/lib/mixins/emitter/index.js"),y=n("./client/lib/e2e/index.js"),j=n("./client/lib/formatting/index.js"),v=n("./client/lib/i18n-utils/utils.js"),S=n("./client/lib/url/index.js");function I(e){var t,n,r=Object(v.e)(e.language),i=e.primary_blog_url||"";return{primarySiteSlug:(t=i,n=Object(S.m)(t),n.replace(/\//g,"::")),localeSlug:e.language,localeVariant:e.locale_variant,isRTL:!(!r||!r.rtl)}}var T=n("./client/lib/localforage/index.js"),C=n("./client/lib/abtest/utility.js"),R=_()("calypso:user");function A(){if(!(this instanceof A))return new A;this.initialize()}Object(O.a)(A.prototype),A.prototype.initialize=function(){return R("Initializing User"),this.fetching=!1,this.initialized=!1,this.on("change",this.checkVerification.bind(this)),Object(g.isSupportUserSession)()?(this.data=!1,Object(g.boot)(),void this.fetch()):E.a.isEnabled("wpcom-user-bootstrap")?(this.data=window.currentUser||!1,R("Bootstrapping user data:",this.data),this.data&&this.handleFetchSuccess(this.data),void(this.initialized=!0)):(this.data=m.a.get("wpcom_user")||!1,R("User bootstrap disabled, checking localStorage:",this.data),this.data&&(this.initialized=!0,this.emit("change")),void this.fetch())},A.prototype.clearStoreIfChanged=function(e){var t=m.a.get("wpcom_user");t&&t.ID!==e&&(R("Clearing localStorage because user changed"),m.a.clear())},A.prototype.get=function(){return this.data||this.fetch(),this.data},A.prototype.fetch=function(){var e=this;if(!this.fetching){var t=h.a.me();this.fetching=!0,R("Getting user from api"),t.get({meta:"flags",abtests:Object(C.b)({appendDatestamp:!0,asCSV:!0})},function(t,n){if(t)e.handleFetchFailure(t);else{var r,i,s,o=(r=n,i={},s=["display_name","description","user_URL"],["ID","display_name","username","avatar_URL","site_count","visible_site_count","date","has_unseen_notes","newest_note_type","phone_account","email","email_verified","is_valid_google_apps_country","user_ip_country_code","logout_URL","primary_blog","primary_blog_is_jetpack","primary_blog_url","meta","is_new_reader","social_signup_service","abtests"].forEach(function(e){i[e]=r[e]&&Object(d.includes)(s,e)?Object(j.b)(r[e]):r[e]}),Object(d.assign)(i,I(r)));e.handleFetchSuccess(o),R("User successfully retrieved")}})}},A.prototype.handleFetchFailure=function(e){E.a.isEnabled("wpcom-user-bootstrap")||"authorization_required"!==e.error?R("Something went wrong trying to get the user."):(R("The user is not logged in."),this.initialized=!0,this.emit("change"))},A.prototype.handleFetchSuccess=function(e){if(this.fetching=!1,this.clearStoreIfChanged(e.ID),m.a.set("wpcom_user",e),e.abtests)if(E.a.isEnabled("dev/test-helper")||Object(y.a)()){var t=m.a.get(C.a),n="object"===l()(t)?t:void 0;m.a.set(C.a,c()({},e.abtests,n))}else m.a.set(C.a,e.abtests);this.data=e,this.settings&&(R("Retaining fetched settings data in new user data"),this.data.settings=this.settings),this.initialized=!0,this.emit("change")},A.prototype.getLanguage=function(){return Object(v.e)(this.data.localeSlug)},A.prototype.getAvatarUrl=function(e){var t=this.get().avatar_URL,n="string"==typeof t?t.split("?")[0]:"";return e=e||{},e=Object.assign({},e,{s:80,d:"mm",r:"G"}),n+"?"+Object(b.stringify)(e)},A.prototype.clear=function(e){this.data=[],delete this.settings,m.a.clear(),E.a.isEnabled("persist-redux")?T.a.clear(e):e&&e()},A.prototype.sendVerificationEmail=function(e){return h.a.undocumented().me().sendVerificationEmail(e)},A.prototype.set=function(e){var t=!1,n=!0,r=!1,i=void 0;try{for(var s,a=Object(d.entries)(e)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var c=o()(s.value,2),u=c[0],l=c[1];Object(d.isEqual)(l,this.data[u])||(this.data[u]=l,t=!0)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t&&(Object.assign(this.data,I(this.data)),m.a.set("wpcom_user",this.data),this.emit("change")),t},A.prototype.decrementSiteCount=function(){var e=this.get();e&&this.set({visible_site_count:e.visible_site_count-1,site_count:e.site_count-1}),this.fetch()},A.prototype.incrementSiteCount=function(){var e=this.get();if(e)return this.set({visible_site_count:e.visible_site_count+1,site_count:e.site_count+1});this.fetch()},A.prototype.verificationPollerCallback=function(e){var t=this;(!document.hidden&&0!==this.listeners("verify").length||e)&&(R("Verification: POLL"),this.once("change",function(){t.get().email_verified&&(clearInterval(t.verificationPoller),t.verificationPoller=null,R("Verification: VERIFIED"),t.emit("verify"))}),this.fetch())},A.prototype.checkVerification=function(){var e=this;this.get()&&(this.get().email_verified||this.verificationPoller||(this.verificationPoller=setInterval(this.verificationPollerCallback.bind(this),15e3),window.addEventListener("storage",function(t){"__email_verified_signal__"===t.key&&t.newValue&&(R("Verification: RECEIVED SIGNAL"),window.localStorage.removeItem("__email_verified_signal__"),e.verificationPollerCallback(!0))})))},A.prototype.signalVerification=function(){window.localStorage&&(window.localStorage.setItem("__email_verified_signal__",1),R("Verification: SENT SIGNAL"))};var N=A,w=!1;t.default=function(){return w||(w=new N),w};N.dispatchToken=r.a.register(function(e){var t=e.action;switch(t.type){case i.a.INVITE_ACCEPTED:-1===["follower","viewer"].indexOf(t.invite.role)&&w.incrementSiteCount()}})},"./client/lib/user/support-user-interop.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/wp/browser.js"),a=n("./client/config/index.js"),c=n("./client/lib/localforage/index.js");var u=i()("calypso:support-user"),l=function(e){if(window&&window.localStorage&&window.Storage&&window.Storage.prototype){u("Bypassing localStorage");var t={},n=window.Storage.prototype.setItem.bind(window.localStorage),r=window.Storage.prototype.getItem.bind(window.localStorage),i=window.Storage.prototype.removeItem.bind(window.localStorage);Object.defineProperty(window.localStorage,"length",{get:function(e){return function(){return u("Bypassing localStorage","length property"),Object.keys(e).length}}(t)}),Object.assign(window.localStorage,{setItem:function(e,t,n){return function(r,i){t.indexOf(r)>-1?n(r,i):(u("Bypassing localStorage","setItem",r),e[r]=i)}}(t,e,n),getItem:function(e,t,n){return function(r){return t.indexOf(r)>-1?n(r):(u("Bypassing localStorage","getItem",r),e[r]||null)}}(t,e,r),removeItem:function(e,t,n){return function(r){t.indexOf(r)>-1?n(r):(u("Bypassing localStorage","removeItem",r),delete e[r])}}(t,e,i),key:function(e){return function(t){return u("Bypassing localStorage","key"),t>=Object.keys(e).length?null:Object.keys(e)[t]}}(t),clear:function(e){return function(){for(var t in u("Bypassing localStorage","clear"),e)delete e[t]}}(t)})}};n.d(t,"isEnabled",function(){return f}),n.d(t,"setReduxStore",function(){return b}),n.d(t,"isSupportUserSession",function(){return O}),n.d(t,"rebootNormally",function(){return y}),n.d(t,"boot",function(){return v});var d,p=i()("calypso:support-user"),m="boot_support_user",f=function(){return a.a.isEnabled("support-user")},_=s.noop,E=new Promise(function(e){f()&&(_=function(t){return e(t)})}),b=_,g=function(){try{return JSON.parse(window.sessionStorage.getItem(m))}catch(e){return{}}},h=function(){if(!f())return!1;var e=g();return e&&e.user&&e.token}(),O=function(){return h},y=function(){f()&&(p("Rebooting Calypso normally"),window.sessionStorage.removeItem(m),window.removeEventListener("beforeunload",d),window.location.search="")},j=function(e){p("Deactivating support user and rebooting due to token error",e.message),y()},v=function(){if(f()){var e=g(),t=e.user,n=e.token;p("Booting Calypso with support user",t),window.sessionStorage.removeItem(m),d=function(e,t){return function(){f()&&e&&t&&window.sessionStorage.setItem(m,JSON.stringify({user:e,token:t}))}}(t,n),window.addEventListener("beforeunload",d),c.a.bypass();var r=[m,"debug"];l(r),o.a.setSupportUserToken(t,n,j),E.then(function(e){e.dispatch({type:"SUPPORT_USER_ACTIVATE"})})}}},"./client/lib/user/utils.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./client/config/index.js"),o=n("./client/lib/user/index.js"),a=Object(o.default)(),c=i()("calypso:user:utilities"),u={getLogoutUrl:function(e){var t=a.get(),n="/logout",r="";return!t.logout_URL||s.a.isEnabled("always_use_logout_url")?(t.localeSlug&&""!==t.localeSlug&&"en"!==t.localeSlug&&(r=t.localeSlug+"."),n=Object(s.a)("logout_url").replace("|subdomain|",r)):n=t.logout_URL,"string"==typeof e&&(e="&redirect_to="+encodeURIComponent(e),n+=e),c("Logout Url: "+n),n},logout:function(e){var t=u.getLogoutUrl(e);a.clear(function(){return location.href=t})},getLocaleSlug:function(){return a.get().localeSlug},isLoggedIn:function(){return Boolean(a.data)}};t.default=u},"./client/lib/version-compare/index.js":function(e,t,n){"use strict";t.a=function(e,t,n){var r,i=0,s=0,o={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},a=function(e){return e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},c=function(e){return e?isNaN(e)?o[e]||-7:parseInt(e,10):0};for(e=a(e),t=a(t),r=Math.max(e.length,t.length),i=0;i<r;i++)if(e[i]!=t[i]){if(e[i]=c(e[i]),t[i]=c(t[i]),e[i]<t[i]){s=-1;break}if(e[i]>t[i]){s=1;break}}if(!n)return s;switch(n){case">":case"gt":return s>0;case">=":case"ge":return s>=0;case"<=":case"le":return s<=0;case"==":case"=":case"eq":return 0===s;case"<>":case"!=":case"ne":return 0!==s;case"":case"<":case"lt":return s<0;default:return null}}},"./client/lib/viewport/index.js":function(e,t,n){"use strict";function r(e){var t=o(),n={"<480px":function(){return t<=480},"<660px":function(){return t<=660},"<800px":function(){return t<=800},"<960px":function(){return t<=960},"<1040px":function(){return t<=1040},"<1280px":function(){return t<=1280},"<1400px":function(){return t<=1400},">480px":function(){return t>480},">660px":function(){return t>660},">800px":function(){return t>800},">960px":function(){return t>960},">1040px":function(){return t>1040},">1280px":function(){return t>1280},">1400px":function(){return t>1400},"480px-660px":function(){return t>480&&t<=660},"660px-960px":function(){return t>660&&t<=960},"480px-960px":function(){return t>480&&t<=960}};if(n.hasOwnProperty(e))return n[e]();try{console.warn("Undefined breakpoint used in `mobile-first-breakpoint`",e)}catch(e){}}function i(){return r("<480px")}function s(){return r(">960px")}function o(){return"undefined"!=typeof window?window.innerWidth:769}n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return o})},"./client/lib/warn/index.js":function(e,t,n){"use strict";var r;r=function(){},t.a=r},"./client/lib/wp/browser.js":function(e,t,n){"use strict";var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./node_modules/wpcom/build/index.js"),o=n.n(s),a=n("./node_modules/inherits/inherits_browser.js"),c=n.n(a),u=n("./node_modules/lodash/lodash.js"),l=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),d=n.n(l),p=i()("calypso:wpcom-undocumented:site");function m(e,t){if(p("UndocumentedSite",e),!(this instanceof m))return new m(e,t);this.wpcom=t,this._id=e}[["statsEvents","posts/"],["statsInsights","stats/insights","1.1"],["statsPodcastDownloads","stats/podcast-downloads","1.1"],["sshCredentialsNew","ssh-credentials/new","1.1","post"],["sshCredentialsMine","ssh-credentials/mine","1.1"],["sshCredentialsMineDelete","ssh-credentials/mine/delete","1.1","post"],["sshScanToggle","ssh-credentials/mine","1.1","post"],["getOption","option/"]].forEach(function(e){var t=e[0],n={subpath:e[1],apiVersion:e[2]||"1",method:e[3]||"get"};m.prototype[t]=function(e){return function(t,n){var r,i=e.subpath;return i=i.replace(/\/:([^\/]+)/g,function(e,n){var r;return void 0!==t[n]?(r=t[n],delete t[n],"/"+r):"/"}),t.apiVersion=e.apiVersion,r="/sites/"+this._id+"/"+i,p("calling undocumented site api path",r),p("query",t),p("resourceOptions",e),"post"===e.method?this.wpcom.req.post(r,{},t,n):this.wpcom.req[e.method](r,t,n)}}.call(this,n)}),m.prototype.domains=function(){return this.wpcom.req.get("/sites/"+this._id+"/domains",{apiVersion:"1.2"})},m.prototype.postFormatsList=function(e){return this.wpcom.req.get("/sites/"+this._id+"/post-formats",{},e)},m.prototype.postAutosave=function(e,t,n){return this.wpcom.req.post({path:"/sites/"+this._id+"/posts/"+e+"/autosave",body:t},n)},m.prototype.embeds=function(e,t){var n="/sites/"+this._id+"/embeds";return e&&e.embed_url&&(n+="/render"),this.wpcom.req.get(n,e,t)},m.prototype.embedReversal=function(e,t){return this.wpcom.req.post("/sites/"+this._id+"/embeds/reversal",{maybe_embed:e},t)},m.prototype.shortcodes=function(e,t){return this.wpcom.req.get("/sites/"+this._id+"/shortcodes/render",e,t)},m.prototype.getRoles=function(e){return this.wpcom.req.get("/sites/"+this._id+"/roles",{},e)},m.prototype.getViewers=function(e,t){return this.wpcom.req.get("/sites/"+this._id+"/viewers",e,t)},m.prototype.removeViewer=function(e,t){return this.wpcom.req.post({path:"/sites/"+this._id+"/viewers/"+e+"/delete"},t)},m.prototype.deleteUser=function(e,t,n){return this.wpcom.req.post({path:"/sites/"+this._id+"/users/"+e+"/delete",body:t},n)},m.prototype.updateUser=function(e,t,n){return this.wpcom.req.post({path:"/sites/"+this._id+"/users/"+e,body:t},n)},m.prototype.getUser=function(e,t){return this.wpcom.req.get("/sites/"+this._id+"/users/login:"+e,t)},m.prototype.removeFollower=function(e,t){return this.wpcom.req.post({path:"/sites/"+this._id+"/followers/"+e+"/delete"},t)},m.prototype.fetchFollowers=function(e,t){return this.wpcom.req.get("/sites/"+this._id+"/followers/",e,t)},m.prototype.removeEmailFollower=function(e,t){return this.wpcom.req.post({path:"/sites/"+this._id+"/email-followers/"+e+"/delete"},t)},m.prototype.setOption=function(e,t){return this.wpcom.req.post("/sites/"+this._id+"/option",{option_name:e.option_name,is_array:e.is_array,site_option:e.site_option},{option_value:e.option_value},t)},m.prototype.postCounts=function(e,t){var n=Object.assign({type:"post",apiNamespace:"wpcom/v2"},e),r=n.type;return delete n.type,this.wpcom.req.get("/sites/"+this._id+"/post-counts/"+r,n,t)},m.prototype.mediaStorage=function(e){return this.wpcom.req.get("/sites/"+this._id+"/media-storage",e)},m.prototype.getGuidedTransferStatus=function(){return p("/sites/:site:/transfer"),this.wpcom.req.get("/sites/"+this._id+"/transfer",{apiNamespace:"wpcom/v2"})},m.prototype.saveGuidedTransferHostDetails=function(e){return p("/sites/:site:/transfer"),this.wpcom.req.post({path:"/sites/"+this._id+"/transfer",body:e,apiNamespace:"wpcom/v2"})},m.prototype.getConnection=function(e){return p("/sites/:site_id:/publicize-connections/:connection_id: query"),this.wpcom.req.get({path:"/sites/"+this._id+"/publicize-connections/"+e,apiVersion:"1.1"})},m.prototype.uploadExternalMedia=function(e,t){return p("/sites/:site_id:/external-media-upload query"),this.wpcom.req.post({path:"/sites/"+this._id+"/external-media-upload"},{external_ids:t,service:e})},m.prototype.runThemeSetup=function(){return this.wpcom.req.post({path:"/sites/"+this._id+"/theme-setup",apiNamespace:"wpcom/v2"})},m.prototype.statsOrders=function(e){return this.wpcom.req.get({path:"/sites/"+this._id+"/stats/orders",apiNamespace:"wpcom/v2"},e)},m.prototype.statsStoreReferrers=function(e){return this.wpcom.req.get({path:"/sites/"+this._id+"/stats/events-by-referrer",apiNamespace:"wpcom/v2"},e)},m.prototype.statsTopSellers=function(e){return this.wpcom.req.get({path:"/sites/"+this._id+"/stats/top-sellers",apiNamespace:"wpcom/v2"},e)},m.prototype.statsTopEarners=function(e){return this.wpcom.req.get({path:"/sites/"+this._id+"/stats/top-earners",apiNamespace:"wpcom/v2"},e)},m.prototype.statsTopCategories=function(e){return this.wpcom.req.get({path:"/sites/"+this._id+"/stats/top-product-categories-by-usage",apiNamespace:"wpcom/v2"},e)},m.prototype.statsTopCoupons=function(e){return this.wpcom.req.get({path:"/sites/"+this._id+"/stats/top-coupons-by-usage",apiNamespace:"wpcom/v2"},e)},m.prototype.deleteInvites=function(e){return this.wpcom.req.post({path:"/sites/"+this._id+"/invites/delete",apiNamespace:"wpcom/v2"},{invite_ids:e})};var f=m,_=i()("calypso:wpcom-undocumented:me");function E(e){if(!(this instanceof E))return new E(this.wpcom);this.wpcom=e}E.prototype.get=function(e,t){return _("get preferences",e),this.wpcom.req.get("/me/preferences",e,t)},E.prototype.update=function(e,t,n){return _("update preferences",e),this.wpcom.req.put("/me/preferences",e,t,n)};var b=E,g=n("./client/config/index.js"),h=i()("calypso:wpcom-undocumented:me");function O(e){if(h("UndocumentedMe"),!(this instanceof O))return new O(e);this.wpcom=e}c()(O,s.Me),O.prototype.billingHistoryEmailReceipt=function(e,t){var n={path:"/me/billing-history/receipt/"+e+"/email"};return this.wpcom.req.get(n,t)},O.prototype.getReceipt=function(e,t){return this.wpcom.req.get({path:"/me/billing-history/receipt/"+e},t)},O.prototype.purchases=function(e){return this.wpcom.req.get("/me/purchases",e)},O.prototype.validatePassword=function(e,t){var n={apiVersion:"1.1",path:"/me/settings/password/validate",body:{password:e}};return this.wpcom.req.post(n,t)},O.prototype.sendSMSValidationCode=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/two-step/sms/new"},e)},O.prototype.validateTwoStepCode=function(e,t){var n={apiVersion:"1.1",path:"/me/two-step/validate",body:e};return this.wpcom.req.post(n,t)},O.prototype.getTwoStep=function(e){return this.wpcom.req.get({apiVersion:"1.1",path:"/me/two-step/"},e)},O.prototype.getAppAuthCodes=function(e){return this.wpcom.req.get({apiVersion:"1.1",path:"/me/two-step/app-auth-setup/"},e)},O.prototype.validateUsername=function(e,t){var n={apiVersion:"1.1",path:"/me/username/validate/"+e};return this.wpcom.req.get(n,t)},O.prototype.changeUsername=function(e,t,n){var r={apiVersion:"1.1",path:"/me/username",body:{username:e,action:t}};return this.wpcom.req.post(r,n)},O.prototype.storedCardAdd=function(e,t){return h("/me/stored-cards"),this.wpcom.req.post({path:"/me/stored-cards"},{payment_key:e,use_for_existing:!0},t)},O.prototype.storedCardDelete=function(e,t){var n={path:"/me/stored-cards/"+e.stored_details_id+"/delete"};return this.wpcom.req.post(n,t)},O.prototype.backupCodes=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/two-step/backup-codes/new"},e)},O.prototype.dismissSite=function(e,t){var n={path:"/me/dismiss/sites/"+encodeURIComponent(e)+"/new"};return this.wpcom.req.post(n,t)},O.prototype.sendVerificationEmail=function(e){return h("/me/send-verification-email"),this.wpcom.req.post({path:"/me/send-verification-email"},e)},O.prototype.getNotificationSettings=function(e){return h("/me/notification/settings/"),this.wpcom.req.get({apiVersion:"1.1",path:"/me/notifications/settings/"},e)},O.prototype.updateNotificationSettings=function(e,t,n){var r={};return h("/me/notification/settings/"),t&&(r={applyToAll:!0}),this.wpcom.req.post({apiVersion:"1.1",path:"/me/notifications/settings/"},r,e,n)},O.prototype.getAccountRecovery=function(e){return this.wpcom.req.get({apiVersion:"1.1",path:"/me/account-recovery"},e)},O.prototype.updateAccountRecoveryPhone=function(e,t,n){var r={apiVersion:"1.1",path:"/me/account-recovery/phone",body:{country:e,phone_number:t}};return this.wpcom.req.post(r,n)},O.prototype.deleteAccountRecoveryPhone=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/account-recovery/phone/delete"},e)},O.prototype.newValidationAccountRecoveryPhone=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/account-recovery/phone/validation/new"},e)},O.prototype.validateAccountRecoveryPhone=function(e,t){var n={apiVersion:"1.1",path:"/me/account-recovery/phone/validation",body:{code:e}};return this.wpcom.req.post(n,t)},O.prototype.updateAccountRecoveryEmail=function(e,t){var n={apiVersion:"1.1",path:"/me/account-recovery/email",body:{email:e}};return this.wpcom.req.post(n,t)},O.prototype.deleteAccountRecoveryEmail=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/account-recovery/email/delete"},e)},O.prototype.newValidationAccountRecoveryEmail=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/account-recovery/email/validation/new"},e)},O.prototype.deletePurchase=function(e,t){return h("/me/purchases/{purchaseId}/delete"),this.wpcom.req.post({path:"/me/purchases/"+e+"/delete"},t)},O.prototype.socialConnect=function(e,t){var r=e.service,i=e.access_token,s=e.id_token,o=e.redirect_to,a={service:r,access_token:i,id_token:s,redirect_to:o,client_id:Object(g.a)("wpcom_signup_id"),client_secret:Object(g.a)("wpcom_signup_key")},c={path:"/me/social-login/connect",body:a};return n("./node_modules/wpcom-proxy-request/build/index.js").reloadProxy(),this.wpcom.req.post({metaAPI:{accessAllUsersBlogs:!0}}),this.wpcom.req.post(c,t)},O.prototype.socialDisconnect=function(e,t){var n={service:e,client_id:Object(g.a)("wpcom_signup_id"),client_secret:Object(g.a)("wpcom_signup_key")},r={path:"/me/social-login/disconnect",body:n};return this.wpcom.req.post(r,t)},O.prototype.preferences=b;var y=O,j=i()("calypso:wpcom-undocumented:mailing-list");function v(e,t){if(!(this instanceof v))return new v(e,t);this._category=e,this.wpcom=t}function S(e,t,n){var r="/mailing-lists/"+encodeURIComponent(e)+"/subscribers/"+encodeURIComponent(t);return n&&(r+="/"+n),r}function I(e,t){return{hmac:e,context:t}}
/*!
 * Expose `MailingList` module
 */v.prototype.subscribe=function(e,t,n,r){return j("/mailing-lists/:category/subscribers/:emailAddress/new"),"function"==typeof n&&(r=n,n=void 0),this.wpcom.req.post(S(this._category,e,"new"),I(t,n),r)},v.prototype.unsubscribe=function(e,t,n,r){return j("/mailing-lists/:category/subscribers/:emailAddress/delete"),"function"==typeof n&&(r=n,n=void 0),this.wpcom.req.post(S(this._category,e,"delete"),I(t,n),r)};var T=v,C=n("./client/lib/i18n-utils/browser.js"),R=64,A=48,N=20,w=240,P=720;var U=i()("calypso:wpcom-undocumented:undocumented");function D(e){e.client_id=Object(g.a)("wpcom_signup_id"),e.client_secret=Object(g.a)("wpcom_signup_key")}function k(e){if(!(this instanceof k))return new k(e);this.wpcom=e}function L(e,t){return Object.keys(e).reduce(function(n,r){var i=e[r];return Object(u.isPlainObject)(i)&&(i=L(i,t)),n[t(r)]=i,n},{})}function M(e){if(!e.content_width){var t=function(){if("undefined"!=typeof document){var e=document.documentElement.clientWidth;return e>1040?P:e>928?e-(w+R):e>660?e-(w+A):e-N}}();t&&(e.content_width=t)}}k.prototype.site=function(e){return new f(e,this.wpcom)},k.prototype.me=function(){return new y(this.wpcom)},k.prototype.mailingList=function(e){return new T(e,this.wpcom)},k.prototype.getJetpackModules=function(e,t){return this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/module/all/"},t)},k.prototype.jetpackModuleActivate=function(e,t,n){return this.wpcom.req.post({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/module/"+t+"/active/",body:JSON.stringify({active:!0})},n)},k.prototype.jetpackModuleDeactivate=function(e,t,n){return this.wpcom.req.post({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/module/"+t+"/active/",body:JSON.stringify({active:!1})},n)},k.prototype.fetchMonitorSettings=function(e,t){return U("/jetpack-blogs/:site_id: query"),this.wpcom.req.get({path:"/jetpack-blogs/"+e},t)},k.prototype.updateMonitorSettings=function(e,t,n,r){return U("/jetpack-blogs/:site_id: query"),this.wpcom.req.post({path:"/jetpack-blogs/"+e},{},{email_notifications:t,wp_note_notifications:n},r)},k.prototype.disconnectJetpack=function(e,t){return U("/jetpack-blogs/:site_id:/mine/delete query"),this.wpcom.req.post({path:"/jetpack-blogs/"+e+"/mine/delete"},t)},k.prototype.fetchJetpackKeys=function(e,t){return U("/jetpack-blogs/:site_id:/keys query"),this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/keys"},t)},k.prototype.testConnectionJetpack=function(e,t){return U("/jetpack-blogs/:site_id:/test-connection query"),this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/test-connection"},t)},k.prototype.getJetpackConnectionStatus=function(e,t){return this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/connection/"},t)},k.prototype.getJetpackUserConnectionData=function(e,t){return this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/connection/data/"},t)},k.prototype.jetpackLogin=function(e,t,n,r,i){U("/jetpack-blogs/:site_id:/jetpack-login query");var s="/jetpack-blogs/"+e+"/jetpack-login",o={_wp_nonce:t,redirect_uri:n,scope:r,state:i};return this.wpcom.req.get({path:s},o)},k.prototype.jetpackAuthorize=function(e,t,n,r,i,s,o){U("/jetpack-blogs/:site_id:/authorize query");var a="/jetpack-blogs/"+e+"/authorize",c={code:t,state:n,redirect_uri:r,secret:i,jp_version:s,from:o};return this.wpcom.req.post({path:a},c)},k.prototype.jetpackValidateSSONonce=function(e,t,n){U("/jetpack-blogs/:site_id:/sso-validate query");var r="/jetpack-blogs/"+e+"/sso-validate",i={sso_nonce:t};return this.wpcom.req.post({path:r},i,n)},k.prototype.jetpackAuthorizeSSONonce=function(e,t,n){U("/jetpack-blogs/:site_id:/sso-authorize query");var r="/jetpack-blogs/"+e+"/sso-authorize",i={sso_nonce:t};return this.wpcom.req.post({path:r},i,n)},k.prototype.jetpackIsUserConnected=function(e){U("/sites/:site_id:/jetpack-connect/is-user-connected query");var t="/sites/"+e+"/jetpack-connect/is-user-connected";return this.wpcom.req.get({path:t,apiNamespace:"wpcom/v2"})},k.prototype.getJetpackSyncStatus=function(e,t){U("/sites/:site_id:/sync/status query");var n="/sites/"+e+"/sync/status";return this.wpcom.req.get({path:n},t)},k.prototype.scheduleJetpackFullysync=function(e,t){U("/sites/:site_id:/sync query");var n="/sites/"+e+"/sync";return this.wpcom.req.post({path:n},{},t)},k.prototype.invitesList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return U("/sites/:site_id:/invites query",e,t),this.wpcom.req.get("/sites/"+e+"/invites",t,n)},k.prototype.getInvite=function(e,t,n){return U("/sites/:site_id:/invites/:inviteKey:/ query"),this.wpcom.req.get({path:"/sites/"+e+"/invites/"+t},n)},k.prototype.acceptInvite=function(e,t){U("/sites/:site_id:/invites/:inviteKey:/accept query");return this.wpcom.req.get("/sites/"+e.site.ID+"/invites/"+e.inviteKey+"/accept",{activate:e.activationKey,include_domain_only:!0,apiVersion:"1.2"},t)},k.prototype.sendInvites=function(e,t,n,r,i){return U("/sites/:site_id:/invites/new query"),this.wpcom.req.post("/sites/"+e+"/invites/new",{},{invitees:t,role:n,message:r,source:"calypso"},i)},k.prototype.resendInvite=function(e,t,n){return U("/sites/:site_id:/invites/:invite_id:/resend query"),this.wpcom.req.post("/sites/"+e+"/invites/"+t+"/resend",{},{},n)},k.prototype.createInviteValidation=function(e,t,n,r){return U("/sites/:site_id:/invites/validate query"),this.wpcom.req.post("/sites/"+e+"/invites/validate",{},{invitees:t,role:n},r)},k.prototype.settings=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;U("/sites/:site_id:/settings query"),"function"==typeof t&&(r=t,t="get",n={});var i=n.apiVersion||"1.1",s=Object(u.omit)(n,["apiVersion"]),o="/sites/"+e+"/settings";return"get"===t?this.wpcom.req.get(o,{apiVersion:i},r):this.wpcom.req.post({path:o},{apiVersion:i},s,r)},k.prototype.getSiteKeyrings=function(e,t){return this.wpcom.req.get("/sites/"+e+"/keyrings",{apiVersion:"1.1"},t)},k.prototype.createSiteKeyring=function(e,t,n){return this.wpcom.req.post("/sites/"+e+"/keyrings",{apiVersion:"1.1"},t,n)},k.prototype.updateSiteKeyring=function(e,t,n,r){return this.wpcom.req.post("/sites/"+e+"/keyrings/"+t,{apiVersion:"1.1"},{external_user_id:n},r)},k.prototype.deleteSiteKeyring=function(e,t,n,r){return r||"function"!=typeof n||(r=n,n=null),this.wpcom.req.post("/sites/"+e+"/keyrings/"+t+"/delete",{apiVersion:"1.1"},{external_user_id:n},r)},k.prototype._sendRequest=function(e,t){var n=e.apiVersion,r=e.method,i=Object(u.omit)(e,["apiVersion","method"]);return n?this.wpcom.req[r.toLowerCase()](i,{apiVersion:n},t):this.wpcom.req[r.toLowerCase()](i,t)},k.prototype.isDomainAvailable=function(e,t,n){return this.wpcom.req.get("/domains/"+encodeURIComponent(e)+"/is-available",{blog_id:t,apiVersion:"1.3"},n)},k.prototype.checkAuthCode=function(e,t,n){return this.wpcom.req.get("/domains/"+encodeURIComponent(e)+"/inbound-transfer-check-auth-code",{auth_code:t},n)},k.prototype.getInboundTransferStatus=function(e,t){return this.wpcom.req.get({path:"/domains/"+encodeURIComponent(e)+"/inbound-transfer-status"},t)},k.prototype.restartInboundTransfer=function(e,t,n){return this.wpcom.req.get({path:"/domains/"+encodeURIComponent(t)+"/inbound-transfer-restart/"+e},n)},k.prototype.startInboundTransfer=function(e,t,n,r){var i={};return n&&""!==n&&(i={auth_code:n}),this.wpcom.req.get("/domains/"+encodeURIComponent(t)+"/inbound-transfer-start/"+e,i,r)},k.prototype.resendInboundTransferEmail=function(e,t){return this.wpcom.req.get({path:"/domains/"+encodeURIComponent(e)+"/resend-inbound-transfer-email"},t)},k.prototype.getAvailableTlds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.wpcom.req.get("/domains/suggestions/tlds",e)},k.prototype.canRedirect=function(e,t,n){return t=encodeURIComponent(t.toLowerCase()),this.wpcom.req.get({path:"/domains/"+e+"/"+t+"/can-redirect"},n)},k.prototype.getSiteRedirect=function(e,t){return U("/sites/:site_id/domains/redirect query"),this.wpcom.req.get({path:"/sites/"+e+"/domains/redirect"},t)},k.prototype.setSiteRedirect=function(e,t,n){return U("/sites/:site_id/domains/redirect"),this.wpcom.req.post({path:"/sites/"+e+"/domains/redirect"},{location:t},n)},k.prototype.getDomainContactInformation=function(e){return U("/me/domain-contact-information query"),this._sendRequest({path:"/me/domain-contact-information",method:"get"},function(t,n){var r;if(t)return e(t);r=L(n,function(e){return"_headers"===e?e:Object(u.camelCase)(e)}),e(null,r)})},k.prototype.getDomainRegistrationSupportedStates=function(e,t){return U("/domains/supported-states/ query"),this._sendRequest({path:"/domains/supported-states/"+e,method:"get"},t)},k.prototype.validateDomainContactInformation=function(e,t,n){var r={contactInformation:e,domainNames:t};return U("/me/domain-contact-information/validate query"),r=L(r,u.snakeCase),this.wpcom.req.post({path:"/me/domain-contact-information/validate"},r,function(e,t){var r;if(e)return n(e);r=L(t,function(e){return"_headers"===e?e:Object(u.camelCase)(e)}),n(null,r)})},k.prototype.validateGoogleAppsContactInformation=function(e,t){var n=L({contactInformation:e},u.snakeCase);return this.wpcom.req.post({path:"/me/google-apps/validate"},n,function(e,n){if(e)return t(e);var r=L(n,function(e){return"_headers"===e?e:Object(u.camelCase)(e)});t(null,r)})},k.prototype.getProducts=function(e){return U("/products query"),this._sendRequest({path:"/products",method:"get"},e)},k.prototype.getSitePlans=function(e,t){return U("/sites/:site_domain:/plans query"),e=encodeURIComponent(e),this._sendRequest({path:"/sites/"+e+"/plans",method:"get",apiVersion:"1.3"},t)},k.prototype.getCart=function(e,t){U("GET: /me/shopping-cart/:cart-key"),this._sendRequest({path:"/me/shopping-cart/"+e,method:"GET"},t)},k.prototype.setCart=function(e,t,n){U("POST: /me/shopping-cart/:cart-key",t),this._sendRequest({path:"/me/shopping-cart/"+e,method:"POST",body:t},n)},k.prototype.getStoredCards=function(e){return U("/me/stored-cards query"),this.wpcom.req.get({path:"/me/stored-cards"},e)},k.prototype.metaKeyring=function(e){return U("/meta/external-services query"),this.wpcom.req.get({path:"/meta/external-services/",apiVersion:"1.1"},e)},k.prototype.getHappinessEngineers=function(e){return U("meta/happiness-engineers/ query"),this.wpcom.req.get({path:"/meta/happiness-engineers/"},e)},k.prototype.sharingButtons=function(e,t,n){return void 0===n&&"function"==typeof t&&(n=t,t={}),U("/sites/:site_id:/sharing-buttons query"),this.wpcom.req.get("/sites/"+e+"/sharing-buttons",t,n)},k.prototype.saveSharingButtons=function(e,t,n){return U("/sites/:site_id:/sharing-buttons query"),this.wpcom.req.post({path:"/sites/"+e+"/sharing-buttons",body:{sharing_buttons:t},apiVersion:"1.1"},n)},k.prototype.mekeyringConnections=function(e,t){return U("/me/keyring-connections query"),"function"==typeof e&&(t=e,e=!1),this.wpcom.req.get("/me/keyring-connections",e?{force_external_users_refetch:e}:{},t)},k.prototype.deletekeyringConnection=function(e,t){return U("/me/keyring-connections/:keyring_connection_id:/delete query"),this.wpcom.req.post({path:"/me/keyring-connections/"+e+"/delete",apiVersion:"1.1"},t)},k.prototype.siteConnections=function(e,t){return U("/sites/:site_id:/publicize-connections query"),this.wpcom.req.get({path:"/sites/"+e+"/publicize-connections",apiVersion:"1.1"},t)},k.prototype.deleteSiteConnection=function(e,t,n){return U("/sites/:site_id:/publicize-connections/:connection_id:/delete query"),this.wpcom.req.post({path:"/sites/"+e+"/publicize-connections/"+t+"/delete",apiVersion:"1.1"},n)},k.prototype.deleteSite=function(e,t){return U("/sites/:site_id/delete query"),this.wpcom.req.post({path:"/sites/"+e+"/delete"},t)},k.prototype.createConnection=function(e,t,n,r,i){var s,o;return void 0===i&&"function"==typeof r&&(i=r,r={}),s={keyring_connection_ID:e},"boolean"==typeof r.shared&&(s.shared=r.shared),n&&(s.external_user_ID=n),o=t?"/sites/"+t+"/publicize-connections/new":"/me/publicize-connections/new",this.wpcom.req.post({path:o,body:s,apiVersion:"1.1"},i)},k.prototype.publicizePost=function(e,t,n,r,i){var s={skipped_connections:[]};return s.message=n,r&&r.length>0&&(s.skipped_connections=r),this.wpcom.req.post({path:"/sites/"+e+"/posts/"+t+"/publicize",body:s,apiNamespace:"wpcom/v2"},i)},k.prototype.updateConnection=function(e,t,n,r){var i;return e?(U("/sites/:site_id:/publicize-connections/:connection_id: query"),i="/sites/"+e+"/publicize-connections/"+t):(U("/me/publicize-connections/:connection_id: query"),i="/me/publicize-connections/"+t),this.wpcom.req.post({path:i,body:n,apiVersion:"1.1"},r)},k.prototype.transactions=function(e,t,n){return U("/me/transactions query"),"function"==typeof e?(n=e,e="get",t={}):t=L(t,u.snakeCase),this._sendRequest({path:"/me/transactions",method:e,body:t},n)},k.prototype.updateCreditCard=function(e,t){var n=Object(u.pick)(e,["country","zip","month","year","name"]);return n.paygate_token=e.cardToken,this.wpcom.req.post("/upgrades/"+e.purchaseId+"/update-credit-card",n,t)},k.prototype.paygateConfiguration=function(e,t){return U("/me/paygate-configuration query"),this.wpcom.req.get("/me/paygate-configuration",e,t)},k.prototype.ebanxConfiguration=function(e,t){return U("/me/ebanx-configuration query"),this.wpcom.req.get("/me/ebanx-configuration",e,t)},k.prototype.emergentPaywallConfiguration=function(e,t,n,r){U("/me/emergent-paywall-configuration query");var i=L({country:e,cart:t,domainDetails:n},u.snakeCase);return this.wpcom.req.post("/me/emergent-paywall-configuration",i,r)},k.prototype.paypalExpressUrl=function(e,t){return U("/me/paypal-express-url query"),e=L(e,u.snakeCase),this.wpcom.req.post("/me/paypal-express-url",e,t)},k.prototype.setPrimaryDomain=function(e,t,n){return U("/sites/:site_id/domains/primary"),this.wpcom.req.post("/sites/"+e+"/domains/primary",{},{domain:t},n)},k.prototype.fetchPreviewMarkup=function(e,t,n){var r=this;return U("/sites/:site_id/previews/mine"),new Promise(function(i,s){var o="/sites/"+e+"/previews/mine",a={path:t},c=n&&Object.keys(n).length>0,u=c?r.wpcom.req.post(o,a,{customized:n}):r.wpcom.req.get(o,a);u.then(function(e){if(!e.html)return s(new Error("No markup received from API"));i(e.html)}).catch(s)})},k.prototype.readFollowing=function(e,t){return U("/read/following"),e.apiVersion="1.2",M(e),this.wpcom.req.get("/read/following",e,t)},k.prototype.readA8C=function(e,t){return U("/read/a8c"),e.apiVersion="1.2",M(e),this.wpcom.req.get("/read/a8c",e,t)},k.prototype.readConversations=function(e,t){U("/read/conversations");var n=d()({},e,{apiVersion:"1.2"});return this.wpcom.req.get("/read/conversations",n,t)},k.prototype.readA8cConversations=function(e,t){U("/read/conversations");var n=d()({},e,{index:"a8c",apiVersion:"1.2"});return this.wpcom.req.get("/read/conversations",n,t)},k.prototype.discoverFeed=function(e,t){return U("/read/feed"),this.wpcom.req.get("/read/feed/",e,t)},k.prototype.readFeedPosts=function(e,t){var n=Object(u.omit)(e,"ID");return U("/read/feed/"+e.ID+"/posts"),n.apiVersion="1.2",M(n),this.wpcom.req.get("/read/feed/"+encodeURIComponent(e.ID)+"/posts",n,t)},k.prototype.readFeedPost=function(e,t){var n=Object(u.omit)(e,["feedId","postId"]);return U("/read/feed/"+e.feedId+"/posts/"+e.postId),n.apiVersion="1.2",M(n),this.wpcom.req.get("/read/feed/"+encodeURIComponent(e.feedId)+"/posts/"+encodeURIComponent(e.postId),n,t)},k.prototype.readSearch=function(e,t){U("/read/search",e);var n=Object.assign({apiVersion:"1.2"},e);return M(n),this.wpcom.req.get("/read/search",n,t)},k.prototype.readTagPosts=function(e,t){var n=Object(u.omit)(e,"tag");return U("/read/tags/"+e.tag+"/posts"),n.apiVersion="1.2",M(n),this.wpcom.req.get("/read/tags/"+encodeURIComponent(e.tag)+"/posts",n,t)},k.prototype.readTagImages=function(e,t){var n=Object(u.omit)(e,"tag");return U("/read/tags/"+e.tag+"/images"),n.apiVersion="1.2",this.wpcom.req.get("/read/tags/"+encodeURIComponent(e.tag)+"/images",n,t)},k.prototype.readRecommendedPosts=function(e,t){return U("/recommendations/posts"),e.apiVersion="1.2",M(e),this.wpcom.req.get("/read/recommendations/posts",e,t)},k.prototype.readLiked=function(e,t){var n=Object(u.clone)(e);return U("/read/liked"),n.apiVersion="1.2",M(n),this.wpcom.req.get("/read/liked",n,t)},k.prototype.readList=function(e,t){var n=Object(u.omit)(e,["owner","slug"]);return U("/read/list"),n.apiVersion="1.2",this.wpcom.req.get("/read/lists/"+e.owner+"/"+e.slug,n,t)},k.prototype.readListPosts=function(e,t){var n=Object(u.omit)(e,["owner","slug"]);return U("/read/list/:list/posts"),n.apiVersion="1.2",M(n),this.wpcom.req.get("/read/list/"+e.owner+"/"+e.slug+"/posts",n,t)},k.prototype.readLists=function(e){return U("/read/lists"),this.wpcom.req.get("/read/lists",{apiVersion:"1.2"},e)},k.prototype.readListsNew=function(e,t){return U("/read/lists/new"),this.wpcom.req.post("/read/lists/new",{apiVersion:"1.2"},{title:e},t)},k.prototype.readListsUpdate=function(e,t){var n=Object(u.omit)(e,["owner","slug"]);return U("/read/lists/:list/update"),this.wpcom.req.post("/read/lists/"+encodeURIComponent(e.owner)+"/"+encodeURIComponent(e.slug)+"/update",{apiVersion:"1.2"},n,t)},k.prototype.followList=function(e,t){var n=Object(u.omit)(e,["owner","slug"]);return U("/read/lists/:owner/:slug/follow"),this.wpcom.req.post("/read/lists/"+encodeURIComponent(e.owner)+"/"+encodeURIComponent(e.slug)+"/follow",{apiVersion:"1.2"},n,t)},k.prototype.unfollowList=function(e,t){var n=Object(u.omit)(e,["owner","slug"]);return U("/read/lists/:owner/:slug/unfollow"),this.wpcom.req.post("/read/lists/"+encodeURIComponent(e.owner)+"/"+encodeURIComponent(e.slug)+"/unfollow",{apiVersion:"1.2"},n,t)},k.prototype.readSiteFeatured=function(e,t,n){var r=Object(u.omit)(t,["before","after"]);return U("/read/sites/:site/featured"),this.wpcom.req.get("/read/sites/"+e+"/featured",r,n)},k.prototype.readSitePosts=function(e,t){var n=Object(u.omit)(e,"site");return U("/read/sites/:site/posts"),M(n),this.wpcom.req.get("/read/sites/"+e.site+"/posts",n,t)},k.prototype.readSitePost=function(e,t){var n=Object(u.omit)(e,["site","postId"]);return U("/read/sites/:site/post/:post"),M(n),this.wpcom.req.get("/read/sites/"+e.site+"/posts/"+e.postId,n,t)},k.prototype.readSitePostRelated=function(e,t){U("/read/site/:site/post/:post/related");var n=Object(u.omit)(e,["site_id","post_id"]);return n.apiVersion="1.2",M(n),this.wpcom.req.get("/read/site/"+e.site_id+"/post/"+e.post_id+"/related",n,t)},k.prototype.saveABTestData=function(e,t,n){var r={name:e,variation:t};return U("POST /me/abtests with "+JSON.stringify(r)),this.wpcom.req.post({path:"/me/abtests",body:r},n)},k.prototype.usersNew=function(e,t){var n;return U("/users/new"),D(e),e.locale=Object(C.h)(),n={path:"/users/new",body:e},this.wpcom.req.post(n,t)},k.prototype.usersSocialNew=function(e,t){e.locale=Object(C.h)(),D(e);var n={path:"/users/social/new",body:e};return this.wpcom.req.post(n,t)},k.prototype.validateNewUser=function(e,t){return U("/signups/validation/user"),e.locale=Object(C.h)(),this.wpcom.req.post("/signups/validation/user/",null,e,t)},k.prototype.requestMagicLoginEmail=function(e,t){return D(e),e.locale=Object(C.h)(),e.lang_id=Object(C.e)(e.locale).value,this.wpcom.req.post("/auth/send-login-email",{apiVersion:"1.2"},e,t)},k.prototype.sitesNew=function(e,t){var n=Object(C.h)();return U("/sites/new"),D(e),e.lang_id=Object(C.e)(n).value,e.locale=n,this.wpcom.req.post({path:"/sites/new",body:e},t)},k.prototype.themes=function(e,t,n){var r=e?"/sites/"+e+"/themes":"/themes";return U(r),this.wpcom.req.get(r,t,n)},k.prototype.themeDetails=function(e,t,n){var r=t?"/sites/"+t:"",i=r+"/themes/"+e;return U(i),this.wpcom.req.get(i,{apiVersion:"1.2"},n)},k.prototype.jetpackThemeDetails=function(e,t,n){var r="/sites/"+t+"/themes";return U(r),this.wpcom.req.post({path:r,body:{themes:e}},n)},k.prototype.installThemeOnJetpack=function(e,t,n){var r="/sites/"+e+"/themes/"+t+"/install";return U(r),this.wpcom.req.post({path:r},n)},k.prototype.deleteThemeFromJetpack=function(e,t,n){var r="/sites/"+e+"/themes/"+t+"/delete";return U(r),this.wpcom.req.post({path:r},n)},k.prototype.activeTheme=function(e,t){return U("/sites/:site_id/themes/mine"),this.wpcom.req.get({path:"/sites/"+e+"/themes/mine"},t)},k.prototype.activateTheme=function(e,t,n){return U("/sites/:site_id/themes/mine"),this.wpcom.req.post({path:"/sites/"+t+"/themes/mine",body:{theme:e}},n)},k.prototype.uploadTheme=function(e,t,n){var r=this;return U("/sites/:site_id/themes/new"),new Promise(function(i,s){var o=r.wpcom.req.post({path:"/sites/"+e+"/themes/new",formData:[["zip[]",t]]},function(e,t){e?s(e):i(t)});o.upload.onprogress=n})},k.prototype.emailForwards=function(e,t){return this.wpcom.req.get("/domains/"+e+"/email",function(e,n){e?t(e):t(null,n)})},k.prototype.addEmailForward=function(e,t,n,r){return this.wpcom.req.post("/domains/"+e+"/email/new",{},{mailbox:t,destination:n},function(e,t){e?r(e):r(null,t)})},k.prototype.deleteEmailForward=function(e,t,n){return this.wpcom.req.post("/domains/"+e+"/email/"+t+"/delete",{},{},function(e,t){e?n(e):n(null,t)})},k.prototype.resendVerificationEmailForward=function(e,t,n){return this.wpcom.req.post("/domains/"+e+"/email/"+t+"/resend-verification",{},{},function(e,t){e?n(e):n(null,t)})},k.prototype.nameservers=function(e,t){return this.wpcom.req.get("/domains/"+e+"/nameservers",function(e,n){e?t(e):t(null,n)})},k.prototype.updateNameservers=function(e,t,n){return this.wpcom.req.post("/domains/"+e+"/nameservers/",{},t,function(e,t){e?n(e):n(null,t)})},k.prototype.resendIcannVerification=function(e,t){return this.wpcom.req.post("/domains/"+e+"/resend-icann/",t)},k.prototype.fetchDns=function(e,t){return this.wpcom.req.get("/domains/"+e+"/dns",t)},k.prototype.updateDns=function(e,t,n){var r=Object(u.reject)(t,"isBeingDeleted"),i={dns:JSON.stringify(r)};return this.wpcom.req.post("/domains/"+e+"/dns",i,n)},k.prototype.applyDnsTemplate=function(e,t,n,r,i){return this.wpcom.req.post("/domains/"+e+"/dns/providers/"+t+"/services/"+n,{variables:r},i)},k.prototype.applyDnsTemplateSyncFlow=function(e,t,n,r,i){return this.wpcom.req.get("/domain-connect/authorize/v2/domainTemplates/providers/"+t+"/services/"+n+"/apply/authorized",Object.assign({},{apiVersion:"1.3"},r),i)},k.prototype.getDnsTemplateRecords=function(e,t,n,r,i){return this.wpcom.req.post("/domains/"+e+"/dns/providers/"+t+"/services/"+n+"/preview",{variables:r},i)},k.prototype.fetchWapiDomainInfo=function(e,t){return this.wpcom.req.get("/domains/"+e+"/status",t)},k.prototype.requestTransferCode=function(e,t){var n=e.domainName,r={domainStatus:JSON.stringify({command:"send-code"})};return this.wpcom.req.post("/domains/"+n+"/transfer",r,t)},k.prototype.cancelTransferRequest=function(e,t){var n=e.domainName,r=e.declineTransfer,i={domainStatus:JSON.stringify({command:"cancel-transfer-request",payload:{decline_transfer:r}})};return this.wpcom.req.post("/domains/"+n+"/transfer",i,t)},k.prototype.enablePrivacyProtection=function(e,t){var n={domainStatus:JSON.stringify({command:"enable-privacy"})};return this.wpcom.req.post("/domains/"+e+"/transfer",n,t)},k.prototype.acceptTransfer=function(e,t){var n={domainStatus:JSON.stringify({command:"accept-transfer"})};return this.wpcom.req.post("/domains/"+e+"/transfer",n,t)},k.prototype.declineTransfer=function(e,t){var n={domainStatus:JSON.stringify({command:"deny-transfer"})};return this.wpcom.req.post("/domains/"+e+"/transfer",n,t)},k.prototype.transferToUser=function(e,t,n,r){return this.wpcom.req.post("/sites/"+e+"/domains/"+t+"/transfer-to-user/"+n,r)},k.prototype.transferToSite=function(e,t,n,r){return this.wpcom.req.post("/sites/"+e+"/domains/"+t+"/transfer-to-site/"+n,r)},k.prototype.fetchWhois=function(e,t){return U("/domains/:domainName/whois query"),this.wpcom.req.get("/domains/"+e+"/whois",t)},k.prototype.updateWhois=function(e,t,n,r){return U("/domains/:domainName/whois"),this.wpcom.req.post({path:"/domains/"+e+"/whois",apiVersion:"1.1",body:{whois:t,transfer_lock:n}},r)},k.prototype.addVipDomainMapping=function(e,t,n){return U("/site/:site_id/vip-domain-mapping"),this.wpcom.req.post({path:"/sites/"+e+"/vip-domain-mapping",body:{domain:t}},n)},k.prototype.changeTheme=function(e,t,n){return U("/site/:site_id/themes/mine"),this.wpcom.req.post({path:"/sites/"+e+"/themes/mine",body:t},n)},k.prototype.sitePurchases=function(e,t){return U("/site/:site_id/purchases"),this.wpcom.req.get({path:"/sites/"+e+"/purchases"},t)},k.prototype.googleAppsFilterByDomain=function(e,t){return U("/domains/:domainName/google-apps"),this.wpcom.req.get({path:"/domains/"+e+"/google-apps"},t)},k.prototype.googleAppsFilterBySiteId=function(e,t){return U("/sites/:siteId/google-apps"),this.wpcom.req.get({path:"/sites/"+e+"/google-apps"},t)},k.prototype.fetchImporterState=function(e){return U("/sites/"+e+"/importer/"),this.wpcom.req.get({path:"/sites/"+e+"/imports/"})},k.prototype.updateImporter=function(e,t){return U("/sites/"+e+"/imports/"+t.importId),this.wpcom.req.post({path:"/sites/"+e+"/imports/"+t.importerId,formData:[["importStatus",JSON.stringify(t)]]})},k.prototype.uploadExportFile=function(e,t){var n=this;return new Promise(function(r,i){var s=n.wpcom.req.post({path:"/sites/"+e+"/imports/new",formData:[["importStatus",JSON.stringify(t.importStatus)],["import",t.file]]},function(e,t){e?i(e):r(t)});s.upload.onprogress=t.onprogress,s.onabort=t.onabort})},k.prototype.getHelpLinks=function(e,t){return U("help-search/ searchQuery"),this.wpcom.req.get("/help/search",{query:e,include_post_id:1},t)},k.prototype.getQandA=function(e,t,n){return U("help-contact-qanda/ searchQuery {query}"),this.wpcom.req.get("/help/qanda",{query:e,site:t},n)},k.prototype.cancelPurchase=function(e,t){return U("upgrades/{purchaseId}/disable-auto-renew"),this.wpcom.req.post({path:"/upgrades/"+e+"/disable-auto-renew"},t)},k.prototype.cancelAndRefundPurchase=function(e,t,n){return U("upgrades/{purchaseId}/cancel"),this.wpcom.req.post({path:"/upgrades/"+e+"/cancel",body:t},n)},k.prototype.cancelPrivacyProtection=function(e,t){return U("upgrades/{purchaseId}/cancel-privacy-protection"),this.wpcom.req.post({path:"/upgrades/"+e+"/cancel-privacy-protection",apiVersion:"1.1"},t)},k.prototype.cancelPlanTrial=function(e,t){return U("/upgrades/{planId}/cancel-plan-trial"),this.wpcom.req.post({path:"/upgrades/"+e+"/cancel-plan-trial"},t)},k.prototype.getDirectlyConfiguration=function(e){return this.wpcom.req.get({apiVersion:"1.1",path:"/help/directly/mine"},e)},k.prototype.submitKayakoTicket=function(e,t,n,r,i){return U("submitKayakoTicket"),this.wpcom.req.post({path:"/help/tickets/kayako/new",body:{subject:e,message:t,locale:n,client:r}},i)},k.prototype.getKayakoConfiguration=function(e){return this.wpcom.req.get({path:"/help/tickets/kayako/mine"},e)},k.prototype.getOlarkConfiguration=function(e,t){return this.wpcom.req.get({apiVersion:"1.1",path:"/help/olark/mine",body:{client:e}},t)},k.prototype.submitSupportForumsTopic=function(e,t,n,r,i){return this.wpcom.req.post({path:"/help/forums/support/topics/new",body:{subject:e,message:t,locale:n,client:r}},i)},k.prototype.getExportSettings=function(e,t){return this.wpcom.req.get({apiVersion:"1.1",path:"/sites/"+e+"/exports/settings"},t)},k.prototype.startExport=function(e,t,n){return this.wpcom.req.post({apiVersion:"1.1",path:"/sites/"+e+"/exports/start"},t,n)},k.prototype.getExport=function(e,t,n){return this.wpcom.req.get({apiVersion:"1.1",path:"/sites/"+e+"/exports/"+t},n)},k.prototype.getSiteConnectInfo=function(e){return this.wpcom.req.get("/connect/site-info",{url:e})},k.prototype.exportReaderFeed=function(e){U("/read/following/mine/export");return this.wpcom.req.get("/read/following/mine/export",{apiVersion:"1.2"},e)},k.prototype.importReaderFeed=function(e,t){U("/read/following/mine/import");var n={path:"/read/following/mine/import",formData:[["import",e]]};return this.wpcom.req.post(n,{apiVersion:"1.2"},null,t)},k.prototype.registerDevice=function(e,t,n,r){return U("/devices/new"),this.wpcom.req.post({path:"/devices/new"},{},{device_token:e,device_family:t,device_name:n},r)},k.prototype.unregisterDevice=function(e,t){return U("/devices/:device_id/delete"),this.wpcom.req.post({path:"/devices/"+e+"/delete"},t)},k.prototype.wordAdsApprove=function(e){return U("/sites/:site:/wordads/approve"),this.wpcom.req.post("/sites/"+e+"/wordads/approve")},k.prototype.initiateTransfer=function(e,t,n,r){var i=this;return U("/sites/:site_id/automated-transfers/initiate"),new Promise(function(s,o){var a={path:"/sites/"+e+"/automated-transfers/initiate"};t&&(a.body={plugin:t}),n&&(a.formData=[["theme",n]]);var c=i.wpcom.req.post(a,function(e,t){e?o(e):s(t)});c&&(c.upload.onprogress=r)})},k.prototype.externalMediaList=function(e,t){return U("/meta/external-media/"+e.source),this.wpcom.req.get("/meta/external-media/"+e.source,e,t)},k.prototype.transferStatus=function(e,t){return U("/sites/:site_id/automated-transfers/status/:transfer_id"),this.wpcom.req.get({path:"/sites/"+e+"/automated-transfers/status/"+t})},k.prototype.submitNPSSurvey=function(e,t,n){return this.wpcom.req.post({path:"/nps/"+e},{apiVersion:"1.2"},{score:t},n)},k.prototype.dismissNPSSurvey=function(e,t){return this.wpcom.req.post({path:"/nps/"+e},{apiVersion:"1.2"},{dismissed:!0},t)},k.prototype.checkNPSSurveyEligibility=function(e){return this.wpcom.req.get({path:"/nps"},{apiVersion:"1.2"},{},e)},k.prototype.sendNPSSurveyFeedback=function(e,t,n){return this.wpcom.req.post({path:"/nps/"+e},{apiVersion:"1.2"},{feedback:t},n)},k.prototype.oauth2ClientId=function(e,t){return this.wpcom.req.get("/oauth2/client-data/"+e,{apiNamespace:"wpcom/v2"},t)},k.prototype.getFeaturedPlugins=function(e){return this.wpcom.req.get("/plugins/featured",{apiNamespace:"wpcom/v2"},e)},k.prototype.getRequestSiteAddressChangeNonce=function(e){return this.wpcom.req.get({path:"/sites/"+e+"/site-address-change/nonce",apiNamespace:"wpcom/v2"})},k.prototype.checkSiteAddressValidation=function(e,t){return this.wpcom.req.post({path:"/sites/"+e+"/site-address-change/validate",apiNamespace:"wpcom/v2"},{},{blogname:t})},k.prototype.updateSiteAddress=function(e,t,n,r){return this.wpcom.req.post({path:"/sites/"+e+"/site-address-change",apiNamespace:"wpcom/v2"},{},{blogname:t,discard:n,nonce:r})},k.prototype.requestGdprConsentManagementLink=function(e,t){return this.wpcom.req.get("/domains/"+e+"/request-gdpr-consent-management-link",function(e,n){e?t(e):t(null,n)})},k.prototype.getDomainConnectSyncUxUrl=function(e,t,n,r,i){return this.wpcom.req.get("/domains/"+e+"/dns/providers/"+t+"/services/"+n+"/syncurl",{redirect_uri:r},i)};var x=k,F=i()("calypso:wpcom-undocumented");function V(e,t){if(!(this instanceof V))return new V(e,t);"function"==typeof e?(t=e,e=null):e&&this.loadToken(e),o.a.call(this,e,function(e,n){return this.isTokenLoaded()&&(e=Object(u.assign)({},e,{authToken:this._token,token:this._token})),t(e,n)}),F("Extending wpcom with undocumented endpoints.")}c()(V,o.a),V.prototype.undocumented=function(){return new x(this)},o.a.prototype.loadToken=function(e){this._token=e},V.prototype.isTokenLoaded=function(){return void 0!==this._token};var G=V,q=n("./node_modules/qs/lib/index.js");var H=n("./client/lib/wp/localization/index.js"),W=n("./node_modules/store/store.js"),B=n.n(W),Q=function(){return B.a.get("guest_sandbox_ticket")};!function(){if("undefined"!=typeof window){var e;e=Q(),e&&e.createdDate<Date.now()-72e5&&B.a.remove("guest_sandbox_ticket");var t=Object(q.parse)(window.location.search.replace("?",""));t.guest_ticket&&B.a.set("guest_sandbox_ticket",{createdDate:Date.now(),value:t.guest_ticket})}}();var z,Y,K,J,Z,$,X=n("./client/lib/oauth-token/index.js"),ee=n("./node_modules/wpcom-xhr-request/build/index.js"),te=n.n(ee),ne=i()("calypso:wpcom-xhr-wrapper"),re=n("./node_modules/wpcom-proxy-request/build/index.js"),ie=n.n(re),se=i()("calypso:wp");g.a.isEnabled("oauth")?z=G(X.a(),function(e,t){return te()(e,function(e,r,i){e&&"InvalidTokenError"===e.name&&(ne("Invalid token error detected, authorisation probably revoked - logging out"),n("./client/lib/user/utils.js").logout()),t(e,r,i)})}):(z=G(ie.a),z.request({metaAPI:{accessAllUsersBlogs:!0}},function(e){if(e)throw e;se('Proxy now running in "access all user\'s blogs" mode')})),g.a.isEnabled("support-user")&&(Y=z,K="",J="",Z=null,$=Y.request.bind(Y),z=Object.assign(Y,{addSupportParams:function(e){return d()({},e,{support_user:K,_support_token:J})},setSupportUserToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return(e!==K||t!==J)&&(K=e,J=t,Z=function(e){return function(t){if(t&&t.error&&"invalid_support_token"===t.error&&"function"==typeof n)n(t);else{for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];e.apply(void 0,[t].concat(i))}}},!0)},request:function(e,t){return K&&J&&Z?$(function(e){var t=Object(q.parse)(e.query);return t.support_user=K,t._support_token=J,Object.assign({},e,{query:Object(q.stringify)(t)})}(e),Z(t)):$(e,t)}})),Object(H.b)(z),function(e){var t=e.request.bind(e);Object.assign(e,{request:function(e,n){var r=Q();if(r){var i=Object(q.parse)(e.query);e=Object.assign({},e,{query:Object(q.stringify)(Object.assign(i,{store_sandbox_ticket:r.value}))})}return t(e,n)}})}(z);t.a=z},"./client/lib/wp/localization/index.js":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r,i=n("./node_modules/qs/lib/index.js"),s=n("./client/state/current-user/selectors.js");function o(e){var t=e.request.bind(e);return Object.assign(e,{localized:!0,request:function(e,n){return t(function(e){if(!r||"en"===r)return e;var t,n=Object(i.parse)(e.query);return t=e.apiNamespace?{_locale:r}:{locale:r},Object.assign(e,{query:Object(i.stringify)(Object.assign(n,t))})}(e),n)}})}function a(e){function t(){var t;t=Object(s.i)(e.getState())||Object(s.h)(e.getState()),r=t}e.subscribe(t),t()}},"./client/me/concierge/constants.js":function(e,t,n){"use strict";n.d(t,"i",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var r=n("./client/config/index.js"),i=Object(r.a)("wpcom_concierge_schedule_id")||1,s="booked",o="booking",a="booking_error",c="cancelled",u="cancelling",l="cancelling_error",d="rest_concierge_no_available_staff",p="rest_concierge_already_has_appointment"},"./client/me/purchases/paths.js":function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return o}),n.d(t,"i",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"h",function(){return p});var r="/me/purchases",i=r+"/add-credit-card",s=r+"/billing";function o(e){return s+"/"+e}function a(e,t){return r+"/"+e+"/"+t}function c(e,t){return a(e,t)+"/cancel"}function u(e,t){return a(e,t)+"/confirm-cancel-domain"}function l(e,t){return a(e,t)+"/cancel-privacy-protection"}function d(e,t){return a(e,t)+"/payment/add"}function p(e,t,n){return a(e,t)+"/payment/edit/"+n}},"./client/my-sites/controller.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./node_modules/page/page.js"),o=n.n(s),a=n("./node_modules/react/index.js"),c=n.n(a),u=n("./node_modules/i18n-calypso/index.js"),l=n.n(u),d=n("./node_modules/lodash/lodash.js"),p=n("./client/lib/user/index.js"),m=n("./client/state/sites/actions.js"),f=n("./client/state/sites/selectors.js"),_=n("./client/state/ui/selectors.js"),E=n("./client/state/ui/actions.js"),b=n("./client/state/preferences/actions.js"),g=n("./client/state/preferences/selectors.js"),h=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),O=n.n(h),y=n("./node_modules/@babel/runtime/helpers/createClass.js"),j=n.n(y),v=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),S=n.n(v),I=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),T=n.n(I),C=n("./node_modules/@babel/runtime/helpers/inherits.js"),R=n.n(C),A=n("./node_modules/prop-types/index.js"),N=n.n(A),w=n("./node_modules/react-click-outside/dist/index.js"),P=n.n(w),U=n("./node_modules/react-redux/es/index.js"),D=n("./client/components/close-on-escape/index.jsx"),k=n("./client/components/site-selector/index.jsx"),L=n("./client/lib/touch-detect/index.js"),M=n("./client/state/ui/layout-focus/selectors.js"),x=n("./client/state/ui/layout-focus/actions.js"),F=function(e){function t(){var e,n;O()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=S()(this,(e=T()(t)).call.apply(e,[this].concat(i))),n.state={isAutoFocused:!1,isRendered:"sites"===n.props.currentLayoutFocus},n.onClose=function(e,t){"Escape"===e.key?n.closePicker():(n.props.setNextLayoutFocus("sidebar"),t&&n.scrollToTop()),n.props.onClose(e,t)},n.scrollToTop=function(){document.getElementById("secondary").scrollTop=0,window.scrollTo(0,0)},n.closePicker=function(e){"sites"===n.props.currentLayoutFocus&&(n.props.setLayoutFocus("sidebar"),e&&n.scrollToTop())},n.handleClickOutside=function(){n.closePicker(null)},n}return R()(t,e),j()(t,[{key:"componentWillReceiveProps",value:function(e){if("sites"!==e.currentLayoutFocus||this.state.isRendered||this.setState({isRendered:!0}),e.currentLayoutFocus&&!Object(L.a)()){var t="sites"===e.currentLayoutFocus;t!==this.state.isAutoFocused&&this.setState({isAutoFocused:t})}}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(D.a,{onEscape:this.closePicker}),c.a.createElement(k.a,{isPlaceholder:!this.state.isRendered,indicator:!0,showAddNewSite:!0,showAllSites:!0,allSitesPath:this.props.allSitesPath,siteBasePath:this.props.siteBasePath,autoFocus:this.state.isAutoFocused,onClose:this.onClose,groups:!0}))}}]),t}(c.a.Component);F.displayName="SitePicker",F.propTypes={onClose:N.a.func,currentLayoutFocus:N.a.string,setNextLayoutFocus:N.a.func.isRequired,setLayoutFocus:N.a.func.isRequired},F.defaultProps={onClose:d.noop};var V=Object(U.b)(function(e){return{currentLayoutFocus:Object(M.a)(e)}},{setNextLayoutFocus:x.c,setLayoutFocus:x.b})(P()(F)),G=n("./node_modules/classnames/index.js"),q=n.n(G),H=n("./node_modules/debug/src/browser.js"),W=n.n(H),B=n("./node_modules/gridicons/dist/index.js"),Q=n.n(B),z=n("./client/lib/abtest/index.js"),Y=n("./client/components/button/index.jsx"),K=n("./client/config/index.js"),J=n("./client/blocks/all-sites/index.jsx"),Z=n("./client/components/async-load/index.jsx"),$=n("./client/lib/analytics/index.js"),X=n("./client/components/card/index.jsx"),ee=n("./client/blocks/site/index.jsx"),te=n("./node_modules/url/url.js"),ne=n.n(te),re=n("./node_modules/moment/moment.js"),ie=n.n(re),se=n("./client/lib/analytics/track-component-view/index.jsx"),oe=n("./client/state/analytics/actions.js"),ae=function(e){function t(){var e,n;O()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=S()(this,(e=T()(t)).call.apply(e,[this].concat(i))),n.onClick=function(){var e=n.props,t=e.ctaName,r=e.track;r("calypso_upgrade_nudge_cta_click",{cta_name:t})},n}return R()(t,e),j()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.ctaName,r=e.ctaText,i=e.href,s=e.icon,o=e.text,a=q()("sidebar-banner",t);return c.a.createElement("div",{className:a},c.a.createElement(se.a,{eventName:"calypso_upgrade_nudge_impression",eventProperties:{cta_name:n}}),c.a.createElement("a",{className:"sidebar-banner__link",onClick:this.onClick,href:i},c.a.createElement("span",{className:"sidebar-banner__icon-wrapper"},c.a.createElement(Q.a,{className:"sidebar-banner__icon",icon:s,size:18})),c.a.createElement("span",{className:"sidebar-banner__content"},c.a.createElement("span",{className:"sidebar-banner__text"},o)),c.a.createElement("span",{className:"sidebar-banner__cta"},r)))}}]),t}(a.Component);ae.defaultProps={className:""},ae.propTypes={className:N.a.string,ctaName:N.a.string,ctaText:N.a.string,icon:N.a.string,href:N.a.string,text:N.a.string,track:N.a.func.isRequired,translate:N.a.func.isRequired};var ce={track:oe.i},ue=Object(U.b)(null,ce)(Object(u.localize)(ae)),le=n("./client/components/notice/index.jsx"),de=n("./client/components/notice/notice-action.jsx"),pe=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),me=n.n(pe),fe=n("./client/lib/discounts/index.js"),_e=n("./client/lib/plans/index.js"),Ee=n("./client/state/active-promotions/selectors.js"),be=function(e){var t=fe.a.filter(function(t){return function(e,t){var n=new Date;if(!e.startsAt||!e.endsAt)return!1;if(e.startsAt>n||e.endsAt<n)return!1;if(!Object(Ee.a)(t,e.name))return!1;if(e.targetPlans){var r=Array.isArray(e.targetPlans)?e.targetPlans:[],i=Object(f.u)(t,Object(_.e)(t));return r.some(function(e){return Object(_e.x)(i,e)})}if(!e.abTestName)return!0;var s=Object(z.a)(e.abTestName);return"control"!==s}(t,e)})[0];if(!t)return null;var n=t.variations?t.variations[Object(z.a)(t.abTestName)]:{};return me()({},t,n)},ge=n("./client/my-sites/domains/paths.js"),he=n("./client/state/sites/plans/selectors.js"),Oe=n("./client/state/selectors/can-current-user.js"),ye=n("./client/state/selectors/is-domain-only-site.js"),je=n("./client/state/selectors/is-mapped-domain-site.js"),ve=n("./client/state/selectors/is-site-on-free-plan.js"),Se=n("./client/state/selectors/is-vip-site.js"),Ie=function(e,t){var n=Object(Oe.a)(e,t,"manage_options"),r=Object(je.a)(e,t),i=Object(ve.a)(e,t),s=Object(Se.a)(e,t);return n&&!r&&i&&!s},Te=n("./client/components/data/query-site-plans/index.jsx"),Ce=n("./client/components/data/query-active-promotions/index.jsx"),Re=n("./client/state/plugins/premium/selectors.js"),Ae=n("./client/state/selectors/is-eligible-for-domain-to-paid-plan-upsell.js"),Ne=function(e){function t(){return O()(this,t),S()(this,T()(t).apply(this,arguments))}return R()(t,e),j()(t,[{key:"render",value:function(){var e=this.props,t=e.eligible,n=e.isConflicting,r=e.isDomainOnly,i=e.isJetpack,s=e.site,o=e.translate;if(!s||!t||n)return null;var a=r?"/start/site-selected/?siteSlug="+encodeURIComponent(s.slug)+"&siteId="+encodeURIComponent(s.ID):"/plans/"+s.slug,u=o(i?"Upgrade for full site backups.":"Upgrade your site and save.");return c.a.createElement(ue,{ctaName:"domain-to-paid-sidebar",ctaText:o("Go"),href:a,icon:"info-outline",text:u})}}]),t}(a.Component);Ne.propTypes={translate:N.a.func.isRequired},Ne.defaultProps={translate:d.noop};var we=Object(U.b)(function(e){var t=Object(_.d)(e),n=Object(ye.a)(e,t.ID),r=Object(f.K)(e,t.ID);return{eligible:Object(Ae.a)(e,t.ID),isConflicting:n&&Object(d.endsWith)(t.domain,".wordpress.com"),isDomainOnly:n,site:t,isJetpack:r}},null)(Object(u.localize)(Ne)),Pe=function(e){function t(){return O()(this,t),S()(this,T()(t).apply(this,arguments))}return R()(t,e),j()(t,[{key:"getSiteRedirectNotice",value:function(e){if(!e||this.props.isDomainOnly)return null;if(!e.options||!e.options.is_redirect)return null;var t=ne.a.parse(e.URL),n=t.hostname,r=this.props.translate;return c.a.createElement(le.b,{icon:"info-outline",isCompact:!0,showDismiss:!1,text:r("Redirects to {{a}}%(url)s{{/a}}",{args:{url:n},components:{a:c.a.createElement("a",{href:e.URL})}})},c.a.createElement(de.a,{href:Object(ge.i)(e.domain)},r("Edit")))}},{key:"domainCreditNotice",value:function(){if(!this.props.hasDomainCredit||!this.props.canManageOptions)return null;var e=this.props.translate;return c.a.createElement(le.b,{isCompact:!0,status:"is-success",icon:"info-outline",text:e("Free domain available")},c.a.createElement(de.a,{onClick:this.props.clickClaimDomainNotice,href:"/domains/add/"+this.props.site.slug},e("Claim"),c.a.createElement(se.a,{eventName:"calypso_domain_credit_reminder_impression",eventProperties:{cta_name:"current_site_domain_notice"}})))}},{key:"freeToPaidPlanNotice",value:function(){if(!this.props.isEligibleForFreeToPaidUpsell)return null;var e=this.props,t=e.site,n=e.translate,r="/plans/"+t.slug;return K.a.isEnabled("upsell/nudge-a-palooza")&&"plansBannerUpsells"===Object(z.a)("nudgeAPalooza")&&(r+="/?discount=free_domain"),c.a.createElement(ue,{ctaName:"free-to-paid-sidebar",ctaText:n("Upgrade"),href:r,icon:"info-outline",text:n("Free domain with a plan")})}},{key:"activeDiscountNotice",value:function(){if(!this.props.activeDiscount)return null;var e=this.props,t=e.site,n=e.activeDiscount,r=n.nudgeText,i=n.nudgeEndsTodayText,s=n.ctaText,o=n.name,a=i&&this.promotionEndsToday(n)?i:r;return a?c.a.createElement(ue,{ctaName:"free-to-paid-sidebar",ctaText:s||"Upgrade",href:"/plans/"+t.slug+"?discount="+o,icon:"info-outline",text:a}):null}},{key:"promotionEndsToday",value:function(e){var t=e.endsAt,n=new Date;return ie()(n).format("YYYYMMDD")===ie()(t).format("YYYYMMDD")}},{key:"jetpackPluginsSetupNotice",value:function(){if(!this.props.pausedJetpackPluginsSetup||"jetpack_free"===this.props.site.plan.product_slug)return null;var e=this.props.translate;return c.a.createElement(le.b,{icon:"plugins",isCompact:!0,status:"is-info",text:e("Your %(plan)s plan needs setting up!",{args:{plan:this.props.site.plan.product_name_short}})},c.a.createElement(de.a,{href:"/plugins/setup/"+this.props.site.slug},e("Finish")))}},{key:"render",value:function(){var e=this.props.site;return e?c.a.createElement("div",{className:"site__notices"},c.a.createElement(Ce.a,null),this.activeDiscountNotice()||this.freeToPaidPlanNotice()||c.a.createElement(we,null),this.getSiteRedirectNotice(e),c.a.createElement(Te.a,{siteId:e.ID}),this.domainCreditNotice(),this.jetpackPluginsSetupNotice()):c.a.createElement("div",{className:"site__notices"})}}]),t}(c.a.Component);Pe.propTypes={site:N.a.object},Pe.defaultProps={};var Ue=Object(U.b)(function(e,t){var n=t.site&&t.site.ID?t.site.ID:null;return{isDomainOnly:Object(ye.a)(e,n),isEligibleForFreeToPaidUpsell:Ie(e,n),activeDiscount:be(e),hasDomainCredit:Object(he.h)(e,n),canManageOptions:Object(Oe.a)(e,n,"manage_options"),pausedJetpackPluginsSetup:Object(Re.h)(e,n)&&!Object(Re.e)(e,n)}},function(e){return{clickClaimDomainNotice:function(){return e(Object(oe.i)("calypso_domain_credit_reminder_click",{cta_name:"current_site_domain_notice"}))},clickFreeToPaidPlanNotice:function(){return e(Object(oe.i)("calypso_upgrade_nudge_cta_click",{cta_name:"free-to-paid-sidebar"}))}}})(Object(u.localize)(Pe)),De=n("./client/lib/cart/store/index.js"),ke=n("./client/state/selectors/get-selected-or-all-sites.js"),Le=n("./client/state/selectors/get-visible-sites.js"),Me=n("./client/state/notices/actions.js"),xe=n("./client/state/notices/selectors.js"),Fe=n("./client/state/selectors/is-rtl.js"),Ve=function(e){Promise.all([n.e(131),n.e(127)]).then(function(t){e(n("./client/my-sites/current-site/domain-warnings.jsx").__esModule?n("./client/my-sites/current-site/domain-warnings.jsx").default:n("./client/my-sites/current-site/domain-warnings.jsx"))}.bind(null,n)).catch(n.oe)},Ge=function(e){function t(){var e,r;O()(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=S()(this,(e=T()(t)).call.apply(e,[this].concat(s))),r.showStaleCartItemsNotice=function(){var e=r.props.selectedSite,t=n("./client/lib/cart-values/index.js").cartItems;if(r.props.removeNotice("stale-cart-item-notice"),"upgrades"===r.props.sectionName)return null;e&&t.hasStaleItem(De.a.get())&&r.props.staleCartItemNoticeLastTimeShown<Date.now()-6e5&&(r.props.recordTracksEvent("calypso_cart_abandonment_notice_view"),r.props.infoNotice(r.props.translate("Your cart is awaiting payment."),{id:"stale-cart-item-notice",isPersistent:!1,duration:1e4,button:r.props.translate("Complete your purchase"),href:"/checkout/"+e.slug,onClick:r.clickStaleCartItemsNotice}))},r.clickStaleCartItemsNotice=function(){r.props.recordTracksEvent("calypso_cart_abandonment_notice_click")},r.switchSites=function(e){e.preventDefault(),e.stopPropagation(),r.props.setLayoutFocus("sites"),$.default.ga.recordEvent("Sidebar","Clicked Switch Site")},r}return R()(t,e),j()(t,[{key:"componentWillMount",value:function(){De.a.on("change",this.showStaleCartItemsNotice)}},{key:"componentWillUnmount",value:function(){De.a.off("change",this.showStaleCartItemsNotice)}},{key:"render",value:function(){var e=this.props,t=e.selectedSite,n=e.translate,r=e.anySiteSelected,i=e.rtlOn;return r.length&&(t||this.props.hasAllSitesList)?c.a.createElement(X.a,{className:"current-site"},this.props.siteCount>1&&c.a.createElement("span",{className:"current-site__switch-sites"},c.a.createElement(Y.a,{borderless:!0,onClick:this.switchSites},c.a.createElement(Q.a,{icon:i?"chevron-right":"chevron-left"}),c.a.createElement("span",{className:"current-site__switch-sites-label"},n("Switch Site")))),t?c.a.createElement("div",null,c.a.createElement(ee.a,{site:t})):c.a.createElement(J.a,null),c.a.createElement(Ue,{site:t}),c.a.createElement(Z.a,{require:Ve,placeholder:null})):c.a.createElement(X.a,{className:"current-site is-loading"},c.a.createElement("div",{className:"site"},c.a.createElement("a",{className:"site__content"},c.a.createElement("div",{className:"site-icon"}),c.a.createElement("div",{className:"site__info"},c.a.createElement("span",{className:"site__title"},n("Loading My Sites"))))))}}]),t}(a.Component);Ge.propTypes={siteCount:N.a.number.isRequired,setLayoutFocus:N.a.func.isRequired,selectedSite:N.a.object,translate:N.a.func.isRequired,anySiteSelected:N.a.array};var qe=Object(U.b)(function(e){return{rtlOn:Object(Fe.a)(e),selectedSite:Object(_.d)(e),anySiteSelected:Object(ke.a)(e),siteCount:Object(Le.a)(e).length,staleCartItemNoticeLastTimeShown:Object(xe.a)(e,"stale-cart-item-notice"),sectionName:Object(_.c)(e),hasAllSitesList:Object(f.B)(e)}},{setLayoutFocus:x.b,infoNotice:Me.c,removeNotice:Me.e,recordTracksEvent:oe.i})(Object(u.localize)(Ge)),He=n("./client/layout/sidebar/item.jsx"),We=n("./client/layout/sidebar/button.jsx"),Be=n("./client/state/ui/editor/selectors.js"),Qe=n("./client/state/post-types/selectors.js"),ze=n("./client/components/data/query-post-types/index.jsx"),Ye=n("./client/lib/formatting/index.js"),Ke=n("./client/lib/compare-props/index.js"),Je=n("./client/my-sites/media-library/upload-button.jsx"),Ze=n("./client/state/selectors/are-all-sites-single-user.js");function $e(e,t){return Array.isArray(e)||(e=[e]),Object(d.some)(e,function(e){return n=t,r=e,n===r||n.slice(0,r.length)===r&&Object(d.includes)("/?",n[r.length]);var n,r})}var Xe=function(e){function t(){var e,n;O()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=S()(this,(e=T()(t)).call.apply(e,[this].concat(i))),n.onNavigate=function(e){return function(){Object(d.includes)(["post","page"],e)||$.default.mc.bumpStat("calypso_publish_menu_click",e),n.props.recordTracksEvent("calypso_mysites_manage_sidebar_item_clicked",{menu_item:e}),n.props.onNavigate()}},n.trackSidebarButtonClick=function(e){return function(){n.props.recordTracksEvent("calypso_mysites_manage_sidebar_button_clicked",{menu_item:e})}},n}return R()(t,e),j()(t,[{key:"getMyParameter",value:function(){var e=this.props,t=e.allSingleSites,n=e.isJetpack,r=e.isSingleUser,i=e.siteId;return i?r||n?"":"/my":t?"":"/my"}},{key:"getDefaultMenuItems",value:function(){var e=this.props,t=e.siteSlug,n=e.translate;return[{name:"page",label:n("Site Pages"),capability:"edit_pages",queryable:!0,config:"manage/pages",link:"/pages",buttonLink:t?"/page/"+t:"/page",wpAdminLink:"edit.php?post_type=page",showOnAllMySites:!0},{name:"post",label:n("Blog Posts"),capability:"edit_posts",config:"manage/posts",queryable:!0,link:"/posts"+this.getMyParameter(),paths:["/posts","/posts/my"],buttonLink:t?"/post/"+t:"/post",wpAdminLink:"edit.php",showOnAllMySites:!0},{name:"media",label:n("Media"),capability:"upload_files",queryable:!0,config:"manage/media",link:"/media",buttonLink:"/media/"+t,wpAdminLink:"upload.php",showOnAllMySites:!1},{name:"comments",label:n("Comments"),capability:"edit_posts",queryable:!0,config:"manage/comments",link:"/comments",paths:["/comment","/comments"],wpAdminLink:"edit-comments.php",showOnAllMySites:!1}]}},{key:"getPluginItem",value:function(){var e=this.props,t=e.isAtomicSite,n=e.translate;return{name:"plugins",label:n("Plugins"),capability:"manage_options",queryable:!t,config:"manage/plugins",link:"/plugins",paths:["/extensions","/plugins"],wpAdminLink:"plugin-install.php?calypsoify=1",showOnAllMySites:!0,buttonLink:t?"":"/plugins/manage/"+this.props.siteSlug,buttonText:n("Manage"),extraIcon:t?"chevron-right":null,customClassName:t?"sidebar__plugins-item":"",forceInternalLink:t}}},{key:"renderMenuItem",value:function(e){var t=this.props,n=t.canCurrentUserFn,r=t.site,i=t.siteId,s=t.siteAdminUrl;if(i&&!n(e.capability))return null;if("attachment"===e.name)return null;var o,a,u,l=K.a.isEnabled(e.config);if(!(i||l&&e.showOnAllMySites))return null;switch(o=l&&e.queryable||!s?Object(d.compact)([e.link,this.props.siteSlug]).join("/"):s+e.wpAdminLink,a=Object(d.includes)(["post","page"],e.name)?"posts-pages":"comments"===e.name?"comments":"posts-custom",e.name){case"post":u="posts";break;case"page":u="pages";break;case"jetpack-portfolio":u="folder";break;case"jetpack-testimonial":u="quote";break;case"media":u="image";break;case"comments":u="chat";break;case"plugins":u="plugins";break;default:u="custom-post-type"}var p=e.extraIcon&&c.a.createElement("div",{className:"manage_menu__"+e.name+"-extra-icon"},c.a.createElement(Q.a,{icon:e.extraIcon}));return c.a.createElement(He.a,{className:e.customClassName,key:e.name,label:e.label,selected:$e(e.paths||e.link,this.props.path),link:o,onNavigate:this.onNavigate(e.name),icon:u,preloadSectionName:a,postType:"plugins"===e.name?null:e.name,tipTarget:"side-menu-"+e.name,forceInternalLink:e.forceInternalLink},"media"===e.name&&c.a.createElement(Je.a,{className:"sidebar__button",site:r,href:e.buttonLink,onClick:this.trackSidebarButtonClick("media")},this.props.translate("Add")),"media"!==e.name&&c.a.createElement(We.a,{onClick:this.trackSidebarButtonClick(e.name),href:e.buttonLink,preloadSectionName:"post-editor"},e.buttonText||this.props.translate("Add")),p)}},{key:"getCustomMenuItems",value:function(){var e=this,t=Object(d.omit)(this.props.postTypes,["post","page"]);return Object(d.reduce)(t,function(t,n,r){return!1===n.show_ui?t:(K.a.isEnabled("manage/custom-post-types")&&n.api_queryable&&(i=e.props.getNewPostPathFn(r)),t.concat({name:n.name,label:Object(Ye.b)(Object(d.get)(n.labels,"menu_name",n.label)),config:"manage/custom-post-types",queryable:n.api_queryable,capability:Object(d.get)(n.capabilities,"edit_posts"),link:"/types/"+n.name,wpAdminLink:"edit.php?post_type="+n.name,showOnAllMySites:!1,buttonLink:i}));var i},[])}},{key:"render",value:function(){var e=i()(this.getDefaultMenuItems()).concat(i()(this.getCustomMenuItems()));return K.a.isEnabled("calypsoify/plugins")&&e.push(this.getPluginItem()),c.a.createElement("ul",null,this.props.siteId&&c.a.createElement(ze.a,{siteId:this.props.siteId}),e.map(this.renderMenuItem,this))}}]),t}(a.PureComponent);Xe.propTypes={path:N.a.string,onNavigate:N.a.func,siteId:N.a.number,allSingleSites:N.a.bool,canCurrentUserFn:N.a.func,isJetpack:N.a.bool,isSingleUser:N.a.bool,postTypes:N.a.object,getNewPostPathFn:N.a.func,siteAdminUrl:N.a.string,site:N.a.oneOfType([N.a.object,N.a.bool]),siteSlug:N.a.string};var et=Object(U.b)(function(e,t){var n=t.siteId;return{allSingleSites:Object(Ze.a)(e),canCurrentUserFn:function(e,t){return function(n){return Object(Oe.a)(e,t,n)}}(e,n),isJetpack:Object(f.K)(e,n),isSingleUser:Object(f.R)(e,n),postTypes:Object(Qe.b)(e,n),getNewPostPathFn:function(e,t){return function(n){return Object(Be.d)(e,t,n)}}(e,n),siteAdminUrl:Object(f.m)(e,n),site:Object(f.l)(e,n),siteId:n,siteSlug:Object(f.w)(e,n)}},{recordTracksEvent:oe.i},null,{areStatePropsEqual:Object(Ke.a)({ignore:["canCurrentUserFn","getNewPostPathFn"]})})(Object(u.localize)(Xe)),tt=n("./client/layout/sidebar/index.jsx"),nt=n("./client/layout/sidebar/footer.jsx"),rt=n("./client/layout/sidebar/heading.jsx"),it=n("./client/layout/sidebar/menu.jsx"),st=n("./client/layout/sidebar/region.jsx"),ot=n("./client/components/data/query-site-stats/index.jsx"),at=n("./client/state/stats/lists/selectors.js"),ct=function(e){var t=e.isJetpack,n=e.siteUrl,r=e.className,i=e.siteId,s=e.highestViews,o=e.translate;if(!i||!n||t)return null;var a=s?o("Highest hourly views %(highestViews)s",{args:{highestViews:s}}):null;return c.a.createElement("span",null,i&&c.a.createElement(ot.a,{siteId:i,statType:"statsInsights"}),c.a.createElement("img",{className:r,title:a,src:n+"/wp-includes/charts/admin-bar-hours-scale-2x.php?masterbar=1&s="+i}))};ct.propTypes={className:N.a.string,siteId:N.a.number,isJetpack:N.a.bool,siteUrl:N.a.string};var ut=Object(U.b)(function(e,t){var n=t.siteId,r=Object(d.get)(Object(at.c)(e,n,"statsInsights"),"hourlyViews",[]),i=Object(d.sortBy)(Object(d.mapValues)(r));return{isJetpack:Object(f.K)(e,n),siteUrl:Object(f.s)(e,n,"unmapped_url"),highestViews:i.length?i[i.length-1]:0}})(Object(u.localize)(ct)),lt=n("./client/components/jetpack-logo/index.jsx"),dt=n("./client/lib/products-values/index.js"),pt=n("./client/state/current-user/selectors.js"),mt=n("./client/state/selectors/can-current-user-manage-plugins.js"),ft=n("./client/state/selectors/get-primary-site-id.js"),_t=n("./client/state/selectors/has-jetpack-sites.js"),Et=n("./client/state/selectors/has-site-pending-automated-transfer.js"),bt=n("./client/state/selectors/is-site-automated-transfer.js"),gt=n("./client/lib/route/index.js"),ht=n("./client/state/automated-transfer/selectors.js"),Ot=n("./client/state/automated-transfer/constants.js"),yt=W()("calypso:my-sites:sidebar"),jt=function(e){function t(){var e,n;O()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=S()(this,(e=T()(t)).call.apply(e,[this].concat(i))),n.onNavigate=function(){n.props.setNextLayoutFocus("content"),window.scrollTo(0,0)},n.onViewSiteClick=function(e){var t=n.props,r=t.isPreviewable,i=t.siteSuffix;return r?e.altKey||e.ctrlKey||e.metaKey||e.shiftKey?(n.trackMenuItemClick("view_site_modifier"),void n.props.recordGoogleEvent("Sidebar","Clicked View Site | Modifier Key")):(e.preventDefault(),n.trackMenuItemClick("view_site"),n.props.recordGoogleEvent("Sidebar","Clicked View Site | Calypso"),void o()("/view"+i)):(n.trackMenuItemClick("view_site_unpreviewable"),void n.props.recordGoogleEvent("Sidebar","Clicked View Site | Unpreviewable"))},n.trackStatsClick=function(){n.trackMenuItemClick("stats"),n.onNavigate()},n.trackAdsClick=function(){n.trackMenuItemClick("ads"),n.onNavigate()},n.trackAdsUpsellClick=function(){n.trackMenuItemClick("ads"),n.props.recordTracksEvent("calypso_upgrade_nudge_cta_click",{cta_name:"store_ads"}),n.onNavigate()},n.trackCustomizeClick=function(){n.trackMenuItemClick("customize"),n.onNavigate()},n.trackSidebarButtonClick=function(e){return function(){n.props.recordTracksEvent("calypso_mysites_sidebar_"+e.replace(/-/g,"_")+"_sidebar_button_clicked")}},n.trackPluginsClick=function(){n.trackMenuItemClick("plugins"),n.onNavigate()},n.trackDomainsClick=function(){n.trackMenuItemClick("domains"),n.onNavigate()},n.trackStoreClick=function(){n.trackMenuItemClick("store"),n.props.recordTracksEvent("calypso_woocommerce_store_nav_item_click"),n.onNavigate()},n.trackStoreUpsellClick=function(){n.trackMenuItemClick("store"),n.props.recordTracksEvent("calypso_upgrade_nudge_cta_click",{cta_name:"store_sidebar"}),n.onNavigate()},n.trackMenuItemClick=function(e){n.props.recordTracksEvent("calypso_mysites_sidebar_"+e.replace(/-/g,"_")+"_clicked")},n.trackPlanClick=function(){n.trackMenuItemClick("plan"),n.props.recordTracksEvent("calypso_upgrade_nudge_cta_click",{cta_name:"sidebar_upgrade_default"}),n.onNavigate()},n.trackSharingClick=function(){n.trackMenuItemClick("sharing"),n.onNavigate()},n.trackPeopleClick=function(){n.trackMenuItemClick("people"),n.onNavigate()},n.trackSettingsClick=function(){n.trackMenuItemClick("settings"),n.onNavigate()},n.trackWpadminClick=function(){n.trackMenuItemClick("wpadmin"),n.props.recordGoogleEvent("Sidebar","Clicked WP Admin")},n.focusContent=function(){n.props.setLayoutFocus("content")},n.trackDomainSettingsClick=function(){n.trackMenuItemClick("domain_settings"),n.onNavigate()},n}return R()(t,e),j()(t,[{key:"componentDidMount",value:function(){yt("The sidebar React component is mounted.")}},{key:"manage",value:function(){return c.a.createElement(et,{siteId:this.props.siteId,path:this.props.path,isAtomicSite:this.props.isAtomicSite,onNavigate:this.onNavigate})}},{key:"stats",value:function(){var e=this.props,t=e.siteId,n=e.canUserViewStats,r=e.path,i=e.translate;if(t&&!n)return null;var s=Object(gt.f)("day",t);return c.a.createElement(He.a,{tipTarget:"menus",label:i("Stats"),className:"stats",selected:$e(["/stats","/store/stats","/google-my-business/stats"],r),link:s,onNavigate:this.trackStatsClick,icon:"stats-alt"},c.a.createElement("a",{href:s},c.a.createElement(ut,{className:"sidebar__sparkline",siteId:t})))}},{key:"preview",value:function(){var e=this.props,t=e.isPreviewable,n=e.path,r=e.site,i=e.siteId,s=e.translate;if(!i)return null;var o=r&&r.URL||"";return c.a.createElement(He.a,{tipTarget:"sitePreview",label:s("View Site"),selected:$e(["/view"],n),link:o,onNavigate:this.onViewSiteClick,icon:"computer",preloadSectionName:"preview",forceInternalLink:t})}},{key:"ads",value:function(){var e=this.props,t=e.path,n=e.canUserUpgradeSite,r=e.canUserUseAds;return r?c.a.createElement(He.a,{label:this.props.isJetpack?"Ads":"WordAds",selected:$e("/ads",t),link:"/ads/earnings"+this.props.siteSuffix,onNavigate:this.trackAdsClick,icon:"speaker",tipTarget:"wordads"}):!this.props.isJetpack&&Object(K.b)("upsell/nudge-a-palooza")&&n&&"sidebarUpsells"===Object(z.a)("nudgeAPalooza")?c.a.createElement(He.a,{label:"WordAds",selected:$e("/feature/ads",t),link:"/feature/ads"+this.props.siteSuffix,onNavigate:this.trackAdsUpsellClick,icon:"speaker",tipTarget:"wordads"}):null}},{key:"themes",value:function(){var e,t=this.props,n=t.path,r=t.site,i=t.translate,s=t.canUserEditThemeOptions,o=Object(K.b)("manage/themes-jetpack");return r&&!s?null:Object(K.b)("manage/themes")?(e=this.props.isJetpack&&!o&&r.options?r.options.admin_url+"themes.php":this.props.siteId?"/themes"+this.props.siteSuffix:"/themes",c.a.createElement(He.a,{label:i("Customize"),tipTarget:"themes",selected:$e("/customize",n),link:this.props.customizeUrl,onNavigate:this.trackCustomizeClick,icon:"customize",preloadSectionName:"customize",forceInternalLink:!0},c.a.createElement(We.a,{onClick:this.trackSidebarButtonClick("themes"),href:e,preloadSectionName:"themes",forceTargetInternal:!0},this.props.translate("Themes")))):null}},{key:"plugins",value:function(){if(Object(K.b)("calypsoify/plugins"))return null;if(!this.props.canManagePlugins)return null;if(this.props.siteId&&!this.props.canUserManageOptions)return null;var e="/plugins"+this.props.siteSuffix,t="/plugins/manage"+this.props.siteSuffix,n=this.props.isJetpack||!this.props.siteId&&this.props.hasJetpackSites?c.a.createElement(We.a,{onClick:this.trackSidebarButtonClick("manage_plugins"),href:t},this.props.translate("Manage")):null;return c.a.createElement(He.a,{label:this.props.translate("Plugins"),selected:$e(["/extensions","/plugins"],this.props.path),link:e,onNavigate:this.trackPluginsClick,icon:"plugins",preloadSectionName:"plugins",tipTarget:"plugins"},n)}},{key:"upgrades",value:function(){var e=this.props,t=e.path,n=e.translate,r=e.canUserManageOptions,i="/domains/manage"+this.props.siteSuffix,s="/domains/add"+this.props.siteSuffix;return this.props.siteId&&r?this.props.isJetpack&&!this.props.isAtomicSite?null:c.a.createElement(He.a,{label:n("Domains"),selected:$e(["/domains"],t),link:i,onNavigate:this.trackDomainsClick,icon:"domains",preloadSectionName:"domains",tipTarget:"domains"},c.a.createElement(We.a,{onClick:this.trackSidebarButtonClick("add_domain"),href:s},n("Add"))):null}},{key:"plan",value:function(){var e=this.props,t=e.path,n=e.site,r=e.translate,i=e.canUserManageOptions;if(!n)return null;if(!i)return null;var s="/plans"+this.props.siteSuffix;(Object(dt.F)(n.plan)||Object(dt.H)(n.plan)||Object(dt.h)(n.plan))&&(s="/plans/my-plan"+this.props.siteSuffix);var o=q()({selected:$e(["/plans"],t)}),a=n&&n.plan.product_name_short;return n&&Object(dt.w)(n.plan)&&(a=r("Trial",{context:"Label in the sidebar indicating that the user is on the free trial for a plan."})),c.a.createElement("li",{className:o,"data-tip-target":"plan"},c.a.createElement("a",{onClick:this.trackPlanClick,href:s},c.a.createElement(lt.a,{size:24}),c.a.createElement("span",{className:"menu-link-text"},r("Plan",{context:"noun"})),c.a.createElement("span",{className:"sidebar__menu-link-secondary-text"},a)))}},{key:"store",value:function(){var e=this.props,t=e.canUserUpgradeSite,n=e.site,r=e.canUserUseStore;return Object(K.b)("woocommerce/extension-dashboard")&&n?r?this.storeSidebarItem():Object(K.b)("upsell/nudge-a-palooza")&&t&&"sidebarUpsells"===Object(z.a)("nudgeAPalooza")?this.storeUpsellSidebarItem():null:null}},{key:"storeSidebarItem",value:function(){var e=this.props,t=e.siteSuffix,n=e.translate;return c.a.createElement(He.a,{label:n("Store"),link:"/store"+t,onNavigate:this.trackStoreClick,icon:"cart"},c.a.createElement("div",{className:"sidebar__chevron-right"},c.a.createElement(Q.a,{icon:"chevron-right"})))}},{key:"storeUpsellSidebarItem",value:function(){var e=this.props,t=e.siteSuffix,n=e.translate,r=e.path;return c.a.createElement(He.a,{label:n("Store"),link:"/feature/store"+t,selected:$e("/feature/store",r),onNavigate:this.trackStoreUpsellClick,icon:"cart"},c.a.createElement(se.a,{eventName:"calypso_upgrade_nudge_impression",eventProperties:{cta_name:"store_upsell"}}),c.a.createElement("div",{className:"sidebar__chevron-right"},c.a.createElement(Q.a,{icon:"chevron-right"})))}},{key:"sharing",value:function(){var e=this.props,t=e.isJetpack,n=e.isSharingEnabledOnJetpackSite,r=e.path,i=e.site,s="/sharing"+this.props.siteSuffix;return i&&!this.props.canUserPublishPosts?null:this.props.siteId?t&&!n?null:c.a.createElement(He.a,{label:this.props.translate("Sharing"),selected:$e("/sharing",r),link:s,onNavigate:this.trackSharingClick,icon:"share",preloadSectionName:"sharing",tipTarget:"sharing"}):null}},{key:"users",value:function(){var e=this.props,t=e.translate,n=e.path,r=e.site,i=e.canUserListUsers;return r&&i?c.a.createElement(He.a,{label:t("People"),selected:$e("/people",n),link:"/people/team"+this.props.siteSuffix,onNavigate:this.trackPeopleClick,icon:"user",preloadSectionName:"people",tipTarget:"people"},c.a.createElement(We.a,{onClick:this.trackSidebarButtonClick("add_people"),href:"/people/new"+this.props.siteSuffix},t("Add"))):null}},{key:"siteSettings",value:function(){var e=this.props,t=e.path,n=e.site,r=e.canUserManageOptions,i="/settings/general"+this.props.siteSuffix;return n&&!r?null:this.props.siteId?c.a.createElement(He.a,{label:this.props.translate("Settings"),selected:$e("/settings",t),link:i,onNavigate:this.trackSettingsClick,icon:"cog",preloadSectionName:"settings",tipTarget:"settings"}):null}},{key:"wpAdmin",value:function(){var e=this.props.site;return e&&e.options&&(this.useWPAdminFlows()||this.props.isAtomicSite)?c.a.createElement("li",{className:"wp-admin"},c.a.createElement("a",{onClick:this.trackWpadminClick,href:e.options.admin_url,target:"_blank",rel:"noopener noreferrer"},c.a.createElement(Q.a,{icon:"my-sites",size:24}),c.a.createElement("span",{className:"menu-link-text"},this.props.translate("WP Admin")),c.a.createElement(Q.a,{icon:"external",size:24}))):null}},{key:"useWPAdminFlows",value:function(){var e=this.props.site,t=this.props.currentUser,n=new Date(t.date),r=new Date("2015-09-07");return!(!e||!e.is_vip)||n<r}},{key:"getAddNewSiteUrl",value:function(){return"/jetpack/new/?ref=calypso-selector"}},{key:"addNewSite",value:function(){return this.props.currentUser.visible_site_count>1?null:c.a.createElement(Y.a,{borderless:!0,className:"my-sites-sidebar__add-new-site",href:this.getAddNewSiteUrl(),onClick:this.focusContent},c.a.createElement(Q.a,{icon:"add-outline"})," ",this.props.translate("Add New Site"))}},{key:"renderSidebarMenus",value:function(){if(this.props.isDomainOnly)return c.a.createElement(it.a,null,c.a.createElement("ul",null,c.a.createElement(He.a,{selected:$e("/domains",this.props.path),icon:"cog",label:this.props.translate("Settings"),link:"/domains/manage"+this.props.siteSuffix,onNavigate:this.trackDomainSettingsClick,tipTarget:"settings"})));Object(K.b)("upsell/nudge-a-palooza")&&Object(z.a)("nudgeAPalooza");var e=!!this.manage(),t=!!(this.sharing()||this.users()||this.siteSettings()||this.plugins()||this.upgrades());return c.a.createElement("div",null,c.a.createElement(it.a,null,c.a.createElement("ul",null,this.preview(),this.stats(),this.plan(),this.store())),e?c.a.createElement(it.a,null,c.a.createElement(rt.a,null,this.props.translate("Manage")),this.manage()):null,this.themes()?c.a.createElement(it.a,null,c.a.createElement(rt.a,null,this.props.translate("Personalize")),c.a.createElement("ul",null,this.themes())):null,t?c.a.createElement(it.a,null,c.a.createElement(rt.a,null,this.props.translate("Configure")),c.a.createElement("ul",null,this.ads(),this.sharing(),this.users(),this.plugins(),this.upgrades(),this.siteSettings(),this.wpAdmin())):null)}},{key:"render",value:function(){return c.a.createElement(tt.a,null,c.a.createElement(st.a,null,c.a.createElement(qe,null),this.renderSidebarMenus()),c.a.createElement(nt.a,null,this.addNewSite()))}}]),t}(a.Component);jt.propTypes={setNextLayoutFocus:N.a.func.isRequired,setLayoutFocus:N.a.func.isRequired,path:N.a.string,currentUser:N.a.object,isDomainOnly:N.a.bool,isJetpack:N.a.bool,isAtomicSite:N.a.bool};var vt=Object(U.b)(function(e){var t=Object(pt.b)(e),n=Object(_.e)(e),r=!!n||1===t.site_count,i=n||r&&Object(ft.a)(e)||null,s=Object(f.l)(e,i),o=Object(f.K)(e,i),a=Object(f.J)(e,i,"publicize")||Object(f.J)(e,i,"sharedaddy")&&!Object(f.I)(e,i,"3.4-dev"),c=Object(ht.b)(e,i),u=Object(Et.a)(e,i);return{canManagePlugins:Object(mt.a)(e),canUserEditThemeOptions:Object(Oe.a)(e,i,"edit_theme_options"),canUserListUsers:Object(Oe.a)(e,i,"list_users"),canUserManageOptions:Object(Oe.a)(e,i,"manage_options"),canUserPublishPosts:Object(Oe.a)(e,i,"publish_posts"),canUserViewStats:Object(Oe.a)(e,i,"view_stats"),canUserUseStore:Object(f.e)(e,i),canUserUseAds:Object(f.d)(e,i),canUserUpgradeSite:Object(f.c)(e,i),currentUser:t,customizeUrl:Object(f.h)(e,n),hasJetpackSites:Object(_t.a)(e),isDomainOnly:Object(ye.a)(e,n),isJetpack:o,isPreviewable:Object(f.S)(e,n),isSharingEnabledOnJetpackSite:a,isAtomicSite:!!Object(bt.a)(e,n),siteId:i,site:s,siteSuffix:s?"/"+s.slug:"",siteHasBackgroundTransfer:u&&c!==Ot.b.ERROR}},{recordGoogleEvent:oe.g,recordTracksEvent:oe.i,setLayoutFocus:x.b,setNextLayoutFocus:x.c})(Object(u.localize)(jt)),St=function(e){function t(){var e,n;O()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=S()(this,(e=T()(t)).call.apply(e,[this].concat(i))),n.preventPickerDefault=function(e){e.preventDefault(),e.stopPropagation()},n}return R()(t,e),j()(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"sites-navigation"},c.a.createElement(V,{allSitesPath:this.props.allSitesPath,siteBasePath:this.props.siteBasePath,onClose:this.preventPickerDefault}),c.a.createElement(vt,{path:this.props.path,siteBasePath:this.props.siteBasePath}))}}]),t}(c.a.Component);St.displayName="MySitesNavigation";var It=St,Tt=n("./client/notices/index.js"),Ct=n("./client/state/selectors/get-primary-domain-by-site-id.js"),Rt=n("./client/state/selectors/get-site-id.js"),At=n("./client/state/selectors/get-sites.js"),Nt=n("./client/components/main/index.jsx"),wt=function(e){function t(){var e,n;O()(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=S()(this,(e=T()(t)).call.apply(e,[this].concat(i))),n.filterSites=function(e){var t=n.props.siteBasePath;return/^\/domains/.test(t)?!e.jetpack||e.options.is_automated_transfer:/^\/plans/.test(t)?!e.jetpack||e.isSiteUpgradeable:e},n.getHeaderText=function(){if(n.props.getSiteSelectionHeaderText)return n.props.getSiteSelectionHeaderText();var e=n.props.siteBasePath.split("?")[0].split("/")[1];switch(void 0!==e&&(e=e.toLowerCase()),e){case"stats":e=l.a.translate("Insights"),"/stats/activity"===n.props.siteBasePath&&(e=l.a.translate("Activity"));break;case"plans":e=l.a.translate("Plans");break;case"media":e=l.a.translate("Media");break;case"sharing":e=l.a.translate("Sharing");break;case"people":e=l.a.translate("People");break;case"domains":e=l.a.translate("Domains");break;case"settings":e=l.a.translate("Settings")}return l.a.translate("Please select a site to open {{strong}}%(path)s{{/strong}}",{args:{path:e},components:{strong:c.a.createElement("strong",null)}})},n}return R()(t,e),j()(t,[{key:"render",value:function(){return c.a.createElement(Nt.a,{className:"sites"},c.a.createElement("h2",{className:"sites__select-heading"},this.getHeaderText()),c.a.createElement(X.a,{className:"sites__selector-wrapper"},c.a.createElement(k.a,{filter:this.filterSites,siteBasePath:this.props.siteBasePath,groups:!0})))}}]),t}(a.Component);wt.propTypes={siteBasePath:N.a.string.isRequired};var Pt=wt,Ut=n("./client/controller/index.web.js"),Dt=n("./client/components/empty-content/no-sites-message/index.jsx"),kt=n("./client/components/empty-content/index.jsx"),Lt=n("./client/my-sites/domains/domain-management/list/domain-only.jsx");n.d(t,"c",function(){return Ht}),n.d(t,"d",function(){return Bt}),n.d(t,"a",function(){return Qt}),n.d(t,"b",function(){return zt}),n.d(t,"e",function(){return Yt});var Mt=function(e){return{getState:function(){return e.store.getState()},dispatch:function(t){return e.store.dispatch(t)}}},xt=Object(p.default)(),Ft="Sites";function Vt(e){var t=Object(gt.d)(e.pathname),n=e.pathname;return t&&(n=Object(gt.i)(e.pathname)),c.a.createElement(It,{path:e.path,allSitesPath:n,siteBasePath:n,user:xt})}function Gt(e){e.store.dispatch(Object(E.f)({group:"sites",secondary:!1}))}function qt(e){var t=Mt(e),n=t.getState,r=n(),s=Object(_.d)(r);!Object(f.l)(r,s.ID)&&s.capabilities&&e.store.dispatch(Object(m.c)(s)),e.store.dispatch(Object(E.g)(s.ID));var o=Object(Ct.a)(n(),s.ID);if(Object(ye.a)(r,s.ID)&&!function(e,t,n){var r=[ge.a,ge.b,ge.c,ge.e,ge.f,ge.g,ge.h,ge.i,ge.k,ge.m,ge.n,ge.p,ge.s,ge.u],i=r.map(function(e){return e(t,t)});n&&t!==n.name&&(i=i.concat(r.map(function(e){return e(t,n.name)})));var s=["/checkout/","/me/purchases/"+t];return!!Object(d.some)(s,function(t){return Object(d.startsWith)(e,t)})||i.indexOf(e)>-1}(e.pathname,s.slug,o))return function(e,t){e.primary=c.a.createElement(Lt.a,{siteId:t.ID,hasNotice:!1}),e.secondary=Vt(e),Object(Ut.c)(e,d.noop),Object(Ut.f)(e)}(e,s),!1;if(Object(g.c)(r)){var a=Object(g.b)(r,"recentSites");if(s.ID!==a[0]){var u=Object(d.uniq)([s.ID].concat(i()(a))).slice(0,5).filter(function(e){return!!Object(f.l)(r,e)});e.store.dispatch(Object(b.b)("recentSites",u))}}return!0}function Ht(e,t){return e.store.dispatch(Object(E.g)(null)),t()}function Wt(e){var t=Object(ft.a)(e);return Object(f.w)(e,t)}function Bt(e,t){var n=Mt(e),r=n.getState,i=n.dispatch,s=e.params.site||Object(gt.d)(e.path),a=Object(gt.i)(e.path,s),u=xt.get(),p=1===u.visible_site_count,_=Object(gt.i)(e.path,s);if(u&&0===u.site_count)return function(e){Gt(e),e.primary=c.a.createElement(Dt.a),Object(Ut.c)(e,d.noop),Object(Ut.f)(e)}(e),$.default.pageView.record("/no-sites",Ft+" > No Sites",{base_path:a});if(u&&0===u.visible_site_count)return function(e){var t=xt.get(),n=t.site_count-t.visible_site_count,r=Object(K.a)("signup_url");Gt(e),e.primary=c.a.createElement(kt.a,{title:l.a.translate("You have %(hidden)d hidden WordPress site.","You have %(hidden)d hidden WordPress sites.",{count:n,args:{hidden:n}}),line:l.a.translate("To manage it here, set it to visible.","To manage them here, set them to visible.",{count:n}),action:l.a.translate("Change Visibility"),actionURL:"//dashboard.wordpress.com/wp-admin/index.php?page=my-blogs",secondaryAction:l.a.translate("Create New Site"),secondaryActionURL:r+"?ref=calypso-nosites"}),Object(Ut.c)(e,d.noop),Object(Ut.f)(e)}(e),$.default.pageView.record("/no-sites",Ft+" > All Sites Hidden",{base_path:a});if(/^\/settings\/account/.test(e.path))return t();if(!p||s){if(!s)return i(Object(E.c)()),t();var b=Object(Rt.a)(r(),s);if(b){var g=r(),h=Object(bt.a)(g,b),O=Object(Oe.a)(g,b,"manage_options"),y=h&&K.a.isEnabled("calypsoify/plugins");if(window&&window.location&&window.location.replace&&O&&y&&/^\/plugins/.test(a)){var j=Object(f.m)(g,b)+"plugin-install.php?calypsoify=1";return window.location.replace(j)}i(Object(E.g)(b));var v=qt(e);if(!v)return}else{var S=function(){var t=Object(Rt.a)(r(),s);Object(f.l)(r(),t)?(i(Object(E.g)(t)),qt(e)):Object(f.B)(r())&&o.a.redirect(_)};if(i(Object(m.e)(s)).then(S),!Object(f.Q)(r())&&!Object(f.P)(r(),s))return o.a.redirect(_);i({type:"SITES_ONCE_CHANGED",listener:S})}t()}else{var I=function(){var t=Wt(r()),n=e.pathname+"/"+t;n=e.querystring?n+"?"+e.querystring:n,o.a.redirect(n)},T=Object(At.a)(r()).length;T?Wt(r())?I():function(e,t){var n=e.username,r=e.primary_blog,i=e.primary_blog_url,s=e.primary_blog_is_jetpack,o={username:n,primary_blog:r,primary_blog_url:i,primary_blog_is_jetpack:s};e.primary_blog_is_jetpack?(t(Object(Me.g)(l.a.translate("Please check your Primary Site's Jetpack connection"),{button:"wp-admin",href:e.primary_blog_url+"/wp-admin"})),$.default.tracks.recordEvent("calypso_mysites_single_site_jetpack_connection_error",o)):$.default.tracks.recordEvent("calypso_mysites_single_site_error",o)}(u,i):i({type:"SITES_ONCE_CHANGED",listener:I})}}function Qt(e,t){return function(n,r){var i=Mt(n),s=i.getState,a=Object(_.e)(s()),c=Object(f.K)(s(),a),u=Object(f.J)(s(),a,e);if(!c)return r();u||!1===t?r():o.a.redirect("string"==typeof t?t:"/stats")}}function zt(e,t){e.secondary=Vt(e),t()}function Yt(e,t){"1"===e.query.verified&&Tt.a.success(l.a.translate("Email verified! Now that you've confirmed your email address you can publish posts on your blog.")),e.store.dispatch(Object(x.b)("content")),e.store.dispatch(Object(E.f)({group:"sites",secondary:!1})),e.primary=function(e){var t=Object(gt.i)(e.path),n="/sites"===t?"/stats":t;return $.default.pageView.record(t,Ft),c.a.createElement(Pt,{siteBasePath:n,getSiteSelectionHeaderText:e.getSiteSelectionHeaderText})}(e),t()}},"./client/my-sites/customize/panels.js":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(s),a={widgets:["panel","widgets"],fonts:["section","jetpack_fonts"],identity:["section","title_tagline"],"custom-css":["section","jetpack_custom_css"],amp:["section","amp_design"],menus:["panel","nav_menus"]};function c(e){if(a.hasOwnProperty(e)){var t=o()(a[e],2),n=t[0],r=t[1];return i()({},"autofocus["+n+"]",r)}return null}},"./client/my-sites/domains/domain-management/list/domain-only.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/i18n-calypso/index.js"),s=n("./node_modules/prop-types/index.js"),o=n.n(s),a=n("./node_modules/react/index.js"),c=n.n(a),u=n("./client/components/empty-content/index.jsx"),l=n("./client/components/data/query-site-domains/index.jsx"),d=n("./client/my-sites/domains/paths.js"),p=n("./client/state/selectors/get-primary-domain-by-site-id.js"),m=n("./client/state/sites/selectors.js"),f=function(e){var t=e.primaryDomain,n=e.hasNotice,r=e.siteId,i=e.slug,s=e.translate;if(!t)return c.a.createElement("div",null,c.a.createElement(l.a,{siteId:r}),c.a.createElement(u.a,{className:"domain-only-site__placeholder",illustration:"/calypso/images/drake/drake-browser.svg"}));var o=t.name;return c.a.createElement("div",null,c.a.createElement(u.a,{title:s("%(domainName)s is ready when you are.",{args:{domainName:o}}),line:s("Start a site now to unlock everything WordPress.com can offer."),action:s("Create Site"),actionURL:"/start/site-selected/?siteSlug="+encodeURIComponent(i)+"&siteId="+encodeURIComponent(r),secondaryAction:s("Manage Domain"),secondaryActionURL:Object(d.e)(i,o),illustration:"/calypso/images/drake/drake-browser.svg"}),n&&c.a.createElement("div",{className:"domain-only-site__settings-notice"},s("Your domain should start working immediately, but may be unreliable during the first 72 hours.")))};f.propTypes={primaryDomain:o.a.object,hasNotice:o.a.bool.isRequired,translate:o.a.func.isRequired,siteId:o.a.number.isRequired},t.a=Object(r.b)(function(e,t){return{slug:Object(m.w)(e,t.siteId),primaryDomain:Object(p.a)(e,t.siteId)}})(Object(i.localize)(f))},"./client/my-sites/domains/paths.js":function(e,t,n){"use strict";n.d(t,"o",function(){return i}),n.d(t,"i",function(){return s}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"j",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"m",function(){return _}),n.d(t,"n",function(){return E}),n.d(t,"l",function(){return b}),n.d(t,"p",function(){return g}),n.d(t,"q",function(){return h}),n.d(t,"r",function(){return O}),n.d(t,"s",function(){return y}),n.d(t,"t",function(){return j}),n.d(t,"u",function(){return v}),n.d(t,"v",function(){return S}),n.d(t,"w",function(){return I}),n.d(t,"x",function(){return T}),n.d(t,"y",function(){return C}),n.d(t,"d",function(){return R});var r=n("./node_modules/lodash/lodash.js");function i(){return"/domains/manage"}function s(e){return"/domains/manage/"+e}function o(e,t,n){return n=n||"edit",Object(r.startsWith)(t,":")||(t=encodeURIComponent(encodeURIComponent(t))),"/domains/manage/"+t+"/"+n+"/"+e}function a(e,t){var n;return n=t?o(e,t,"add-google-apps"):"/domains/manage/add-google-apps/"+e,n}function c(e,t){return o(e,t,"contacts-privacy")}function u(e,t){return o(e,t,"edit-contact-info")}function l(e,t){return o(e,t,"manage-consent")}function d(e,t){var n;return n=t?o(e,t,"email"):e?"/domains/manage/email/"+e:"/domains/manage/email",n}function p(e,t){return o(e,t,"email-forwarding")}function m(e,t){return o(e,t,"name-servers")}function f(e,t){return o(e,t,"dns")}function _(e,t){return o(e,t,"privacy-protection")}function E(e,t){return o(e,t,"redirect-settings")}function b(e,t){return o(e,t,"primary-domain")}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return o(e,t,Object(r.filter)(["transfer",n]).join("/"))}function h(e,t){return g(e,t,"in")}function O(e,t){return g(e,t,"precheck")}function y(e,t){return g(e,t,"out")}function j(e,t){return g(e,t,"other-user")}function v(e,t){return g(e,t,"other-site")}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="/domains/add/mapping/"+e;return t&&(n+="?initialQuery="+t),n}function I(e,t){var n="/domains/add/transfer/"+e;return t&&(n+="?initialQuery="+t),n}function T(e,t){var n="/domains/add/use-your-domain/"+e;return t&&(n+="?initialQuery="+t),n}function C(e){var t=new RegExp("^/domains/manage/[^/]+/([^/]+)","g"),n=t.exec(e);return n?n[1]:null}function R(e,t){return o(e,t,"domain-connect-mapping")}},"./client/my-sites/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/page/page.js"),i=n.n(r),s=n("./client/my-sites/controller.js"),o=n("./client/controller/index.web.js");t.default=function(){i()("/sites/:site",function(e){return i.a.redirect("/stats/insights/"+e.params.site)}),i()("/sites",s.d,s.e,o.c,o.f)}},"./client/my-sites/media-library/upload-button.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return R});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/react-dom/index.js"),f=n.n(m),_=n("./node_modules/prop-types/index.js"),E=n.n(_),b=n("./node_modules/react/index.js"),g=n.n(b),h=n("./node_modules/lodash/lodash.js"),O=n("./node_modules/classnames/index.js"),y=n.n(O),j=n("./node_modules/page/page.js"),v=n.n(j),S=n("./client/lib/analytics/index.js"),I=n("./client/lib/media/actions.js"),T=n("./client/lib/media/utils.js"),C=n("./client/lib/media/constants.js"),R=function(e){function t(){var e,n;i()(this,t);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(s))),n.onClick=function(){n.props.onClick&&n.props.onClick(),n.props.href&&v()(n.props.href)},n.uploadFiles=function(e){e.target.files&&n.props.site&&(I.a.clearValidationErrors(n.props.site.ID),I.a.add(n.props.site,e.target.files)),f.a.findDOMNode(n.refs.form).reset(),n.props.onAddMedia(),S.default.mc.bumpStat("editor_upload_via","add_button")},n.getInputAccept=function(){if(!Object(T.l)(n.props.site))return null;var e=Object(T.f)(n.props.site);return Object(h.uniq)(e.concat(C.j)).map(function(e){return"."+e}).join()},n}return p()(t,e),o()(t,[{key:"render",value:function(){var e=y()("media-library__upload-button","button",this.props.className);return g.a.createElement("form",{ref:"form",className:e},this.props.children,g.a.createElement("input",{type:"file",accept:this.getInputAccept(),multiple:!0,onChange:this.uploadFiles,onClick:this.onClick,className:"media-library__upload-button-input"}))}}]),t}(g.a.Component);R.displayName="MediaLibraryUploadButton",R.propTypes={site:E.a.object,onAddMedia:E.a.func,className:E.a.string},R.defaultProps={onAddMedia:h.noop,type:"button",href:null}},"./client/my-sites/plan-price/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/inherits.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),f=n.n(m),_=n("./node_modules/react/index.js"),E=n.n(_),b=n("./node_modules/classnames/index.js"),g=n.n(b),h=n("./client/lib/format-currency/index.js"),O=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.currencyCode,n=e.rawPrice,r=e.original,i=e.discounted,s=e.className,o=e.isInSignup;if(!t||0!==n&&!n)return null;var a=Object(h.c)(n,t),c=g()("plan-price",s,{"is-original":r,"is-discounted":i});return o?E.a.createElement("span",{className:c},a.symbol,a.integer,n-a.integer>0&&a.fraction):E.a.createElement("h4",{className:c},E.a.createElement("sup",{className:"plan-price__currency-symbol"},a.symbol),E.a.createElement("span",{className:"plan-price__integer"},a.integer),E.a.createElement("sup",{className:"plan-price__fraction"},n-a.integer>0&&a.fraction))}}]),t}(_.Component);O.propTypes={rawPrice:f.a.number,original:f.a.bool,discounted:f.a.bool,currencyCode:f.a.string,className:f.a.string},O.defaultProps={currencyCode:"USD",original:!1,discounted:!1,className:""}},"./client/notices/index.js":function(e,t,n){"use strict";var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./client/lib/mixins/emitter/index.js"),o=i()("calypso:notices");o("initializing notices");var a={containerNames:{}};Object(s.a)(a);var c=[],u={new:function(e,t,n){var r=t.overlay?"overlay-notices":"notices";a.containerNames[r]=r,o("creating notice",e,t,n),a[r]=[];var i={type:t.type||"message",status:n,text:e,duration:t.duration,container:r,button:t.button,href:t.href,onClick:function(e){if("function"==typeof t.onClick){var n=u.removeNotice.bind(u,i);return t.onClick(e,n)}},onRemoveCallback:t.onRemoveCallback||function(){},arrow:t.arrow,isCompact:t.isCompact,showDismiss:t.showDismiss,persistent:t.persistent};return t.displayOnNextPage?c.push(i):a[r].push(i),a.emit("change"),i},success:function(e,t){return t=t||{},this.new(e,t,"is-success")},error:function(e,t){return t=t||{},this.new(e,t,"is-error")},info:function(e,t){return t=t||{},this.new(e,t,"is-info")},warning:function(e,t){return t=t||{},this.new(e,t,"is-warning")},list:a,removeNotice:function(e){if(e.container){var t=a[e.container],n=t.indexOf(e);-1!==n&&(t.splice(n,1),a.emit("change"))}},clearNoticesOnNavigation:function(e,t){o("clearNoticesOnNavigation");var n,r,i=!1,s=function(e){return e.persistent};for(r in a.containerNames)n=a[r].length,a[r]=a[r].filter(s),n!==a[r].length&&(i=!0);c.length&&(c.forEach(function(e){a[e.container]=[],a[e.container].push(e)}),c=[]),i&&a.emit("change"),t()},clearNotices:function(e){a[e]=[],a.emit("change")},getStatusHelper:function(e){return e.error?"is-error":e.warning?"is-warning":e.info?"is-info":e.success?"is-success":void 0}};t.a=u},"./client/reader/discover/helper.js":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"i",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"j",function(){return _}),n.d(t,"k",function(){return E}),n.d(t,"l",function(){return b}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return h}),n.d(t,"e",function(){return O}),n.d(t,"c",function(){return y}),n.d(t,"f",function(){return j});var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/url/url.js"),s=n.n(i),o=n("./client/config/index.js"),a=n("./node_modules/debug/src/browser.js"),c=n.n(a),u=n("./client/lib/user/utils.js"),l=n("./client/reader/route/index.js");c()("calypso:reader:discover");var d=Object(o.a)("discover_blog_id");function p(e){return+e===Object(o.a)("discover_blog_id")}function m(e){return+e===Object(o.a)("discover_feed_id")}function f(){return"en"===u.default.getLocaleSlug()}function _(e){return!(!Object(r.get)(e,"discover_metadata")&&Object(r.get)(e,"site_ID")!==Object(o.a)("discover_blog_id"))}function E(e){return function(e,t){var n=Object(r.get)(e,"discover_metadata.discover_fp_post_formats");return!(!n||!Object(r.find)(n,{slug:t}))}(e,"site-pick")}function b(e){return!!Object(r.get)(e,"discover_metadata.featured_post_wpcom_data")}function g(e){var t=Object(r.get)(e,"discover_metadata.featured_post_wpcom_data.blog_id");return t?Object(l.e)(t):Object(r.get)(e,"discover_metadata.permalink")}function h(e){return Object(r.get)(e,"discover_metadata.attribution.blog_name")}function O(e){var t=Object(r.get)(e,"discover_metadata.featured_post_wpcom_data");return t?{blogId:Object(r.get)(t,"blog_id"),postId:Object(r.get)(t,"post_id")}:{}}function y(e){var t=s.a.parse(e),n=Object(r.get)(t,"hostname"),i=n&&n!==window.location.hostname;return{rel:i?"external":"",target:i?"_blank":""}}function j(e){var t;if(_(e))return t=Object(r.get)(e,"discover_metadata.attribution.blog_url"),!t&&E(e)&&(t=Object(r.get)(e,"discover_metadata.permalink")),t||""}},"./client/reader/get-helpers.js":function(e,t,n){"use strict";var r=n("./node_modules/url/url.js"),i=n.n(r),s=n("./node_modules/i18n-calypso/index.js"),o=n("./node_modules/lodash/lodash.js"),a=n("./client/lib/formatting/index.js"),c=new Set(["Just another WordPress.com site","Just another WordPress site","This WordPress.com site is the bee's knees","This WordPress site is the bee's knees","A topnotch WordPress.com site","A topnotch WordPress site"]);n.d(t,"e",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return m});var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.feed,n=e.site,r=e.post,i=!!n&&(n.URL||n.domain),s=!!t&&(t.URL||t.feed_URL),o=!!r&&r.site_URL;if(i||s||o)return i||s||o},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.feed,n=e.site,r=e.post,i=!!n&&n.feed_URL,s=!!t&&(t.feed_URL||t.URL),o=!!r&&r.feed_URL;return i||s||o},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.feed,n=e.site,r=e.post,o=null,c=n&&n.name===Object(s.translate)("Site Title")||t&&t.name===Object(s.translate)("Site Title");if(!c&&n&&n.title)o=n.title;else if(!c&&t&&(t.name||t.title))o=t.name||t.title;else if(!c&&r&&r.site_name)o=r.site_name;else if(n&&n.is_error&&t&&t.is_error&&!r)o=Object(s.translate)("Error fetching feed");else if(n&&n.domain)o=n.domain;else{var l=u({feed:t,site:n,post:r});o=l?i.a.parse(l).hostname:null}return Object(a.b)(o)},p=function(e){var t,n=e.site,r=e.feed,i=n&&n.description||r&&r.description;return t=i,c.has(t)?null:i},m=function(e){var t=e&&e.owner,n=t&&(t.name||Object(o.trim)((t.first_name||"")+" "+(t.last_name||"")));return Object(a.b)(n)}},"./client/reader/post-key.js":function(e,t,n){"use strict";function r(e){if(e)return e.feed_ID&&e.feed_item_ID?{feedId:e.feed_ID,postId:e.feed_item_ID}:e.is_external?{feedId:e.feed_ID||e.site_ID,postId:e.feed_item_ID||e.ID}:{blogId:e.site_ID,postId:e.ID}}function i(e,t){return e===t||!(!e&&t||e&&!t||!e&&!t&&e!==t)&&(!(e.isGap&&!t.isGap||!e.isGap&&t.isGap)&&(e.isGap&&t.isGap?e.from===t.from&&e.to===t.to:e.postId===t.postId&&(e.feedId?e.feedId===t.feedId:e.blogId===t.blogId)))}function s(e){if(!e||e.isGap)return null;if(e.isCombination){var t=e.feedId?"&feedId="+e.feedId:"",n=e.blogId?"&feedId="+e.blogId:"",r=e.postIds.join(",");return"postIds=["+r+", ]"+t+n+" "}return e.isRecommendationBlock?"rec-"+e.index:e.feedId?e.postId+"-"+e.feedId:e.blogId?e.postId+"-"+e.blogId:null}function o(e){return e&&e.postId&&(e.blogId||e.feedId)}n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return o})},"./client/reader/route/index.js":function(e,t,n){"use strict";n.d(t,"d",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"a",function(){return _}),n.d(t,"f",function(){return E}),n.d(t,"g",function(){return b}),n.d(t,"h",function(){return g}),n.d(t,"b",function(){return h});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./client/config/index.js"),o="/read/feeds/",a="/read/blogs/",c=Object(s.a)("discover_blog_id"),u=Object(s.a)("discover_feed_id"),l=i()({},u,"/discover"),d=i()({},c,"/discover");function p(e){return d[e]}function m(e){return l[e]}function f(e){return p(e)||a+e}function _(e){return m(e)||o+e}function E(e,t){return e?_(e):f(t)}function b(e){return e.feed_ID?_(e.feed_ID):f(e.site_ID)}function g(e){return"/tag/"+e}function h(e){return e.feed_ID&&e.feed_item_ID?"/read/feeds/"+e.feed_ID+"/posts/"+e.feed_item_ID:e.is_external?"/read/feeds/"+e.feed_ID+"/posts/"+e.ID:"/read/blogs/"+e.site_ID+"/posts/"+e.ID}},"./client/reader/stats.js":function(e,t,n){"use strict";n.r(t),n.d(t,"recordAction",function(){return l}),n.d(t,"recordGaEvent",function(){return d}),n.d(t,"recordPermalinkClick",function(){return p}),n.d(t,"recordTrack",function(){return f}),n.d(t,"recordTracksRailcar",function(){return E}),n.d(t,"recordTracksRailcarRender",function(){return b}),n.d(t,"recordTracksRailcarInteract",function(){return g}),n.d(t,"recordTrackForPost",function(){return h}),n.d(t,"getTracksPropertiesForPost",function(){return O}),n.d(t,"recordTrackWithRailcar",function(){return y}),n.d(t,"pageViewForPost",function(){return j}),n.d(t,"recordFollow",function(){return v}),n.d(t,"recordUnfollow",function(){return S});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/debug/src/browser.js"),a=n.n(o),c=n("./client/lib/analytics/index.js"),u=a()("calypso:reader:stats");function l(e){u("reader action",e),c.mc.bumpStat("reader_actions",e)}function d(e,t,n){u.apply(void 0,["reader ga event"].concat(Array.prototype.slice.call(arguments))),c.ga.recordEvent("Reader",e,t,n)}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c.mc.bumpStat({reader_actions:"visited_post_permalink",reader_permalink_source:e}),d("Clicked Post Permalink",e);n=Object.assign({source:e},n),t?h("calypso_reader_permalink_click",t,n):f("calypso_reader_permalink_click",n)}function m(e){return void 0===e||""===e?"unknown":"/"===e?"following":0===e.indexOf("/read/a8c")?"following_a8c":0===e.indexOf("/tag/")?"topic_page":e.match(/^\/read\/(blogs|feeds)\/([0-9]+)\/posts\/([0-9]+)$/i)?"single_post":e.match(/^\/read\/(blogs|feeds)\/([0-9]+)$/i)?"blog_page":0===e.indexOf("/read/list/")?"list":0===e.indexOf("/activities/likes")?"postlike":0===e.indexOf("/recommendations/mine")?"recommended_foryou":0===e.indexOf("/following/edit")?"following_edit":0===e.indexOf("/following/manage")?"following_manage":0===e.indexOf("/discover")?"discover":0===e.indexOf("/read/recommendations/posts")?"recommended_posts":0===e.indexOf("/read/search")?"search":0===e.indexOf("/read/conversations/a8c")?"conversations_a8c":0===e.indexOf("/read/conversations")?"conversations":"unknown"}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.pathnameOverride;u.apply(void 0,["reader track"].concat(Array.prototype.slice.call(arguments)));var i=m(r||window.location.pathname);t=Object.assign({ui_algo:i},t),t=Object.assign({subscription_count:0},t),c.tracks.recordEvent(e,t)}var _=new Set;function E(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};f(e,Object.assign(t?{action:t.replace("calypso_reader_","")}:{},n,r))}_.add("calypso_reader_related_post_from_same_site_clicked").add("calypso_reader_related_post_from_other_site_clicked").add("calypso_reader_related_post_site_clicked").add("calypso_reader_article_liked").add("calypso_reader_article_commented_on").add("calypso_reader_article_opened").add("calypso_reader_searchcard_clicked").add("calypso_reader_author_link_clicked").add("calypso_reader_permalink_click").add("calypso_reader_recommended_post_clicked").add("calypso_reader_recommended_site_clicked").add("calypso_reader_recommended_post_dismissed");var b=Object(s.partial)(E,"calypso_traintracks_render"),g=Object(s.partial)(E,"calypso_traintracks_interact");function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;f(e,Object(s.assign)(O(t),n),r),t.railcar&&_.has(e)&&g(e,t.railcar,Object(s.pick)(n,["ui_position","ui_algo"]))}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{blog_id:!e.is_external&&e.site_ID>0?e.site_ID:void 0,post_id:!e.is_external&&e.ID>0?e.ID:void 0,feed_id:e.feed_ID>0?e.feed_ID:void 0,feed_item_id:e.feed_item_ID>0?e.feed_item_ID:void 0,is_jetpack:e.is_jetpack}}function y(e,t,n){f(e,n),g(e,t,Object(s.pick)(n,["ui_position","ui_algo"]))}function j(e,t,n,r){if(e&&t&&n){var i={ref:"http://wordpress.com/",reader:1,host:t.replace(/.*?:\/\//g,""),blog:e,post:n};r&&(i.priv=1),u("reader page view for post",i),c.mc.bumpStatWithPageView(i)}}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source||m(window.location.pathname);c.mc.bumpStat("reader_follows",r),l("followed_blog"),d("Clicked Follow Blog",r),f("calypso_reader_site_followed",i()({url:e,source:r},n)),t&&g("site_followed",t)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=m(window.location.pathname);c.mc.bumpStat("reader_unfollows",r),l("unfollowed_blog"),d("Clicked Unfollow Blog",r),f("calypso_reader_site_unfollowed",i()({url:e,source:r},n)),t&&g("site_unfollowed",t)}},"./client/reader/stream/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return _});var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/moment/moment.js"),a=n.n(o),c=n("./client/reader/discover/helper.js");var u=2;function l(e,t){return e&&t&&e.xPostMetadata&&t.xPostMetadata&&e.xPostMetadata.blogId&&e.xPostMetadata.blogId===t.xPostMetadata.blogId&&e.xPostMetadata.postId&&e.xPostMetadata.postId===t.xPostMetadata.postId}var d=function(e){return e.reduce(function(e,t){var n,r,o=Object(s.last)(e);return n=o,r=t,n&&r&&!n.isRecommendationBlock&&!r.isRecommendationBlock&&(n.blogId&&n.blogId===r.blogId||n.feedId&&n.feedId===r.feedId)&&function(e,t){return a()(e.date).isSame(t.date,"day")}(o,t)&&!function(e){return Object(c.g)(e.blogId)||Object(c.i)(e.feedId)}(t)?e[e.length-1]=function(e,t){if(!e||!t)return null;var n={isCombination:!0,date:e.date&&e.date<t.date?e.date:t.date,postIds:i()(e.postIds||[e.postId]).concat(i()(t.postIds||[t.postId]))};return e.blogId&&(n.blogId=e.blogId),e.feedId&&(n.feedId=e.feedId),n}(Object(s.last)(e),t):e.push(t),e},[])};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(!t||0===t.length)return e;if(e.length<n)return e;var r=0;return Object(s.flatMap)(e,function(e,i){if(i&&i%n==0&&r<t.length){var s={isRecommendationBlock:!0,recommendations:t.slice(r,r+u),index:r};return r+=u,[s,e]}return e})}var m=4,f=30;function _(e){if(e<=0)return f;var t=Object(s.clamp)(Math.floor(Math.log(e)*Math.LOG2E*5-6),m,f);return t}},"./client/reader/utils.js":function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var r=n("./node_modules/page/page.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/reader/xpost-helper.js"),a=n("./client/lib/redux-bridge/index.js"),c=n("./client/state/reader/posts/selectors.js");function u(e){var t=e.replaceHistory,n=e.postKey,r=e.comments;if(n&&!n.isRecommendationBlock){var i,s=Object(c.b)(Object(a.b)(),n);if(Object(o.b)(s)&&!t)return function(e){if(e.blogId&&e.postId){var t={site_ID:e.blogId,ID:e.postId};l({post:t})}else window.open(e.postURL)}(o.a.getXPostMetadata(s));i=n.feedId?{feed_ID:n.feedId,feed_item_ID:n.postId}:{site_ID:n.blogId,ID:n.postId},l({post:i,replaceHistory:t,comments:r})}}function l(e){var t=e.post,n=e.replaceHistory,r=e.comments,s=r?"#comments":"",o="";if(t.referral){var a=t.referral,c=a.blogId,u=a.postId;o+="ref_blog="+c+"&ref_post="+u}var l=n?"replace":"show";t.feed_ID&&t.feed_item_ID?i.a[l]("/read/feeds/"+t.feed_ID+"/posts/"+t.feed_item_ID+s+o):i.a[l]("/read/blogs/"+t.site_ID+"/posts/"+t.ID+s+o)}var d=function(e,t){return Object(s.every)(Object.keys(e),function(n){return e[n]===t[n]})};function p(e){var t=e.indexOf(":"),n=-1===t?e:e.substring(0,t);return n}},"./client/reader/xpost-helper.js":function(e,t,n){"use strict";n.d(t,"b",function(){return c});var r=n("./node_modules/url/url.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/state/reader/posts/display-types.js"),a=o.a.X_POST;function c(e){return e&&(e.display_type&a||Object(s.has)(e,["tags","p2-xpost"]))}var u={getXPostMetadata:function(e){if(!c(e))return null;var t={siteURL:null,postURL:null,commentURL:null,blogId:null,postId:null};if(e&&e.metadata)for(var n=Object.keys(e.metadata),r=0;r<n.length;r++){var s=e.metadata[n[r]];if("_xpost_original_permalink"===s.key||"xcomment_original_permalink"===s.key){var o=i.a.parse(s.value,!1,!1);t.siteURL=o.protocol+"//"+o.host,t.postURL=""+t.siteURL+o.path,o.hash&&0===o.hash.indexOf("#comment-")&&(t.commentURL=o.href)}else if("xpost_origin"===s.key){var a=s.value.split(":");t.blogId=+a[0],t.postId=+a[1]}}return t}};t.a=u},"./client/sections-helper.js":function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/i18n-utils/switch-locale.js"),s=null;function o(e){s=e}function a(){if(!s)throw new Error("sections-helper has not been initialized yet");return s}function c(e){!function(e){var t=Object(r.find)(s,{name:e});if(t&&t.css){var n="undefined"!=typeof document&&"rtl"===document.documentElement.dir?t.css.urls.rtl:t.css.urls.ltr;Object(i.b)("section-css-"+t.css.id,n)}}(e);var t=Object(r.filter)(s,{name:e});return Object(r.isEmpty)(t)?Promise.reject("Attempting to load non-existent section: "+e):Promise.all(t.map(function(e){return e.load()}))}},"./client/sections.js":function(e,t,n){e.exports=[{name:"sites",paths:["/sites"],module:"my-sites",group:"sites",secondary:!0,load:function(){return Promise.resolve().then(n.bind(null,"./client/my-sites/index.js"))}},{name:"customize",paths:["/customize"],module:"my-sites/customize",group:"sites",secondary:!0,load:function(){return Promise.all([n.e(120),n.e(113)]).then(n.bind(null,"./client/my-sites/customize/index.js"))}},{name:"me",paths:["/me"],module:"me",group:"me",secondary:!0,load:function(){return Promise.all([n.e(22),n.e(56),n.e(130)]).then(n.bind(null,"./client/me/index.js"))}},{name:"account",paths:["/me/account"],module:"me/account",group:"me",secondary:!0,load:function(){return Promise.all([n.e(155),n.e(111),n.e(22),n.e(56),n.e(79),n.e(15)]).then(n.bind(null,"./client/me/account/index.js"))}},{name:"account-close",paths:["/me/account/close"],module:"me/account-close",group:"me",secondary:!0,load:function(){return Promise.all([n.e(22),n.e(56),n.e(44)]).then(n.bind(null,"./client/me/account-close/index.js"))}},{name:"security",paths:["/me/security"],module:"me/security",group:"me",secondary:!0,load:function(){return Promise.all([n.e(162),n.e(154),n.e(111),n.e(22),n.e(56),n.e(48)]).then(n.bind(null,"./client/me/security/index.js"))}},{name:"privacy",paths:["/me/privacy"],module:"me/privacy",group:"me",secondary:!0,load:function(){return Promise.all([n.e(22),n.e(56),n.e(101)]).then(n.bind(null,"./client/me/privacy/index.js"))}},{name:"purchases",paths:["/me/purchases","/purchases","/me/billing","/payment-methods/add-credit-card"],module:"me/purchases",group:"me",secondary:!0,enableLoggedOut:!0,load:function(){return Promise.all([n.e(148),n.e(111),n.e(22),n.e(56),n.e(73),n.e(121),n.e(120),n.e(100),n.e(65),n.e(17)]).then(n.bind(null,"./client/me/purchases/index.js"))}},{name:"notification-settings",paths:["/me/notifications"],module:"me/notification-settings",group:"me",secondary:!0,load:function(){return Promise.all([n.e(169),n.e(111),n.e(22),n.e(56),n.e(107),n.e(99)]).then(n.bind(null,"./client/me/notification-settings/index.js"))}},{name:"concierge",paths:["/me/concierge"],module:"me/concierge",group:"me",secondary:!1,load:function(){return n.e(55).then(n.bind(null,"./client/me/concierge/index.js"))}},{name:"media",paths:["/media"],module:"my-sites/media",group:"sites",secondary:!0,css:{id:"media",urls:{ltr:"/calypso/sections/media.css?v=046ee846b0",rtl:"/calypso/sections-rtl/media.rtl.css?v=1db583fb90"}},load:function(){return Promise.all([n.e(160),n.e(111),n.e(22),n.e(107),n.e(76),n.e(26),n.e(70)]).then(n.bind(null,"./client/my-sites/media/index.js"))}},{name:"people",paths:["/people"],module:"my-sites/people",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(169),n.e(111),n.e(59),n.e(107),n.e(6)]).then(n.bind(null,"./client/my-sites/people/index.js"))}},{name:"plugins",paths:["/plugins"],module:"my-sites/plugins",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(111),n.e(120),n.e(47),n.e(19),n.e(18)]).then(n.bind(null,"./client/my-sites/plugins/index.js"))}},{name:"posts-pages",paths:["/pages"],module:"my-sites/pages",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(152),n.e(111),n.e(8),n.e(61)]).then(n.bind(null,"./client/my-sites/pages/index.js"))}},{name:"posts-pages",paths:["/posts"],module:"my-sites/posts",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(152),n.e(111),n.e(8),n.e(61)]).then(n.bind(null,"./client/my-sites/posts/index.js"))}},{name:"settings-writing",paths:["/settings/writing","/settings/taxonomies","/settings/podcasting"],module:"my-sites/site-settings/settings-writing",secondary:!0,group:"sites",css:{id:"site-settings",urls:{ltr:"/calypso/sections/site-settings.css?v=a997d63598",rtl:"/calypso/sections-rtl/site-settings.rtl.css?v=7c412c688d"}},load:function(){return Promise.all([n.e(153),n.e(160),n.e(111),n.e(59),n.e(75),n.e(41),n.e(27)]).then(n.bind(null,"./client/my-sites/site-settings/settings-writing/index.js"))}},{name:"settings-discussion",paths:["/settings/discussion"],module:"my-sites/site-settings/settings-discussion",secondary:!0,group:"sites",css:{id:"site-settings",urls:{ltr:"/calypso/sections/site-settings.css?v=a997d63598",rtl:"/calypso/sections-rtl/site-settings.rtl.css?v=7c412c688d"}},load:function(){return Promise.all([n.e(111),n.e(75),n.e(53)]).then(n.bind(null,"./client/my-sites/site-settings/settings-discussion/index.js"))}},{name:"settings-traffic",paths:["/settings/traffic","/settings/seo","/settings/analytics"],module:"my-sites/site-settings/settings-traffic",secondary:!0,group:"sites",css:{id:"site-settings",urls:{ltr:"/calypso/sections/site-settings.css?v=a997d63598",rtl:"/calypso/sections-rtl/site-settings.rtl.css?v=7c412c688d"}},load:function(){return Promise.all([n.e(169),n.e(166),n.e(111),n.e(75),n.e(51)]).then(n.bind(null,"./client/my-sites/site-settings/settings-traffic/index.js"))}},{name:"settings-security",paths:["/settings/security"],module:"my-sites/site-settings/settings-security",secondary:!0,group:"sites",css:{id:"site-settings",urls:{ltr:"/calypso/sections/site-settings.css?v=a997d63598",rtl:"/calypso/sections-rtl/site-settings.rtl.css?v=7c412c688d"}},load:function(){return Promise.all([n.e(111),n.e(75),n.e(52)]).then(n.bind(null,"./client/my-sites/site-settings/settings-security/index.js"))}},{name:"settings",paths:["/settings"],module:"my-sites/site-settings",secondary:!0,group:"sites",css:{id:"site-settings",urls:{ltr:"/calypso/sections/site-settings.css?v=a997d63598",rtl:"/calypso/sections-rtl/site-settings.rtl.css?v=7c412c688d"}},load:function(){return Promise.all([n.e(111),n.e(59),n.e(107),n.e(121),n.e(120),n.e(75),n.e(5)]).then(n.bind(null,"./client/my-sites/site-settings/index.js"))}},{name:"sharing",paths:["/sharing"],module:"my-sites/sharing",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(152),n.e(111),n.e(76),n.e(54)]).then(n.bind(null,"./client/my-sites/sharing/index.js"))}},{name:"jetpack-connect",paths:["/jetpack"],module:"jetpack-connect",secondary:!1,enableLoggedOut:!0,load:function(){return Promise.all([n.e(121),n.e(108),n.e(98),n.e(80),n.e(36),n.e(46)]).then(n.bind(null,"./client/jetpack-connect/index.js"))}},{name:"jetpack-onboarding",paths:["/jetpack/start"],module:"jetpack-onboarding",secondary:!1,enableLoggedOut:!0,load:function(){return n.e(77).then(n.bind(null,"./client/jetpack-onboarding/index.js"))}},{name:"signup",paths:["/start"],module:"signup",secondary:!1,enableLoggedOut:!0,isomorphic:!0,css:{id:"signup",urls:{ltr:"/calypso/sections/signup.css?v=a9cc9bb66a",rtl:"/calypso/sections-rtl/signup.rtl.css?v=8faad64a28"}},load:function(){return Promise.all([n.e(155),n.e(59),n.e(121),n.e(94),n.e(98),n.e(80),n.e(36),n.e(74),n.e(85),n.e(72)]).then(n.bind(null,"./client/signup/index.web.js"))}},{name:"stats",paths:["/stats"],module:"my-sites/stats",secondary:!0,group:"sites",enableLoggedOut:!0,load:function(){return Promise.all([n.e(152),n.e(155),n.e(165),n.e(111),n.e(94),n.e(37),n.e(21),n.e(85),n.e(29)]).then(n.bind(null,"./client/my-sites/stats/index.js"))}},{name:"checklist",paths:["/checklist"],module:"my-sites/checklist",secondary:!0,group:"checklist",load:function(){return Promise.all([n.e(152),n.e(14)]).then(n.bind(null,"./client/my-sites/checklist/index.js"))}},{name:"google-my-business",paths:["/google-my-business"],module:"my-sites/google-my-business",enableLoggedOut:!0,secondary:!0,group:"sites",css:{id:"google-my-business",urls:{ltr:"/calypso/sections/google-my-business.css?v=3c17f88cd6",rtl:"/calypso/sections-rtl/google-my-business.rtl.css?v=7dcff7fc04"}},load:function(){return Promise.all([n.e(164),n.e(163),n.e(111),n.e(43),n.e(21),n.e(38)]).then(n.bind(null,"./client/my-sites/google-my-business/index.js"))}},{name:"themes",paths:["/themes","/design"],module:"my-sites/themes",enableLoggedOut:!0,secondary:!0,group:"sites",isomorphic:!0,title:"Themes",load:function(){return Promise.all([n.e(120),n.e(50),n.e(19),n.e(92)]).then(n.bind(null,"./client/my-sites/themes/index.web.js"))}},{name:"theme",paths:["/theme"],module:"my-sites/theme",enableLoggedOut:!0,secondary:!1,group:"sites",isomorphic:!0,title:"Themes",load:function(){return Promise.all([n.e(111),n.e(120),n.e(50),n.e(89)]).then(n.bind(null,"./client/my-sites/theme/index.web.js"))}},{name:"domains",paths:["/domains"],module:"my-sites/domains",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(155),n.e(111),n.e(59),n.e(73),n.e(121),n.e(100),n.e(71),n.e(131),n.e(74),n.e(69),n.e(112),n.e(93)]).then(n.bind(null,"./client/my-sites/domains/index.js"))}},{name:"checkout",paths:["/checkout"],module:"my-sites/checkout",secondary:!0,group:"sites",enableLoggedOut:!0,load:function(){return Promise.all([n.e(155),n.e(148),n.e(111),n.e(73),n.e(121),n.e(120),n.e(98),n.e(100),n.e(71),n.e(69),n.e(65),n.e(49),n.e(28)]).then(n.bind(null,"./client/my-sites/checkout/index.js"))}},{name:"plans",paths:["/plans"],module:"my-sites/plans",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(147),n.e(111),n.e(121),n.e(80),n.e(71),n.e(131),n.e(49),n.e(112),n.e(13)]).then(n.bind(null,"./client/my-sites/plans/index.js"))}},{name:"accept-invite",paths:["/accept-invite"],module:"my-sites/invites",enableLoggedOut:!0,load:function(){return Promise.all([n.e(169),n.e(98),n.e(36),n.e(60)]).then(n.bind(null,"./client/my-sites/invites/index.js"))}},{name:"ads",paths:["/ads"],module:"my-sites/ads",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(111),n.e(58)]).then(n.bind(null,"./client/my-sites/ads/index.js"))}},{name:"mailing-lists",paths:["/mailing-lists/unsubscribe"],module:"mailing-lists",enableLoggedOut:!0,load:function(){return n.e(128).then(n.bind(null,"./client/mailing-lists/index.js"))}},{name:"feature-upsell",paths:["/feature"],module:"my-sites/feature-upsell",group:"sites",secondary:!0,css:{id:"feature-upsell",urls:{ltr:"/calypso/sections/feature-upsell.css?v=745ce27b32",rtl:"/calypso/sections-rtl/feature-upsell.rtl.css?v=a96168ff42"}},load:function(){return n.e(81).then(n.bind(null,"./client/my-sites/feature-upsell/index.js"))}},{name:"post-editor",paths:["/post","/page","/edit"],module:"post-editor",group:"editor",secondary:!0,css:{id:"post-editor",urls:{ltr:"/calypso/sections/post-editor.css?v=4aba099e0c",rtl:"/calypso/sections-rtl/post-editor.rtl.css?v=0490b2e97b"}},load:function(){return Promise.all([n.e(152),n.e(171),n.e(157),n.e(153),n.e(165),n.e(160),n.e(170),n.e(161),n.e(149),n.e(111),n.e(22),n.e(59),n.e(107),n.e(90),n.e(76),n.e(26),n.e(41),n.e(42),n.e(88),n.e(30)]).then(n.bind(null,"./client/post-editor/index.js"))}},{name:"account-recovery",paths:["/account-recovery"],module:"account-recovery",secondary:!1,enableLoggedOut:!0,load:function(){return n.e(1).then(n.bind(null,"./client/account-recovery/index.js"))}},{name:"reader",paths:["/","/read"],module:"reader",secondary:!0,group:"reader",load:function(){return Promise.all([n.e(152),n.e(111),n.e(107),n.e(16),n.e(31)]).then(n.bind(null,"./client/reader/index.js"))}},{name:"reader",paths:["/read/feeds/[^\\/]+","/read/blogs/[^\\/]+","/read/a8c"],module:"reader",secondary:!0,group:"reader",enableLoggedOut:!0,load:function(){return Promise.all([n.e(152),n.e(111),n.e(107),n.e(16),n.e(31)]).then(n.bind(null,"./client/reader/index.js"))}},{name:"reader",paths:["/read/feeds/[^\\/]+/posts/[^\\/]+","/read/blogs/[^\\/]+/posts/[^\\/]+"],module:"reader/full-post",secondary:!1,group:"reader",css:{id:"reader-full-post",urls:{ltr:"/calypso/sections/reader-full-post.css?v=f80b41556a",rtl:"/calypso/sections-rtl/reader-full-post.rtl.css?v=fa897329fd"}},enableLoggedOut:!0,load:function(){return Promise.all([n.e(152),n.e(111),n.e(107),n.e(16),n.e(31)]).then(n.bind(null,"./client/reader/full-post/index.js"))}},{name:"reader",paths:["/discover"],module:"reader/discover",secondary:!0,group:"reader",enableLoggedOut:!0,load:function(){return Promise.all([n.e(152),n.e(111),n.e(107),n.e(16),n.e(31)]).then(n.bind(null,"./client/reader/discover/index.js"))}},{name:"reader",paths:["/following"],module:"reader/following",secondary:!0,group:"reader",enableLoggedOut:!0,load:function(){return Promise.all([n.e(152),n.e(111),n.e(107),n.e(16),n.e(31)]).then(n.bind(null,"./client/reader/following/index.js"))}},{name:"reader",paths:["/tags","/tag"],module:"reader/tag-stream",secondary:!0,group:"reader",enableLoggedOut:!0,load:function(){return Promise.all([n.e(152),n.e(111),n.e(107),n.e(16),n.e(31)]).then(n.bind(null,"./client/reader/tag-stream/index.js"))}},{name:"reader",paths:["/activities"],module:"reader/liked-stream",secondary:!0,group:"reader",enableLoggedOut:!0,load:function(){return Promise.all([n.e(152),n.e(111),n.e(107),n.e(16),n.e(31)]).then(n.bind(null,"./client/reader/liked-stream/index.js"))}},{name:"reader",paths:["/read/search","/recommendations"],module:"reader/search",secondary:!0,group:"reader",enableLoggedOut:!0,load:function(){return Promise.all([n.e(152),n.e(111),n.e(107),n.e(16),n.e(31)]).then(n.bind(null,"./client/reader/search/index.js"))}},{name:"reader",paths:["/read/list"],module:"reader/list",secondary:!0,group:"reader",enableLoggedOut:!0,load:function(){return Promise.all([n.e(152),n.e(111),n.e(107),n.e(16),n.e(31)]).then(n.bind(null,"./client/reader/list/index.js"))}},{name:"reader",paths:["/read/conversations"],module:"reader/conversations",secondary:!0,group:"reader",enableLoggedOut:!0,load:function(){return Promise.all([n.e(152),n.e(111),n.e(107),n.e(16),n.e(31)]).then(n.bind(null,"./client/reader/conversations/index.js"))}},{name:"help",paths:["/help"],module:"me/help",secondary:!0,enableLoggedOut:!0,group:"me",load:function(){return Promise.all([n.e(22),n.e(56),n.e(23),n.e(126)]).then(n.bind(null,"./client/me/help/index.js"))}},{name:"login",paths:["/log-in"],module:"login",enableLoggedOut:!0,secondary:!1,isomorphic:!0,css:{id:"login",urls:{ltr:"/calypso/sections/login.css?v=b7e39f29e2",rtl:"/calypso/sections-rtl/login.rtl.css?v=2b4629441e"}},load:function(){return Promise.all([n.e(152),n.e(108),n.e(25)]).then(n.bind(null,"./client/login/index.web.js"))}},{name:"auth",paths:["/oauth-login","/authorize","/api/oauth/token"],module:"auth",secondary:!1,enableLoggedOut:!0,load:function(){return n.e(2).then(n.bind(null,"./client/auth/index.js"))}},{name:"posts-custom",paths:["/types"],module:"my-sites/types",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(152),n.e(111),n.e(8),n.e(133)]).then(n.bind(null,"./client/my-sites/types/index.js"))}},{name:"happychat",paths:["/me/chat"],module:"me/happychat",group:"me",secondary:!0,load:function(){return Promise.all([n.e(22),n.e(56),n.e(102),n.e(129)]).then(n.bind(null,"./client/me/happychat/index.jsx"))}},{name:"comments",paths:["/comments","/comment"],module:"my-sites/comments",group:"sites",secondary:!0,css:{id:"comments",urls:{ltr:"/calypso/sections/comments.css?v=6bf71423c6",rtl:"/calypso/sections-rtl/comments.rtl.css?v=0009d68a58"}},load:function(){return Promise.all([n.e(152),n.e(171),n.e(157),n.e(155),n.e(111),n.e(88),n.e(45)]).then(n.bind(null,"./client/my-sites/comments/index.js"))}},{name:"preview",paths:["/view"],module:"my-sites/preview",group:"sites",secondary:!0,load:function(){return n.e(132).then(n.bind(null,"./client/my-sites/preview/index.js"))}},{name:"domain-connect-authorize",paths:["/domain-connect"],module:"my-sites/domains/domain-management/domain-connect",enableLoggedOut:!0,secondary:!1,isomorphic:!1,load:function(){return n.e(64).then(n.bind(null,"./client/my-sites/domains/domain-management/domain-connect/index.jsx"))}},{name:"gutenberg-editor",paths:["/gutenberg"],module:"gutenberg/editor",group:"editor",css:{id:"gutenberg-editor",urls:{ltr:"/calypso/sections/gutenberg-editor.css?v=c9c52cd14c",rtl:"/calypso/sections-rtl/gutenberg-editor.rtl.css?v=22edba862e"}},secondary:!0,load:function(){return n.e(118).then(n.bind(null,"./client/gutenberg/editor/index.js"))}},{name:"devdocs",paths:["/devdocs"],module:"devdocs",secondary:!0,enableLoggedOut:!0,css:{id:"devdocs",urls:{ltr:"/calypso/sections/devdocs.css?v=97adc4e667",rtl:"/calypso/sections-rtl/devdocs.rtl.css?v=30f903efaf"}},load:function(){return Promise.all([n.e(156),n.e(104)]).then(n.bind(null,"./client/devdocs/index.js"))}},{name:"devdocs",paths:["/devdocs/start"],module:"devdocs",secondary:!1,enableLoggedOut:!0,css:{id:"devdocs",urls:{ltr:"/calypso/sections/devdocs.css?v=97adc4e667",rtl:"/calypso/sections-rtl/devdocs.rtl.css?v=30f903efaf"}},load:function(){return Promise.all([n.e(156),n.e(104)]).then(n.bind(null,"./client/devdocs/index.js"))}},{name:"hello-dolly",paths:["/hello-dolly"],module:"hello-dolly",group:"sites",secondary:!0,enableLoggedOut:!0,envId:["development","wpcalypso"],load:function(){return n.e(57).then(n.bind(null,"./client/extensions/hello-dolly/index.js"))}},{name:"sensei",paths:["/extensions/sensei"],module:"sensei",group:"sites",secondary:!0,envId:["development","wpcalypso"],load:function(){return n.e(62).then(n.bind(null,"./client/extensions/sensei/index.js"))}},{name:"woocommerce",paths:["/store"],module:"woocommerce",group:"sites",secondary:!0,css:{id:"woocommerce",urls:{ltr:"/calypso/sections/woocommerce.css?v=557514a35d",rtl:"/calypso/sections-rtl/woocommerce.rtl.css?v=11ad80f84a"}},envId:["development","desktop","wpcalypso","stage","production"],load:function(){return Promise.all([n.e(152),n.e(171),n.e(153),n.e(164),n.e(163),n.e(161),n.e(145),n.e(111),n.e(59),n.e(73),n.e(94),n.e(90),n.e(100),n.e(41),n.e(11)]).then(n.bind(null,"./client/extensions/woocommerce/index.js"))}},{name:"wp-job-manager",paths:["/extensions/wp-job-manager"],settings_path:"/extensions/wp-job-manager",module:"wp-job-manager",group:"sites",secondary:!0,envId:["development","wpcalypso"],load:function(){return Promise.all([n.e(170),n.e(111),n.e(20),n.e(95)]).then(n.bind(null,"./client/extensions/wp-job-manager/index.js"))}},{name:"wp-super-cache",paths:["/extensions/wp-super-cache"],settings_path:"/extensions/wp-super-cache",module:"wp-super-cache",group:"sites",secondary:!0,envId:["development","wpcalypso","horizon","stage","production"],load:function(){return Promise.all([n.e(159),n.e(111),n.e(20),n.e(67)]).then(n.bind(null,"./client/extensions/wp-super-cache/index.js"))}},{name:"zoninator",paths:["/extensions/zoninator"],settings_path:"/extensions/zoninator",module:"zoninator",group:"sites",secondary:!0,envId:["development","wpcalypso","stage","production"],load:function(){return Promise.all([n.e(170),n.e(20),n.e(97)]).then(n.bind(null,"./client/extensions/zoninator/index.js"))}}]},"./client/signup/config/flows-pure.js":function(e,t,n){"use strict";n.d(t,"b",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/config/index.js");function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getSiteDestination,n=void 0===t?r.noop:t,s=e.getPostsDestination,o=void 0===s?r.noop:s,a={account:{steps:["user"],destination:"/",description:"Create an account without a blog.",lastModified:"2015-07-07"},business:{steps:["about","themes","domains","user"],destination:function(e){return"/plans/select/business/"+e.siteSlug},description:"Create an account and a blog and then add the business plan to the users cart.",lastModified:"2018-01-24",meta:{skipBundlingPlan:!0}},premium:{steps:["about","themes","domains","user"],destination:function(e){return"/plans/select/premium/"+e.siteSlug},description:"Create an account and a blog and then add the premium plan to the users cart.",lastModified:"2018-01-24",meta:{skipBundlingPlan:!0}},personal:{steps:["about","themes","domains","user"],destination:function(e){return"/plans/select/personal/"+e.siteSlug},description:"Create an account and a blog and then add the personal plan to the users cart.",lastModified:"2018-01-24"},free:{steps:["about","themes","domains","user"],destination:n,description:"Create an account and a blog and default to the free plan.",lastModified:"2018-01-24"},blog:{steps:["blog-themes","domains","plans","user"],destination:n,description:"Signup flow starting with blog themes",lastModified:"2017-09-01"},website:{steps:["website-themes","domains","plans","user"],destination:n,description:"Signup flow starting with website themes",lastModified:"2017-09-01"},portfolio:{steps:["portfolio-themes","domains","plans","user"],destination:n,description:"Signup flow starting with portfolio themes",lastModified:"2017-09-01"},store:{steps:["about","domains","plans","user"],destination:n,description:"Signup flow for creating an online store",lastModified:"2018-01-24"},"rebrand-cities":{steps:["rebrand-cities-welcome","user"],destination:function(e){return"/plans/select/business/"+e.siteSlug},description:"Create an account for REBRAND cities partnership",lastModified:"2017-07-01",meta:{skipBundlingPlan:!0}},"with-theme":{steps:["domains-theme-preselected","plans","user"],destination:n,description:"Preselect a theme to activate/buy from an external source",lastModified:"2016-01-27"},"creative-mornings":{steps:["portfolio-themes","domains","plans","user"],destination:n,description:"Signup flow for creative mornings partnership",lastModified:"2017-08-01"},subdomain:{steps:["design-type","themes","domains","plans","user"],destination:n,description:"Provide a vertical for subdomains",lastModified:"2016-10-31"},main:{steps:["about","domains","plans","user"],destination:n,description:"The current best performing flow in AB tests",lastModified:"2018-01-24"},surveystep:{steps:["survey","design-type","themes","domains","plans","user"],destination:n,description:"The current best performing flow in AB tests",lastModified:"2016-05-23"},"test-site":{steps:["user"],destination:"/",description:"This flow is used to test the site step.",lastModified:"2015-09-22"},"delta-discover":{steps:["user"],destination:"/",description:"A copy of the `account` flow for the Delta email campaigns. Half of users who go through this flow receive a reader-specific drip email series.",lastModified:"2016-05-03"},"delta-blog":{steps:["about","themes","domains","plans","user"],destination:n,description:"A copy of the `blog` flow for the Delta email campaigns. Half of users who go through this flow receive a blogging-specific drip email series.",lastModified:"2018-01-24"},"delta-site":{steps:["about","themes","domains","plans","user"],destination:n,description:"A copy of the `website` flow for the Delta email campaigns. Half of users who go through this flow receive a website-specific drip email series.",lastModified:"2018-01-24"},desktop:{steps:["about","themes","domains","plans","user"],destination:o,description:"Signup flow for desktop app",lastModified:"2018-01-24"},developer:{steps:["site","user"],destination:"/devdocs/welcome",description:"Signup flow for developers in developer environment",lastModified:"2015-11-23"},pressable:{steps:["design-type-with-store","themes","domains","plans","user"],destination:n,description:"Signup flow for testing the pressable-store step",lastModified:"2016-06-27"},jetpack:{steps:["jetpack-user"],destination:"/"},"get-dot-blog":{steps:["get-dot-blog-themes","get-dot-blog-plans"],destination:n,description:"Used by `get.blog` users that connect their site to WordPress.com",lastModified:"2016-11-14"},"pressable-nux":{steps:["creds-permission","creds-confirm","creds-complete"],destination:function(){return"/stats"},description:"Allow new Pressable users to grant permission to server credentials",lastModified:"2017-11-20",disallowResume:!0,allowContinue:!1,hideFlowProgress:!0},"rewind-switch":{steps:["rewind-migrate","rewind-were-backing"],destination:function(){return"/stats/activity"},description:"Allows users with Jetpack plan with VaultPress credentials to migrate credentials",lastModified:"2018-01-27",disallowResume:!0,allowContinue:!1,hideFlowProgress:!0},"rewind-setup":{steps:["rewind-add-creds","rewind-form-creds","rewind-were-backing"],destination:function(){return"/stats/activity"},description:"Allows users with Jetpack plan to setup credentials",lastModified:"2018-01-27",disallowResume:!0,allowContinue:!1,hideFlowProgress:!0},"rewind-auto-config":{steps:["creds-permission","creds-confirm","rewind-were-backing"],destination:function(){return"/stats/activity"},description:"Allow users of sites that can auto-config to grant permission to server credentials",lastModified:"2018-02-13",disallowResume:!0,allowContinue:!1,hideFlowProgress:!0}};return i.a.isEnabled("rewind/clone-site")&&(a["clone-site"]={steps:["clone-start","clone-destination","clone-credentials","clone-point","clone-ready","clone-cloning"],destination:function(){return"/stats/activity"},description:"Allow Jetpack users to clone a site via Rewind (alternate restore)",lastModified:"2018-05-28",disallowResume:!0,allowContinue:!1}),i.a.isEnabled("signup/atomic-store-flow")&&(a["store-nux"]={steps:["about","themes","domains","plans-store-nux","user"],destination:n,description:"Signup flow for creating an online store with an Atomic site",lastModified:"2018-01-24"},a["store-woo"]={steps:["domains-store","plans-store-nux","user"],destination:n,description:"Short signup flow for creating an online store with an Atomic site",lastModified:"2018-03-15"}),i.a.isEnabled("signup/wpcc")&&(a.wpcc={steps:["oauth2-user"],destination:function(e){return e.oauth2_redirect||"/"},description:"WordPress.com Connect signup flow",lastModified:"2017-08-24",disallowResume:!0,autoContinue:!0}),i.a.isEnabled("signup/domain-first-flow")&&(a["domain-first"]={steps:["site-or-domain","site-picker","themes","plans-site-selected","user"],destination:n,description:"An experimental approach for WordPress.com/domains",disallowResume:!0,lastModified:"2017-05-09"},a["site-selected"]={steps:["themes-site-selected","plans-site-selected"],destination:n,providesDependenciesInQuery:["siteSlug","siteId"],description:"A flow to test updating an existing site with `Signup`",lastModified:"2017-01-19"}),a}var o=s();t.a=o},"./client/signup/config/steps-pure.js":function(e,t,n){"use strict";n.d(t,"b",function(){return a});var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/i18n-calypso/index.js"),s=n.n(i),o=n("./client/config/index.js");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.addPlanToCart,n=void 0===t?r.noop:t,i=e.createAccount,a=void 0===i?r.noop:i,c=e.createSite,u=void 0===c?r.noop:c,l=e.createSiteOrDomain,d=void 0===l?r.noop:l,p=e.createSiteWithCart,m=void 0===p?r.noop:p,f=e.currentPage,_=void 0===f?r.noop:f,E=e.setThemeOnSite,b=void 0===E?r.noop:E;return{survey:{stepName:"survey",props:{surveySiteType:_&&_.toString().match(/\/start\/(blog|delta-blog)/)?"blog":"site"},providesDependencies:["surveySiteType","surveyQuestion"]},themes:{stepName:"themes",dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo"]},"blog-themes":{stepName:"blog-themes",props:{designType:"blog"},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo"]},"website-themes":{stepName:"website-themes",props:{designType:"page"},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo"]},"portfolio-themes":{stepName:"portfolio-themes",props:{designType:"grid"},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo"]},"themes-site-selected":{stepName:"themes-site-selected",dependencies:["siteSlug","themeSlugWithRepo"],providesDependencies:["themeSlugWithRepo"],apiRequestFunction:b,props:{headerText:s.a.translate("Choose a theme for your new site.")}},"plans-site-selected":{stepName:"plans-site-selected",apiRequestFunction:n,dependencies:["siteSlug","siteId"],providesDependencies:["cartItem","privacyItem"]},"design-type":{stepName:"design-type",providesDependencies:["designType","themeSlugWithRepo"]},"design-type-with-store":{stepName:"design-type-with-store",providesDependencies:["designType","themeSlugWithRepo"]},"design-type-with-store-nux":{stepName:"design-type-with-store-nux",providesDependencies:["designType","themeSlugWithRepo"]},site:{stepName:"site",apiRequestFunction:u,providesDependencies:["siteSlug"]},"rebrand-cities-welcome":{stepName:"rebrand-cities-welcome",apiRequestFunction:m,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{isDomainOnly:!1},delayApiRequestUntilComplete:!0},about:{stepName:"about",providesDependencies:["designType","themeSlugWithRepo","siteTitle","surveyQuestion"]},user:{stepName:"user",apiRequestFunction:a,providesToken:!0,providesDependencies:["bearer_token","username"],unstorableDependencies:["bearer_token"],props:{isSocialSignupEnabled:o.a.isEnabled("signup/social")}},"site-title":{stepName:"site-title",providesDependencies:["siteTitle"]},test:{stepName:"test"},plans:{stepName:"plans",apiRequestFunction:n,dependencies:["siteSlug","siteId","domainItem"],providesDependencies:["cartItem","privacyItem"]},"plans-store-nux":{stepName:"plans-store-nux",apiRequestFunction:n,dependencies:["siteSlug","siteId","domainItem"],providesDependencies:["cartItem","privacyItem"]},domains:{stepName:"domains",apiRequestFunction:m,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{isDomainOnly:!1},dependencies:["themeSlugWithRepo"],delayApiRequestUntilComplete:!0},"domains-store":{stepName:"domains",apiRequestFunction:m,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{isDomainOnly:!1,forceDesignType:"store"},delayApiRequestUntilComplete:!0},"domains-theme-preselected":{stepName:"domains-theme-preselected",apiRequestFunction:m,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{isDomainOnly:!1},delayApiRequestUntilComplete:!0},"jetpack-user":{stepName:"jetpack-user",apiRequestFunction:a,providesToken:!0,props:{headerText:s.a.translate("Create an account for Jetpack"),subHeaderText:s.a.translate("You're moments away from connecting Jetpack.")},providesDependencies:["bearer_token","username"]},"oauth2-user":{stepName:"oauth2-user",apiRequestFunction:a,props:{oauth2Signup:!0},providesToken:!0,providesDependencies:["bearer_token","username","oauth2_client_id","oauth2_redirect"]},"get-dot-blog-plans":{apiRequestFunction:m,stepName:"get-dot-blog-plans",dependencies:["cartItem"],providesDependencies:["cartItem","siteSlug","siteId","domainItem","themeItem","privacyItem"]},"get-dot-blog-themes":{stepName:"get-dot-blog-themes",props:{designType:"blog"},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo"]},"site-or-domain":{stepName:"site-or-domain",props:{headerText:s.a.translate("Choose how you want to use your domain."),subHeaderText:s.a.translate("Don't worry you can easily add a site later if you're not ready.")},providesDependencies:["designType","siteId","siteSlug","siteUrl","domainItem","themeSlugWithRepo"]},"site-picker":{stepName:"site-picker",apiRequestFunction:d,props:{headerText:s.a.translate("Choose your site?")},providesDependencies:["siteId","siteSlug","domainItem","themeSlugWithRepo"],dependencies:["cartItem","designType","domainItem","privacyItem","siteUrl","themeSlugWithRepo"],delayApiRequestUntilComplete:!0},"creds-complete":{stepName:"creds-complete",providesDependencies:[]},"creds-confirm":{stepName:"creds-confirm",providesDependencies:["rewindconfig"]},"creds-permission":{stepName:"creds-permission",providesDependencies:["rewindconfig"]},"rewind-migrate":{stepName:"rewind-migrate",providesDependencies:["rewindconfig"]},"rewind-were-backing":{stepName:"rewind-were-backing",providesDependencies:[]},"rewind-add-creds":{stepName:"rewind-add-creds",providesDependencies:[]},"rewind-form-creds":{stepName:"rewind-form-creds",providesDependencies:["rewindconfig"]},"clone-start":{stepName:"clone-start",providesDependencies:["originSiteSlug","originSiteName","originBlogId"]},"clone-destination":{stepName:"clone-destination",providesDependencies:["destinationSiteName","destinationSiteUrl"]},"clone-credentials":{stepName:"clone-credentials",providesDependencies:["roleName"]},"clone-point":{stepName:"clone-point",providesDependencies:["clonePoint"]},"clone-jetpack":{stepName:"clone-jetpack",providesDependencies:["cloneJetpack"]},"clone-ready":{stepName:"clone-ready",providesDependencies:[]},"clone-cloning":{stepName:"clone-cloning",providesDependencies:[]}}}var c=a();t.a=c},"./client/state/account-recovery/reset/actions.js":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"j",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"k",function(){return l}),n.d(t,"m",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"a",function(){return _}),n.d(t,"i",function(){return E});var r=function(e){return{type:"ACCOUNT_RECOVERY_RESET_OPTIONS_RECEIVE",items:e}},i=function(e){return{type:"ACCOUNT_RECOVERY_RESET_OPTIONS_ERROR",error:e}},s=function(e){return{type:"ACCOUNT_RECOVERY_RESET_OPTIONS_REQUEST",userData:e}},o=function(e){return s({user:e})},a=function(e,t,n){return s({firstname:e,lastname:t,url:n})},c=function(e){return{type:"ACCOUNT_RECOVERY_RESET_UPDATE_USER_DATA",userData:e}},u=function(e,t){return{type:"ACCOUNT_RECOVERY_RESET_REQUEST",userData:e,method:t}},l=function(e,t,n){return{type:"ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST",userData:e,method:t,key:n}},d=function(){return{type:"ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST_SUCCESS"}},p=function(e){return{type:"ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST_ERROR",error:e}},m=function(e,t,n,r){return{type:"ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST",userData:e,method:t,key:n,password:r}},f=function(e){return{type:"ACCOUNT_RECOVERY_RESET_SET_METHOD",method:e}},_=function(){return f(null)},E=function(e){return{type:"ACCOUNT_RECOVERY_RESET_SET_VALIDATION_KEY",key:e}}},"./client/state/account-recovery/settings/selectors.js":function(e,t,n){"use strict";n.d(t,"h",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"i",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"j",function(){return m}),n.d(t,"k",function(){return f});var r=function(e){return e.accountRecovery.settings.isReady},i=function(e){return e.accountRecovery.settings.data.phoneValidated},s=function(e){return e.accountRecovery.settings.data.emailValidated},o=function(e){return e.accountRecovery.settings.data.email},a=function(e){return e.accountRecovery.settings.data.phone},c=function(e){return e.accountRecovery.settings.isValidatingPhone},u=function(e){return!r(e)||function(e){return!!e.accountRecovery.settings.isUpdating.email}(e)||function(e){return!!e.accountRecovery.settings.isDeleting.email}(e)},l=function(e){return!r(e)||function(e){return!!e.accountRecovery.settings.isUpdating.phone}(e)||function(e){return!!e.accountRecovery.settings.isDeleting.phone}(e)},d=function(e){return!!e.accountRecovery.settings.hasSentValidation.email},p=function(e){return!!e.accountRecovery.settings.hasSentValidation.phone},m=function(e){return!u(e)&&!!o(e)&&!s(e)},f=function(e){return!l(e)&&!!a(e)&&!i(e)}},"./client/state/account/actions.js":function(e,t,n){"use strict";function r(){return{type:"ACCOUNT_CLOSE"}}function i(){return{type:"ACCOUNT_CLOSE_SUCCESS"}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},"./client/state/action-watchers/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=function(e,t){return Object(r.isArray)(e)?e.concat(t):void 0},s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>1?r.mergeWith.apply(void 0,[Object.create(null)].concat(t,[i])):t[0]}},"./client/state/active-promotions/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return o});var r=function(e){return{type:"ACTIVE_PROMOTIONS_RECEIVE",activePromotions:e}},i=function(){return{type:"ACTIVE_PROMOTIONS_REQUEST_SUCCESS"}},s=function(e){return{type:"ACTIVE_PROMOTIONS_REQUEST_FAILURE",error:e}},o=function(){return{type:"ACTIVE_PROMOTIONS_REQUEST"}}},"./client/state/active-promotions/selectors.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=function(e,t){return-1!==function(e){return e.activePromotions.items}(e).indexOf(t)},i=function(e){return e.activePromotions.requesting}},"./client/state/activity-log/actions.js":function(e,t,n){"use strict";var r,i=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),s=n.n(i),o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(o),c=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),u=n.n(c),l=n("./node_modules/i18n-calypso/index.js"),d=n("./node_modules/lodash/lodash.js"),p=n("./client/state/notices/actions.js"),m=n("./client/state/data-layer/handler-registry.js"),f=n("./client/state/data-layer/wpcom-http/utils.js"),_=n("./client/state/data-layer/wpcom-http/actions.js"),E=new Map;function b(e,t){return{type:"REWIND_ACTIVATE_REQUEST",siteId:e,isVpMigrate:t}}function g(e){return{type:"REWIND_ACTIVATE_SUCCESS",siteId:e}}function h(e){return{type:"REWIND_ACTIVATE_FAILURE",siteId:e}}function O(e){return{type:"REWIND_DEACTIVATE_SUCCESS",siteId:e}}function y(e){return{type:"REWIND_DEACTIVATE_FAILURE",siteId:e}}function j(e,t){return{type:"REWIND_RESTORE_REQUEST",siteId:e,activityId:t}}function v(e){return{type:"REWIND_RESTORE_DISMISS",siteId:e}}function S(e,t){return{type:"REWIND_RESTORE",siteId:e,timestamp:t}}function I(e,t,n){return{type:"REWIND_CLONE",siteId:e,timestamp:t,payload:n}}function T(e){return{type:"REWIND_RESTORE_DISMISS_PROGRESS",siteId:e}}function C(e,t){return{type:"REWIND_RESTORE_PROGRESS_REQUEST",siteId:e,restoreId:t}}function R(e,t,n,r){return s()({type:"REWIND_RESTORE_UPDATE_PROGRESS"},r,{restoreId:n,siteId:e,timestamp:t})}function A(e,t){return{type:"REWIND_BACKUP_REQUEST",siteId:e,rewindId:t}}function N(e){return{type:"REWIND_BACKUP_DISMISS",siteId:e}}function w(e,t){return{type:"REWIND_BACKUP",siteId:e,rewindId:t}}function P(e){return{type:"REWIND_BACKUP_PROGRESS_REQUEST",siteId:e}}function U(e,t,n){return s()({type:"REWIND_BACKUP_UPDATE_PROGRESS"},n,{downloadId:t,siteId:e})}function D(e,t,n){return s()({type:"REWIND_BACKUP_UPDATE_ERROR",siteId:e,downloadId:t},n)}function k(e,t){return{type:"REWIND_BACKUP_DISMISS_PROGRESS",siteId:e,downloadId:t}}Object(m.b)("state/data-layer/wpcom/sites/rewind/downloads",(r={},a()(r,"REWIND_BACKUP_PROGRESS_REQUEST",[Object(f.b)({fetch:function(e){var t=e.downloadId,n=e.siteId,r=n+"-"+t,i=E.get(r)||-1/0,s=Date.now();if(!(s-i<1500))return E.set(r,s),Object(_.a)({method:"GET",apiNamespace:"wpcom/v2",path:"/sites/"+e.siteId+"/rewind/downloads"},e)},onSuccess:function(e,t){var n=e.siteId,r=u()(t,1),i=r[0];if(!Object(d.isEmpty)(i)){var s=function(e){return{backupPoint:e.backupPoint,downloadId:+e.downloadId,progress:+e.progress,rewindId:e.rewindId,startedAt:e.startedAt,downloadCount:+e.downloadCount,validUntil:e.validUntil,url:e.url,error:e.error}}(i);return Object(d.get)(s,["error"],!1)?D(n,s.downloadId,s):U(n,s.downloadId,s)}},onError:function(){return Object(p.b)(Object(l.translate)("Hmm, we can't update the status of your backup. Please refresh this page."))}})]),a()(r,"REWIND_BACKUP_DISMISS_PROGRESS",[Object(f.b)({fetch:function(e){return Object(_.a)({method:"POST",apiNamespace:"wpcom/v2",path:"/sites/"+e.siteId+"/rewind/downloads/"+e.downloadId,body:{dismissed:!0}},e)},onSuccess:function(e,t){return t.dismissed?null:Object(p.b)(Object(l.translate)("Dismissing backup failed. Please reload and try again."))},onError:function(){return Object(p.b)(Object(l.translate)("Dismissing backup failed. Please reload and try again."))},fromApi:function(e){return{downloadId:+e.download_id,dismissed:e.is_dismissed}}})]),r)),n.d(t,"a",function(){return b}),n.d(t,"g",function(){return g}),n.d(t,"f",function(){return h}),n.d(t,"m",function(){return O}),n.d(t,"l",function(){return y}),n.d(t,"p",function(){return j}),n.d(t,"o",function(){return v}),n.d(t,"q",function(){return S}),n.d(t,"k",function(){return I}),n.d(t,"c",function(){return T}),n.d(t,"e",function(){return C}),n.d(t,"u",function(){return R}),n.d(t,"n",function(){return A}),n.d(t,"i",function(){return N}),n.d(t,"h",function(){return w}),n.d(t,"d",function(){return P}),n.d(t,"t",function(){return U}),n.d(t,"j",function(){return D}),n.d(t,"b",function(){return k}),n.d(t,"r",function(){return L}),n.d(t,"s",function(){return M});var L=function(e,t){return{type:"ACTIVITY_LOG_FILTER_SET",siteId:e,filter:t}},M=function(e,t){return{type:"ACTIVITY_LOG_FILTER_UPDATE",siteId:e,filter:t}}},"./client/state/activity-log/reducer.js":function(e,t,n){"use strict";var r,i,s,o=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),a=n.n(o),c=n("./client/state/utils.js"),u=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(u),d=n("./node_modules/lodash/lodash.js"),p=Object(c.e)("siteId",Object(c.c)({},(r={},l()(r,"REWIND_ACTIVATE_REQUEST",d.stubTrue),l()(r,"REWIND_ACTIVATE_FAILURE",d.stubFalse),l()(r,"REWIND_ACTIVATE_SUCCESS",d.stubFalse),r))),m=function(){return null},f=Object(c.e)("siteId",Object(c.c)({},(i={},l()(i,"REWIND_RESTORE",function(e,t){var n=t.timestamp;return{errorCode:"",failureReason:"",message:"",percent:0,status:"queued",timestamp:n,rewindId:""}}),l()(i,"REWIND_RESTORE_DISMISS_PROGRESS",m),l()(i,"REWIND_RESTORE_UPDATE_PROGRESS",function(e,t){var n=t.errorCode,r=t.failureReason,i=t.message,s=t.percent,o=t.restoreId,a=t.status,c=t.timestamp,u=t.rewindId,l=t.context;return{errorCode:n,failureReason:r,message:i,percent:s,restoreId:o,status:a,timestamp:c,rewindId:u,context:l}}),l()(i,"REWIND_RESTORE_DISMISS",m),i)));f.schema={type:"object",patternProperties:{"^\\d+$":{type:"object",required:["restoreId","status","timestamp"],properties:{errorCode:{type:"string"},failureReason:{type:"string"},message:{type:"string"},percent:{type:"integer"},restoreId:{type:"integer"},status:{type:"string"},timestamp:{type:"integer"},rewindId:{type:"string"}}}},additionalProperties:!1};var _=Object(c.e)("siteId",Object(c.c)(void 0,(s={},l()(s,"REWIND_RESTORE",function(){}),l()(s,"REWIND_RESTORE_DISMISS",function(){}),l()(s,"REWIND_RESTORE_REQUEST",function(e,t){var n=t.activityId;return n}),s))),E=Object(c.e)("siteId",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.rewindId;switch(n){case"REWIND_BACKUP_REQUEST":return r;case"REWIND_BACKUP_DISMISS":case"REWIND_BACKUP":return;default:return e}}),b=Object(c.e)("siteId",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REWIND_BACKUP":return{backupPoint:"",downloadId:0,progress:0,rewindId:t.rewindId,startedAt:"",downloadCount:0,validUntil:"",url:""};case"REWIND_BACKUP_UPDATE_PROGRESS":return{backupPoint:t.backupPoint,downloadId:t.downloadId,progress:t.progress,rewindId:t.rewindId,startedAt:t.startedAt,downloadCount:t.downloadCount,validUntil:t.validUntil,url:t.url};case"REWIND_BACKUP_UPDATE_ERROR":return{backupPoint:t.backupPoint,downloadId:t.downloadId,backupError:t.error,rewindId:t.rewindId,startedAt:t.startedAt};case"REWIND_BACKUP_DISMISS_PROGRESS":case"REWIND_BACKUP_DISMISS":return null;default:return e}});n.d(t,"b",function(){return g});var g={page:1};t.a=Object(c.b)({activationRequesting:p,filter:Object(c.e)("siteId",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.filter;switch(n){case"ACTIVITY_LOG_FILTER_SET":return a()({},g,r);case"ACTIVITY_LOG_FILTER_UPDATE":return a()({},e,r);default:return e}}),restoreProgress:f,restoreRequest:_,backupProgress:b,backupRequest:E})},"./client/state/activity-log/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s});var r=function(e){return Object.assign({},e.action&&{action:e.action},e.after&&{after:e.after},e.before&&{before:e.before},e.by&&{by:e.by},e.dateRange&&{date_range:e.dateRange},e.group&&{group:e.group},e.notGroup&&{not_group:e.notGroup},e.name&&{name:e.name},{number:1e3})},i=function(e){return Object.assign({},e.action&&{action:e.action.join(",")},e.after&&{after:e.after},e.before&&{before:e.before},e.by&&{by:e.by},e.dateRange&&{date_range:e.dateRange},e.group&&{group:e.group.join(",")},e.notGroup&&{not_group:e.notGroup.join(",")},e.name&&{name:e.name.join(",")},e.page>1&&{page:e.page})},s=function(e){return Object.assign({},e.action&&{action:decodeURI(e.action).split(",")},e.after&&{after:e.after},e.before&&{before:e.before},e.by&&{by:e.by},e.date_range&&{dateRange:e.date_range},e.name&&{name:decodeURI(e.name).split(",")},e.group&&{group:decodeURI(e.group).split(",")},e.not_group&&{notGroup:decodeURI(e.not_group).split(",")},e.page&&e.page>0&&{page:e.page})}},"./client/state/analytics/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"k",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return _}),n.d(t,"g",function(){return E}),n.d(t,"i",function(){return b}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return y}),n.d(t,"j",function(){return v}),n.d(t,"h",function(){return S});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=n("./client/state/ui/oauth2-clients/selectors.js"),u=n("./client/state/ui/selectors.js"),l=n("./client/state/utils.js"),d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"ANALYTICS_MULTI_TRACK",meta:{analytics:Object(a.flatMap)(t,Object(a.property)("meta.analytics"))}}},p=Object(a.curry)(function(e,t){return Object(a.isFunction)(t)?function(n){n(e),n(t)}:Object(a.merge)({},t,{meta:{analytics:(n=e,r=t,o()(Object(a.get)(n,"meta.analytics",[])).concat(o()(Object(a.get)(r,"meta.analytics",[]))))}});var n,r}),m=function(e,t){return{type:"ANALYTICS_STAT_BUMP",meta:{analytics:[{type:"ANALYTICS_STAT_BUMP",payload:{group:e,name:t}}]}}},f=function(e,t){return{type:"ANALYTICS_EVENT_RECORD",meta:{analytics:[{type:"ANALYTICS_EVENT_RECORD",payload:Object.assign({},{service:e},t)}]}}},_=function(e){return{type:"ANALYTICS_TRACKING_ON",meta:{analytics:[{type:"ANALYTICS_TRACKING_ON",payload:{trackingTool:e}}]}}},E=function(e,t,n,r){return f("ga",{category:e,action:t,label:n,value:r})},b=function(e,t){return f("tracks",{name:e,properties:t})},g=function(e,t){return f("fb",{name:e,properties:t})},h=function(e){return f("adwords",{properties:e})},O=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"ANALYTICS_PAGE_VIEW_RECORD",meta:{analytics:[{type:"ANALYTICS_PAGE_VIEW_RECORD",payload:i()({service:n,url:e,title:t},r)}]}}},y=function(e,t){var n=Object(u.d)(t());return null!==n&&("ANALYTICS_EVENT_RECORD"===e.type?Object(a.set)(e,"meta.analytics[0].payload.properties.site_type",n.jetpack?"jetpack":"wpcom"):Object(a.set)(e,"meta.analytics[0].payload.site_type",n.jetpack?"jetpack":"wpcom")),e},j=function(e,t){var n=Object(c.b)(t());return n&&("ANALYTICS_EVENT_RECORD"===e.type?Object(a.set)(e,"meta.analytics[0].payload.properties.client_id",n):Object(a.set)(e,"meta.analytics[0].payload.client_id",n)),e},v=Object(l.f)(b,j),S=Object(l.f)(O,j)},"./client/state/analytics/middleware.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/analytics/index.js"),a=n("./client/lib/analytics/ad-tracking.js");n.d(t,"dispatcher",function(){return l}),n.d(t,"analyticsMiddleware",function(){return d});var c={ga:function(e){var t=e.category,n=e.action,r=e.label,i=e.value;return o.default.ga.recordEvent(t,n,r,i)},tracks:function(e){var t=e.name,n=e.properties;return o.default.tracks.recordEvent(t,n)},fb:function(e){var t=e.name,n=e.properties;return Object(a.m)(t,n)},adwords:function(e){var t=e.properties;return Object(a.l)(t)}},u={ga:function(e){var t=e.url,n=e.title;return o.default.ga.recordPageView(t,n)},default:function(e){var t=e.url,n=e.title,r=i()(e,["url","title"]);return o.default.pageView.record(t,n,r)}},l=function(e,t){var n=e.meta.analytics;n.forEach(function(e){var n,r,a,l,d,p=e.type,m=e.payload,f=m.service,_=void 0===f?"default":f,E=i()(m,["service"]);switch(p){case"ANALYTICS_EVENT_RECORD":return Object(s.invoke)(c,_,E);case"ANALYTICS_PAGE_VIEW_RECORD":return Object(s.invoke)(u,_,E);case"ANALYTICS_STAT_BUMP":return a=E,l=a.group,d=a.name,o.default.mc.bumpStat(l,d);case"ANALYTICS_TRACKING_ON":return function(e,t){var n=e.trackingTool;"HotJar"!==n||function(e,t){return!!e.analyticsTracking[t]}(t,"HotJar")||o.default.hotjar.addHotJarScript()}(E,t);case"ANALYTICS_TRACKS_OPT_OUT":return n=E,r=n.isOptingOut,o.default.tracks.setOptOut(r)}})},d=function(e){return function(t){return function(n){return Object(s.has)(n,"meta.analytics")&&l(n,e.getState()),t(n)}}};t.default=d},"./client/state/application-passwords/actions.js":function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return u});var r=function(){return{type:"APPLICATION_PASSWORDS_REQUEST"}},i=function(e){return{type:"APPLICATION_PASSWORDS_RECEIVE",appPasswords:e}},s=function(e){return{type:"APPLICATION_PASSWORD_CREATE",applicationName:e}},o=function(e){return{type:"APPLICATION_PASSWORD_CREATE_SUCCESS",appPassword:e}},a=function(){return{type:"APPLICATION_PASSWORD_NEW_CLEAR"}},c=function(e){return{type:"APPLICATION_PASSWORD_DELETE",appPasswordId:e}},u=function(e){return{type:"APPLICATION_PASSWORD_DELETE_SUCCESS",appPasswordId:e}}},"./client/state/audio/middleware.js":function(e,t,n){"use strict";n.r(t),n.d(t,"playSound",function(){return o}),n.d(t,"playSoundForMessageToCustomer",function(){return a}),n.d(t,"handlers",function(){return c});var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),i=n.n(r),s=function(){return"object"===("undefined"==typeof window?"undefined":i()(window))&&"function"==typeof window.Audio},o=function(e){if(s()){var t=new window.Audio(e);t.play()}},a=function(e,t){var n=t.message;n&&"customer"===n.source||o("/calypso/audio/chat-pling.wav")},c=Object.create(null);c.HAPPYCHAT_IO_RECEIVE_MESSAGE=a,t.default=function(e){var t=e.dispatch;return function(e){return s()?function(n){var r=c[n.type];return"function"==typeof r&&r(t,n),e(n)}:e}}},"./client/state/automated-transfer/actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return c});var r=function(e,t){return{type:"AUTOMATED_TRANSFER_INITIATE_WITH_PLUGIN_ZIP",siteId:e,pluginZip:t}},i=function(e){return{type:"AUTOMATED_TRANSFER_STATUS_REQUEST",siteId:e}},s=function(e,t,n){return{type:"AUTOMATED_TRANSFER_STATUS_SET",siteId:e,status:t,uploadedPluginId:n}},o=function(e){return{type:"AUTOMATED_TRANSFER_STATUS_REQUEST_FAILURE",siteId:e}},a=function(e){return{type:"AUTOMATED_TRANSFER_ELIGIBILITY_REQUEST",siteId:e}},c=function(e,t){var n=t.eligibilityHolds,r=t.eligibilityWarnings,i=t.lastUpdate,s=t.status;return{type:"AUTOMATED_TRANSFER_ELIGIBILITY_UPDATE",eligibilityHolds:n,eligibilityWarnings:r,lastUpdate:i,siteId:e,status:s}}},"./client/state/automated-transfer/constants.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r={PENDING:"pending",INQUIRING:"inquiring",FAILURE:"failure",START:"start",SETUP:"setup",CONFLICTS:"conflicts",ACTIVE:"active",UPLOADING:"uploading",BACKFILLING:"backfilling",COMPLETE:"complete",ERROR:"error"},i={TRANSFER_ALREADY_EXISTS:"TRANSFER_ALREADY_EXISTS",NO_BUSINESS_PLAN:"NO_BUSINESS_PLAN",NO_JETPACK_SITES:"NO_JETPACK_SITES",NO_VIP_SITES:"NO_VIP_SITES",SITE_PRIVATE:"SITE_PRIVATE",SITE_GRAYLISTED:"SITE_GRAYLISTED",NON_ADMIN_USER:"NON_ADMIN_USER",NOT_USING_CUSTOM_DOMAIN:"NOT_USING_CUSTOM_DOMAIN",NOT_DOMAIN_OWNER:"NOT_DOMAIN_OWNER",NO_WPCOM_NAMESERVERS:"NO_WPCOM_NAMESERVERS",NOT_RESOLVING_TO_WPCOM:"NOT_RESOLVING_TO_WPCOM",NO_SSL_CERTIFICATE:"NO_SSL_CERTIFICATE",EMAIL_UNVERIFIED:"EMAIL_UNVERIFIED",EXCESSIVE_DISK_SPACE:"EXCESSIVE_DISK_SPACE"}},"./client/state/automated-transfer/selectors.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a});var r=n("./node_modules/lodash/lodash.js"),i=function(e,t){return Object(r.get)(e,["automatedTransfer",t],{})},s=Object(r.flowRight)(function(e){return Object(r.get)(e,"status",null)},i),o=Object(r.flowRight)(function(e){return Object(r.get)(e,"eligibility",{lastUpdate:0})},i),a=Object(r.flowRight)(function(e){return!!Object(r.get)(e,"lastUpdate",0)&&!Object(r.get)(e,"eligibilityHolds",[]).length},o)},"./client/state/checklist/actions.js":function(e,t,n){"use strict";function r(e,t){return{type:"SITE_CHECKLIST_RECEIVE",siteId:e,checklist:t}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s});var i=function(e){return{type:"SITE_CHECKLIST_REQUEST",siteId:e}},s=function(e,t){return{type:"SITE_CHECKLIST_TASK_UPDATE",siteId:e,taskId:t}}},"./client/state/comments/actions.js":function(e,t,n){"use strict";n.d(t,"i",function(){return s}),n.d(t,"f",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"m",function(){return c}),n.d(t,"k",function(){return u}),n.d(t,"l",function(){return l}),n.d(t,"j",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"p",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"e",function(){return _}),n.d(t,"o",function(){return E}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return h}),n.d(t,"n",function(){return O});var r=n("./client/config/index.js"),i=n("./client/state/comments/constants.js"),s=function(e){var t=e.siteId,n=e.commentId,r=e.query,i=void 0===r?{}:r;return{type:"COMMENT_REQUEST",siteId:t,commentId:n,query:i}},o=function(e){var t=e.siteId,n=e.postId,r=e.comments,i=e.commentById,s=void 0!==i&&i;return{type:"COMMENTS_RECEIVE",siteId:t,postId:n,comments:r,commentById:s}},a=function(e){var t=e.siteId,n=e.commentId;return{type:"COMMENTS_RECEIVE_ERROR",siteId:t,commentId:n}};function c(e){var t=e.siteId,n=e.postId,s=e.status,o=void 0===s?"approved":s,a=e.direction,c=void 0===a?"before":a;return Object(r.b)("comments/filters-in-posts")||(o="approved"),{type:"COMMENTS_REQUEST",siteId:t,postId:n,direction:c,query:{order:"before"===c?"DESC":"ASC",number:i.a,status:o}}}var u=function(e){return{type:"COMMENTS_LIST_REQUEST",query:e}},l=function(e){return{type:"COMMENTS_TREE_SITE_REQUEST",query:e}},d=function(e,t){return{type:"COMMENT_COUNTS_REQUEST",siteId:e,postId:t}},p=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{showSuccessNotice:!0},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:"COMMENTS_DELETE",siteId:e,postId:t,commentId:n,options:r,refreshCommentListQuery:i,meta:{dataLayer:{trackRequest:!0}}}},m=function(e,t,n){return{type:"COMMENTS_WRITE",siteId:t,postId:n,commentText:e}},f=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:"COMMENTS_REPLY_WRITE",siteId:t,postId:n,parentCommentId:r,commentText:e,refreshCommentListQuery:i}},_=function(e,t,n){return{type:"COMMENTS_LIKE",siteId:e,postId:t,commentId:n}},E=function(e,t,n){return{type:"COMMENTS_UNLIKE",siteId:e,postId:t,commentId:n}},b=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:"COMMENTS_CHANGE_STATUS",siteId:e,postId:t,commentId:n,status:r,refreshCommentListQuery:i,meta:{dataLayer:{trackRequest:!0}}}},g=function(e,t,n,r){return{type:"COMMENTS_EDIT",siteId:e,postId:t,commentId:n,comment:r}},h=function(e){var t=e.siteId,n=e.commentIds,r=e.postId,i=e.displayType;return{type:"READER_EXPAND_COMMENTS",payload:{siteId:t,commentIds:n,postId:r,displayType:i}}},O=function(e){var t=e.siteId,n=e.postId,r=e.commentId;return{type:"COMMENTS_SET_ACTIVE_REPLY",payload:{siteId:t,postId:n,commentId:r}}}},"./client/state/comments/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s});var r=50,i={PENDING:"PENDING",ERROR:"ERROR"},s={singleLine:"is-single-line",excerpt:"is-excerpt",full:"is-full"}},"./client/state/comments/middleware.js":function(e,t,n){"use strict";n.r(t),n.d(t,"commentsMiddleware",function(){return a});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/state/selectors/get-site-comment.js"),a=function(e){e.dispatch;var t=e.getState;return function(e){return function(n){return e(function(e,t,n){switch(t.type){case"COMMENTS_CHANGE_STATUS":case"COMMENTS_DELETE":var r=Object(o.a)(n(),t.siteId,t.commentId),a=r&&r.status;return i()({},t,{meta:Object.assign({},t.meta,{comment:Object.assign({},Object(s.get)(t,"meta.comment"),{previousStatus:a})})});default:return t}}(0,n,t))}}};t.default=a},"./client/state/comments/reducer.js":function(e,t,n){"use strict";var r,i,s,o,a=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=n.n(u),d=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),p=n.n(d),m=n("./node_modules/lodash/lodash.js"),f=n("./client/state/utils.js"),_=n("./client/state/comments/constants.js"),E=Object(f.e)("siteId",function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"COMMENTS_CHANGE_STATUS":return Object(m.map)(t,function(e){return e.commentId===n.commentId?p()({},e,{status:n.status}):e});case"COMMENTS_DELETE":return Object(m.reject)(t,{commentId:n.commentId});case"COMMENTS_RECEIVE":return Object(m.unionBy)((e=n.comments,Object(m.map)(Object(m.reject)(e,function(e){var t=e.ID;return!parseInt(t,10)}),function(e){return{commentId:Object(m.get)(e,"ID"),commentParentId:Object(m.get)(e,"parent.ID",0),postId:Object(m.get)(e,"post.ID"),status:Object(m.get)(e,"status"),type:Object(m.get)(e,"type","comment")}})),t,"commentId");case"COMMENTS_TREE_SITE_ADD":return Object(m.unionBy)(n.tree,Object(m.reject)(t,{status:n.status}),"commentId")}return t}),b=E,g=n("./client/state/comments/utils.js");n.d(t,"b",function(){return y});var h=function(e){var t=e.date;return new Date(t)},O=function(e,t){return function(n){if(n.ID!==e)return n;var r=Object(m.has)(t,"i_like")&&Object(m.isUndefined)(t.like_count),i=function(e){return Object(m.has)(e,"commentContent")&&Object(m.has)(e,"authorDisplayName")&&Object(m.has)(e,"authorUrl")}(t)?p()({},n,{author:p()({},n.author,{name:t.authorDisplayName,url:t.authorUrl}),content:t.commentContent}):p()({},n,t);return p()({},i,r&&{like_count:t.i_like?n.like_count+1:n.like_count-1})}};var y={before:!0,after:!0,hasReceivedBefore:!1,hasReceivedAfter:!1},j=function(e){var t=_.c.full,n=_.c.excerpt,r=_.c.singleLine;switch(e){case t:return 3;case n:return 2;case r:return 1}},v=Object(f.c)({},l()({},"READER_EXPAND_COMMENTS",function(e,t){var n=t.payload,r=n.siteId,i=n.postId,s=n.commentIds,o=n.displayType;if(!function(e){var t=e.payload,n=t.siteId,r=t.postId,i=t.commentIds,s=t.displayType;return n&&r&&Object(m.isArray)(i)&&Object(m.includes)(Object(m.values)(_.c),s)}(t))return e;var a=Object(g.d)(r,i),c=e[a]||{},u=Object(m.map)(s,function(e){return!Object(m.has)(c,e)||j(o)>j(c[e])?o:c[e]}),d=Object(m.zipObject)(s,u);return p()({},e,l()({},a,Object.assign({},e[a],d)))})),S=Object(f.c)({},l()({},"COMMENTS_RECEIVE",function(e,t){var n,r=t.siteId,i=t.postId,s=t.direction,o=t.commentById,a=Object(g.d)(r,i);if(o)return e;var c="before"===s?"hasReceivedBefore":"hasReceivedAfter",u=p()({},Object(m.get)(e,a,y),(n={},l()(n,s,t.comments.length===_.a),l()(n,c,!0),n));return Object(m.isEqual)(e[a],u)?e:p()({},e,l()({},a,u))})),I=Object(f.c)({},(r={},l()(r,"COMMENTS_COUNT_RECEIVE",function(e,t){var n=Object(g.d)(t.siteId,t.postId);return p()({},e,l()({},n,t.totalCommentsCount))}),l()(r,"COMMENTS_COUNT_INCREMENT",function(e,t){var n=Object(g.d)(t.siteId,t.postId);return p()({},e,l()({},n,e[n]+1))}),r)),T=Object(f.c)({},(i={},l()(i,"COMMENTS_RECEIVE_ERROR",function(e,t){var n=t.siteId,r=t.commentId,i=Object(g.c)(n,r);return e[i]?e:p()({},e,l()({},i,{error:!0}))}),l()(i,"COMMENTS_WRITE_ERROR",function(e,t){var n=t.siteId,r=t.commentId,i=Object(g.c)(n,r);return e[i]?e:p()({},e,l()({},i,{error:!0}))}),i)),C=Object(f.e)("siteId",Object(f.e)("status",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"COMMENTS_TREE_SITE_ADD"===t.type||e})),R=Object(f.c)({},(s={},l()(s,"COMMENTS_SET_ACTIVE_REPLY",function(e,t){var n=t.payload,r=n.siteId,i=n.postId,s=n.commentId,o=Object(g.d)(r,i);return null===s?Object(m.omit)(e,o):p()({},e,l()({},o,s))}),l()(s,"COMMENTS_WRITE_ERROR",function(e,t){var n=t.siteId,r=t.postId,i=t.parentCommentId,s=Object(g.d)(n,r);return p()({},e,l()({},s,i))}),s));function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r="unapproved"===t?"pending":t;if(e&&Object(m.isInteger)(e[r])){var i=p()({},e,l()({},r,e[r]+n)),s=i.pending,o=i.approved,a=i.spam;return p()({},i,{all:s+o,totalComments:s+o+a})}}var N=Object(f.c)({},(o={},l()(o,"COMMENT_COUNTS_UPDATE",function(e,t){var n=Object(m.omit)(t,"type"),r=n.siteId,i=n.postId,s=c()(n,["siteId","postId"]);if(!r)return e;var o=r&&i?i:"site",a=l()({},r,Object.assign({},e[r]||{},l()({},o,s)));return Object.assign({},e,a)}),l()(o,"COMMENTS_CHANGE_STATUS",function(e,t){var n=t.siteId,r=t.postId,i=void 0===r?-1:r,s=t.status,o=Object(m.get)(t,"meta.comment.previousStatus");if(!(n&&s&&e[n]&&o))return e;var a=e[n],c=a.site,u=a[i],d=A(A(c,s,1),o,-1),p=A(A(u,s,1),o,-1),f=Object.assign({},e[n],d&&{site:d},p&&l()({},i,p));return Object.assign({},e,l()({},n,f))}),l()(o,"COMMENTS_DELETE",function(e,t){var n=t.siteId,r=t.postId,i=void 0===r?-1:r,s=t.commentId;if(s&&Object(m.startsWith)(s,"placeholder"))return e;var o=Object(m.get)(t,"meta.comment.previousStatus");if(!n||!e[n]||!o)return e;var a=e[n],c=a.site,u=a[i],d=A(c,o,-1),p=A(u,o,-1),f=Object.assign({},e[n],d&&{site:d},p&&l()({},i,p));return Object.assign({},e,l()({},n,f))}),l()(o,"COMMENTS_RECEIVE",function(e,t){if("add"!==Object(m.get)(t,"meta.comment.context"))return e;var n=t.siteId,r=t.postId,i=void 0===r?-1:r;if(!n||!e[n])return e;var s=e[n],o=s.site,a=s[i],c=Object(m.get)(t,["comments",0,"status"]),u=A(o,c,1),d=A(a,c,1),p=Object.assign({},e[n],u&&{site:u},d&&l()({},i,d));return Object.assign({},e,l()({},n,p))}),o));t.a=Object(f.b)({counts:N,items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.siteId,i=t.postId,s=t.commentId,o=t.like_count;if(!r||!i)return e;var a=Object(g.d)(r,i);switch(n){case"COMMENTS_CHANGE_STATUS":var c=t.status;return p()({},e,l()({},a,Object(m.map)(e[a],O(s,{status:c}))));case"COMMENTS_EDIT":var u=t.comment;return p()({},e,l()({},a,Object(m.map)(e[a],O(s,u))));case"COMMENTS_RECEIVE":var d=t.skipSort,f=Object(m.map)(t.comments,function(e){return p()({},e,{contiguous:!t.commentById,has_link:Object(g.a)(e.content,e.has_link)})}),E=Object(m.unionBy)(e[a],f,"ID");return p()({},e,l()({},a,d?E:Object(m.orderBy)(E,h,["desc"])));case"COMMENTS_DELETE":return p()({},e,l()({},a,Object(m.reject)(e[a],{ID:s})));case"COMMENTS_LIKE":return p()({},e,l()({},a,Object(m.map)(e[a],O(s,{i_like:!0,like_count:o}))));case"COMMENTS_UNLIKE":return p()({},e,l()({},a,Object(m.map)(e[a],O(s,{i_like:!1,like_count:o}))));case"COMMENTS_RECEIVE_ERROR":case"COMMENTS_WRITE_ERROR":var b=t.error,y=t.errorType;return p()({},e,l()({},a,Object(m.map)(e[a],O(s,{placeholderState:_.b.ERROR,placeholderError:b,placeholderErrorType:y}))))}return e},fetchStatus:S,errors:T,expansions:v,totalCommentsCount:I,trees:b,treesInitialized:C,activeReplies:R})},"./client/state/comments/selectors.js":function(e,t,n){"use strict";n.d(t,"e",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"k",function(){return _}),n.d(t,"i",function(){return E}),n.d(t,"j",function(){return b}),n.d(t,"h",function(){return g}),n.d(t,"f",function(){return h}),n.d(t,"g",function(){return O}),n.d(t,"a",function(){return y}),n.d(t,"d",function(){return j});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=n("./client/lib/tree-select/index.js"),u=n("./client/state/comments/reducer.js"),l=n("./client/state/comments/utils.js"),d=function(e,t,n){return Object(a.get)(e.comments.items,t+"-"+n)},p=Object(c.a)(function(e,t,n){return[d(e,t,n)]},function(e){var t=o()(e,1),n=t[0];return Object(a.sortBy)(n,function(e){return new Date(e.date)})}),m=function(e){var t=e.state,n=e.commentId,r=e.siteId,i=Object(l.c)(r,n);if(Object(a.get)(t,"comments.errors",{})[i])return t.comments.errors[i];var s=Object(a.flatMap)(Object(a.filter)(Object(a.get)(t,"comments.items",[]),function(e,t){return Object(l.b)(t).siteId===r}));return Object(a.find)(s,function(e){return n===e.ID})},f=function(e){return e.comments.errors},_=function(e,t,n){return Object(a.get)(e.comments.totalCommentsCount,t+"-"+n)},E=Object(c.a)(function(e,t,n){return[d(e,t,n)]},function(e){var t=o()(e,1),n=t[0],r=Object(a.find)(n,"contiguous");return r?new Date(Object(a.get)(r,"date")):void 0}),b=Object(c.a)(function(e,t,n){return[d(e,t,n)]},function(e){var t=o()(e,1),n=t[0],r=Object(a.findLast)(n,"contiguous");return r?new Date(Object(a.get)(r,"date")):void 0}),g=Object(c.a)(function(e,t,n){return[d(e,t,n)]},function(e,t,n){var r=o()(e,1),s=r[0],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"approved",u=arguments.length>4?arguments[4]:void 0,l=Object(a.filter)(s,function(e){var t=Object(a.get)(e,"author.ID");return(!u||!t||"unapproved"!==e.status||t===u)&&("all"===c||(e.isPlaceholder||e.status===c))}),d=Object(a.partition)(l,function(e){return!1===e.parent}),p=o()(d,2),m=p[0],f=p[1],_=Object(a.groupBy)(f,"parent.ID"),E=Object(a.mapValues)(_,function(e){return Object(a.map)(e,"ID").reverse()}),b=Object(a.keyBy)(Object(a.map)(l,function(e){return{data:e,children:E[e.ID]||[]}}),"data.ID");return i()({},b,{children:Object(a.map)(m,function(e){return e.ID}).reverse()})}),h=function(e,t,n){return e.comments.expansions[Object(l.d)(t,n)]},O=Object(c.a)(function(e,t,n){return[d(e,t,n),h(e,t,n)]},function(e){var t=o()(e,2),n=t[0],r=t[1],i=Object(a.keyBy)(n,"ID");return Object(a.pickBy)(i,function(e){return!Object(a.get)(r,e.ID)})}),y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=Object(a.get)(e.comments.fetchStatus,Object(l.d)(t,n),u.b),s=r>Object(a.size)(d(e,t,n));return{haveEarlierCommentsToFetch:i.before&&s,haveLaterCommentsToFetch:i.after&&s,hasReceivedBefore:i.hasReceivedBefore,hasReceivedAfter:i.hasReceivedAfter}},j=Object(c.a)(function(e,t,n){return[d(e,t,n)]},function(e,t,n,r){var i=o()(e,1),s=i[0],c=Object(a.find)(s,{ID:r});if(c){var u=c.i_like,l=c.like_count;return{i_like:u,like_count:l}}})},"./client/state/comments/utils.js":function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return u});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(r),s=n("./client/lib/post-normalizer/utils.js"),o=function(e,t){return e+"-"+t},a=function(e){var t=e.split("-"),n=i()(t,2),r=n[0],s=n[1];return{siteId:+r,postId:+s}},c=function(e,t){return e+"-"+t},u=function(e,t){if(void 0!==t)return t;try{return!!Object(s.b)(e).getElementsByTagName("a").length}catch(e){return!1}}},"./client/state/concierge/actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"h",function(){return o}),n.d(t,"i",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return d});var r=function(e,t){return{type:"CONCIERGE_APPOINTMENT_DETAILS_REQUEST",scheduleId:e,appointmentId:t}},i=function(e,t){return{type:"CONCIERGE_APPOINTMENT_DETAILS_UPDATE",appointmentId:e,appointmentDetails:t}},s=function(e){return{type:"CONCIERGE_INITIAL_REQUEST",scheduleId:e}},o=function(e){return{type:"CONCIERGE_INITIAL_UPDATE",initial:e}},a=function(e){return{type:"CONCIERGE_SIGNUP_FORM_UPDATE",signupForm:e}},c=function(e){return{type:"CONCIERGE_UPDATE_BOOKING_STATUS",status:e}},u=function(e,t,n,r,i){return{type:"CONCIERGE_APPOINTMENT_CREATE",scheduleId:e,beginTimestamp:t,customerId:n,siteId:r,meta:i}},l=function(e,t,n,r){return{type:"CONCIERGE_APPOINTMENT_RESCHEDULE",scheduleId:e,appointmentId:t,beginTimestamp:n,appointmentDetails:r}},d=function(e,t){return{type:"CONCIERGE_APPOINTMENT_CANCEL",scheduleId:e,appointmentId:t}}},"./client/state/connected-applications/actions.js":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o});var r=function(){return{type:"CONNECTED_APPLICATIONS_REQUEST"}},i=function(e){return{type:"CONNECTED_APPLICATIONS_RECEIVE",apps:e}},s=function(e){return{type:"CONNECTED_APPLICATION_DELETE",appId:e}},o=function(e){return{type:"CONNECTED_APPLICATION_DELETE_SUCCESS",appId:e}}},"./client/state/current-user/gravatar-status/selectors.js":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js");function i(e){return Object(r.get)(e,"currentUser.gravatarStatus.isUploading",!1)}function s(e,t){return e.currentUser.id===t&&Object(r.get)(e,"currentUser.gravatarStatus.tempImage.src",!1)}},"./client/state/current-user/selectors.js":function(e,t,n){"use strict";n.d(t,"g",function(){return s}),n.d(t,"m",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return _}),n.d(t,"f",function(){return E}),n.d(t,"n",function(){return b}),n.d(t,"a",function(){return g}),n.d(t,"l",function(){return h});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/users/selectors.js");function s(e){return Object(r.get)(e,["currentUser","id"])}function o(e){return null!==s(e)}function a(e){var t=s(e);return t?Object(i.a)(e,t):null}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){var i=a(n);return Object(r.get)(i,e,t)}},u=c("localeSlug"),l=c("localeVariant"),d=c("user_ip_country_code");function p(e){var t=a(e);return t?t.site_count||0:null}function m(e){var t=a(e);return t?t.visible_site_count||0:null}function f(e){return e.currentUser.currencyCode}var _=c("date"),E=c("email");function b(e,t,n){var r=e.currentUser.capabilities[t];return r?r.hasOwnProperty(n):null}function g(e,t){return-1!==e.currentUser.flags.indexOf(t)}var h=c("email_verified",!1)},"./client/state/data-getters/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./client/state/http/actions.js"),o=n("./client/state/data-layer/wpcom-http/actions.js"),a=n("./client/state/data-layer/http-data.js"),c=n("./client/state/activity-log/utils.js"),u=n("./node_modules/lodash/lodash.js"),l=n("./client/state/data-layer/wpcom/sites/activity/schema.json"),d=n("./client/lib/make-json-schema-parser/index.js"),p=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),m=n.n(p),f=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),_=n.n(f),E=function(e,t){var n=_()(e.indices,2),r=n[0],i=n[1],s=_()(t.indices,2),o=s[0],a=s[1];return 0===r&&0===i&&0!==a?-1:r<o?-1:o<r?1:a-i},b=function e(t,n){var r,s,o,a,c=Object(u.find)(t,(r=n,s=_()(r.indices,2),o=s[0],a=s[1],function(e){var t=e.indices;t=void 0===t?[0,0]:t;var n=_()(t,2),r=n[0],i=n[1];return 0!==o&&0!==a&&r<=o&&i>=a}));return c?m()(Object(u.initial)(t)).concat([i()({},c,{children:e(c.children,n)})]):m()(t).concat([n])},g=function(e){var t=e.id,n=e.post_id,r=e.site_id;return{type:"comment",commentId:t,postId:n,siteId:r}},h=function(e){var t=e.id,n=e.site_id;return{type:"post",postId:t,siteId:n}},O=function(e){var t=e.id;return{type:"site",siteId:t}},y=function(e){var t=e.id,n=e.name,r=e.site_id;return{type:"person",name:n,siteId:r,userId:t}},j=function(e){var t=e.site_slug,n=e.slug,r=e.version;return{type:"plugin",siteSlug:t,pluginSlug:n,version:r}},v=function(e){var t=e.site_slug,n=e.slug,r=e.version,i=e.uri;return{type:"theme",siteSlug:t,themeSlug:n,themeUri:i,version:r}},S=function(e){var t=e.type,n=e.url;return t?function(e){var t=e.type;return{type:t}}(e):n?function(e){var t=e.url;return{type:"link",url:t}}(e):e},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i()({},function(e){switch(e){case"comment":return g;case"post":return h;case"site":return O;case"user":return y;case"plugin":return j;case"theme":return v;default:return S}}(t.type)(t),{children:[e]})},T=function(e){var t=_()(e,2),n=t[0],r=t[1];return n.length?Object(u.compact)(n.concat(r)):r.length?[r]:[]},C=function e(t,n){var r=_()(t,3),i=r[0],s=r[1],o=r[2],a=_()(n.indices,2),c=a[0],u=a[1],l=c-o,d=u-o,p=l>0?[s.slice(0,l)]:[],f=T(n.children.reduce(e,[[],s.slice(l,d),c])),E=Object.assign(I(s.slice(l,d),n),f.length&&{children:f});return[m()(i).concat(p,[E]),s.slice(d),u]},R=function(e){return e.ranges?T(e.ranges.map(function(e){return i()({},e,{children:[]})}).sort(E).reduce(b,[]).reduce(C,[[],e.text,0])):[I(e)]},A="https://www.gravatar.com/avatar/0",N="info-outline";function w(e){var t=e.actor,n=e.object,r=e.published,i={};switch(e.name){case"rewind__backup_error":"2"===Object(u.get)(e.object,"error_code","")&&(i.errorCode="bad_credentials")}return Object.assign({actorAvatarUrl:Object(u.get)(t,"icon.url",A),actorName:Object(u.get)(t,"name",""),actorRemoteId:Object(u.get)(t,"external_user_id",0),actorRole:Object(u.get)(t,"role",""),actorType:Object(u.get)(t,"type",""),actorWpcomId:Object(u.get)(t,"wpcom_user_id",0),activityDate:r,activityGroup:(e.name||"").split("__",1)[0],activityIcon:Object(u.get)(e,"gridicon",N),activityId:e.activity_id,activityIsRewindable:e.is_rewindable,activityName:e.name,activityTitle:e.summary,activityTs:Date.parse(r),activityDescription:R(e.content),activityMeta:i},e.rewind_id&&{rewindId:e.rewind_id},e.status&&{activityStatus:e.status},n&&n.target_ts&&{activityTargetTs:n.target_ts})}var P=Object(d.c)(l,function(e){return Object(u.get)(e,["current","orderedItems"],[]).map(w)});n.d(t,"a",function(){return U}),n.d(t,"b",function(){return D}),n.d(t,"c",function(){return k});var U=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.freshness,i=void 0===r?3e5:r,s="activity-log-"+e;return Object(a.e)(s,Object(o.a)({apiNamespace:"wpcom/v2",method:"GET",path:"/sites/"+e+"/activity",query:Object(c.a)(t)},{}),{freshness:i,fromApi:function(){return function(e){return[[s,P(e)]]}}})},D=function(){return Object(a.e)("geo",Object(s.a)({method:"GET",url:"https://public-api.wordpress.com/geo/"}),{fromApi:function(){return function(e){var t=e.body.country_short;return[["geo",t]]}}})},k=function(e){var t="site-alerts-"+e;return Object(a.e)(t,Object(o.a)({method:"GET",path:"/sites/"+e+"/alerts",apiNamespace:"wpcom/v2"},{}),{freshness:3e5,fromApi:function(){return function(e){var n=e.suggestions,r=e.threats,s=e.warnings,o=e.updates;return[[t,{suggestions:n,threats:r.map(function(e){return i()({id:e.id,signature:e.signature,description:e.description,firstDetected:Date.parse(e.first_detected)},e.context?{filename:e.filename,context:e.context}:{},e.diff?{filename:e.filename,diff:e.diff}:{},e.extension?{extension:{type:e.extension.type,name:e.extension.name,slug:e.extension.slug,version:e.extension.version}}:{})}),warnings:s,updates:{themes:o.themes.map(function(e){return{name:e.name,slug:e.slug,type:e.type,version:e.version}}),core:o.core.map(function(e){return{name:e.name,slug:e.slug,type:e.type,version:e.version}})}}]]}}})}},"./client/state/data-layer/handler-registry.js":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n("./client/state/action-watchers/utils.js"),i={},s=new Set,o=function(e,t){s.has(e)||(s.add(e),i=Object(r.a)(i,t))},a=function(e){return i[e]}},"./client/state/data-layer/http-data.js":function(e,t,n){"use strict";n.d(t,"c",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return O}),n.d(t,"e",function(){return y});var r=n("./node_modules/@babel/runtime/helpers/typeof.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),l=n.n(u),d=n("./client/state/data-layer/wpcom-http/utils.js"),p=new Map,m=Object.freeze({state:"uninitialized",data:void 0,error:void 0,lastUpdated:-1/0,pendingSince:void 0}),f=function(e){return p.get(e)||m},_=function(e,t,n){var r=Date.now(),i=p.get(e),s=void 0!==i;switch(t){case"failure":return p.set(e,{state:t,data:s?i.data:void 0,error:n,lastUpdated:s?i.lastUpdated:-1/0,pendingSince:void 0});case"pending":return p.set(e,{state:t,data:s?i.data:void 0,error:void 0,lastUpdated:s?i.lastUpdated:-1/0,pendingSince:r});case"success":return p.set(e,{state:t,data:n,error:void 0,lastUpdated:r,pendingSince:void 0})}},E=function(e,t){return _(e.id,"failure",t),{type:"HTTP_DATA_TICK"}};t.a=o()({},"HTTP_DATA_REQUEST",[Object(d.b)({fetch:function(e){return _(e.id,"pending"),[l()({},e.fetch,{onSuccess:e,onFailure:e,onProgress:e}),{type:"HTTP_DATA_TICK"}]},onSuccess:function(e,t){var n="function"==typeof e.fromApi&&e.fromApi(),r=n?function(e,t){try{return[void 0,t(e)]}catch(e){return[e,void 0]}}(t,n):[void 0,[]],i=c()(r,2),s=i[0],o=i[1];return void 0!==s?E(e,s):(_(e.id,"success",t),o.forEach(function(e){var t=c()(e,2),n=t[0],r=t[1];return _(n,"success",r)}),{type:"HTTP_DATA_TICK"})},onError:E})]);var b,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type;return"HTTP_DATA_TICK"===n?e+1:e},h=[],O=function(e){return function(){var t=e.apply(void 0,arguments);return b=t.dispatch,setTimeout(function(){h.forEach(b),h=[]},50),t}},y=function(e,t,n){var r=n.fromApi,i=n.freshness,s=void 0===i?1/0:i,o=f(e),a=o.state,c=o.lastUpdated;if("uninitialized"===a||"pending"!==a&&Date.now()-c>s){0;var u={type:"HTTP_DATA_REQUEST",id:e,fetch:"function"==typeof t?t():t,fromApi:"function"==typeof r?r:function(){return function(e){return e}}};b?b(u):h.push(u)}return o};"object"===("undefined"==typeof window?"undefined":i()(window))&&window.app&&window.app.isDebug&&(window.getHttpData=f,window.httpData=p,window.requestHttpData=y)},"./client/state/data-layer/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/utils.js"),s={meta:{dataLayer:{doBypass:!0}}},o=function(e){return Object(i.d)(e,s)};function a(e){return Object(r.isArray)(e)?Object(r.map)(e,a):Object(r.isPlainObject)(e)?Object(r.reduce)(e,function(e,t,n){var i=Object(r.camelCase)(n),s=Object(r.isObjectLike)(t)?a(t):t;return Object(r.set)(e,[i],s)},{}):e}},"./client/state/data-layer/wpcom-http/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(s),a=function(e){var t=e.apiVersion,n=e.apiNamespace,r=e.body,s=e.method,a=e.path,c=e.query,u=void 0===c?{}:c,l=e.formData,d=e.onSuccess,p=e.onFailure,m=e.onProgress,f=o()(e,["apiVersion","apiNamespace","body","method","path","query","formData","onSuccess","onFailure","onProgress"]),_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,E=n?{apiNamespace:n}:{apiVersion:t};return{type:"WPCOM_HTTP_REQUEST",body:r,method:s,path:a,query:i()({},u,E),formData:l,onSuccess:d||_,onFailure:p||_,onProgress:m||_,options:f}}},"./client/state/data-layer/wpcom-http/utils.js":function(e,t,n){"use strict";n.d(t,"c",function(){return _}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return g}),n.d(t,"a",function(){return y}),n.d(t,"b",function(){return j});var r,i=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),s=n.n(i),o=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),a=n.n(o),c=n("./node_modules/json-stable-stringify/index.js"),u=n.n(c),l=n("./node_modules/lodash/lodash.js"),d=n("./client/state/utils.js"),p=n("./client/lib/warn/index.js"),m=function(e){return Object(l.get)(e,"meta.dataLayer.data",void 0)},f=function(e){return Object(l.get)(e,"meta.dataLayer.error",void 0)},_=function(e){return Object(l.get)(e,"meta.dataLayer.headers",void 0)},E=function(e){return Object(l.get)(e,"meta.dataLayer.progress",void 0)},b=function(e){var t=e.meta,n=a()(e,["meta"]),r=Object(l.get)(t,"dataLayer.requestKey");return r||u()(n)},g=Object(d.e)("meta.dataLayer.requestKey",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.meta;n=void 0===n?{}:n;var r=n.dataLayer;r=void 0===r?{}:r;var i=r.lastUpdated,o=r.pendingSince,a=r.status;return Object.assign(s()({},e),{status:a},i&&{lastUpdated:i},o&&{pendingSince:o})}),h=function(e){return function(t,n){if(!0!==Object(l.get)(n,"meta.dataLayer.trackRequest")||E(n))return e(t,n);var r=b(n),i=function(e){return void 0!==f(e)?"failure":void 0!==m(e)?"success":"pending"}(n),o=Object.assign({requestKey:r,status:i},"pending"===i?{pendingSince:Date.now()}:{lastUpdated:Date.now()});e(s()({},t,{dispatch:function(e){return t.dispatch(Object(l.merge)(e,{meta:{dataLayer:o}}))}}),n)}},O={fromApi:l.identity,onProgress:l.noop},y=(r=h,function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=s()({},O,i),a=o.fromApi,c=o.onProgress;return r(function(r,i){var s=f(i);if(void 0!==s)return n(r,i,s);var o=m(i);if(void 0!==o)try{return t(r,i,a(o))}catch(e){return n(r,i,e)}var u=E(i);return void 0!==u?c(r,i,u):e(r,i)})}),j=function(e){return function(t){return t.fetch||Object(p.a)("fetch handler is not defined: no request will ever be issued"),t.onSuccess||Object(p.a)("onSuccess handler is not defined: response to the request is being ignored"),t.onError||Object(p.a)("onError handler is not defined: error during the request is being ignored"),e(function(e,n){var r=function(e,t){var n=e.fetch,r=void 0===n?l.noop:n,i=e.onSuccess,s=void 0===i?l.noop:i,o=e.onError,a=void 0===o?l.noop:o,c=e.onProgress,u=void 0===c?l.noop:c,d=e.fromApi,_=void 0===d?l.identity:d,b=f(t);if(b)return a(t,b);var g=m(t);if(g)try{return s(t,_(g))}catch(e){return a(t,e)}var h=E(t);if(h)return u(t,h);var O=r(t);return O||Object(p.a)("The `fetch` handler didn't return any action: no request will be issued"),O}(t,n);if(r)return Array.isArray(r)?r.map(e.dispatch):e.dispatch(r)})}}(h)},"./client/state/data-layer/wpcom/concierge/schedules/appointments/book/schema.json":function(e){e.exports={type:"boolean"}},"./client/state/data-layer/wpcom/concierge/schedules/appointments/cancel/schema.json":function(e){e.exports={type:"boolean"}},"./client/state/data-layer/wpcom/concierge/schedules/appointments/detail/schema.json":function(e){e.exports={type:"object",properties:{begin_timestamp:{type:"number"},end_timestamp:{type:"number"},id:{type:"number"},meta:{type:"object",properties:{google_calendar_event_id:{type:"string"},message:{type:"string"},timezone:{type:"string"}}},schedule_id:{type:"number"}}}},"./client/state/data-layer/wpcom/concierge/schedules/initial/schema.json":function(e){e.exports={type:"object",properties:{available_times:{type:"array",items:{type:"integer"}},next_appointment:{type:["object","null"],properties:{begin_timestamp:{type:"number"},end_timestamp:{type:"number"},id:{type:"number"},meta:{type:"object",properties:{google_calendar_event_id:{type:"string"},message:{type:"string"},timezone:{type:"string"}}},schedule_id:{type:"number"}}}}}},"./client/state/data-layer/wpcom/me/transactions/order/schema.json":function(e){e.exports={type:"object",required:["order_id","user_id","processing_status"],properties:{order_id:{type:"integer"},user_id:{type:"integer"},receipt_id:{type:"integer"},processing_status:{type:"string"}}}},"./client/state/data-layer/wpcom/read/streams/index.js":function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"a",function(){return j});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),c=n.n(a),u=n("./node_modules/lodash/lodash.js"),l=n("./client/state/data-layer/wpcom-http/actions.js"),d=n("./client/state/data-layer/wpcom-http/utils.js"),p=n("./client/lib/warn/index.js"),m=n("./client/state/reader/streams/actions.js"),f=n("./client/state/reader/posts/actions.js"),_=n("./client/reader/post-key.js"),E=n("./client/state/analytics/actions.js"),b=n("./client/reader/xpost-helper.js");function g(e){return e.substring(e.indexOf(":")+1)}var h=new Map;var O=function(e){return h.get(e)},y=7,j=4,v=40,S=40,I=["post","discover_original_post"].join(","),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c()({orderBy:"date",meta:I},e,{content_width:675})},C=T,R=["ID","site_ID","date","feed_ID","feed_item_ID","global_ID"];function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c()({orderBy:"date",number:v,fields:[R].concat(o()(e)).join(",")},t)}var N=Object(u.random)(0,1e3),w={following:{path:function(){return"/read/following"},dateProperty:"date"},search:{path:function(){return"/read/search"},dateProperty:"date",query:function(e,t){var n=t.streamKey,r=JSON.parse(g(n)),i=r.sort,s=r.q;return c()({sort:i,q:s},e,{content_width:675})}},feed:{path:function(e){var t=e.streamKey;return"/read/feed/"+g(t)+"/posts"},dateProperty:"date"},site:{path:function(e){var t=e.streamKey;return"/read/sites/"+g(t)+"/posts"},dateProperty:"date"},conversations:{path:function(){return"/read/conversations"},dateProperty:"last_comment_date_gmt",pollQuery:function(){return A(["last_comment_date_gmt","comments"])}},featured:{path:function(e){var t=e.streamKey;return"/read/sites/"+g(t)+"/featured"},dateProperty:"date"},a8c:{path:function(){return"/read/a8c"},dateProperty:"date"},"conversations-a8c":{path:function(){return"/read/conversations"},dateProperty:"last_comment_date_gmt",query:function(e){return T(c()({},e,{index:"a8c"}))},pollQuery:function(){return A(["last_comment_date_gmt","comments"],{index:"a8c"})}},likes:{path:function(){return"/read/liked"},dateProperty:"date_liked",pollQuery:function(){return A(["date_liked"])}},recommendations_posts:{path:function(){return"/read/recommendations/posts"},dateProperty:"date",query:function(e){var t=e.query;return c()({},t,{seed:N,algorithm:"read:recommendations:posts/es/1"})}},custom_recs_posts_with_images:{path:function(){return"/read/recommendations/posts"},dateProperty:"date",query:function(e){return T(c()({},e,{seed:N,alg_prefix:"read:recommendations:posts"}))}},tag:{path:function(e){var t=e.streamKey;return"/read/tags/"+g(t)+"/posts"},dateProperty:"date"},list:{path:function(e){var t=e.streamKey,n=JSON.parse(g(t)),r=n.owner,i=n.slug;return"/read/list/"+r+"/"+i+"/posts"},dateProperty:"date"}};t.c=i()({},"READER_STREAMS_PAGE_REQUEST",[Object(d.b)({fetch:function(e){var t=e.payload,n=t.streamKey,r=t.streamType,i=t.pageHandle,s=t.isPoll,o=t.gap,a=w[r];if(a){var u=a.apiVersion,d=void 0===u?"1.2":u,m=a.path,f=a.query,_=void 0===f?C:f,E=a.pollQuery,b=void 0===E?A:E,g=O(n)?{algorithm:O(n)}:{},h=i?y:j,v=o?S:h;return Object(l.a)({method:"GET",path:m(c()({},e.payload)),apiVersion:d,query:s?b([],c()({},g)):_(c()({},i,g,{number:v}),e.payload),onSuccess:e,onFailure:e})}Object(p.a)("Unable to determine api path for "+n)},onSuccess:function(e,t){var n=t.posts,r=t.date_range,i=t.meta,s=t.next_page,o=e.payload,a=o.streamKey,l=o.query,d=o.isPoll,p=o.gap,g=o.streamType,O=w[g].dateProperty,j={};if(Object(u.includes)(g,"rec")){var v=Object(u.get)(e,"payload.pageHandle.offset",0)+y;j={offset:v}}else if(s||i&&i.next_page)j={page_handle:s||i.next_page};else if(r&&r.after){var S=r.after;j={before:S}}var I=function(e){var t=e.streamKey,n=e.algorithm,r=e.posts;if(!t||!n||!r)return[];h.set(t,n);var i=r.filter(function(e){return!!e.railcar}).map(function(e){return Object(E.i)("calypso_traintracks_render",e.railcar)});return i}({streamKey:a,algorithm:t.algorithm,posts:n}),T=n.map(function(e){return c()({},Object(_.b)(e),{date:e[O]},e.comments&&{comments:Object(u.map)(e.comments,"ID").reverse()},{url:e.URL,xPostMetadata:b.a.getXPostMetadata(e)})});return d?I.push(Object(m.d)({streamKey:a,streamItems:T,query:l})):(I.push(Object(f.c)(n)),I.push(Object(m.c)({streamKey:a,query:l,streamItems:T,pageHandle:j,gap:p}))),I},onError:u.noop})])},"./client/state/data-layer/wpcom/sites/activity/schema.json":function(e){e.exports={type:"object",required:["itemsPerPage","page","totalItems","totalPages"],properties:{"@context":{type:"string"},first:{type:"string"},id:{type:"string"},itemsPerPage:{type:"integer"},last:{type:"string"},page:{type:"integer"},nextAfter:{type:"array"},prevBefore:{type:"array"},summary:{type:"string"},totalItems:{type:"integer"},totalPages:{type:"integer"},type:{type:"string"},current:{type:"object",required:["totalItems"],properties:{id:{type:"string"},next:{type:"string"},prev:{type:"string"},orderedItems:{type:"array",items:{$ref:"#/definitions/item"}},totalItems:{type:"integer"},type:{type:"string"}}}},definitions:{item:{type:"object",required:["activity_id","is_rewindable","name","published","summary"],properties:{activity_id:{type:"string"},actor:{type:"object",required:["type","name"],properties:{external_user_id:{type:"integer"},icon:{type:"object",required:["url"],properties:{url:{type:"string"},width:{type:"integer"},height:{type:"integer"}}},name:{type:"string"},role:{type:"string"},type:{type:"string"},wpcom_user_id:{type:"integer"}}},content:{type:"object"},formatted_content:{name:{type:"string"},content:{type:"object"}},generator:{type:"object"},gridicon:{type:"string"},is_rewindable:{type:"boolean"},rewind_id:{type:["null","string"]},items:{type:"array",items:{type:"object"}},name:{type:"string"},object:{type:"object"},published:{type:"string"},status:{oneOf:[{type:"null"},{type:"string",enum:["error","info","success","warning"]}]},summary:{type:["object","string"]},target:{type:"object"},target_ts:{type:"number"},totalItems:{min:0,type:"integer"},type:{type:"string"}}}}}},"./client/state/data-layer/wpcom/sites/jitm/schema.json":function(e){e.exports={$schema:"http://json-schema.org/draft-04/schema#",properties:{data:{items:{properties:{CTA:{properties:{hook:{type:"string"},message:{type:"string"},primary:{type:"boolean"}},type:"object"},content:{properties:{classes:{type:"string"},description:{type:"string"},emblem:{type:"null"},icon:{type:"string"},message:{type:"string"}},type:"object"},feature_class:{type:"string"},id:{type:"string"},jitm_stats_url:{type:"string"},template:{type:"string"},ttl:{type:"integer"},url:{type:"string"}},type:"object"},type:"array"}},type:"object"}},"./client/state/data-layer/wpcom/sites/memberships/index.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/state/action-watchers/utils.js"),a=n("./client/state/data-layer/wpcom-http/actions.js"),c=n("./client/state/data-layer/wpcom-http/utils.js"),u=Object(c.b)({fetch:function(e){return Object(a.a)({method:"GET",path:"/me/memberships/subscriptions"},e)},onSuccess:function(e,t){var n=t.subscriptions,r=t.total;return{type:"MEMBERSHIPS_SUBSCRIPTIONS_RECEIVE",subscriptions:n,total:r}},onError:s.noop}),l=i()({},"MEMBERSHIPS_SUBSCRIPTIONS_LIST_REQUEST",[u]);n.d(t,"b",function(){return d});var d=function(e){return{ID:e.id||e.connected_account_product_id,currency:e.currency,description:e.description,email:"",featuredImageId:null,formatted_price:e.price,multiple:!1,price:e.price,title:e.title,recurring:!0,stripe_account:e.connected_destination_account_id,renewal_schedule:e.interval}},p=Object(c.b)({fetch:function(e){return Object(a.a)({method:"GET",path:"/sites/"+e.siteId+"/memberships/products"},e)},fromApi:function(e){var t=e.products.map(d);return t},onSuccess:function(e,t){var n=e.siteId;return{type:"MEMBERSHIPS_PRODUCTS_RECEIVE",siteId:n,products:t}},onError:s.noop});t.a=Object(o.a)(i()({},"MEMBERSHIPS_PRODUCTS_LIST",[p]),l)},"./client/state/data-layer/wpcom/sites/rewind/api-transformer.js":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/data-layer/wpcom-http/actions.js"),s=n("./client/state/rewind/actions.js"),o=function(e){return Object.assign({type:e.type,role:e.role},e.host&&{host:e.host},e.path&&{path:e.path},e.port&&{port:e.port},e.user&&{user:e.user})},a=function(e){return Object.assign({downloadId:e.downloadId,rewindId:e.rewindId,backupPoint:new Date(1e3*e.backupPoint),startedAt:new Date(1e3*e.startedAt)},e.downloadCount&&{downloadCount:e.downloadCount},e.validUntil&&{validUntil:new Date(1e3*e.validUntil)})},c=function(e){return Object.assign({restoreId:e.restore_id,rewindId:e.rewind_id,startedAt:new Date(e.started_at),status:e.status},e.progress&&{progress:e.progress},e.reason&&{reason:e.reason},e.links&&e.links.dismiss&&{dismiss:function(e){return Object(i.a)({apiVersion:e.apiVersion,method:e.method,path:e.path,onSuccess:Object(s.a)(e.site_id),onFailure:Object(s.a)(e.site_id)})}(e.links.dismiss)})},u=function(e){return Object.assign({state:Object(r.camelCase)(e.state),lastUpdated:new Date("string"==typeof e.last_updated?Date.parse(e.last_updated):1e3*e.last_updated)},e.can_autoconfigure&&{canAutoconfigure:!!e.can_autoconfigure},e.credentials&&{credentials:e.credentials.map(o)},e.downloads&&{downloads:e.downloads.map(a)},e.reason&&{reason:e.reason},e.rewind&&{rewind:c(e.rewind)})}},"./client/state/data-layer/wpcom/sites/simple-payments/index.js":function(e,t,n){"use strict";var r,i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),o=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),a=n.n(o),c=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),u=n.n(c),l=n("./node_modules/lodash/lodash.js"),d=n("./client/lib/format-currency/index.js"),p=n("./client/lib/formatting/index.js"),m=n("./client/state/data-layer/wpcom-http/utils.js"),f=n("./client/state/posts/utils.js"),_=n("./client/state/data-layer/wpcom-http/actions.js"),E="jp_pay_product",b=function(e){return e.type===E&&"publish"===e.status},g=n("./client/state/simple-payments/product-list/schema.js"),h=n("./client/lib/make-json-schema-parser/index.js"),O=n("./client/state/simple-payments/product-list/actions.js");function y(e){if(!b(e))throw new h.b("Custom post is not a valid simple payment product",e);var t,n,r=(t=e.metadata,n={},t.forEach(function(e){var t=e.key,r=e.value,i=g.b[t];i&&("boolean"===g.c[i].type&&(r=!!Number(r)),n[i]=r)}),n);return u()({ID:e.ID,description:Object(p.b)(e.content),title:Object(p.b)(e.title),featuredImageId:Object(f.g)(e)},r)}function j(e){var t=Object(l.toPairs)(e).filter(function(e){var t=a()(e,1),n=t[0];return g.c[n]});e.formatted_price||t.push(["formatted_price",Object(d.a)(e.price,e.currency)]);var n=t.map(function(e){var t=a()(e,2),n=t[0],r=t[1],i=g.c[n];return"boolean"===i.type&&(r=r?1:0),{key:i.metaKey,value:r}});return{type:E,metadata:n,title:e.title,content:e.description,featured_image:e.featuredImageId||""}}n.d(t,"a",function(){return y}),n.d(t,"c",function(){return j});var v=function(e,t){var n=e.siteId;return Object(O.c)(n,t)},S=Object(m.b)({fetch:function(e){return Object(_.a)({method:"GET",path:"/sites/"+e.siteId+"/posts/"+e.productId},e)},fromApi:y,onSuccess:v,onError:l.noop}),I=Object(m.b)({fetch:function(e){return Object(_.a)({method:"GET",path:"/sites/"+e.siteId+"/posts",query:{type:E,status:"publish"}},e)},fromApi:function(e){var t=Object(l.get)(e,"posts",[]),n=t.map(function(e){try{return y(e)}catch(e){return null}}).filter(Boolean);return n},onSuccess:function(e,t){var n=e.siteId;return Object(O.b)(n,t)},onError:l.noop}),T=Object(m.b)({fetch:function(e){return Object(_.a)({method:"POST",path:"/sites/"+e.siteId+"/posts/new",body:j(e.product)},e)},fromApi:y,onSuccess:v,onError:l.noop}),C=Object(m.b)({fetch:function(e){return Object(_.a)({method:"POST",path:"/sites/"+e.siteId+"/posts/"+e.productId,body:j(e.product)},e)},fromApi:y,onSuccess:v,onError:l.noop}),R=Object(m.b)({fetch:function(e){return Object(_.a)({method:"POST",path:"/sites/"+e.siteId+"/posts/"+e.productId+"/delete"},e)},onSuccess:function(e,t){var n=e.siteId;return Object(O.a)(n,t.ID)},onError:l.noop});t.b=(r={},s()(r,"SIMPLE_PAYMENTS_PRODUCT_GET",[S]),s()(r,"SIMPLE_PAYMENTS_PRODUCTS_LIST",[I]),s()(r,"SIMPLE_PAYMENTS_PRODUCTS_LIST_ADD",[T]),s()(r,"SIMPLE_PAYMENTS_PRODUCTS_LIST_EDIT",[C]),s()(r,"SIMPLE_PAYMENTS_PRODUCTS_LIST_DELETE",[R]),r)},"./client/state/document-head/actions.js":function(e,t,n){"use strict";function r(e){return{type:"DOCUMENT_HEAD_TITLE_SET",title:e}}function i(e){return{type:"DOCUMENT_HEAD_UNREAD_COUNT_SET",count:e}}function s(e){return{type:"DOCUMENT_HEAD_LINK_SET",link:e}}function o(e){return{type:"DOCUMENT_HEAD_META_SET",meta:e}}n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o})},"./client/state/document-head/selectors.js":function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/create-selector/index.js"),s=n("./client/lib/formatting/index.js"),o=n("./client/state/ui/selectors.js"),a=n("./client/state/sites/selectors.js"),c=40;function u(e){return e.documentHead.title}function l(e){var t=function(e){return e.documentHead.unreadCount}(e);return t?t<=c?String(t):c+"+":""}var d=Object(i.a)(function(e){var t="",n=l(e);return n&&(t+="("+n+") "),t+=Object(r.compact)([u(e),Object(o.i)(e)&&Object(a.y)(e,Object(o.e)(e))]).join("  "),t&&(t=Object(s.b)(t)+"  "),t+"WordPress.com"},function(e){return[e.documentHead,e.ui.section,e.ui.selectedSiteId]})},"./client/state/domains/management/validation-schemas/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=function(e){return{type:"DOMAIN_MANAGEMENT_VALIDATION_SCHEMAS_ADD",schemas:e}},s=function(e){return{type:"DOMAIN_MANAGEMENT_VALIDATION_SCHEMAS_REQUEST",tlds:Object(r.castArray)(e)}}},"./client/state/domains/suggestions/utils.js":function(e,t,n){"use strict";function r(e){if(!e)return null;var t=e.query,n=e.quantity,r=e.vendor;if(!t||0===t.length||!n||n<=0||!r||0===r.length)return null;var i=!(!e.include_wordpressdotcom&&!e.includeSubdomain);return JSON.stringify({query:t,quantity:n,vendor:r,include_wordpressdotcom:i}).toLocaleLowerCase()}n.d(t,"a",function(){return r})},"./client/state/domains/transfer/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=function(e,t){return{type:"DOMAIN_TRANSFER_IPS_TAG_SAVE",domain:e,ipsTag:t.tag,selectedRegistrar:t}},i=function(e,t){return{type:"DOMAIN_TRANSFER_UPDATE",domain:e,options:t}}},"./client/state/google-my-business/actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return l});var r=n("./client/state/site-keyrings/actions.js"),i=n("./client/state/site-keyrings/selectors.js"),s=function(e){return function(t,n){return Promise.all(Object(i.c)(n(),e,"google_my_business").map(function(n){return t(function(e,t){return function(n){return n(Object(r.b)(e,t))}}(e,n.keyring_id))}))}},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(o,a){return Object(i.a)(a(),e,t)?Promise.resolve():o(s(e)).then(function(){return o(Object(r.a)(e,{keyring_id:t,service:"google_my_business",external_user_id:n}))})}},a=function(e,t,n){return function(i){return i(Object(r.d)(e,t,n))}},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"week",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"total";return{type:"GOOGLE_MY_BUSINESS_STATS_REQUEST",siteId:e,statType:t,interval:n,aggregation:r}},u=function(e,t,n,r,i){return{type:"GOOGLE_MY_BUSINESS_STATS_RECEIVE",siteId:e,statType:t,interval:n,aggregation:r,data:i}},l=function(e,t,n,r,i){return{type:"GOOGLE_MY_BUSINESS_STATS_FAILURE",siteId:e,statType:t,interval:n,aggregation:r,error:i}}},"./client/state/happychat/connection/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"k",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"i",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"g",function(){return _}),n.d(t,"h",function(){return E}),n.d(t,"j",function(){return b}),n.d(t,"e",function(){return g}),n.d(t,"m",function(){return y}),n.d(t,"p",function(){return j}),n.d(t,"n",function(){return v}),n.d(t,"o",function(){return S}),n.d(t,"t",function(){return I}),n.d(t,"s",function(){return T}),n.d(t,"q",function(){return C}),n.d(t,"r",function(){return R});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/uuid/index.js"),o=n("./client/state/happychat/constants.js"),a=function(e){return{type:"HAPPYCHAT_IO_INIT",auth:e}},c=function(){return{type:"HAPPYCHAT_IO_RECEIVE_CONNECT"}},u=function(e){return{type:"HAPPYCHAT_IO_RECEIVE_DISCONNECT",error:e}},l=function(){return{type:"HAPPYCHAT_IO_RECEIVE_TOKEN"}},d=function(e){return{type:"HAPPYCHAT_IO_RECEIVE_INIT",user:e}},p=function(e){return{type:"HAPPYCHAT_IO_RECEIVE_UNAUTHORIZED",error:e}},m=function(){return{type:"HAPPYCHAT_IO_RECEIVE_RECONNECTING"}},f=function(e){return{type:"HAPPYCHAT_IO_RECEIVE_ACCEPT",isAvailable:e}},_=function(e){return{type:"HAPPYCHAT_IO_RECEIVE_LOCALIZED_SUPPORT",isAvailable:e}},E=function(e){return{type:"HAPPYCHAT_IO_RECEIVE_MESSAGE",message:e}},b=function(e){return{type:"HAPPYCHAT_IO_RECEIVE_STATUS",status:e}},g=function(e){return{type:"HAPPYCHAT_IO_RECEIVE_ERROR",error:e}},h=function(e){var t=e.messages,n=e.timestamp;return{type:"HAPPYCHAT_IO_REQUEST_TRANSCRIPT_RECEIVE",messages:t,timestamp:n}},O=function(){return{type:"HAPPYCHAT_IO_REQUEST_TRANSCRIPT_TIMEOUT"}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return{type:"HAPPYCHAT_IO_REQUEST_TRANSCRIPT",event:"transcript",payload:e,timeout:t,callback:h,callbackTimeout:O}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE",event:"message",payload:{id:Object(s.v4)(),text:e,meta:t}}},v=function(e){return{type:"HAPPYCHAT_IO_SEND_MESSAGE_EVENT",event:"message",payload:{id:Object(s.v4)(),text:e,type:o.t.CUSTOMER_EVENT,meta:{forOperator:!0,event_type:o.t.CUSTOMER_EVENT}}}},S=function(e){return{type:"HAPPYCHAT_IO_SEND_MESSAGE_LOG",event:"message",payload:{id:Object(s.v4)(),text:e,type:o.t.LOG,meta:{forOperator:!0,event_type:o.t.LOG}}}},I=function(e){return{type:"HAPPYCHAT_IO_SEND_MESSAGE_USERINFO",event:"message",payload:{id:Object(s.v4)(),type:o.t.CUSTOMER_INFO,meta:i()({forOperator:!0},e)}}},T=function(e){return{type:"HAPPYCHAT_IO_SEND_TYPING",event:"typing",payload:{message:e}}},C=function(){return T(!1)},R=function(e,t,n){return{type:"HAPPYCHAT_IO_SEND_PREFERENCES",event:"preferences",payload:{locale:e,groups:t,skills:n}}}},"./client/state/happychat/constants.js":function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"p",function(){return i}),n.d(t,"l",function(){return s}),n.d(t,"k",function(){return o}),n.d(t,"m",function(){return a}),n.d(t,"n",function(){return c}),n.d(t,"o",function(){return u}),n.d(t,"s",function(){return l}),n.d(t,"v",function(){return d}),n.d(t,"u",function(){return p}),n.d(t,"q",function(){return m}),n.d(t,"r",function(){return f}),n.d(t,"t",function(){return _}),n.d(t,"a",function(){return E}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return g}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return O}),n.d(t,"f",function(){return y}),n.d(t,"h",function(){return j}),n.d(t,"g",function(){return v}),n.d(t,"i",function(){return S});var r="ping timeout",i="uninitialized",s="connecting",o="connected",a="disconnected",c="reconnecting",u="unauthorized",l=30,d="product",p="language",m="jpop",f="WP.com",_={CUSTOMER_EVENT:"customer-event",CUSTOMER_INFO:"customer-info",LOG:"log"},E="abandoned",b="assigned",g="assigning",h="blocked",O="closed",y="default",j="new",v="missed",S="pending"},"./client/state/happychat/middleware-calypso.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getEventMessageFromActionData",function(){return _}),n.d(t,"getEventMessageFromTracksData",function(){return E}),n.d(t,"sendAnalyticsLogEvent",function(){return b}),n.d(t,"sendActionLogsAndEvents",function(){return g});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/happychat/constants.js"),s=n("./client/state/happychat/connection/actions.js"),o=n("./client/state/happychat/selectors/get-happychat-chat-status.js"),a=n("./client/state/happychat/selectors/get-groups.js"),c=n("./client/state/happychat/selectors/get-skills.js"),u=n("./client/state/happychat/selectors/is-happychat-chat-assigned.js"),l=n("./client/state/happychat/selectors/is-happychat-client-connected.js"),d=n("./client/state/current-user/selectors.js"),p=n("./client/state/selectors/get-current-route.js"),m=n("./client/state/analytics/actions.js"),f=function(e,t){return"Looking at https://wordpress.com"+t},_=function(e){switch(e.type){case"COMMENTS_CHANGE_STATUS":return"Changed a comment's status to \""+e.status+'"';case"EXPORT_COMPLETE":return"Export completed";case"EXPORT_FAILURE":return"Export failed: "+e.error.message;case"EXPORT_STARTED":return"Started an export";case"IMPORTS_IMPORT_START":case"JETPACK_CONNECT_AUTHORIZE":case"MEDIA_DELETE":case"PLUGIN_ACTIVATE_REQUEST":case"PLUGIN_SETUP_ACTIVATE":return null;case"POST_SAVE_SUCCESS":return'Saved post "'+e.savedPost.title+'" '+e.savedPost.short_URL;case"PUBLICIZE_CONNECTION_CREATE":return"Connected "+e.connection.label+" sharing";case"PUBLICIZE_CONNECTION_DELETE":return"Disconnected "+e.connection.label+" sharing";case"PURCHASE_REMOVE_COMPLETED":return null;case"SITE_SETTINGS_SAVE_SUCCESS":return"Saved site settings"}return null},E=function(e){var t=e.name,n=e.properties;switch(t){case"calypso_add_new_wordpress_click":return'Clicked "Add new site" button';case"calypso_domain_search_add_button_click":return'Clicked "Add" button to add domain "'+n.domain_name+'"';case"calypso_domain_remove_button_click":return'Clicked "Remove" button to remove domain "'+n.domain_name+'"';case"calypso_themeshowcase_theme_activate":return'Changed theme from "'+n.previous_theme+'" to "'+n.theme+'"';case"calypso_editor_featured_image_upload":return"Changed the featured image on the current post";case"calypso_map_domain_step_add_domain_click":return'Add "'+n.domain_name+'" to the cart in the "Map a domain" step'}return null},b=function(e,t){var n=t.meta.analytics;n.forEach(function(t){var n=t.type,r=t.payload,i=r.service,o=r.name,a=r.properties;if("ANALYTICS_EVENT_RECORD"===n&&"tracks"===i){var c=E({name:o,properties:a});c&&e(Object(s.n)(c)),e(Object(s.o)(o))}})},g=function(e,t){var n=e.getState,i=e.dispatch,o=n();if(Object(l.a)(o)&&Object(u.a)(o)){Object(r.has)(t,"meta.analytics")&&b(i,t);var a=_(t);a&&i(Object(s.n)(a))}};t.default=function(e){return function(t){return function(n){var _=e.getState(),E=e.dispatch;switch(g(e,n),n.type){case"HAPPYCHAT_IO_RECEIVE_STATUS":Object(o.a)(_)===i.i&&n.status===i.b&&E(Object(m.k)(Object(m.i)("calypso_happychat_start"),Object(s.n)(f(0,Object(p.a)(_)))));break;case"HELP_CONTACT_FORM_SITE_SELECT":if(Object(l.a)(_)){var b=Object(d.h)(_),h=Object(a.a)(_,n.siteId),O=Object(c.a)(_,n.siteId);E(Object(s.r)(b,h,O))}break;case"ROUTE_SET":Object(l.a)(_)&&Object(u.a)(_)?E(Object(s.n)(f(0,n.path))):r.noop}return t(n)}}}},"./client/state/happychat/middleware.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/happychat/connection/actions.js");function s(){var e=null;function t(){return e||(e=new Promise(function(e){return Promise.all([n.e(146),n.e(122)]).then(function(t){e(n("./client/lib/happychat/connection.js").__esModule?n("./client/lib/happychat/connection.js").default:n("./client/lib/happychat/connection.js"))}.bind(null,n)).catch(n.oe)}).then(function(e){return e()})),e}function r(e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t().then(function(t){return t[e].apply(t,r)})}}return{init:r("init"),request:r("request"),send:r("send")}}var o=n("./client/state/happychat/selectors/is-happychat-client-connected.js"),a=n("./client/state/happychat/selectors/is-happychat-chat-assigned.js");n.d(t,"socketMiddleware",function(){return u});var c={HAPPYCHAT_BLUR:"Stopped looking at Happychat",HAPPYCHAT_FOCUS:"Started looking at Happychat"},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==e&&(e=s()),function(t){return function(n){return function(s){switch(s.type){case"HAPPYCHAT_IO_INIT":e.init(t.dispatch,s.auth);break;case"HAPPYCHAT_IO_REQUEST_TRANSCRIPT":e.request(s,s.timeout);break;case"HAPPYCHAT_IO_SEND_MESSAGE_EVENT":case"HAPPYCHAT_IO_SEND_MESSAGE_LOG":case"HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE":case"HAPPYCHAT_IO_SEND_MESSAGE_USERINFO":case"HAPPYCHAT_IO_SEND_PREFERENCES":case"HAPPYCHAT_IO_SEND_TYPING":e.send(s);break;case"HAPPYCHAT_BLUR":case"HAPPYCHAT_FOCUS":var u=t.getState();Object(o.a)(u)&&Object(a.a)(u)&&c[s.type]?t.dispatch(Object(i.n)(c[s.type])):r.noop}return n(s)}}}};t.default=u()},"./client/state/happychat/selectors/get-groups.js":function(e,t,n){"use strict";var r=n("./client/state/happychat/constants.js"),i=n("./client/config/index.js"),s=n("./client/state/sites/selectors.js"),o=n("./client/lib/automated-transfer/index.js"),a=n("./client/state/ui/selectors.js");t.a=function(e,t){var n=[];if(Object(i.b)("jetpack/happychat")&&"jetpack-connect"===Object(a.c)(e))return n.push(r.q),n;var c=Object(s.l)(e,t);return Object(o.a)(c)?n.push(r.r):Object(s.K)(e,t)?n.push(r.q):n.push(r.r),n}},"./client/state/happychat/selectors/get-happychat-chat-status.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js");t.a=function(e){return Object(r.get)(e,"happychat.chat.status")}},"./client/state/happychat/selectors/get-happychat-connection-status.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js");t.a=function(e){return Object(r.get)(e,"happychat.connection.status")}},"./client/state/happychat/selectors/get-happychat-timeline.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/create-selector/index.js");t.a=Object(i.a)(function(e){return e.happychat.chat.timeline},function(e){return Object(r.map)(e.happychat.chat.timeline,"id")})},"./client/state/happychat/selectors/get-skills.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./client/state/happychat/constants.js"),o=n("./client/state/happychat/selectors/get-groups.js"),a=n("./client/state/current-user/selectors.js");t.a=function(e,t){var n=i()({},s.v,Object(o.a)(e,t)),r=Object(a.h)(e);return r&&(n[s.u]=[r]),n}},"./client/state/happychat/selectors/has-active-happychat-session.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/happychat/constants.js"),s=n("./client/lib/create-selector/index.js");t.a=Object(s.a)(function(e){return!Object(r.includes)([i.d,i.e,i.f,i.h],e.happychat.chat.status)},function(e){return e.happychat.chat.status})},"./client/state/happychat/selectors/is-happychat-available.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/happychat/selectors/is-happychat-client-connected.js");t.a=function(e){return Object(i.a)(e)&&Object(r.get)(e,"happychat.connection.isAvailable")}},"./client/state/happychat/selectors/is-happychat-chat-assigned.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/happychat/constants.js");t.a=function(e){return Object(r.get)(e,"happychat.chat.status")===i.b}},"./client/state/happychat/selectors/is-happychat-client-connected.js":function(e,t,n){"use strict";var r=n("./client/state/happychat/constants.js"),i=n("./client/state/happychat/selectors/get-happychat-connection-status.js");t.a=function(e){return Object(i.a)(e)===r.k}},"./client/state/happychat/selectors/is-happychat-connection-uninitialized.js":function(e,t,n){"use strict";var r=n("./client/state/happychat/constants.js"),i=n("./client/state/happychat/selectors/get-happychat-connection-status.js");t.a=function(e){return Object(i.a)(e)===r.p}},"./client/state/happychat/selectors/is-happychat-open.js":function(e,t,n){"use strict";var r=n("./client/lib/create-selector/index.js"),i=n("./client/state/ui/selectors.js");t.a=Object(r.a)(function(e){return e.happychat.ui.isOpen&&"happychat"!==Object(i.c)(e)},function(e){return[e.happychat.ui.isOpen,Object(i.c)(e)]})},"./client/state/happychat/ui/actions.js":function(e,t,n){"use strict";n.d(t,"f",function(){return s}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"g",function(){return d});var r=function(e){return{type:"HAPPYCHAT_OPEN",isOpen:e}},i=function(e){return{type:"HAPPYCHAT_MINIMIZING",isMinimizing:e}},s=function(){return r(!0)},o=function(){return i(!0)},a=function(){return i(!1)},c=function(){return r(!1)},u=function(){return{type:"HAPPYCHAT_BLUR"}},l=function(){return{type:"HAPPYCHAT_FOCUS"}},d=function(e){return{type:"HAPPYCHAT_SET_CURRENT_MESSAGE",message:e}}},"./client/state/happychat/user/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./client/config/index.js"),i=n("./client/lib/wp/browser.js"),s=n("./client/state/notices/actions.js"),o=function(){return function(e){var t=Object(r.a)("client_slug");i.a.undocumented().getOlarkConfiguration(t).then(function(t){var n,r;e((n=t.isUserEligible,{type:"HAPPYCHAT_ELIGIBILITY_SET",isEligible:n})),e((r=t.availability,{type:"PRESALE_PRECANCELLATION_CHAT_AVAILABILITY_SET",availability:r}))}).catch(function(t){t&&t.message&&"authorization_required"!==t.error&&e(Object(s.b)(t.message))})}}},"./client/state/happychat/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./client/lib/wp/browser.js"),o=n("./client/config/index.js"),a=n("./client/state/happychat/selectors/get-groups.js"),c=n("./client/state/current-user/selectors.js"),u=n("./client/state/help/selectors.js"),l=n("./client/state/happychat/selectors/get-skills.js"),d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise(function(e,n){s.a.request.apply(s.a,t.concat([function(t,r){if(t)return n(t);e(r)}]))})},p=function(e){return function(){var t=Object(o.a)("happychat_url"),n=Object(c.h)(e),r=Object(a.a)(e),s=Object(l.a)(e),p=Object(u.a)(e);p&&p.ID&&(r=Object(a.a)(e,p.ID),s=Object(l.a)(e,p.ID));var m=Object(c.b)(e);if(!m)return Promise.reject("Failed to start an authenticated Happychat session: No current user found");var f={signer_user_id:m.ID,locale:n,groups:r,skills:s};return d({method:"POST",path:"/happychat/session"}).then(function(e){var t,n=e.session_id,r=e.geo_location;return f.geoLocation=r,t={user:m,session_id:n},d({method:"POST",path:"/jwt/sign",body:{payload:JSON.stringify(t)}})}).then(function(e){var n=e.jwt;return{url:t,user:i()({jwt:n},f)}}).catch(function(e){return Promise.reject("Failed to start an authenticated Happychat session: "+e)})}}},"./client/state/help/directly/actions.js":function(e,t,n){"use strict";function r(e,t,n){return{type:"DIRECTLY_ASK_QUESTION",questionText:e,name:t,email:n}}function i(){return{type:"DIRECTLY_INITIALIZATION_START"}}function s(){return{type:"DIRECTLY_INITIALIZATION_SUCCESS"}}function o(){return{type:"DIRECTLY_INITIALIZATION_ERROR"}}n.d(t,"a",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o})},"./client/state/help/directly/constants.js":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return o});var r="STATUS_UNINITIALIZED",i="STATUS_INITIALIZING",s="STATUS_READY",o="STATUS_ERROR"},"./client/state/help/selectors.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/ui/selectors.js"),s=n("./client/state/selectors/get-primary-site-id.js");var o=n("./client/state/sites/selectors.js");n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});var a=function(e){var t=function(e){return e.help.selectedSiteId}(e)||function(e){var t=Object(i.e)(e);return t||Object(s.a)(e)}(e),n=Object(o.l)(e,t);if(n)return n;var a=Object.keys(Object(r.get)(e,"sites.items")||{});return a.length>0?Object(o.l)(e,a[0]):null},c=function(e){var t=a(e);return Object(r.get)(t,"ID",null)}},"./client/state/http/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),i=n.n(r),s=function(e){var t=e.url,n=e.method,r=e.headers,s=e.queryParams,o=e.body,a=e.withCredentials,c=e.onSuccess,u=e.onFailure,l=i()(e,["url","method","headers","queryParams","body","withCredentials","onSuccess","onFailure"]),d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"HTTP_REQUEST",url:t,method:n,headers:r,queryParams:s,body:o,withCredentials:a,onSuccess:c||d,onFailure:u||d,options:l}}},"./client/state/i18n/language-names/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=function(e){return{type:"I18N_LANGUAGE_NAMES_ADD",items:e}},i=function(){return{type:"I18N_LANGUAGE_NAMES_REQUEST"}}},"./client/state/i18n/locale-suggestions/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=function(e){return{type:"I18N_LOCALE_SUGGESTIONS_ADD",items:e}},i=function(){return{type:"I18N_LOCALE_SUGGESTIONS_REQUEST"}}},"./client/state/inline-support-article/actions.js":function(e,t,n){"use strict";function r(e){var t=e.postId,n=e.postUrl,r=void 0===n?null:n;return function(e){e({type:"SUPPORT_ARTICLE_DIALOG_OPEN",postId:t,postUrl:r})}}function i(){return function(e){return e({type:"SUPPORT_ARTICLE_DIALOG_CLOSE"})}}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i})},"./client/state/invites/selectors.js":function(e,t,n){"use strict";n.d(t,"j",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"a",function(){return _}),n.d(t,"g",function(){return E});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/tree-select/index.js");function a(e,t){return!!e.invites.requesting[t]}function c(e,t){var n=e.invites.items[t];return n?n.pending:null}function u(e,t){var n=e.invites.items[t];return n?n.accepted:null}function l(e,t){return e.invites.counts[t]||null}var d=Object(o.a)(function(e,t){return[e.invites.items[t]]},function(e,t,n){var r=i()(e,1),o=r[0];return o&&(Object(s.find)(o.pending,{key:n})||Object(s.find)(o.accepted,{key:n}))||null});function p(e,t,n){return"requesting"===Object(s.get)(e,["invites","requestingResend",t,n],!1)}function m(e,t,n){return"success"===Object(s.get)(e,["invites","requestingResend",t,n],!1)}function f(e,t,n){return"requesting"===Object(s.get)(e,["invites","deleting",t,n],!1)}function _(e,t,n){return"success"===Object(s.get)(e,["invites","deleting",t,n],!1)}function E(e,t){return-1!==Object(s.indexOf)(Object(s.values)(Object(s.get)(e,["invites","deleting",t],{})),"requesting")}},"./client/state/jetpack-connect/constants.js":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=36e5,i=r/60,s=36e5,o=6e4,a=["install","personal","premium","pro"]},"./client/state/jetpack-connect/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./client/state/jetpack-connect/constants.js");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.d,n=(new Date).getTime();return!!e&&n-e>=t}},"./client/state/jetpack-remote-install/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s});var r=function(e,t,n){return{type:"JETPACK_REMOTE_INSTALL",url:e,user:t,password:n,meta:{dataLayer:{trackRequest:!0}}}},i=function(e,t,n){return{type:"JETPACK_REMOTE_INSTALL_FAILURE",url:e,errorCode:t,errorMessage:n}},s=function(e){return{type:"JETPACK_REMOTE_INSTALL_SUCCESS",url:e}}},"./client/state/jetpack/connection/actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n("./client/lib/wp/browser.js"),i=function(e){return function(t){return t({type:"JETPACK_CONNECTION_STATUS_REQUEST",siteId:e}),r.a.undocumented().getJetpackConnectionStatus(e).then(function(n){t({type:"JETPACK_CONNECTION_STATUS_RECEIVE",siteId:e,status:n.data}),t({type:"JETPACK_CONNECTION_STATUS_REQUEST_SUCCESS",siteId:e})}).catch(function(n){t({type:"JETPACK_CONNECTION_STATUS_REQUEST_FAILURE",siteId:e,error:n.message})})}},s=function(e){return function(t){return t({type:"JETPACK_USER_CONNECTION_DATA_REQUEST",siteId:e}),r.a.undocumented().getJetpackUserConnectionData(e).then(function(n){t({type:"JETPACK_USER_CONNECTION_DATA_RECEIVE",siteId:e,data:n.data.currentUser}),t({type:"JETPACK_USER_CONNECTION_DATA_REQUEST_SUCCESS",siteId:e})}).catch(function(n){t({type:"JETPACK_USER_CONNECTION_DATA_REQUEST_FAILURE",siteId:e,error:n.message})})}},o=function(e){return function(t){return t({type:"JETPACK_DISCONNECT_REQUEST",siteId:e}),r.a.undocumented().disconnectJetpack(e).then(function(n){t({type:"JETPACK_DISCONNECT_RECEIVE",siteId:e,status:n}),t({type:"JETPACK_DISCONNECT_REQUEST_SUCCESS",siteId:e})}).catch(function(n){t({type:"JETPACK_DISCONNECT_REQUEST_FAILURE",siteId:e,error:n.message})})}},a=function(e,t,n){return{type:"JETPACK_USER_CONNECTION_CHANGE_OWNER",siteId:e,newOwnerWporgId:t,newOwnerWpcomDisplayName:n}}},"./client/state/jetpack/settings/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a});var r=function(e,t){return{type:"JETPACK_SETTINGS_REQUEST",siteId:e,query:t,meta:{dataLayer:{trackRequest:!0}}}},i=function(e,t){return{type:"JETPACK_SETTINGS_SAVE",siteId:e,settings:t,meta:{dataLayer:{trackRequest:!0}}}},s=function(e,t){return{type:"JETPACK_SETTINGS_SAVE_SUCCESS",siteId:e,settings:t}},o=function(e,t){return{type:"JETPACK_SETTINGS_UPDATE",siteId:e,settings:t}},a=function(e){return i(e,{post_by_email_address:"regenerate"})}},"./client/state/jitm/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=function(e,t,n){return{type:"JITM_DISMISS",siteId:e,id:t,featureClass:n}},o=function(e,t,n){return{type:"JITM_SET",keyedPath:t+e,jitms:n.map(function(e){return i()({},e,{lastUpdated:Date.now()})})}},a=function(e,t){return{type:"JITM_SET",keyedPath:t+e,jitms:[]}}},"./client/state/lib/middleware.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/debug/src/browser.js"),s=n.n(i),o=n("./client/config/index.js"),a=n("./client/lib/analytics/index.js"),c=n("./client/lib/cart/store/index.js"),u=n("./client/lib/user/index.js"),l=n("./client/state/selectors/has-site-pending-automated-transfer.js"),d=n("./client/state/automated-transfer/selectors.js"),p=n("./client/state/selectors/is-notifications-open.js"),m=n("./client/state/ui/selectors.js"),f=n("./client/state/current-user/selectors.js"),_=n("./client/lib/keyboard-shortcuts/index.js"),E=n("./client/lib/keyboard-shortcuts/global.js"),b=n("./client/state/automated-transfer/actions.js");n.d(t,"libraryMiddleware",function(){return R});var g,h=s()("calypso:state:middleware"),O=Object(u.default)(),y=o.a.isEnabled("keyboard-shortcuts");y&&(g=Object(E.a)());var j,v=o.a.isEnabled("desktop");v&&(j=n("./node_modules/lodash/noop.js").default);var S=[],I=[],T=function(e,t){var n=t(),i=Object(m.e)(n),s=function(e,t){if(!t)return null;var n=Object(d.a)(e,t);return!n||Object(r.isEmpty)(n)?null:Object(r.get)(n,"fetchingStatus",!1)}(n,i);!s&&Object(l.a)(n,i)&&e(Object(b.b)(i))},C=function(e,t,n){switch(t.type){case"ANALYTICS_SUPER_PROPS_UPDATE":return function(e,t,n){var i=n(),s=Object(m.d)(i),o=Object(f.b)(i),c=Object(r.get)(o,"site_count",0);a.default.setSelectedSite(s),a.default.setSiteCount(c)}(0,0,n);case"NOTIFICATIONS_PANEL_TOGGLE":return function(e,t,n){var r=!Object(p.a)(n());_.a.setNotificationsOpen(r)}(0,0,n);case"SELECTED_SITE_SET":i=t,s=i.siteId,c.a.setSelectedSiteId(s),function(e,t){var n=t.siteId;S.forEach(function(e){return e(n)})}(0,t);case"SITE_RECEIVE":case"SITES_RECEIVE":return void setTimeout(function(){"SITES_RECEIVE"===t.type&&(h("firing",I.length,"emitters"),I.forEach(function(e){return e()}),I=[]),y&&function(e,t,n){var r=n(),i=Object(m.d)(r);g.setSelectedSite(i)}(0,0,n),v&&function(e,t,n){var r=n(),i=Object(m.d)(r);j.setSelectedSite(i)}(0,0,n),T(e,n)},0);case"SITES_ONCE_CHANGED":return void function(e,t){h("receiveSitesChangeListener"),I.push(t.listener)}(0,t);case"SELECTED_SITE_SUBSCRIBE":return void function(e,t){h("receiveSelectedSitesChangeListener"),S.push(t.listener)}(0,t);case"SELECTED_SITE_UNSUBSCRIBE":return void function(e,t){h("removeSelectedSitesChangeListener"),S=S.filter(function(e){return e!==t.listener})}(0,t);case"SITE_DELETE_RECEIVE":case"JETPACK_DISCONNECT_RECEIVE":return void O.decrementSiteCount()}var i,s},R=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){return C(t,r,n),e(r)}}};t.default=R},"./client/state/login/actions.js":function(e,t,n){"use strict";n.d(t,"h",function(){return g}),n.d(t,"i",function(){return h}),n.d(t,"g",function(){return O}),n.d(t,"b",function(){return y}),n.d(t,"a",function(){return j}),n.d(t,"d",function(){return v}),n.d(t,"c",function(){return S}),n.d(t,"m",function(){return I}),n.d(t,"n",function(){return T}),n.d(t,"o",function(){return C}),n.d(t,"e",function(){return R}),n.d(t,"j",function(){return A}),n.d(t,"f",function(){return N}),n.d(t,"l",function(){return w}),n.d(t,"k",function(){return P});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/superagent/lib/client.js"),o=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=n("./node_modules/i18n-calypso/index.js"),u=n("./client/config/index.js"),l=n("./client/state/login/selectors.js"),d=n("./client/state/current-user/selectors.js"),p=n("./client/state/login/utils.js"),m=n("./client/lib/wp/browser.js"),f=n("./client/lib/i18n-utils/browser.js"),_=n("./client/state/analytics/actions.js"),E=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e3,i=new Promise(function(n){t=document.createElement("iframe"),t.style.display="none",t.setAttribute("scrolling","no"),t.onload=n,t.src=e,document.body.appendChild(t)}),s=function(){t.parentElement.removeChild(t)};return Promise.race([i,(n=r,new Promise(function(e,t){setTimeout(function(){return t(new Error("timeout of "+n+" reached"))},n)}))]).then(s,s)},b=function(e){return Promise.all(e.map(function(e){return E(e)}).map(function(e){return e.catch(function(){})}))},g=function(e,t,n){return function(r){return r({type:"LOGIN_REQUEST"}),o.a.post(Object(f.b)("https://wordpress.com/wp-login.php?action=login-endpoint",Object(f.h)())).withCredentials().set("Content-Type","application/x-www-form-urlencoded").accept("application/json").send({username:e,password:t,remember_me:!0,redirect_to:n,client_id:Object(u.a)("wpcom_signup_id"),client_secret:Object(u.a)("wpcom_signup_key")}).then(function(e){return"sms"===Object(a.get)(e,"body.data.two_step_notification_sent")&&r({type:"TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_SUCCESS",notice:{message:Object(p.c)(e),status:"is-success"},twoStepNonce:Object(a.get)(e,"body.data.two_step_nonce_sms")}),Object(a.get)(e,"body.data.two_step_notification_sent")?r({type:"LOGIN_REQUEST_SUCCESS",data:e.body&&e.body.data}):b(Object(a.get)(e,"body.data.token_links",[])).then(function(){r({type:"LOGIN_REQUEST_SUCCESS",data:e.body&&e.body.data})})}).catch(function(e){var t=Object(p.a)(e);return r({type:"LOGIN_REQUEST_FAILURE",error:t}),Promise.reject(t)})}},h=function(e,t){return function(n,r){return n({type:"TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST"}),o.a.post(Object(f.b)("https://wordpress.com/wp-login.php?action=two-step-authentication-endpoint",Object(f.h)())).withCredentials().set("Content-Type","application/x-www-form-urlencoded").accept("application/json").send({user_id:Object(l.t)(r()),auth_type:t,two_step_code:Object(a.replace)(e,/\s/g,""),two_step_nonce:Object(l.n)(r(),t),remember_me:!0,client_id:Object(u.a)("wpcom_signup_id"),client_secret:Object(u.a)("wpcom_signup_key")}).then(function(e){return b(Object(a.get)(e,"body.data.token_links",[])).then(function(){n({type:"TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_SUCCESS"})})}).catch(function(e){var r=Object(a.get)(e,"response.body.data.two_step_nonce");r&&n({type:"TWO_FACTOR_AUTHENTICATION_UPDATE_NONCE",twoStepNonce:r,nonceType:t});var i=Object(p.a)(e);return n({type:"TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_FAILURE",error:i}),Promise.reject(i)})}},O=function(e,t){return function(n){return n({type:"SOCIAL_LOGIN_REQUEST"}),o.a.post(Object(f.b)("https://wordpress.com/wp-login.php?action=social-login-endpoint",Object(f.h)())).withCredentials().set("Content-Type","application/x-www-form-urlencoded").accept("application/json").send(i()({},e,{redirect_to:t,client_id:Object(u.a)("wpcom_signup_id"),client_secret:Object(u.a)("wpcom_signup_key")})).then(function(e){return"sms"===Object(a.get)(e,"body.data.two_step_notification_sent")&&n({type:"TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_SUCCESS",notice:{message:Object(p.c)(e),status:"is-success"},twoStepNonce:Object(a.get)(e,"body.data.two_step_nonce_sms")}),b(Object(a.get)(e,"body.data.token_links",[])).then(function(){n({type:"SOCIAL_LOGIN_REQUEST_SUCCESS",data:Object(a.get)(e,"body.data")})})}).catch(function(t){var r=Object(p.a)(t);return r.email=Object(a.get)(t,"response.body.data.email"),n({type:"SOCIAL_LOGIN_REQUEST_FAILURE",error:r,authInfo:e,data:Object(a.get)(t,"response.body.data")}),Promise.reject(r)})}},y=function(e,t){return function(n){return n({type:"SOCIAL_CREATE_ACCOUNT_REQUEST",notice:{message:Object(c.translate)("Creating your account")}}),m.a.undocumented().usersSocialNew(i()({},e,{signup_flow_name:t})).then(function(e){var t={username:e.username,bearerToken:e.bearer_token};return n({type:"SOCIAL_CREATE_ACCOUNT_REQUEST_SUCCESS",data:t}),t},function(e){var t=Object(p.b)(e);return n({type:"SOCIAL_CREATE_ACCOUNT_REQUEST_FAILURE",error:t}),Promise.reject(t)})}},j=function(e,t){return function(n){return n({type:"SOCIAL_CONNECT_ACCOUNT_REQUEST",notice:{message:Object(c.translate)("Creating your account")}}),m.a.undocumented().me().socialConnect(i()({},e,{redirect_to:t})).then(function(e){n({type:"SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS",redirect_to:e.redirect_to})},function(e){var t=Object(p.b)(e);return n({type:"SOCIAL_CONNECT_ACCOUNT_REQUEST_FAILURE",error:t}),Promise.reject(t)})}},v=function(e){return function(t){return t({type:"SOCIAL_DISCONNECT_ACCOUNT_REQUEST",notice:{message:Object(c.translate)("Creating your account")}}),m.a.undocumented().me().socialDisconnect(e).then(function(){t({type:"SOCIAL_DISCONNECT_ACCOUNT_REQUEST_SUCCESS"})},function(e){var n=Object(p.b)(e);return t({type:"SOCIAL_DISCONNECT_ACCOUNT_REQUEST_FAILURE",error:n}),Promise.reject(n)})}},S=function(e,t){return{type:"SOCIAL_CREATE_ACCOUNT_REQUEST_FAILURE",authInfo:e,error:t.field?t:Object(p.b)(t)}},I=function(){return function(e,t){return e({type:"TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST",notice:{message:Object(c.translate)("Sending you a text message")}}),o.a.post(Object(f.b)("https://wordpress.com/wp-login.php?action=send-sms-code-endpoint",Object(f.h)())).set("Content-Type","application/x-www-form-urlencoded").accept("application/json").send({user_id:Object(l.t)(t()),two_step_nonce:Object(l.n)(t(),"sms"),client_id:Object(u.a)("wpcom_signup_id"),client_secret:Object(u.a)("wpcom_signup_key")}).then(function(t){var n=Object(p.c)(t);e({type:"TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_SUCCESS",notice:{message:n,status:"is-success"},twoStepNonce:Object(a.get)(t,"body.data.two_step_nonce")})}).catch(function(t){var n=Object(p.a)(t);e({type:"TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_FAILURE",error:n,twoStepNonce:Object(a.get)(t,"response.body.data.two_step_nonce")})})}},T=function(){return{type:"TWO_FACTOR_AUTHENTICATION_PUSH_POLL_START"}},C=function(){return{type:"TWO_FACTOR_AUTHENTICATION_PUSH_POLL_STOP"}},R=function(){return{type:"LOGIN_FORM_UPDATE"}},A=function(e){return function(t,n){t({type:"LOGOUT_REQUEST"});var r=Object(d.b)(n()),i=(r.logout_URL||"").match(/_wpnonce=([^&]*)/),s=i&&i[1];return o.a.post(Object(f.b)("https://wordpress.com/wp-login.php?action=logout-endpoint",Object(f.h)())).withCredentials().set("Content-Type","application/x-www-form-urlencoded").accept("application/json").send({redirect_to:e,client_id:Object(u.a)("wpcom_signup_id"),client_secret:Object(u.a)("wpcom_signup_key"),logout_nonce:s}).then(function(e){var n=Object(a.get)(e,"body.data",{});return t({type:"LOGOUT_REQUEST_SUCCESS",data:n}),Promise.resolve(n)}).catch(function(e){var n=Object(p.a)(e);return t({type:"LOGOUT_REQUEST_FAILURE",error:n}),Promise.reject(n)})}},N=function(e){return function(t){if(t(Object(_.j)("calypso_login_block_login_form_get_auth_type")),t({type:"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST",usernameOrEmail:e}),""===e){var n={code:"empty_username",message:Object(c.translate)("Please enter a username or email address."),field:"usernameOrEmail"};return t(Object(_.j)("calypso_login_block_login_form_get_auth_type_failure",{error_code:n.code,error_message:n.message})),void Object(a.defer)(function(){t({type:"LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE",error:n})})}t({type:"LOGIN_AUTH_ACCOUNT_TYPE_REQUESTING",usernameOrEmail:e})}},w=function(){return{type:"LOGIN_AUTH_ACCOUNT_TYPE_RESET"}},P=function(e){return function(t){if(!Array.isArray(e))return t({type:"TWO_FACTOR_AUTHENTICATION_PUSH_POLL_COMPLETED"});b(e).then(function(){return t({type:"TWO_FACTOR_AUTHENTICATION_PUSH_POLL_COMPLETED"})})}}},"./client/state/login/magic-login/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return a});var r="https://wordpress.com/wp-login.php?action=magic-login",i="CHECK_YOUR_EMAIL_PAGE",s="LINK_EXPIRED_PAGE",o="REQUEST_FORM",a="INTERSTITIAL_PAGE"},"./client/state/login/selectors.js":function(e,t,n){"use strict";n.d(t,"t",function(){return i}),n.d(t,"n",function(){return s}),n.d(t,"p",function(){return o}),n.d(t,"s",function(){return a}),n.d(t,"q",function(){return c}),n.d(t,"r",function(){return u}),n.d(t,"y",function(){return l}),n.d(t,"o",function(){return d}),n.d(t,"x",function(){return p}),n.d(t,"v",function(){return m}),n.d(t,"g",function(){return f}),n.d(t,"h",function(){return _}),n.d(t,"e",function(){return E}),n.d(t,"f",function(){return b}),n.d(t,"u",function(){return g}),n.d(t,"a",function(){return h}),n.d(t,"w",function(){return O}),n.d(t,"d",function(){return y}),n.d(t,"c",function(){return j}),n.d(t,"b",function(){return v}),n.d(t,"i",function(){return S}),n.d(t,"j",function(){return I}),n.d(t,"l",function(){return T}),n.d(t,"m",function(){return C}),n.d(t,"k",function(){return R});var r=n("./node_modules/lodash/lodash.js"),i=function(e){return Object(r.get)(e,"login.twoFactorAuth.user_id",null)},s=function(e,t){return Object(r.get)(e,"login.twoFactorAuth.two_step_nonce_"+t,null)},o=function(e){return Object(r.get)(e,"login.twoFactorAuth.two_step_notification_sent",null)},a=function(e){return Object(r.get)(e,"login.twoFactorAuth.push_web_token",null)},c=function(e){return Object(r.get)(e,"login.twoFactorAuthPushPoll.inProgress",!1)},u=function(e){return Object(r.get)(e,"login.twoFactorAuthPushPoll.success",!1)},l=function(e){var t=Object(r.get)(e,"login.twoFactorAuth");return!Object(r.isEmpty)(t)},d=function(e){return Object(r.get)(e,"login.twoFactorAuthRequestError",null)},p=function(e,t){var n=function(e){return Object(r.get)(e,"login.twoFactorAuth.two_step_supported_auth_types",null)}(e);return n&&n.indexOf(t)>=0},m=function(e){return Object(r.get)(e,"login.isRequesting",!1)},f=function(e){return Object(r.get)(e,"login.requestError",null)},_=function(e){return Object(r.get)(e,"login.requestNotice",null)},E=function(e){return Object(r.get)(e,"login.redirectTo.original",null)},b=function(e){return Object(r.get)(e,"login.redirectTo.sanitized",null)},g=function(e){return Object(r.get)(e,"login.isFormDisabled",!1)},h=function(e){return Object(r.get)(e,"login.authAccountType",null)},O=function(e){return Object(r.get)(e,"login.socialAccount.isCreating",null)},y=function(e){return Object(r.get)(e,"login.socialAccount.username",null)},j=function(e){return Object(r.get)(e,"login.socialAccount.bearerToken",null)},v=function(e){return Object(r.get)(e,"login.socialAccount.createError",null)},S=function(e){return Object(r.get)(e,"login.socialAccount.requestError",null)},I=function(e){return Object(r.get)(e,"login.socialAccountLink.isLinking",null)},T=function(e){return Object(r.get)(e,"login.socialAccountLink.email",null)},C=function(e){return Object(r.get)(e,"login.socialAccountLink.authInfo.service",null)},R=function(e){return Object(r.get)(e,"login.socialAccountLink.authInfo",null)}},"./client/state/login/utils.js":function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return _});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/react/index.js"),o=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=n("./node_modules/i18n-calypso/index.js"),u=n("./client/lib/i18n-utils/browser.js");function l(e){var t=Object(a.get)(e,"body.data.phone_number");return Object(c.translate)("Message sent to phone number ending in %(phoneNumber)s",{args:{phoneNumber:t}})}var d={empty_password:"password",empty_two_step_code:"twoStepCode",empty_username:"usernameOrEmail",incorrect_password:"password",invalid_email:"usernameOrEmail",invalid_two_step_code:"twoStepCode",invalid_username:"usernameOrEmail"};function p(e){var t="global";if(!e.status)return{code:"network_error",message:e.message,field:t};var n=Object(a.get)(e,"response.body.data.errors[0].code");if(n)if(n in d)t=d[n];else if("admin_login_attempt"===n){var r=Object(u.b)("https://wordpress.com/wp-login.php?action=lostpassword",Object(u.h)());return{code:n,message:o.a.createElement("div",null,o.a.createElement("p",null,Object(c.translate)("You attempted to login with the username {{em}}admin{{/em}} on WordPress.com.",{components:{em:o.a.createElement("em",null)}})),o.a.createElement("p",null,Object(c.translate)("If you were trying to access your self hosted {{a}}WordPress.org{{/a}} site, try {{strong}}yourdomain.com/wp-admin/{{/strong}} instead.",{components:{a:o.a.createElement("a",{href:"http://wordpress.org",target:"_blank",rel:"noopener noreferrer"}),strong:o.a.createElement("strong",null)}})),o.a.createElement("p",null,Object(c.translate)("If you cant remember your WordPress.com username, you can {{a}}reset your password{{/a}} by providing your email address.",{components:{a:o.a.createElement("a",{href:r,rel:"external"})}}))),field:t}}var i=Object(a.get)(e,"response.body.data.errors[0].message");return i||(i=Object(a.get)(e,"response.body.data",e.message)),{code:n,message:i,field:t}}var m=function(e){return i()({message:e.message,code:e.error,field:"global"},Object(a.omit)(e,["error","message","field"]))},f=function(e){return"regular"===e},_=function(e){return"passwordless"===e}},"./client/state/media/actions.js":function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"g",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"j",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"a",function(){return m});var r=n("./node_modules/lodash/lodash.js");function i(e,t,n,i){return{type:"MEDIA_RECEIVE",siteId:e,media:Object(r.castArray)(t),found:n,query:i}}function s(e,t){return{type:"MEDIA_REQUEST",siteId:e,query:t}}function o(e,t){return{type:"MEDIA_REQUESTING",siteId:e,query:t}}function a(e,t){return{type:"MEDIA_REQUEST_FAILURE",siteId:e,query:t}}function c(e,t){return{type:"MEDIA_REQUEST_SUCCESS",siteId:e,query:t}}function u(e,t){return{type:"MEDIA_ITEM_REQUEST",siteId:e,mediaId:t}}function l(e,t){return{type:"MEDIA_ITEM_REQUESTING",siteId:e,mediaId:t}}function d(e,t){return{type:"MEDIA_ITEM_REQUEST_FAILURE",siteId:e,mediaId:t}}function p(e,t){return{type:"MEDIA_ITEM_REQUEST_SUCCESS",siteId:e,mediaId:t}}function m(e,t){return{type:"MEDIA_DELETE",mediaIds:Object(r.castArray)(t),siteId:e}}},"./client/state/notices/actions.js":function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"h",function(){return _});var r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),i=n.n(r),s=n("./client/lib/impure-lodash/index.js"),o=n("./client/state/utils.js"),a=s.a.uniqueId;function c(e){return{noticeId:e,type:"NOTICE_REMOVE"}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.id,s=i()(n,["id"]);return{type:"NOTICE_CREATE",notice:Object.assign({showDismiss:!0},s,{noticeId:r||a(),status:e,text:t})}}var l=u.bind(null,"is-success"),d=u.bind(null,"is-error"),p=u.bind(null,"is-info"),m=u.bind(null,"is-warning"),f=u.bind(null,"is-plain"),_=function(e){return function(){return Object(o.d)(e.apply(void 0,arguments),{meta:{notices:{skip:!0}}})}}},"./client/state/notices/selectors.js":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return o});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/create-selector/index.js"),s=Object(i.a)(function(e){return Object(r.values)(e.notices.items)},function(e){return e.notices.items}),o=Object(i.a)(function(e,t){return e.notices.lastTimeShown[t]||0},function(e){return e.notices.lastTimeShown})},"./client/state/nps-survey/actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"b",function(){return m});var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./client/lib/wp/browser.js"),o=n("./client/lib/analytics/index.js"),a=i()("calypso:nps-survey");function c(e){return{type:"NPS_SURVEY_SET_ELIGIBILITY",isSessionPicked:e}}function u(){return function(e){return a("Checking NPS eligibility..."),s.a.undocumented().checkNPSSurveyEligibility().then(function(t){a("...Eligibility returned from endpoint.",t),e(c(t.display_survey))}).catch(function(t){a("...Error querying NPS survey eligibility.",t),e(c(!1))})}}function l(){return{type:"NPS_SURVEY_MARK_SHOWN_THIS_SESSION"}}function d(e,t){return function(n){return a("Submitting NPS survey..."),n(function(e,t){return{type:"NPS_SURVEY_SUBMIT_REQUESTING",surveyName:e,score:t}}(e,t)),o.default.mc.bumpStat("calypso_nps_survey","survey_submitted"),o.default.tracks.recordEvent("calypso_nps_survey_submitted"),s.a.undocumented().submitNPSSurvey(e,t).then(function(){a("...Successfully submitted NPS survey."),n({type:"NPS_SURVEY_SUBMIT_REQUEST_SUCCESS"})}).catch(function(e){a("...Error submitting NPS survey.",e),n(function(e){return{type:"NPS_SURVEY_SUBMIT_REQUEST_FAILURE",error:e}}(e))})}}function p(e){return function(t){return a("Submitting NPS survey with no score..."),t(function(e){return{type:"NPS_SURVEY_SUBMIT_WITH_NO_SCORE_REQUESTING",surveyName:e}}(e)),o.default.mc.bumpStat("calypso_nps_survey","survey_dismissed"),o.default.tracks.recordEvent("calypso_nps_survey_dismissed"),s.a.undocumented().dismissNPSSurvey(e).then(function(){a("...Successfully submitted NPS survey with no score."),t({type:"NPS_SURVEY_SUBMIT_WITH_NO_SCORE_REQUEST_SUCCESS"})}).catch(function(e){a("...Error submitting NPS survey with no score.",e),t(function(e){return{type:"NPS_SURVEY_SUBMIT_WITH_NO_SCORE_REQUEST_FAILURE",error:e}}(e))})}}function m(e,t){return function(n){return a("Sending NPS survey feedback..."),n(function(e,t){return{type:"NPS_SURVEY_SEND_FEEDBACK_REQUESTING",surveyName:e,feedback:t}}(e,t)),o.default.mc.bumpStat("calypso_nps_survey","feedback_submitted"),o.default.tracks.recordEvent("calypso_nps_survey_feedback_submitted"),s.a.undocumented().sendNPSSurveyFeedback(e,t).then(function(){a("...Successfully sent NPS survey feedback."),n({type:"NPS_SURVEY_SEND_FEEDBACK_REQUEST_SUCCESS"})}).catch(function(e){var t;a("...Error sending NPS survey feedback."),n((t=e,{type:"NPS_SURVEY_SEND_FEEDBACK_REQUEST_FAILURE",error:t}))})}}},"./client/state/nps-survey/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return o});var r="NOT_SUBMITTED",i="SUBMITTING",s="SUBMIT_FAILURE",o="SUBMITTED"},"./client/state/nps-survey/selectors.js":function(e,t,n){"use strict";n.d(t,"h",function(){return a}),n.d(t,"i",function(){return c}),n.d(t,"g",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return _}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return b});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/nps-survey/constants.js"),s=n("./client/state/ui/selectors.js"),o=["discover","menus","people","plugins","posts-pages","reader","reader-activities","reader-list","reader-recommendations","reader-tags","settings","sharing","stats"];function a(e){return function(e){var t=Object(s.c)(e);return o.indexOf(t)>-1}(e)&&function(e){return Object(r.get)(e.npsSurvey,"isSessionEligible",!1)}(e)}function c(e){return Object(r.get)(e.npsSurvey,"wasShownThisSession",!1)}function u(e){return Object(r.get)(e.npsSurvey,"surveyState",i.a)}function l(e){return u(e)===i.a}function d(e){return u(e)===i.b}function p(e){return u(e)===i.d}function m(e){return Object(r.get)(e.npsSurvey,"surveyName",null)}function f(e){return Object(r.get)(e.npsSurvey,"score",null)}function _(e){return Object(r.get)(e.npsSurvey,"feedback",null)}function E(e){return!l(e)&&Number.isInteger(f(e))}function b(e){return!l(e)&&!Number.isInteger(f(e))}},"./client/state/order-transactions/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s});var r=function(e){return{type:"ORDER_TRANSACTION_FETCH",orderId:e}},i=function(e,t){return{type:"ORDER_TRANSACTION_SET",orderId:e,transaction:t}},s=function(e,t){return{type:"ORDER_TRANSACTION_FETCH_ERROR",orderId:e,error:t}}},"./client/state/order-transactions/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={SUCCESS:"ORDER_TRANSACTION_STATUS_SUCCESS",PROCESSING:"ORDER_TRANSACTION_STATUS_PROCESSING",FAILURE:"ORDER_TRANSACTION_STATUS_FAILURE",ERROR:"ORDER_TRANSACTION_STATUS_ERROR",UNKNOWN:"ORDER_TRANSACTION_STATUS_UNKNOWN"}},"./client/state/plugins/premium/selectors.js":function(e,t,n){"use strict";n.d(t,"g",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d});var r=n("./node_modules/lodash/lodash.js"),i=function(e,t){return void 0===e.plugins.premium.isRequesting[t]||e.plugins.premium.isRequesting[t]},s=function(e,t){return void 0!==e.plugins.premium.hasRequested[t]&&e.plugins.premium.hasRequested[t]},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.plugins.premium.plugins[t];return void 0===i?[]:("backups"!==n&&"scan"!==n||(n="vaultpress"),Object(r.filter)(i,function(e){return!n||n===e.slug}))},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=o(e,t,n);return!Object(r.every)(i,function(e){return"wait"===e.status})},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=o(e,t,n);return 0===i.length||!Object(r.some)(i,function(e){return"done"!==e.status&&null===e.error})},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=o(e,t,n);return 0!==i.length&&Object(r.some)(i,function(e){return!Object(r.includes)(["done","wait"],e.status)&&null===e.error})},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=o(e,t,n),s=Object(r.find)(i,function(e){return!Object(r.includes)(["done","wait"],e.status)&&null===e.error});return void 0!==s&&s},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=o(e,t,n),s=Object(r.find)(i,function(e){return"wait"===e.status&&null===e.error});return void 0!==s&&s}},"./client/state/plugins/upload/actions.js":function(e,t,n){"use strict";function r(e,t){return{type:"PLUGIN_UPLOAD",siteId:e,file:t}}function i(e,t){return{type:"PLUGIN_UPLOAD_PROGRESS",siteId:e,progress:t}}function s(e,t){return{type:"PLUGIN_UPLOAD_COMPLETE",siteId:e,pluginId:t}}function o(e,t){return{type:"PLUGIN_UPLOAD_ERROR",siteId:e,error:t}}function a(e){return{type:"PLUGIN_UPLOAD_CLEAR",siteId:e}}n.d(t,"e",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a})},"./client/state/post-types/actions.js":function(e,t,n){"use strict";function r(e,t){return{type:"POST_TYPES_RECEIVE",siteId:e,types:t}}function i(e){return{type:"POST_TYPES_REQUEST",siteId:e}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},"./client/state/post-types/selectors.js":function(e,t,n){"use strict";function r(e,t){return e.postTypes.items[t]||null}function i(e,t,n){var i=r(e,t);return i&&i[n]||null}function s(e,t,n,r){switch(n){case"post":switch(r){case"publicize":return!0}}var s=i(e,t,n);if(s)return!!s.supports[r];switch(n){case"page":switch(r){case"publicize":return!1}}return null}function o(e,t,n){var i=r(e,t);return i?!!i[n]:null}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return o})},"./client/state/posts/actions.js":function(e,t,n){"use strict";n.d(t,"h",function(){return I}),n.d(t,"f",function(){return T}),n.d(t,"g",function(){return R}),n.d(t,"e",function(){return A}),n.d(t,"o",function(){return N}),n.d(t,"d",function(){return w}),n.d(t,"k",function(){return U}),n.d(t,"n",function(){return D}),n.d(t,"c",function(){return k}),n.d(t,"i",function(){return L}),n.d(t,"a",function(){return M}),n.d(t,"l",function(){return F}),n.d(t,"m",function(){return V}),n.d(t,"j",function(){return q}),n.d(t,"b",function(){return H});var r=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),c=n.n(a),u=n("./node_modules/store/store.js"),l=n.n(u),d=n("./node_modules/lodash/lodash.js"),p=n("./client/lib/wp/browser.js"),m=n("./client/lib/formatting/index.js"),f=n("./client/lib/preferences/store.js"),_=n("./client/state/posts/selectors.js"),E=n("./client/state/posts/stats.js"),b=n("./client/state/posts/utils.js"),g=n("./client/state/selectors/edited-post-has-content.js"),h=n("./client/state/ui/editor/actions.js"),O=n("./client/state/ui/editor/selectors.js"),y=n("./client/state/ui/editor/last-draft/actions.js"),j=n("./client/state/ui/selectors.js");function v(e,t){return S([e],t)}function S(e,t){var n={type:"POSTS_RECEIVE",posts:e};return t&&(n.saveMarker=t),n}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?C(e,t):null}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C(null,e)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){n({type:"POSTS_REQUEST",siteId:e,query:t});var r=e?p.a.site(e):p.a.me();return r.postsList(c()({},t)).then(function(r){var i=r.found,s=r.posts;n(S(s)),n({type:"POSTS_REQUEST_SUCCESS",siteId:e,query:t,found:i,posts:s})}).catch(function(r){n({type:"POSTS_REQUEST_FAILURE",siteId:e,query:t,error:r})})}}function R(e,t){return function(n){return n({type:"POST_REQUEST",siteId:e,postId:t}),p.a.site(e).post(t).get().then(function(r){n(v(r)),n({type:"POST_REQUEST_SUCCESS",siteId:e,postId:t})}).catch(function(r){n({type:"POST_REQUEST_FAILURE",siteId:e,postId:t,error:r})})}}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return{type:"POST_EDIT",post:n,siteId:e,postId:t}}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return"string"==typeof n&&(n=o()({},n,r)),{type:"POST_EDIT",siteId:e,postId:t,post:{metadata:Object(d.map)(n,function(e,t){return{key:t,value:e,operation:"update"}})}}}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return Array.isArray(n)||(n=[n]),{type:"POST_EDIT",siteId:e,postId:t,post:{metadata:Object(d.map)(n,function(e){return{key:e,operation:"delete"}})}}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return{type:"POST_SAVE_SUCCESS",siteId:e,postId:t,savedPost:n,post:r}}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return function(r){r({type:"POST_SAVE",siteId:e,postId:t,post:n});var i=p.a.site(e).post(t),s=Object(b.E)(n),o=t?"update":"add",a=i[o]({apiVersion:"1.2"},s);return a.then(function(i){r(P(e,t,i,n)),r(v(i))},function(n){r({type:"POST_SAVE_FAILURE",siteId:e,postId:t,error:n})}),a}}function D(e,t){return function(n){var r={status:"trash"};n({type:"POST_SAVE",siteId:e,postId:t,post:r});var i=p.a.site(e).post(t).delete();return i.then(function(i){n(P(e,t,i,r)),n(v(i))},function(r){n({type:"POST_SAVE_FAILURE",siteId:e,postId:t,error:r})}),i}}function k(e,t){return function(n){n({type:"POST_DELETE",siteId:e,postId:t});var r=p.a.site(e).post(t).delete();return r.then(function(){n({type:"POST_DELETE_SUCCESS",siteId:e,postId:t})},function(r){n({type:"POST_DELETE_FAILURE",siteId:e,postId:t,error:r})}),r}}function L(e,t){return function(n){n({type:"POST_RESTORE",siteId:e,postId:t});var r=p.a.site(e).post(t).restore();return r.then(function(r){n({type:"POST_RESTORE_SUCCESS",siteId:e,postId:t}),n(v(r))},function(r){n({type:"POST_RESTORE_FAILURE",siteId:e,postId:t,error:r})}),r}}function M(e,t,n,r){return function(i,s){var a=s(),c=Object(_.a)(a,e,r);if(c&&n&&Object(d.isNumber)(n.ID)){var u=c.terms||{},l=Object(d.toArray)(u[t]);l.push(n),i(A(e,r,{terms:o()({},t,l)}))}}}function x(e){return e.parent_id=function(e){return e&&e.parent?e.parent.ID?e.parent.ID:e.parent:null}(e),"page"===e.type&&(e.page_template=function(e){return e&&e.page_template&&"default"!==e.page_template?e.page_template:""}(e)),e.title&&(e.title=Object(m.b)(e.title)),e}var F=function(e,t){return function(n,r){var i=Object(j.e)(r()),s=Object(O.f)(r());return i===e&&s===t?Promise.resolve(Object(_.a)(r(),e,t)):(n(Object(h.n)(e,t)),p.a.site(e).post(t).get({context:"edit",meta:"autosave"}).then(function(e){return e=x(e),n(v(e)),n(Object(h.f)()),e}).catch(function(e){return n(Object(h.i)(e)),null}))}},V=function(e,t){return function(n){n(Object(h.n)(e,null)),p.a.site(e).post(t).get({context:"edit"}).then(function(t){var r=Object(d.pick)(t,["canonical_image","content","excerpt","format","post_thumbnail","terms","type"]);r.title=Object(m.b)(t.title),r.featured_image=Object(b.g)(t);var i=["geo_latitude","geo_longitude","geo_address","geo_public"],s=Object(d.reduce)(t.metadata,function(e,t){var n=t.key,r=t.value;return Object(d.includes)(i,n)&&e.push({key:n,value:r,operation:"update"}),e},[]);s.length>0&&(r.metadata=s),n(Object(h.m)(e,r))}).catch(function(e){n(Object(h.i)(e))})}},G=0,q=function(e){return function(){var t=i()(regeneratorRuntime.mark(function t(n,r){var i,s,o,a,u,l,m,S,I,T,C,R,A,N;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(j.e)(r()),s=Object(O.f)(r()),o=Object(_.a)(r(),i,s),Object(g.a)(r(),i,s)){t.next=5;break}throw new Error("NO_CONTENT");case 5:if(!Object(O.n)(r())){t.next=7;break}throw new Error("SAVE_BLOCKED");case 7:if(a=Object(O.b)(r()),u=Object(O.i)(r()),l=Object(_.f)(r(),i,s),Object(d.get)(l,"content")||u===a||(l=c()({},l,{content:o.content})),!Object(d.isEmpty)(l)){t.next=13;break}return t.abrupt("return",null);case 13:return m="save-marker-"+ ++G,n(Object(h.h)(i,s,m)),w=l,w=Object(d.clone)(w),w=Object(b.I)(w),w.author&&(w.author=w.author.ID),l=w,S=f.a.get("editor-mode"),I=!s,T=p.a.site(i).post(s),C={context:"edit",apiVersion:"1.2"},e&&e.autosave&&(C.autosave=e.autosave),e&&!1===e.recordSaveEvent||n(Object(E.c)()),(l&&"future"===l.status&&Object(b.v)(o)||l&&"publish"===l.status&&Object(b.r)(o))&&(l=Object(d.assign)({},l,{status:"publish",date:o.date})),t.next=25,T[I?"add":"update"](C,l);case 25:return R=t.sent,A=f.a.get("editor-mode"),n(Object(h.b)()),n(Object(h.e)()),N=x(R),"draft"===N.status?n(Object(y.b)(N.site_ID,N.ID)):n(Object(y.a)()),n(P(N.site_ID,o.ID,N,{})),n(v(N,m)),S===A&&n(Object(h.d)(u)),t.abrupt("return",{receivedPost:N,idAssigned:o.ID!==N.ID});case 35:case"end":return t.stop()}var w},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},H=function(){return function(){var e=i()(regeneratorRuntime.mark(function e(t,n){var r,i,s,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),i=Object(j.e)(r),s=Object(O.f)(r),Object(_.o)(r,i,s)){e.next=5;break}return e.abrupt("return",null);case 5:if(o=Object(_.l)(r,i,s),a=Object(_.a)(r,i,s),l.a.set("wpcom-autosave:"+i+":"+s,a),!Object(b.z)(o)&&!Object(b.z)(a)){e.next=12;break}return e.next=11,t(Object(h.a)(a));case 11:return e.abrupt("return",null);case 12:return e.next=14,t(q({recordSaveEvent:!1,autosave:!0}));case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}},"./client/state/posts/constants.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r={context:"display",http_envelope:!1,pretty:!1,number:20,offset:0,page:1,order:"DESC",order_by:"date",type:"post",status:"publish",sticky:"include",search:""},i={title:"",content:"",publicize:!0,status:"draft",sticky:!1,password:"",type:"post",parent:0,format:"default",featured_image:""}},"./client/state/posts/counts/selectors.js":function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return f});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=["publish","draft","pending","private","future","trash"];function u(e,t,n){return Object(a.get)(e.posts.counts.requesting,[t,n],!1)}function l(e,t,n){return Object(a.get)(e.posts.counts.counts,[t,n,"all"],null)}function d(e,t,n){return Object(a.get)(e.posts.counts.counts,[t,n,"mine"],null)}function p(e,t,n,r){var i=d(e,t,n);return i?i[r]||0:null}function m(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l,s=r(e,t,n);return c.reduce(function(e,t){var n,r=Object(a.get)(s,t,0);switch(t){case"publish":case"private":n="publish";break;case"draft":case"pending":n="draft";break;default:n=t}return o()({},e,i()({},n,(e[n]||0)+r))},{})}function f(e,t,n){return m(e,t,n,d)}},"./client/state/posts/likes/actions.js":function(e,t,n){"use strict";function r(e,t){return{type:"POST_LIKES_REQUEST",siteId:e,postId:t}}n.d(t,"e",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return c});var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source;return{type:"POST_LIKE",siteId:e,postId:t,source:r}},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source;return{type:"POST_UNLIKE",siteId:e,postId:t,source:r}},o=function(e,t,n){var r=n.likes,i=n.iLike,s=n.found;return{type:"POST_LIKES_RECEIVE",siteId:e,postId:t,likes:r,iLike:i,found:s}},a=function(e,t,n,r){return{type:"POST_LIKES_ADD_LIKER",siteId:e,postId:t,likeCount:n,liker:r}},c=function(e,t,n,r){return{type:"POST_LIKES_REMOVE_LIKER",siteId:e,postId:t,likeCount:n,liker:r}}},"./client/state/posts/revisions/actions.js":function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return d});var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"posts",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return{type:"POST_REVISIONS_REQUEST",comparisons:r,postId:t,postType:n,siteId:e}},i=function(e,t){return{type:"POST_REVISIONS_REQUEST_SUCCESS",siteId:e,postId:t}},s=function(e,t,n){return{type:"POST_REVISIONS_REQUEST_FAILURE",siteId:e,postId:t,error:n}},o=function(e){var t=e.diffs,n=e.postId,r=e.revisions,i=e.siteId;return{type:"POST_REVISIONS_RECEIVE",diffs:t,postId:n,revisions:r,siteId:i}},a=function(e){return{type:"POST_REVISIONS_SELECT",revisionId:e}},c=function(){return{type:"POST_REVISIONS_DIALOG_CLOSE"}},u=function(){return{type:"POST_REVISIONS_DIALOG_OPEN"}},l=function(){return{type:"POST_REVISIONS_DIFF_SPLIT_VIEW"}},d=function(){return{type:"POST_REVISIONS_DIFF_UNIFY_VIEW"}}},"./client/state/posts/selectors.js":function(e,t,n){"use strict";n.d(t,"e",function(){return E}),n.d(t,"d",function(){return b}),n.d(t,"m",function(){return g}),n.d(t,"l",function(){return h}),n.d(t,"h",function(){return O}),n.d(t,"s",function(){return y}),n.d(t,"j",function(){return j}),n.d(t,"k",function(){return v}),n.d(t,"r",function(){return S}),n.d(t,"i",function(){return I}),n.d(t,"t",function(){return T}),n.d(t,"u",function(){return C}),n.d(t,"f",function(){return R}),n.d(t,"a",function(){return A}),n.d(t,"c",function(){return N}),n.d(t,"p",function(){return w}),n.d(t,"q",function(){return P}),n.d(t,"o",function(){return U}),n.d(t,"b",function(){return k}),n.d(t,"g",function(){return L}),n.d(t,"n",function(){return M});var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=n("./client/lib/create-selector/index.js"),u=n("./node_modules/i18n-calypso/index.js"),l=n("./client/state/posts/utils.js"),d=n("./client/lib/url/index.js"),p=n("./client/state/sites/selectors.js"),m=n("./client/state/posts/constants.js"),f=n("./client/lib/route/index.js");function _(e,t){return t?e.posts.queries[t]||null:e.posts.allSitesQueries}function E(e,t){var n=e.posts.items[t];if(!n)return null;var r=o()(n,2),i=r[0],s=r[1],a=e.posts.queries[i];return a?a.getItem(s):null}var b=Object(c.a)(function(e,t){return Object(l.F)(E(e,t))},function(e){return[e.posts.items,e.posts.queries]}),g=Object(c.a)(function(e,t){if(!t)return null;var n=e.posts.queries[t];return n?n.getItems():[]},function(e){return e.posts.queries}),h=Object(c.a)(function(e,t,n){if(!t)return null;var r=e.posts.queries[t];return r?r.getItem(n):null},function(e){return e.posts.queries}),O=Object(c.a)(function(e,t,n){var r=_(e,t);if(!r)return null;var i=r.getItems(n);return i?Object(a.includes)(i,void 0)?null:i.map(l.F):null},function(e){return[e.posts.queries,e.posts.allSitesQueries]},function(e,t,n){return Object(l.m)(n,t)});function y(e,t,n){var r=Object(l.m)(n,t);return!!e.posts.queryRequests[r]}function j(e,t,n){var r=_(e,t);return r?r.getFound(n):null}function v(e,t,n){var r=_(e,t);if(!r)return null;var i=r.getNumberOfPages(n);return null===i?null:Math.max(i,1)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=v(e,t,n);return null===r?r:r===(n.page||m.b.page)}var I=Object(c.a)(function(e,t,n){var r=_(e,t);if(!r)return null;var i=r.getItemsIgnoringPage(n);return i?i.map(l.F):null},function(e){return[e.posts.queries,e.posts.allSitesQueries]},function(e,t,n){return Object(l.n)(n,t)}),T=Object(c.a)(function(e,t,n){var r=Object(a.omit)(Object(l.h)(n),"page");return Object(a.some)(e.posts.queryRequests,function(e,n){if(!e)return!1;var i=Object(l.d)(n);return(!i.siteId||i.siteId===t)&&(!(!i.siteId&&t)&&Object(a.isEqual)(r,Object(a.omit)(i.query,"page")))})},function(e){return e.posts.queryRequests},function(e,t,n){return Object(l.m)(n,t)});function C(e,t,n){return t?!!e.posts.siteRequests[t]&&!!e.posts.siteRequests[t][n]:null}var R=Object(c.a)(function(e,t,n){var r=Object(a.get)(e.posts.edits,[t,n||""]);return r?Object(l.G)(l.D.apply(void 0,i()(r))):null},function(e){return[e.posts.edits]}),A=Object(c.a)(function(e,t,n){var r=h(e,t,n),i=R(e,t,n);return i?Object(l.b)(r,i):r},function(e){return[e.posts.queries,e.posts.edits]});function N(e,t,n,r){return Object(a.get)(A(e,t,n),r)}function w(e,t,n){var r=N(e,t,n,"password");return!!(r&&r.length>0)}function P(e,t,n){var r=N(e,t,n,"password");return!!(r&&r.trim().length>0)}var U=Object(c.a)(function(e,t,n){var r=h(e,t,n),i=R(e,t,n),s=Object(a.some)(i,function(e,t){if("type"===t)return!1;if(r){switch(t){case"author":return!Object(l.q)(e,r.author);case"date":return!Object(l.t)(e,r.date);case"discussion":return!Object(l.u)(e,r.discussion);case"featured_image":return e!==Object(l.g)(r);case"metadata":return!Object(l.c)(e,r.metadata);case"parent":return Object(a.get)(r,"parent.ID",0)!==e}return r[t]!==e}return!m.a.hasOwnProperty(t)||e!==m.a[t]}),o=e.ui.editor.rawContent,c=o.initial,u=o.current,d=c!==u;return s||d},function(e){return[e.posts.queries,e.posts.edits,e.ui.editor.rawContent]}),D=Object(c.a)(function(e,t,n){var r=h(e,t,n);return r?Object(a.includes)(["publish","private"],r.status)||"future"===r.status&&Object(u.moment)(r.date).isBefore(Object(u.moment)()):null},function(e){return e.posts.queries});function k(e,t,n){var r=R(e,t,n);if(Object(a.has)(r,"slug"))return r.slug;var i=h(e,t,n),s=Object(a.get)(i,"slug");if(D(e,t,n))return Object(d.d)(s);var o=Object(a.get)(i,["other_URLs","suggested_slug"]);return o&&!s?o:s}function L(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=r.__forceUseRawPost,s=!!i,o=s?i:h(e,t,n);if(!o)return null;var a=o.URL,c=o.status;if(!a||"trash"===c)return null;if(o.preview_URL)return o.preview_URL;var u=a;"publish"!==c&&(u=Object(f.a)({preview:!0},u));var l=Object(p.l)(e,t);if(l&&l.options){var d=l.options,m=d.is_mapped_domain,_=d.unmapped_url;u=m?u.replace(l.URL,_):u}return u}function M(e,t,n,r){return Object(a.filter)(g(e,t),function(e){return e.terms&&e.terms[n]&&Object(a.find)(e.terms[n],function(e){return e.ID===r})})}},"./client/state/posts/stats.js":function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return _}),n.d(t,"c",function(){return E});var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/state/analytics/actions.js"),a=n("./client/state/posts/utils.js"),c=n("./client/state/ui/selectors.js"),u=n("./client/state/sites/selectors.js"),l=n("./client/state/ui/editor/selectors.js"),d=n("./client/state/posts/selectors.js"),p=n("./client/state/selectors/get-podcasting-category-id.js"),m=i()("calypso:posts:stats");function f(e){return Object(o.a)("editor_actions",e)}function _(e,t,n){return Object(o.g)("Editor",e,t,n)}var E=function(){return function(e,t){var n=t(),r=Object(c.e)(n),i=Object(l.f)(n),E=Object(d.a)(n,r,i),b=Object(s.get)(Object(d.l)(n,r,i),"status","draft"),g=Object(l.j)(n,r),h=E.status,O=Object(p.a)(n,r),y=O&&E.terms&&E.terms.category&&Object(s.some)(E.terms.category,{ID:O}),j="calypso_editor_",v=!1,S=!1,I=!1,T=null;if(E.ID||a.z(E)?"draft"===h?j+="savedraft":b===h?(I="edit",j+="update"):"publish"===h||"private"===h?(j+="publish",I="new",g&&(T="confirmation_sidebar")):"pending"===h?j+="pending":"future"===h&&(j+="schedule",v="status-schedule",S="Scheduled Post",g&&(T="confirmation_sidebar")):j+="savedraft",I){var C=Object(u.K)(n,r)?"jetpack":"wpcom";e(Object(o.a)("editor_usage",I)),e(Object(o.a)("editor_usage_"+C,I)),E.type&&e(Object(o.a)("editor_cpt_usage_"+C,E.type+"_"+I))}v&&e(f(v)),S&&e(_(S)),m("recordSaveEvent %s currentStatus=%s nextStatus=%s",j,b,h),e(Object(o.i)(j,{post_id:E.ID,post_type:E.type,visibility:a.p(E),current_status:b,next_status:h,context:T,is_podcast_episode:y}))}}},"./client/state/posts/utils.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=n("./node_modules/i18n-calypso/index.js"),u=n("./node_modules/url/url.js"),l=n.n(u),d=n("./client/state/posts/constants.js"),p=n("./client/lib/post-normalizer/rule-pick-canonical-image.js"),m=n("./client/lib/post-normalizer/rule-decode-entities.js"),f=n("./client/lib/post-normalizer/rule-content-detect-media.js"),_=n("./client/lib/post-normalizer/rule-with-content-dom.js"),E=n("./client/lib/post-normalizer/rule-strip-html.js"),b=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),g=n.n(b),h=n("./node_modules/debug/src/browser.js"),O=n.n(h),y=n("./client/utils.js"),j=n("./client/lib/post-normalizer/rule-prevent-widows.js"),v=n("./client/lib/post-normalizer/rule-make-site-id-safe-for-api.js"),S=n("./client/lib/post-normalizer/rule-pick-primary-tag.js"),I=n("./client/lib/post-normalizer/rule-safe-image-properties.js"),T=n("./client/lib/post-normalizer/rule-make-links-safe.js"),C=n("./client/lib/post-normalizer/rule-wait-for-images-to-load.js"),R=n("./client/lib/post-normalizer/rule-keep-valid-images.js"),A=n("./client/lib/post-normalizer/rule-create-better-excerpt.js"),N=n("./client/lib/post-normalizer/rule-content-remove-styles.js"),w=n("./client/lib/post-normalizer/rule-content-remove-elements-by-selector.js"),P=n("./client/lib/post-normalizer/rule-content-make-images-safe.js"),U=n("./client/lib/post-normalizer/rule-content-make-embeds-safe.js"),D=n("./client/lib/post-normalizer/rule-content-disable-autoplay.js"),k=n("./client/lib/post-normalizer/rule-content-detect-polls.js"),L=n("./client/lib/post-normalizer/rule-content-detect-surveys.js"),M=n("./client/lib/post-normalizer/rule-content-make-links-safe.js"),x=O()("calypso:post-normalizer");function F(e){return function(t){x(e.global_ID+": "+t)}}function V(e,t,n){return G.apply(this,arguments)}function G(){return G=g()(regeneratorRuntime.mark(function e(t,n,r){var i,s,o,a,c,u,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new Error("must supply a callback");case 2:if(t&&n){e.next=6;break}return x("no post or no transform"),r(null,t),e.abrupt("return");case 6:i=Object.assign({},t),s=F(t),s("running transforms"),o=!0,a=!1,c=void 0,e.prev=12,u=n[Symbol.iterator]();case 14:if(o=(l=u.next()).done){e.next=29;break}return d=l.value,e.prev=16,s("running transform "+(d.name||"anonymous")),e.next=20,Object(y.b)(d)(i);case 20:e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(16),r(e.t0),e.abrupt("return");case 26:o=!0,e.next=14;break;case 29:e.next=35;break;case 31:e.prev=31,e.t1=e.catch(12),a=!0,c=e.t1;case 35:e.prev=35,e.prev=36,o||null==u.return||u.return();case 38:if(e.prev=38,!a){e.next=41;break}throw c;case 41:return e.finish(38);case 42:return e.finish(35);case 43:r(null,i);case 44:case"end":return e.stop()}},e,this,[[12,31,35,43],[16,22],[36,,38,42]])})),G.apply(this,arguments)}function q(e){return function(t,n){e(t),n()}}V.decodeEntities=q(m.a),V.stripHTML=q(E.a),V.preventWidows=q(j.a),V.pickCanonicalImage=q(p.a),V.makeSiteIDSafeForAPI=q(v.a),V.pickPrimaryTag=q(S.a),V.safeImageProperties=function(e){return q(Object(I.a)(e))},V.makeLinksSafe=q(T.a),V.waitForImagesToLoad=function(e,t){Object(C.a)(e).then(function(){t()},function(e){t(e)})},V.keepValidImages=function(e,t){return q(Object(R.a)(e,t))},V.createBetterExcerpt=q(A.a),V.withContentDOM=function(e){return function(t,n){Object(_.a)(e)(t),n()}},V.content={removeStyles:N.a,removeElementsBySelector:w.a,makeImagesSafe:P.a,makeEmbedsSafe:U.a,makeContentLinksSafe:M.a,detectMedia:f.a,disableAutoPlayOnMedia:D.b,disableAutoPlayOnEmbeds:D.a,detectPolls:k.a,detectSurveys:L.a};n.d(t,"h",function(){return z}),n.d(t,"m",function(){return Y}),n.d(t,"d",function(){return K}),n.d(t,"n",function(){return J}),n.d(t,"b",function(){return $}),n.d(t,"D",function(){return X}),n.d(t,"a",function(){return ee}),n.d(t,"F",function(){return ne}),n.d(t,"G",function(){return re}),n.d(t,"H",function(){return ie}),n.d(t,"I",function(){return se}),n.d(t,"C",function(){return oe}),n.d(t,"u",function(){return ae}),n.d(t,"q",function(){return ce}),n.d(t,"t",function(){return ue}),n.d(t,"B",function(){return le}),n.d(t,"o",function(){return pe}),n.d(t,"c",function(){return me}),n.d(t,"E",function(){return fe}),n.d(t,"e",function(){return _e}),n.d(t,"l",function(){return Ee}),n.d(t,"J",function(){return be}),n.d(t,"s",function(){return ge}),n.d(t,"z",function(){return he}),n.d(t,"A",function(){return Oe}),n.d(t,"y",function(){return ye}),n.d(t,"x",function(){return je}),n.d(t,"f",function(){return ve}),n.d(t,"v",function(){return Se}),n.d(t,"r",function(){return Ie}),n.d(t,"w",function(){return Te}),n.d(t,"p",function(){return Ce}),n.d(t,"k",function(){return Ae}),n.d(t,"j",function(){return Ne}),n.d(t,"g",function(){return we}),n.d(t,"i",function(){return Pe});var H=/^((\d+):)?(.*)$/,W=Object(a.flow)([function(e){if(!e||!e.terms)return e;var t=Object(a.reduce)(e.terms,function(e,t,n){var r=Object(a.toArray)(t);return r&&r.length&&!Object(a.isPlainObject)(r[0])?e:(e[n]=r,e)},{});if(Object(a.isEmpty)(t))return e;return i()({},e,{terms_by_id:Object(a.mapValues)(t,function(e){var t=Object(a.map)(e,"ID");return t.length?t:null})})}]),B=Object(a.flow)([se]),Q=Object(a.flow)([m.a,E.a,Object(_.a)([f.a]),p.a]);function z(e){return Object(a.omitBy)(e,function(e,t){return d.b[t]===e})}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=z(e),r=JSON.stringify(n);return t?[t,r].join(":"):r}function K(e){var t,n,r=e.match(H);if(r){t=Number(r[2])||void 0;try{n=JSON.parse(r[3])}catch(e){}}return{siteId:t,query:n}}function J(e,t){return Y(Object(a.omit)(e,"page"),t)}function Z(e,t){switch(t.operation){case"update":var n=t.key,r=t.value;return Object(a.find)(e,{key:n})?Object(a.map)(e,function(e){return e.key===n?{key:n,value:r}:e}):Object(a.concat)(e||[],{key:n,value:r});case"delete":var i=t.key;return Object(a.find)(e,{key:i})?Object(a.reject)(e,{key:i}):e}return e}function $(e,t){return Object(a.mergeWith)(Object(a.cloneDeep)(e),t,function(e,t,n,r,i,s){return"metadata"===n&&0===s.size?(o=e,c=t,Object(a.reduce)(c,Z,o)):Array.isArray(t)?t:void 0;var o,c})}var X=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(a.reduce)(t,function(e,t){return Object(a.isString)(t)?e:null===e?t:Object(a.mergeWith)(Object(a.cloneDeep)(e),t,function(e,t,n,r,i,s){return"metadata"===n&&0===s.size?(o=e,c=t,u=Object(a.reject)(o,function(e){return Object(a.find)(c,{key:e.key})}),Object(a.concat)(u,c)):Array.isArray(t)?t:void 0;var o,c,u})},null)},ee=function(e,t){if(Object(a.isEmpty)(e))return[t];var n=Object(a.last)(e);if(Object(a.isString)(n))return o()(e).concat([t]);var r=Object(a.initial)(e);return r.push(X(n,t)),r},te=new WeakMap;function ne(e){if(!e)return null;var t=te.get(e);return t||(t=Q(Object(a.cloneDeep)(e)),te.set(e,t)),t}function re(e){return e?W(e):null}function ie(e){var t=Object(a.cloneDeep)(e);return Object(a.reduce)([[]].concat(o()(Object(a.reduce)(e.terms,function(e,t,n){return e.concat(Object(a.map)(t,function(e,t){return["terms",n,t]}))},[])),o()(Object(a.map)(e.categories,function(e,t){return["categories",t]})),o()(Object(a.map)(e.tags,function(e,t){return["tags",t]})),o()(Object(a.map)(e.attachments,function(e,t){return["attachments",t]}))),function(e,t){return Object(a.unset)(e,t.concat("meta","links")),e},t)}function se(e){return e&&e.terms?i()({},e,{terms:Object(a.pickBy)(e.terms,function(e){return e.length&&Object(a.every)(e,a.isString)})}):e}function oe(e,t){return Object(a.every)(e,function(e,n){var r=Object(a.toArray)(e),i=Object(a.isPlainObject)(r[0]),s=i?Object(a.map)(r,"ID"):r,o=i?"ID":"name",c=Object(a.map)(t[n],o);return!Object(a.xor)(s,c).length})}function ae(e,t){return Object(a.every)(e,function(e,n){return Object(a.get)(t,[n])===e})}function ce(e,t){return Object(a.get)(e,"ID")===Object(a.get)(t,"ID")}function ue(e,t){return!1===e||e&&Object(c.moment)(e).isSame(t)}function le(e,t){return Object(a.includes)(["publish","future"],e)?Object(a.includes)(["publish","future"],t):e===t}function de(e,t){var n=Object(a.find)(t,{key:e.key});return"update"===e.operation?!n||n.value!==e.value:"delete"===e.operation&&!!n}function pe(e,t){return Object(a.filter)(e,function(e){return de(e,t)})}function me(e,t){return Object(a.every)(e,function(e){return!de(e,t)})}function fe(e){return e?B(e):null}var _e=function(e,t){if(!t)return"/post";if(!e)return"/post/"+t.slug;var n,r=e.type||"post";switch(r){case"post":n="/post";break;case"page":n="/page";break;default:n="/edit/"+r}return n+="/"+t.slug,e.ID&&(n+="/"+e.ID),n},Ee=function(e,t,n){var r,i;if(!t||!t.URL||"trash"===t.status)return"";if(n?i=n:"publish"===t.status?i=t.URL:(r=l.a.parse(t.URL,!0),r.query.preview="true",delete r.search,i=l.a.format(r)),t.site_ID){if(!e||!e.options)return i;e.options.is_mapped_domain&&(i=i.replace(e.URL,e.options.unmapped_url)),e.options.frame_nonce&&(r=l.a.parse(i,!0),r.query["frame-nonce"]=e.options.frame_nonce,delete r.search,i=l.a.format(r))}return i},be=function(e,t){var n=t.capabilities&&t.capabilities[e];return"edit_post"===e?n&&"trash"!==t.status:n},ge=function(e,t){if(!e)return!1;var n=t||e.status;return"future"===n&&Object(c.moment)(e.date).isBefore(Object(c.moment)())},he=function(e,t){if(!e)return!1;var n=t||e.status;return"publish"===n||"private"===n||ge(e,t)},Oe=function(e){return!!e&&"future"===e.status},ye=function(e){return!!e&&"private"===e.status},je=function(e){return!!e&&"pending"===e.status},ve=function(e){if(e)return"publish"===e.status||"future"===e.status?e.date:e.modified},Se=function(e){if(!e)return!1;return e&&+new Date+6e4<+new Date(e.date)},Ie=function(e){return!!(e&&e.date&&e.modified)&&Object(c.moment)(e.date).isBefore(Object(c.moment)(e.modified))},Te=function(e){return!!e&&(e&&"page"===e.type)},Ce=function(e){return e?e.password?"password":"private"===e.status?"private":"public":null},Re=function(e){if(e){var t=e.slice(0,-1).split("/");return t[t.length-1]="",t.join("/")}},Ae=function(e){if(e){var t=e.URL;return!he(e)&&e.other_URLs&&e.other_URLs.permalink_URL&&(t=e.other_URLs.permalink_URL),Re(t)}},Ne=function(e){if(e)return he(e)?Re(e.URL):Ae(e)},we=function(e){if(e)return"featured_image"in e&&!/^https?:\/\//.test(e.featured_image)?e.featured_image:e.post_thumbnail?e.post_thumbnail.ID:void 0},Pe=function(e,t){return t?Object(c.moment)(c.moment.tz(e,t)):Object(c.moment)(e)}},"./client/state/preferences/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./client/lib/wp/browser.js"),o=n("./client/state/preferences/constants.js");function a(e){return{type:"PREFERENCES_RECEIVE",values:e}}function c(){return function(e){return e({type:"PREFERENCES_FETCH"}),s.a.undocumented().me().preferences().get().then(function(t){e(a(t[o.b])),e({type:"PREFERENCES_FETCH_SUCCESS"})}).catch(function(t,n){e({type:"PREFERENCES_FETCH_FAILURE",error:n})})}}var u=function(e,t){return{type:"PREFERENCES_SET",key:e,value:t}},l=function(e,t){return function(n){n(u(e,t)),n({type:"PREFERENCES_SAVE",key:e,value:t});var r=i()({},o.b,i()({},e,t));return s.a.undocumented().me().preferences().update(r).then(function(r){n(a(r[o.b])),n({type:"PREFERENCES_SAVE_SUCCESS",key:e,value:t})}).catch(function(e){n({type:"PREFERENCES_SAVE_FAILURE",error:e})})}}},"./client/state/preferences/constants.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r="calypso_preferences",i={"editor-mode":"tinymce",firstViewHistory:[],mediaModalGalleryInstructionsDismissed:!1,mediaModalGalleryInstructionsDismissedForSession:!1,"guided-tours-history":[],recentSites:[],mediaScale:.157,editorAdvancedVisible:!1,editorConfirmationDisabledSites:[],colorScheme:"default","store-dashboardStatsWidgetUnit":"week"}},"./client/state/preferences/selectors.js":function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return u});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/preferences/constants.js"),s=function(e){return!!e.preferences.fetching};function o(e,t){return Object(r.get)(Object(r.find)([e.preferences.localValues,e.preferences.remoteValues,i.a],function(e){return Object(r.has)(e,t)}),t,null)}function a(e){return e.preferences.remoteValues}var c=function(e){return e.preferences.lastFetchedTimestamp};function u(e){return!!e.preferences.remoteValues}},"./client/state/privacy-policy/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(){return{type:"PRIVACY_POLICY_REQUEST"}},i=function(e){return{type:"PRIVACY_POLICY_ADD",entities:e}}},"./client/state/profile-links/actions.js":function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"i",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"k",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"g",function(){return m});var r=function(){return{type:"USER_PROFILE_LINKS_REQUEST"}},i=function(e){return{type:"USER_PROFILE_LINKS_RECEIVE",profileLinks:e}},s=function(e){return{type:"USER_PROFILE_LINKS_ADD",profileLinks:e}},o=function(e){return{type:"USER_PROFILE_LINKS_ADD_SUCCESS",profileLinks:e}},a=function(e,t){return{type:"USER_PROFILE_LINKS_ADD_FAILURE",profileLinks:e,error:t}},c=function(e){return{type:"USER_PROFILE_LINKS_ADD_DUPLICATE",profileLinks:e}},u=function(e){return{type:"USER_PROFILE_LINKS_ADD_MALFORMED",profileLinks:e}},l=function(){return{type:"USER_PROFILE_LINKS_RESET_ERRORS"}},d=function(e){return{type:"USER_PROFILE_LINKS_DELETE",linkSlug:e}},p=function(e){return{type:"USER_PROFILE_LINKS_DELETE_SUCCESS",linkSlug:e}},m=function(e,t){return{type:"USER_PROFILE_LINKS_DELETE_FAILURE",linkSlug:e,error:t}}},"./client/state/push-notifications/actions.js":function(e,t,n){"use strict";var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./client/lib/wp/browser.js"),o=n("./client/state/push-notifications/selectors.js");function a(){var e=window.navigator.appVersion.match(/Chrome\/(\d+)/);return e?e[1]:-1}function c(){return window&&"serviceWorker"in window.navigator&&"ServiceWorkerRegistration"in window&&"showNotification"in window.ServiceWorkerRegistration.prototype&&"PushManager"in window}function u(){if(window&&window.navigator&&window.navigator.appVersion){var e=window.navigator.appVersion.match(/OPR\/(\d+)/);return e?e[1]:-1}return-1}var l=n("./client/state/analytics/actions.js");n.d(t,"a",function(){return m}),n.d(t,"b",function(){return j}),n.d(t,"c",function(){return v});var d=i()("calypso:push-notifications"),p={path:"/service-worker.js"};function m(){return function(e){var t=n("./client/lib/user/support-user-interop.js").isSupportUserSession;if(t())return d("Push Notifications are not supported when SU is active"),void e({type:"PUSH_NOTIFICATIONS_API_NOT_READY"});if(!c())return d("Push Notifications are not supported"),void e({type:"PUSH_NOTIFICATIONS_API_NOT_READY"});if(window&&window.chrome&&window.navigator.appVersion&&a()<50){d("Push Notifications are not supported in Chrome 49 and below");var r=a();return e(Object(l.a)("calypso_push_notif_unsup_chrome",r>39&&r<50?r:"other")),void e({type:"PUSH_NOTIFICATIONS_API_NOT_READY"})}if(-1!==u()){d("Push Notifications are not supported in Opera");var i=u();return e(Object(l.a)("calypso_push_notif_unsup_opera",i>15&&i<100?i:"other")),void e({type:"PUSH_NOTIFICATIONS_API_NOT_READY"})}"Notification"in window&&"denied"!==window.Notification.permission||(d("Push Notifications have been denied"),e(y())),e(_())}}function f(){return function(e,t){e({type:"PUSH_NOTIFICATIONS_API_READY"});var n=t();Object(o.d)(n)||(Object(o.e)(n)?e(function(e,t){var n=t();!Object(o.d)(n)&&Object(o.c)(n)&&window.navigator.serviceWorker.ready.then(function(t){t.pushManager.subscribe({userVisibleOnly:!0}).then(function(){return e(O())}).catch(function(t){d("Couldn't get subscription",t),e(O())})}).catch(function(e){return d("Error activating subscription",e)})}):(e(O()),"disabling"===Object(o.b)(n)&&(d("Forcibly unregistering device (disabling on apiReady)"),e(g()))))}}function _(){return function(e){d("Registering service worker"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.path||"/service-worker.js";return window.navigator.serviceWorker.register(t)}(p).then(function(t){return e(f())}).catch(function(t){d("Error loading service worker!",t),e({type:"PUSH_NOTIFICATIONS_API_NOT_READY"})})}}function E(){return function(e){navigator.serviceWorker.getRegistration(p).then(function(t){t.pushManager.getSubscription().then(function(t){e(g()),t&&t.unsubscribe?t.unsubscribe().then(function(){return d("Push subscription unsubscribed")}).catch(function(e){return d("Error while unsubscribing",e)}):d("Error getting push subscription to deactivate")}).catch(function(t){e(g()),d("Error getting subscription to deactivate",t)})}).catch(function(t){e(g()),d("Error getting ServiceWorkerRegistration to deactivate",t)})}}function b(e){return function(t,n){if("granted"===e)return d("Push notifications authorized"),t({type:"PUSH_NOTIFICATIONS_AUTHORIZE"}),void t(function(e){window.navigator.serviceWorker.ready.then(function(t){t.pushManager.getSubscription().then(function(t){e(function(e){return function(t){if(e)return d("Sending subscription to WPCOM",e),s.a.undocumented().registerDevice(JSON.stringify(e),"browser","Browser").then(function(e,n){return t({type:"PUSH_NOTIFICATIONS_RECEIVE_REGISTER_DEVICE",data:e,headers:n})}).catch(function(e){return d("Couldn't register device",e)});d("No subscription to send to WPCOM")}}(t))}).catch(function(e){return d("Error getting subscription",e)})}).catch(function(e){return d("Error fetching push manager subscription",e)})});"denied"!==e?(Object(o.e)(n())&&t(j()),t({type:"PUSH_NOTIFICATIONS_MUST_PROMPT"})):t(y())}}function g(){return function(e,t){var n=Object(o.a)(t());return n?s.a.undocumented().unregisterDevice(n).then(function(t){d("Successfully unregistered device",t),e(h(t))}).catch(function(t){d("Couldn't unregister device",t),e(h())}):(d("Couldn't unregister device. Unknown device ID"),void e(h()))}}function h(e){return{type:"PUSH_NOTIFICATIONS_RECEIVE_UNREGISTER_DEVICE",data:e||{}}}function O(){return function(e){window.navigator.serviceWorker.ready.then(function(t){t.pushManager.permissionState({userVisibleOnly:!0}).then(function(t){d("Received push messaging state",t),e(b(t))}).catch(function(t){d("Error checking permission state",t),e(b("denied"))})}).catch(function(e){return d("Error checking permission state -- not ready",e)})}}function y(){return function(e){e({type:"PUSH_NOTIFICATIONS_BLOCK"}),e(E()),e(Object(l.i)("calypso_web_push_notifications_blocked"))}}function j(){return function(e,t){var n=!Object(o.e)(t()),r=n?"enabling":"disabling";d(r),e({type:"PUSH_NOTIFICATIONS_TOGGLE_ENABLED"}),n?(e(_()),e(Object(l.i)("calypso_web_push_notifications_enabled"))):(e(E()),e(Object(l.i)("calypso_web_push_notifications_disabled")))}}function v(){return{type:"PUSH_NOTIFICATIONS_TOGGLE_UNBLOCK_INSTRUCTIONS"}}},"./client/state/push-notifications/selectors.js":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var r=function(e){return!!e.pushNotifications.system.apiReady},i=function(e){return!!e.pushNotifications.system.blocked},s=function(e){return e.pushNotifications.system.wpcomSubscription},o=function(e){return!!e.pushNotifications.settings.enabled},a=function(e){return!!e.pushNotifications.settings.showingUnblockInstructions};function c(e){var t=s(e);if(t)return t.ID}function u(e){if(!r(e))return"unknown";if(i(e))return"denied";var t=s(e);return o(e)?t?"subscribed":"enabling":t?"disabling":"unsubscribed"}},"./client/state/reader/conversations/actions.js":function(e,t,n){"use strict";function r(e){var t=e.siteId,n=e.postId;return{type:"READER_CONVERSATION_FOLLOW",payload:{siteId:t,postId:n}}}function i(e){var t=e.siteId,n=e.postId;return{type:"READER_CONVERSATION_MUTE",payload:{siteId:t,postId:n}}}function s(e){var t=e.siteId,n=e.postId,r=e.followStatus;return{type:"READER_CONVERSATION_UPDATE_FOLLOW_STATUS",payload:{siteId:t,postId:n,followStatus:r}}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s})},"./client/state/reader/conversations/follow-status.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Object.freeze({following:"F",not_following:null,muting:"M"})},"./client/state/reader/conversations/utils.js":function(e,t,n){"use strict";function r(e,t){return e+"-"+t}n.d(t,"a",function(){return r})},"./client/state/reader/feed-searches/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return o});var r="last_updated",i="relevance",s=function(e){var t=e.query,n=e.offset,r=void 0===n?0:n,s=e.excludeFollowed,o=void 0===s||s,a=e.sort,c=void 0===a?i:a;return{type:"READER_FEED_SEARCH_REQUEST",payload:{query:t.substring(0,500),offset:r,excludeFollowed:o,sort:c}}},o=function(e,t,n){return{type:"READER_FEED_SEARCH_RECEIVE",payload:{feeds:t,total:n},queryKey:e}}},"./client/state/reader/feed-searches/query-key.js":function(e,t,n){"use strict";function r(e){var t=e.excludeFollowed?"X":"A";return e.query+"-"+t+"-"+e.sort}n.d(t,"a",function(){return r})},"./client/state/reader/feeds/actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});n("./node_modules/lodash/lodash.js");function r(e){return{type:"READER_FEED_REQUEST",payload:{ID:e}}}function i(e){return{type:"READER_FEED_REQUEST_SUCCESS",payload:e}}function s(e,t){return{type:"READER_FEED_REQUEST_FAILURE",payload:{feed_ID:e},error:t}}},"./client/state/reader/feeds/selectors.js":function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n("./node_modules/lodash/lodash.js"),i=144e7;function s(e,t){var n=!e.reader.feeds.queuedRequests[t],r=!o(e,t);return n&&(r||function(e,t){var n=e.reader.feeds.lastFetched[t];if(!n)return!0;return n<=Date.now()-i}(e,t))}function o(e,t){return e.reader.feeds.items[t]}function a(e,t){return Object(r.find)(e.reader.feeds.items,{feed_URL:t})}},"./client/state/reader/follows/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"i",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"k",function(){return p}),n.d(t,"m",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"j",function(){return _}),n.d(t,"g",function(){return E}),n.d(t,"l",function(){return b});var r=n("./node_modules/debug/src/browser.js"),i=n.n(r);i()("calypso:redux:reader-follows");function s(e,t){var n={type:"READER_FOLLOW",payload:{feedUrl:e}};return t&&(n.payload.follow=t),n}function o(e){return{type:"READER_UNFOLLOW",payload:{feedUrl:e}}}function a(e,t){var n={type:"READER_FOLLOW_ERROR",payload:{feedUrl:e,error:t}};return n}function c(e){var t=e.follows,n=e.totalCount;return{type:"READER_FOLLOWS_RECEIVE",payload:{follows:t,totalCount:n}}}function u(){return{type:"READER_FOLLOWS_SYNC_START"}}function l(e){return{type:"READER_FOLLOWS_SYNC_COMPLETE",payload:e}}function d(e){return{type:"READER_SUBSCRIBE_TO_NEW_POST_EMAIL",payload:{blogId:e}}}function p(e){return{type:"READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL",payload:{blogId:e}}}function m(e,t){return{type:"READER_UPDATE_NEW_POST_EMAIL_SUBSCRIPTION",payload:{blogId:e,deliveryFrequency:t}}}function f(e){return{type:"READER_SUBSCRIBE_TO_NEW_COMMENT_EMAIL",payload:{blogId:e}}}function _(e){return{type:"READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL",payload:{blogId:e}}}function E(e){return{type:"READER_SUBSCRIBE_TO_NEW_POST_NOTIFICATIONS",payload:{blogId:e}}}function b(e){return{type:"READER_UNSUBSCRIBE_TO_NEW_POST_NOTIFICATIONS",payload:{blogId:e}}}},"./client/state/reader/follows/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./client/lib/route/index.js");function i(e){var t=e&&Object(r.k)(e);return t&&t.replace(/^https?:\/\//,"").toLowerCase()}},"./client/state/reader/posts/actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return b}),n.d(t,"a",function(){return h}),n.d(t,"b",function(){return y});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(r),s=n("./node_modules/uuid/index.js"),o=n("./node_modules/lodash/lodash.js"),a=n("./client/state/reader/posts/normalization-rules.js"),c=n("./client/lib/wp/browser.js"),u=n("./client/reader/post-key.js"),l=n("./client/state/reader/posts/selectors.js"),d=n("./client/state/posts/likes/actions.js"),p={tracks:{recordEvent:function(){}},mc:{bumpStat:function(){}}},m=function(){};function f(e){p.tracks.recordEvent("calypso_traintracks_render",e.railcar)}function _(e){return e.blogId?c.a.undocumented().readSitePost({site:e.blogId,postId:e.postId}):c.a.undocumented().readFeedPost(e)}m=n("./client/reader/stats.js").pageViewForPost,p=n("./client/lib/analytics/index.js").default;var E=function(e){return e.catch(function(){return null})},b=function(e){return function(t){if(!e)return Promise.resolve([]);var n=Object(o.partition)(e,"_should_reload"),r=i()(n,2),s=r[0],c=r[1];s.forEach(function(e){return t(O(e))});var u=Object(o.compact)(c).map(a.b);return Object(o.forEach)(u,function(e){e.is_external||t(Object(d.c)(e.site_ID,e.ID,{iLike:Boolean(e.i_like),found:+e.like_count}))}),t({type:"READER_POSTS_RECEIVE",posts:u}),Promise.all(u.map(a.c).map(E)).then(function(e){return t({type:"READER_POSTS_RECEIVE",posts:Object(o.compact)(e)})}),Object(o.forEach)(Object(o.filter)(u,"railcar"),f),Promise.resolve(u)}},g=new Set,h=function(e){return function(t){var n=Object(u.c)(e);if(!g.has(n))return g.add(n),_(e).then(function(e){return r(),t(b([e]))}).catch(function(n){return r(),t(function(e,t){return{type:"READER_POSTS_RECEIVE",posts:[{feed_ID:t.feedId,ID:t.postId,site_ID:t.blogId,is_external:!t.blogId,global_ID:Object(s.v4)(),is_error:!0,error:e}]}}(n,e))});function r(){g.delete(n)}}};function O(e){return function(t){var n=e.railcar,r=Object(u.b)(e);_(r).then(function(e){e.railcar=n,t(b([e]))})}}var y=function(e,t){return function(n,r){if(e&&!Object(l.d)(r(),e.global_ID)&&(n({type:"READER_POST_SEEN",payload:{post:e,site:t}}),e.site_ID)){var i=!!Object(o.get)(t,"capabilities.manage_options",!1);t&&t.ID&&(!t.is_private&&i||(m(t.ID,t.URL,e.ID,t.is_private),p.mc.bumpStat("reader_pageviews",t.is_private?"private_view":"public_view")))}}}},"./client/state/reader/posts/display-types.js":function(e,t,n){"use strict";t.a={UNCLASSIFIED:0,PHOTO_ONLY:1,LARGE_BANNER:2,ONE_LINER:4,LANDSCAPE_BANNER:8,PORTRAIT_BANNER:16,GALLERY:32,VIDEO:64,THUMBNAIL:128,CANONICAL_IN_CONTENT:256,FEATURED_VIDEO:512,X_POST:1024}},"./client/state/reader/posts/normalization-rules.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/reader/posts/display-types.js"),s=n("./client/lib/post-normalizer/rule-create-better-excerpt.js"),o=n("./client/lib/post-normalizer/rule-content-detect-media.js"),a=n("./client/lib/post-normalizer/rule-content-detect-polls.js"),c=n("./client/lib/post-normalizer/rule-content-detect-surveys.js"),u=n("./client/lib/post-normalizer/rule-content-make-embeds-safe.js"),l=n("./client/lib/post-normalizer/rule-content-remove-styles.js"),d=n("./client/lib/post-normalizer/rule-content-make-images-safe.js"),p=n("./client/lib/post-normalizer/rule-content-disable-autoplay.js"),m=n("./client/lib/post-normalizer/rule-decode-entities.js"),f=n("./client/lib/post-normalizer/rule-pick-canonical-image.js"),_=n("./client/lib/post-normalizer/rule-make-site-id-safe-for-api.js"),E=n("./client/lib/post-normalizer/rule-pick-primary-tag.js"),b=n("./client/lib/post-normalizer/rule-prevent-widows.js"),g=n("./client/lib/post-normalizer/rule-safe-image-properties.js"),h=n("./client/lib/post-normalizer/rule-strip-html.js"),O=n("./client/lib/post-normalizer/rule-with-content-dom.js"),y=n("./client/lib/post-normalizer/rule-keep-valid-images.js"),j=n("./client/lib/post-normalizer/rule-wait-for-images-to-load.js"),v=n("./client/lib/post-normalizer/utils.js");function S(e){if(!e)return!1;var t=100<=e.width,n=75<=e.height;return t&&n}function I(e){return!!e&&("image"===e.mediaType?S(e):"video"===e.mediaType&&e.autoplayIframe)}function T(e){if(!e)return e;if(Object(v.f)(e.featured_image)&&(!e.post_thumbnail&&e.is_jetpack||S(e.post_thumbnail)))return e.canonical_media={src:e.featured_image,height:Object(r.get)(e,"post_thumbnail.height"),width:Object(r.get)(e,"post_thumbnail.width"),mediaType:"image"},e;var t=Object(r.find)(e.content_media,I);return t&&(e.canonical_media=t),e}var C=n("./client/lib/post-normalizer/rule-content-remove-elements-by-selector.js");var R=n("./client/lib/post-normalizer/rule-make-links-safe.js"),A=n("./client/lib/post-normalizer/rule-content-make-links-safe.js"),N=n("./client/state/reader/posts/sizes.js");function w(e){return e.width>=N.b&&e.height>=N.c}n.d(t,"a",function(){return w}),n.d(t,"b",function(){return k}),n.d(t,"c",function(){return M});var P=function(e){return function(e){return e&&e.content_no_html?e.content_no_html.length:0}(e)<=N.e};function U(e){var t=Object(r.filter)(e.content_images,w),n=i.a.UNCLASSIFIED;return t.length>=N.a?n^=i.a.GALLERY:e.canonical_media&&"image"===e.canonical_media.mediaType&&e.canonical_media.width>=N.f&&P(e)&&(n^=i.a.PHOTO_ONLY),e.canonical_media&&"video"===e.canonical_media.mediaType&&(n^=i.a.FEATURED_VIDEO),e.tags&&e.tags["p2-xpost"]&&(n^=i.a.X_POST),e.display_type=n,e}var D=Object(r.flow)([m.a,h.a,b.a,_.a,E.a,Object(g.a)(N.g),R.a,Object(O.a)([l.a,C.a,Object(d.a)(),u.a,A.a,p.a,p.b,o.a,a.a,c.a,function(e,t){var n=t.querySelectorAll(".tiled-gallery");return Object(r.forEach)(n,function(t){var n,i=Object(r.get)(t,["dataset","carouselExtra"],!1);if(!i&&(i=t.getAttribute("data-carousel-extra"),!i))return e;try{n=JSON.parse(i).permalink}catch(t){return e}var s=t.querySelectorAll(".tiled-gallery-item > a");Object(r.forEach)(s,function(e){var t=e.querySelector("img"),r=t&&t.getAttribute("data-attachment-id");r&&(e.href=n+"#jp-carousel-"+r,e.setAttribute("target","_blank"))})}),e}]),s.a,f.a,T,U,function(e){var t,n=!(!Object(r.get)(e,"discover_metadata")&&53424024!==Object(r.get)(e,"site_ID"));if(n){var i=Object(r.get)(e,"discover_metadata.discover_fp_post_formats"),s=Object(r.find)(i,function(e){return"pick"!==e.slug});t=s?s.slug:"feature"}return e.is_discover=n,e.discover_format=t,e}]);function k(e){return e?(e=Object.assign({},e),D(e),e):e}var L=Object(r.flow)([Object(y.a)(N.d,N.c),f.a,T,U]);function M(e){return e=Object.assign({},e),Object(j.a)(e).then(L)}},"./client/state/reader/posts/selectors.js":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return p});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/tree-select/index.js"),a=n("./client/reader/post-key.js");function c(e,t){return e.reader.posts.items[t]}var u=Object(o.a)(function(e){return[e.reader.posts.items]},function(e){var t=i()(e,1),n=t[0];return Object(s.keyBy)(n,function(e){return Object(a.c)(Object(a.b)(e))})}),l=function(e,t){if(!t||!Object(a.c)(t))return null;var n=u(e);return n[Object(a.c)(t)]},d=Object(o.a)(function(e){return[u(e)]},function(e,t){var n=i()(e,1),r=n[0];return!t||Object(s.some)(t,function(e){return!Object(a.c)(e)})?null:t.map(a.c).map(function(e){return r[e]})},{getCacheKey:function(e){return e.map(a.c).join()}}),p=function(e,t){return!!Object(s.get)(e,["reader","posts","seen",t])}},"./client/state/reader/posts/sizes.js":function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"f",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return u});var r=800,i=440,s=85,o=4,a=300,c=144,u=72},"./client/state/reader/recommended-sites/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(e){var t=e.offset,n=void 0===t?0:t,r=e.number,i=void 0===r?4:r,s=e.seed,o=void 0===s?0:s;return{type:"READER_RECOMMENDED_SITES_REQUEST",payload:{offset:n,number:i,seed:o}}},i=function(e){var t=e.seed,n=e.sites,r=e.offset,i=void 0===r?0:r;return{type:"READER_RECOMMENDED_SITES_RECEIVE",payload:{sites:n,offset:i},seed:t}}},"./client/state/reader/related-posts/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return o});var r="all",i="same",s="other";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;return e+"-"+t+"-"+n}},"./client/state/reader/site-blocks/actions.js":function(e,t,n){"use strict";function r(e){return{type:"READER_SITE_BLOCK",payload:{siteId:e}}}function i(e){return{type:"READER_SITE_UNBLOCK",payload:{siteId:e}}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},"./client/state/reader/sites/actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});n("./node_modules/lodash/lodash.js");function r(e){return{type:"READER_SITE_REQUEST",payload:{ID:e}}}function i(e){return{type:"READER_SITE_REQUEST_SUCCESS",payload:e}}function s(e,t){return{type:"READER_SITE_REQUEST_FAILURE",payload:e.payload,error:t}}},"./client/state/reader/sites/selectors.js":function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n("./node_modules/lodash/lodash.js"),i=144e7;function s(e,t){var n=!e.reader.sites.queuedRequests[t],r=!o(e,t);return n&&(r||function(e,t){var n=e.reader.sites.lastFetched[t];if(!n)return!0;return n<=Date.now()-i}(e,t))}function o(e,t){return e.reader.sites.items[t]}function a(e,t){return Object(r.find)(e.reader.sites.items,{feed_URL:t})}},"./client/state/reader/streams/actions.js":function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"i",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return f});var r=n("./client/state/selectors/get-reader-stream.js"),i=n("./client/reader/utils.js"),s=n("./client/lib/wp/browser.js");function o(e){var t=e.streamKey,n=e.pageHandle,r=e.isPoll,s=void 0!==r&&r,o=e.gap,a=void 0===o?null:o,c=Object(i.a)(t);return{type:"READER_STREAMS_PAGE_REQUEST",payload:{streamKey:t,pageHandle:n,streamType:c,isPoll:s,gap:a}}}function a(e){var t=e.streamKey,n=e.pageHandle,r=e.streamItems,i=e.gap;return{type:"READER_STREAMS_PAGE_RECEIVE",payload:{streamKey:t,streamItems:r,pageHandle:n,gap:i}}}var c=function(e){var t=e.streamKey;return function(e,n){var i=Object(r.a)(n(),t).pendingItems.items;return e({type:"READER_STREAMS_SHOW_UPDATES",payload:{streamKey:t,items:i}})}};function u(e){var t=e.streamKey,n=e.streamItems;return{type:"READER_STREAMS_UPDATES_RECEIVE",payload:{streamKey:t,streamItems:n}}}function l(e){var t=e.streamKey,n=e.postKey;return{type:"READER_STREAMS_SELECT_ITEM",payload:{streamKey:t,postKey:n}}}function d(e){var t=e.streamKey,n=e.items;return{type:"READER_STREAMS_SELECT_NEXT_ITEM",payload:{streamKey:t,items:n}}}function p(e){var t=e.streamKey,n=e.items;return{type:"READER_STREAMS_SELECT_PREV_ITEM",payload:{streamKey:t,items:n}}}function m(e){var t=e.streamKey,n=e.gap;return o({streamKey:t,pageHandle:{before:n.to.toISOString(),after:n.from.toISOString()},gap:n})}var f=function(e){var t=e.streamKey,n=e.postKey;return s.a.undocumented().me().dismissSite(n.blogId),{type:"READER_STREAMS_DISMISS_POST",payload:{streamKey:t,postKey:n}}}},"./client/state/reader/tags/items/actions.js":function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u});var r=n("./node_modules/lodash/lodash.js"),i=function(e){return encodeURIComponent(Object(r.trim)(e).toLowerCase().replace(/\s+/g,"-").replace(/-{2,}/g,"-"))},s=function(e){var t="READER_TAGS_REQUEST";if(!e)return{type:t};var n=i(e);return{type:t,payload:{tag:e,slug:n}}},o=function(e){var t=e.payload,n=e.resetFollowingData,r=void 0!==n&&n;return{type:"READER_TAGS_RECEIVE",payload:t,meta:{resetFollowingData:r}}},a=function(e){return{type:"READER_UNFOLLOW_TAG_REQUEST",payload:{tag:e,slug:i(e)}}},c=function(e){var t=e.payload;return{type:"READER_UNFOLLOW_TAG_RECEIVE",payload:t}},u=function(e){return{type:"READER_FOLLOW_TAG_REQUEST",payload:{tag:e,slug:i(e)}}}},"./client/state/receipts/reducer.js":function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./client/state/utils.js"),o={data:null,error:null,hasLoadedFromServer:!1,isRequesting:!1};function a(e,t,n){return Object.assign({},e,i()({},t,Object.assign({},o,e[t],n)))}t.a=Object(s.b)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIPT_FETCH":return a(e,t.receiptId,{isRequesting:!0});case"RECEIPT_FETCH_COMPLETED":return a(e,t.receiptId,{data:t.receipt,error:null,hasLoadedFromServer:!0,isRequesting:!1});case"RECEIPT_FETCH_FAILED":return a(e,t.receiptId,{error:t.error,isRequesting:!1})}return e}})},"./client/state/rewind/actions.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/typeof.js"),o=n.n(s),a=n("./client/lib/make-json-schema-parser/index.js"),c=n("./client/state/data-layer/handler-registry.js"),u=n("./client/state/data-layer/wpcom-http/utils.js"),l=n("./client/state/data-layer/wpcom-http/actions.js"),d=n("./client/state/analytics/actions.js"),p={type:"object",properties:{still_valid:{type:"boolean"},type:{type:"string",enum:["auto","ftp","managed","ssh"]},host:{type:"string"},path:{type:"string"},port:{type:"integer"},role:{type:"string"}},required:["role","still_valid","type"]},m=h("unavailable",{type:"object",properties:{state:{type:"string",pattern:"^unavailable$"},reason:{type:"string"},last_updated:{oneOf:[{type:"integer"},{type:"string",format:"date-time"}]}},required:["state","last_updated"]}),f=h("inactive",{type:"object",properties:{state:{type:"string",pattern:"^inactive$"},credentials:{type:"array",items:p},last_updated:{oneOf:[{type:"integer"},{type:"string",format:"date-time"}]}},required:["state","last_updated"]}),_=h("awaiting_credentials",{type:"object",properties:{state:{type:"string",pattern:"^awaiting_credentials$"},last_updated:{oneOf:[{type:"integer"},{type:"string",format:"date-time"}]}},required:["state","last_updated"]}),E=h("provisioning",{type:"object",properties:{state:{type:"string",pattern:"^provisioning$"},credentials:{type:"array",items:p},last_updated:{oneOf:[{type:"integer"},{type:"string",format:"date-time"}]}},required:["state","last_updated"]}),b=h("active",{type:"object",properties:{state:{type:"string",pattern:"^active$"},credentials:{type:"array",items:p},downloads:{type:"array",items:{type:"object",properties:{downloadId:{type:"integer"},rewindId:{type:"string"},backupPoint:{type:"integer"},startedAt:{type:"integer"},downloadCount:{type:"integer"},validUntil:{type:"integer"}},required:["downloadId","rewindId","backupPoint","startedAt"]}},rewind:{type:"object",properties:{links:{type:"object"},restore_id:{type:"integer"},rewind_id:{type:"string"},status:{type:"string",enum:["failed","finished","queued","running"]},started_at:{type:"string"},progress:{type:"integer"},reason:{type:"string"}},required:["restore_id","rewind_id","status"]},last_updated:{oneOf:[{type:"integer"},{type:"string",format:"date-time"}]}},required:["state","last_updated"]}),g={allOf:[m,f,_,E,b]};function h(e,t){return{oneOf:[{not:{type:"object",properties:{state:{type:"string",pattern:"^"+e+"$"}},required:["state"]}},t]}}var O=n("./client/state/data-layer/wpcom/sites/rewind/api-transformer.js");Object(c.b)("state/data-layer/wpcom/sites/rewind",i()({},"REWIND_STATE_REQUEST",[Object(u.b)({fetch:function(e){return Object(l.a)({apiNamespace:"wpcom/v2",method:"GET",path:"/sites/"+e.siteId+"/rewind",query:{force:"wpcom"}},e)},onSuccess:function(e,t){var n=e.siteId,r={type:"REWIND_STATE_UPDATE",siteId:n,data:t},i=t.rewind&&("queued"===t.rewind.status||"running"===t.rewind.status);if(!i)return r;return[r,function(e){return setTimeout(function(){return e(y(n))},3e3)}]},onError:function(e,t){var n,r=e.siteId,i=t.hasOwnProperty("status")?parseInt(t.status,10):null;return t.hasOwnProperty("code")&&t.hasOwnProperty("message")&&i&&i>=400?Object(d.k)(Object(d.i)("calypso_rewind_state_bad_response",{code:t.code,message:t.message,status:t.status}),{type:"REWIND_STATE_UPDATE",siteId:r,data:{state:"unavailable",reason:"unknown",lastUpdated:new Date}}):Object(d.k)(Object(d.i)("calypso_rewind_state_parse_error",{type:(n=t,n&&n.constructor&&n.constructor.name||o()(n)),error:JSON.stringify(t)}),{type:"REWIND_STATE_UPDATE",siteId:r,data:{state:"unknown",lastUpdated:new Date}})},fromApi:Object(a.c)(g,O.a)})])),n.d(t,"a",function(){return y});var y=function(e){return{type:"REWIND_STATE_REQUEST",siteId:e,meta:{dataLayer:{trackRequest:!0}}}}},"./client/state/routing/middleware.js":function(e,t,n){"use strict";n.r(t),n.d(t,"routingMiddleware",function(){return c});var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/restore-last-path/index.js"),a=i()("calypso:restore-last-location"),c=function(){return function(e){return function(t){if("ROUTE_SET"!==t.type||!t.path||!Object(s.isEmpty)(t.query))return e(t);Object(o.b)(t.path).then(function(e){return a(e)}).catch(function(e){return a(e)}),e(t)}}};t.default=c},"./client/state/selectors/are-all-sites-single-user.js":function(e,t,n){"use strict";var r=n("./client/lib/create-selector/index.js"),i=n("./client/state/selectors/get-sites-items.js"),s=n("./client/state/sites/selectors.js");t.a=Object(r.a)(function(e){var t=Object.keys(Object(i.a)(e));return!!t.length&&t.every(function(t){return Object(s.R)(e,t)})},i.a)},"./client/state/selectors/can-current-user-manage-plugins.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/create-selector/index.js"),s=n("./client/state/selectors/can-current-user.js");t.a=Object(i.a)(function(e){var t=Object.keys(Object(r.get)(e,"currentUser.capabilities",{}));return t.some(function(t){return Object(s.a)(e,t,"manage_options")})},function(e){return e.currentUser.capabilities})},"./client/state/selectors/can-current-user.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./client/state/current-user/selectors.js");function i(e,t,n){return Object(r.n)(e,t,n)?e.currentUser.capabilities[t][n]:null}},"./client/state/selectors/edited-post-has-content.js":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/posts/selectors.js"),s=n("./client/state/ui/editor/selectors.js"),o=/^<p>(<br[^>]*>|&nbsp;|\s)*<\/p>$/,a=50;function c(e){return!e||e.length<a&&o.test(e)}function u(e,t,n){var o=Object(i.a)(e,t,n);if(!o)return!1;if(Object(r.some)(["title","excerpt"],function(e){return Object(r.trim)(o[e])}))return!0;var a=Object(s.i)(e);return a?!c(a):!c(o.content)}},"./client/state/selectors/get-activity-log-filter.js":function(e,t,n){"use strict";var r=n("./client/state/activity-log/reducer.js");t.a=function(e,t){try{return e.activityLog.filter[t]||r.b}catch(e){return r.b}}},"./client/state/selectors/get-current-query-arguments.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js");t.a=function(e){return Object(r.get)(e,"ui.route.query.current",null)}},"./client/state/selectors/get-current-route.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js");t.a=function(e){return Object(r.get)(e,"ui.route.path.current",null)}},"./client/state/selectors/get-initial-query-arguments.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js");t.a=function(e){return Object(r.get)(e,"ui.route.query.initial",null)}},"./client/state/selectors/get-jetpack-settings.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/lodash/lodash.js");function i(e,t){return Object(r.get)(e.jetpack.settings,[t],null)}},"./client/state/selectors/get-media-item.js":function(e,t,n){"use strict";function r(e,t,n){var r=e.media.queries[t];return r&&r.getItem(n)||null}n.d(t,"a",function(){return r})},"./client/state/selectors/get-network-sites.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/create-selector/index.js"),s=n("./client/state/selectors/get-sites-items.js"),o=n("./client/state/selectors/is-main-site-of.js"),a=n("./client/state/sites/selectors.js");t.a=Object(i.a)(function(e,t){return Object(a.L)(e,t)?Object(r.filter)(Object(s.a)(e),function(n){return t===n.ID||Object(o.a)(e,t,n.ID)}).map(function(t){return Object(a.l)(e,t.ID)}):null},function(e){return[Object(s.a)(e),e.currentUser.capabilities]})},"./client/state/selectors/get-podcasting-category-id.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/is-private-site.js");function s(e,t){return Object(i.a)(e,t)?null:Object(r.get)(e.siteSettings.items,[t,"podcasting_category_id"],null)}},"./client/state/selectors/get-primary-domain-by-site-id.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./client/state/sites/domains/selectors.js");function i(e,t){var n=Object(r.b)(e,t);return 0===n.length?null:n.filter(function(e){return e.isPrimary})[0]}},"./client/state/selectors/get-primary-site-id.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/current-user/selectors.js");function s(e){var t=Object(i.b)(e);return Object(r.get)(t,"primary_blog",null)}},"./client/state/selectors/get-raw-site.js":function(e,t,n){"use strict";var r=n("./client/state/selectors/get-sites-items.js");t.a=function(e,t){return Object(r.a)(e)[t]||null}},"./client/state/selectors/get-reader-stream.js":function(e,t,n){"use strict";var r={items:[],pendingItems:{lastUpdated:null,items:[]},lastPage:!1,isRequesting:!1};t.a=function(e,t){return e.reader.streams[t]||r}},"./client/state/selectors/get-selected-or-all-sites.js":function(e,t,n){"use strict";var r=n("./client/lib/create-selector/index.js"),i=n("./client/state/selectors/get-sites.js"),s=n("./client/state/ui/selectors.js");t.a=Object(r.a)(function(e){var t=Object(s.d)(e);return t?[t]:Object(i.a)(e)},[s.d,i.a])},"./client/state/selectors/get-site-comment.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-site-comments.js");t.a=function(e,t,n){var s=Object(i.a)(e,t);return Object(r.find)(s,{ID:n})}},"./client/state/selectors/get-site-comments.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/create-selector/index.js");var a=Object(o.a)(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asc",o=Object(s.get)(e,"comments.items",{}),a=Object.keys(o).filter(function(e){return parseInt(e.split("-",1),10)===t}).reduce(function(e,t){return i()(e).concat(i()(o[t]))},[]);return n?Object(s.orderBy)(function(e,t){return"all"===t?Object(s.filter)(e,function(e){return"approved"===e.status||"unapproved"===e.status}):Object(s.filter)(e,function(e){return t===e.status})}(a,n),"date",r):Object(s.orderBy)(a,"date",r)},function(e){return[e.comments.items]});t.a=a},"./client/state/selectors/get-site-connection-status.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/lodash/lodash.js");function i(e,t){return Object(r.get)(e.sites.connection.items,t,null)}},"./client/state/selectors/get-site-icon-id.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-raw-site.js"),s=n("./client/state/site-settings/selectors.js");function o(e,t){var n=Object(i.a)(e,t);if(n)return Object(r.get)(n,"icon.media_id",null);var o=Object(s.a)(e,t);return o?o.site_icon:null}},"./client/state/selectors/get-site-icon-url.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-raw-site.js"),s=n("./client/lib/safe-image-url/index.js"),o=n("./client/state/selectors/get-media-item.js");var a=n("./client/state/selectors/get-site-icon-id.js");function c(e,t){var n=Object(a.a)(e,t),c=function(e,t,n){var r=Object(o.a)(e,t,n);return r?Object(s.a)(r.URL):null}(e,t,n);return c||Object(r.get)(Object(i.a)(e,t),"icon.img",null)}n.d(t,"a",function(){return c})},"./client/state/selectors/get-site-id.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./client/state/sites/selectors.js");function i(e,t){if(!t)return null;var n=Object(r.l)(e,t);return n?n.ID:null}},"./client/state/selectors/get-site-options.js":function(e,t,n){"use strict";var r=n("./client/state/selectors/get-raw-site.js"),i=Object.freeze({});t.a=function(e,t){var n=Object(r.a)(e,t);return n?n.options||i:null}},"./client/state/selectors/get-site-url.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-raw-site.js");function s(e,t){return Object(r.get)(Object(i.a)(e,t),"URL",null)}},"./client/state/selectors/get-sites-items.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=Object.freeze({});function i(e){return e.sites.items||r}},"./client/state/selectors/get-sites.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=n("./client/lib/create-selector/index.js"),u=n("./client/state/sites/selectors.js"),l=n("./client/state/selectors/get-primary-site-id.js"),d=n("./client/state/selectors/get-sites-items.js");t.a=Object(c.a)(function(e){var t,n=Object(l.a)(e),r=Object(a.partition)(Object(d.a)(e),{ID:n}),s=o()(r,2),c=s[0],p=s[1];return i()(c).concat(i()((t=p,Object(a.sortBy)(t,["name","URL"])))).map(function(t){return Object(u.l)(e,t.ID)})},function(e){return[Object(d.a)(e),e.currentUser.capabilities]})},"./client/state/selectors/get-unconnected-site-url.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-unconnected-site.js");function s(e,t){var n=Object(i.a)(e,t);return n?Object(r.get)(n,"siteUrl",null):null}},"./client/state/selectors/get-unconnected-site.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/lodash/lodash.js");function i(e,t){return Object(r.get)(e.jetpack.onboarding.credentials,t,null)}},"./client/state/selectors/get-user-settings.js":function(e,t,n){"use strict";function r(e){return e.userSettings.settings}n.d(t,"a",function(){return r})},"./client/state/selectors/get-visible-sites.js":function(e,t,n){"use strict";var r=n("./client/state/sites/selectors.js"),i=n("./client/state/selectors/get-sites-items.js"),s=n("./client/lib/create-selector/index.js");t.a=Object(s.a)(function(e){return Object.values(Object(i.a)(e)).filter(function(e){return!0===e.visible}).map(function(t){return Object(r.l)(e,t.ID)})},function(e){return[Object(i.a)(e)]})},"./client/state/selectors/has-jetpack-sites.js":function(e,t,n){"use strict";var r=n("./client/lib/create-selector/index.js"),i=n("./client/state/sites/selectors.js"),s=n("./client/state/selectors/get-sites-items.js");t.a=Object(r.a)(function(e){var t=Object.keys(Object(s.a)(e));return t.some(function(t){return Object(i.K)(e,t)})},s.a)},"./client/state/selectors/has-loaded-sites.js":function(e,t,n){"use strict";function r(e){return null!==e.sites.items}n.d(t,"a",function(){return r})},"./client/state/selectors/has-site-pending-automated-transfer.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-site-options.js"),s=n("./client/state/selectors/is-site-automated-transfer.js");t.a=function(e,t){var n=Object(i.a)(e,t);return n?!Object(s.a)(e,t)&&Object(r.get)(n,"has_pending_automated_transfer",!1):null}},"./client/state/selectors/is-domain-only-site.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-raw-site.js");function s(e,t){var n=Object(i.a)(e,t);return n?Object(r.get)(n,"options.is_domain_only",!1):null}},"./client/state/selectors/is-eligible-for-domain-to-paid-plan-upsell.js":function(e,t,n){"use strict";var r=n("./client/state/selectors/can-current-user.js"),i=n("./client/state/selectors/is-mapped-domain-site.js"),s=n("./client/state/selectors/is-site-on-free-plan.js"),o=n("./client/state/selectors/is-vip-site.js");t.a=function(e,t){var n=Object(r.a)(e,t,"manage_options"),a=Object(s.a)(e,t),c=Object(i.a)(e,t),u=Object(o.a)(e,t);return n&&c&&!u&&a}},"./client/state/selectors/is-main-site-of.js":function(e,t,n){"use strict";var r=n("./client/state/sites/selectors.js"),i=n("./client/lib/url/index.js");t.a=function(e,t,n){return Object(r.L)(e,t)&&Object(r.N)(e,n)&&Object(i.m)(Object(r.s)(e,t,"unmapped_url"))===Object(i.m)(Object(r.s)(e,n,"main_network_site"))}},"./client/state/selectors/is-mapped-domain-site.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-raw-site.js");function s(e,t){var n=Object(i.a)(e,t);return n?Object(r.get)(n,"options.is_mapped_domain",!1):null}},"./client/state/selectors/is-notifications-open.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/lodash/lodash.js");function i(e){return Object(r.get)(e,"ui.isNotificationsOpen",!1)}},"./client/state/selectors/is-private-site.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./client/state/selectors/get-raw-site.js"),i=n("./client/state/site-settings/selectors.js");function s(e,t){var n=Object(r.a)(e,t);if(n)return n.is_private;var s=Object(i.a)(e,t);return s?-1===parseInt(s.blog_public,10):null}},"./client/state/selectors/is-requesting-site-connection-status.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/lodash/lodash.js");function i(e,t){return Object(r.get)(e.sites.connection.requesting,t,!1)}},"./client/state/selectors/is-rtl.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js");t.a=function(e){return Object(r.get)(e,"ui.language.isRtl",null)}},"./client/state/selectors/is-site-automated-transfer.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/lodash/lodash.js");function i(e,t){return Object(r.get)(e,["sites","items",t,"options","is_automated_transfer"],null)}},"./client/state/selectors/is-site-on-free-plan.js":function(e,t,n){"use strict";var r=n("./client/state/sites/plans/selectors.js"),i=n("./client/lib/plans/index.js");t.a=function(e,t){var n=Object(r.a)(e,t);return!!n&&Object(i.n)(n.productSlug)}},"./client/state/selectors/is-site-upgradeable.js":function(e,t,n){"use strict";var r=n("./client/state/selectors/can-current-user.js"),i=n("./client/state/current-user/selectors.js"),s=n("./client/state/selectors/get-raw-site.js");t.a=function(e,t){return Object(i.g)(e)&&Object(s.a)(e,t)?Object(r.a)(e,t,"manage_options"):null}},"./client/state/selectors/is-vip-site.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./client/state/selectors/get-raw-site.js");function i(e,t){var n=Object(r.a)(e,t);return n&&n.hasOwnProperty("is_vip")?n.is_vip:null}},"./client/state/simple-payments/product-list/actions.js":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r=function(e){return{siteId:e,type:"SIMPLE_PAYMENTS_PRODUCTS_LIST"}},i=function(e,t){return{siteId:e,productId:t,type:"SIMPLE_PAYMENTS_PRODUCT_GET"}};function s(e,t){return{type:"SIMPLE_PAYMENTS_PRODUCTS_LIST_RECEIVE",siteId:e,products:t}}function o(e,t){return{siteId:e,type:"SIMPLE_PAYMENTS_PRODUCTS_LIST_RECEIVE_UPDATE",product:t}}function a(e,t){return{siteId:e,productId:t,type:"SIMPLE_PAYMENTS_PRODUCTS_LIST_RECEIVE_DELETE"}}},"./client/state/simple-payments/product-list/schema.js":function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return u});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./client/config/index.js"),o=i()({currency:{type:"string",metaKey:"spay_currency"},price:{type:"string",metaKey:"spay_price"},multiple:{type:"boolean",metaKey:"spay_multiple"},status:{type:"string",metaKey:"spay_status"},email:{type:"string",metaKey:"spay_email"},formatted_price:{type:"string",metaKey:"spay_formatted_price"}},s.a.isEnabled("memberships")&&{recurring:{type:"boolean"},stripe_account:{type:"string"},renewal_schedule:{type:"string"}}),a={type:"object",properties:i()({title:{type:"string"},description:{type:"string"},ID:{type:"number"}},o)},c={type:"object",patternProperties:{"^\\d+$":{type:"array",items:a}},additionalProperties:!1},u=Object.keys(o).reduce(function(e,t){return e[o[t].metaKey]=t,e},{});t.a=c},"./client/state/site-keyrings/actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return a});var r=n("./client/lib/wp/browser.js");function i(e){return function(t){return t({type:"SITE_KEYRINGS_REQUEST",siteId:e}),r.a.undocumented().getSiteKeyrings(e).then(function(n){return t({type:"SITE_KEYRINGS_REQUEST_SUCCESS",siteId:e,keyrings:n}),n}).catch(function(n){return t({type:"SITE_KEYRINGS_REQUEST_FAILURE",siteId:e,error:n}),Promise.reject(n)})}}function s(e,t){return function(n){return n({type:"SITE_KEYRINGS_SAVE",siteId:e}),r.a.undocumented().createSiteKeyring(e,t).then(function(r){return n({type:"SITE_KEYRINGS_SAVE_SUCCESS",siteId:e,keyring:t}),r}).catch(function(t){return n({type:"SITE_KEYRINGS_SAVE_FAILURE",siteId:e,error:t}),Promise.reject(t)})}}function o(e,t,n){return function(i){return i({type:"SITE_KEYRINGS_UPDATE",siteId:e,keyringId:t,externalUserId:n}),r.a.undocumented().updateSiteKeyring(e,t,n).then(function(r){return i({type:"SITE_KEYRINGS_UPDATE_SUCCESS",siteId:e,keyringId:t,externalUserId:n}),r}).catch(function(r){return i({type:"SITE_KEYRINGS_UPDATE_FAILURE",siteId:e,keyringId:t,externalUserId:n,error:r}),Promise.reject(r)})}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return function(i){return i({type:"SITE_KEYRINGS_DELETE",siteId:e,keyringId:t,externalUserId:n}),r.a.undocumented().deleteSiteKeyring(e,t,n).then(function(r){return i({type:"SITE_KEYRINGS_DELETE_SUCCESS",siteId:e,keyringId:t,externalUserId:n}),r}).catch(function(r){return i({type:"SITE_KEYRINGS_DELETE_FAILURE",error:r,siteId:e,keyringId:t,externalUserId:n}),Promise.reject(r)})}}},"./client/state/site-keyrings/selectors.js":function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r=n("./node_modules/lodash/lodash.js");function i(e,t){return Object(r.get)(e.siteKeyrings.requesting,[t],!1)}function s(e,t){return Object(r.get)(e.siteKeyrings.items,[t],[])}function o(e,t,n){return Object(r.filter)(s(e,t),{service:n})}function a(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(r.find)(s(e,t),function(e){return null===i?e.keyring_id===n:e.keyring_id===n&&e.external_user_id===i})}},"./client/state/site-settings/exporter/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={READY:"READY",STARTING:"STARTING",EXPORTING:"EXPORTING",COMPLETE:"COMPLETE",FAILED:"FAILED"}},"./client/state/site-settings/selectors.js":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return c});var r=n("./node_modules/lodash/lodash.js");function i(e,t){return Object(r.get)(e.siteSettings.requesting,[t],!1)}function s(e,t){return Object(r.get)(e.siteSettings.saveRequests,[t,"saving"],!1)}function o(e,t){return Object(r.get)(e.siteSettings.items,[t],null)}function a(e,t){return"success"===function(e,t){return Object(r.get)(e.siteSettings.saveRequests,[t,"status"])}(e,t)}function c(e,t){return Object(r.get)(e.siteSettings.saveRequests,[t,"error"],!1)}},"./client/state/sites/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"g",function(){return f});var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/i18n-calypso/index.js"),s=n.n(i),o=n("./client/lib/wp/browser.js"),a=n("./client/state/sites/constants.js");function c(e){return{type:"SITE_DELETE_RECEIVE",siteId:e}}function u(e){return{type:"SITE_RECEIVE",site:e}}function l(e){return{type:"SITES_RECEIVE",sites:e}}function d(){return function(e){return e({type:"SITES_REQUEST"}),o.a.me().sites({apiVersion:"1.2",site_visibility:"all",include_domain_only:!0,site_activity:"active",fields:a.a,options:a.b}).then(function(t){e(l(t.sites)),e({type:"SITES_REQUEST_SUCCESS"})}).catch(function(t){e({type:"SITES_REQUEST_FAILURE",error:t})})}}function p(e){return function(t){return t({type:"SITE_REQUEST",siteId:e}),o.a.site(e).get().then(function(n){if(!n||!n.capabilities)return t({type:"SITE_REQUEST_FAILURE",siteId:e,error:s.a.translate("No access to manage the site")});t(u(Object(r.omit)(n,"_headers"))),t({type:"SITE_REQUEST_SUCCESS",siteId:e})}).catch(function(n){t({type:"SITE_REQUEST_FAILURE",siteId:e,error:n})})}}function m(e){return function(t){return t({type:"SITE_DELETE",siteId:e}),o.a.undocumented().deleteSite(e).then(function(){t(c(e)),t({type:"SITE_DELETE_SUCCESS",siteId:e})}).catch(function(n){t({type:"SITE_DELETE_FAILURE",siteId:e,error:n})})}}var f=function(e){return{type:"SITE_PLUGIN_UPDATED",siteId:e}}},"./client/state/sites/blog-stickers/actions.js":function(e,t,n){"use strict";function r(e,t){return{type:"SITES_BLOG_STICKER_ADD",payload:{blogId:e,stickerName:t}}}function i(e,t){return{type:"SITES_BLOG_STICKER_REMOVE",payload:{blogId:e,stickerName:t}}}function s(e){return{type:"SITES_BLOG_STICKER_LIST",payload:{blogId:e}}}function o(e,t){return{type:"SITES_BLOG_STICKER_LIST_RECEIVE",payload:{blogId:e,stickers:t}}}n.d(t,"a",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o})},"./client/state/sites/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=["ID","URL","capabilities","icon","is_multisite","is_private","is_vip","jetpack","jetpack_modules","name","options","plan","single_user_site","visible","lang"].join(),i=["admin_url","advanced_seo_front_page_description","advanced_seo_title_formats","allowed_file_types","created_at","default_comment_status","default_likes_enabled","default_ping_status","default_post_format","default_sharing_status","design_type","frame_nonce","gmt_offset","has_pending_automated_transfer","is_automated_transfer","is_domain_only","is_mapped_domain","is_redirect","is_wpcom_store","jetpack_version","main_network_site","permalink_structure","page_on_front","page_for_posts","podcasting_archive","podcasting_category_id","publicize_permanently_disabled","show_on_front","signup_is_store","site_goals","software_version","upgraded_filetypes_enabled","unmapped_url","verification_services_codes","videopress_enabled","woocommerce_is_active","wordads"].join()},"./client/state/sites/domains/actions.js":function(e,t,n){"use strict";var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/i18n-calypso/index.js"),a=n("./client/lib/domains/utils.js");var c=function(e){return{autoRenewalDate:String(e.auto_renewal_date),adminEmail:e.admin_email,autoRenewing:Boolean(e.auto_renewing),blogId:Number(e.blog_id),canSetAsPrimary:Boolean(e.can_set_as_primary),currentUserCanManage:Boolean(e.current_user_can_manage),domain:String(e.domain),domainLockingAvailable:Boolean(e.domain_locking_available),expired:Boolean(e.expired),expiry:e.expiry?String(e.expiry):null,expirySoon:Boolean(e.expiry_soon),gdprConsentStatus:Object(a.c)(e),googleAppsSubscription:function(e){if(e)return Object(s.mapKeys)(e,function(e,t){return Object(s.camelCase)(t)})}(e.google_apps_subscription),hasPrivacyProtection:Boolean(e.has_private_registration),hasRegistration:Boolean(e.has_registration),hasWpcomNameservers:e.has_wpcom_nameservers,hasZone:Boolean(e.has_zone),isAutoRenewing:Boolean(e.auto_renewing),isPendingIcannVerification:Boolean(e.is_pending_icann_verification),isPrimary:Boolean(e.primary_domain),isPendingWhoisUpdate:Boolean(e.pending_whois_update),isPrivate:Boolean(e.private_domain),isWPCOMDomain:Boolean(e.wpcom_domain),manualTransferRequired:Boolean(e.manual_transfer_required),newRegistration:Boolean(e.new_registration),name:String(e.domain),owner:String(e.owner),partnerDomain:Boolean(e.partner_domain),pendingRegistration:Boolean(e.pending_registration),pendingRegistrationTime:String(e.pending_registration_time),pendingTransfer:e.pending_transfer,pointsToWpcom:Boolean(e.points_to_wpcom),privateDomain:e.private_domain,privacyAvailable:Boolean(e.privacy_available),registrar:String(e.registrar),registrationDate:String(e.registration_date),subscriptionId:e.subscription_id,supportsDomainConnect:Boolean(e.supports_domain_connect),tldMaintenanceEndTime:e.tld_maintenance_end_time,transferLockOnWhoisUpdateOptional:Boolean(e.transfer_lock_on_whois_update_optional),type:Object(a.b)(e),transferStatus:Object(a.d)(e),transferStartDate:e.transfer_start_date?String(e.transfer_start_date):null,whoisUpdateUnmodifiableFields:e.whois_update_unmodifiable_fields}},u=n("./client/lib/wp/browser.js");n.d(t,"a",function(){return E});var l=i()("calypso:state:sites:domains:actions"),d=u.a.undocumented(),p=function(e,t){var n={type:"SITE_DOMAINS_RECEIVE",siteId:e,domains:Object(s.map)(t,c)};return l("returning action: %o",n),n},m=function(e){var t={type:"SITE_DOMAINS_REQUEST",siteId:e};return l("returning action: %o",t),t},f=function(e){var t={type:"SITE_DOMAINS_REQUEST_SUCCESS",siteId:e};return l("returning action: %o",t),t},_=function(e,t){var n={type:"SITE_DOMAINS_REQUEST_FAILURE",siteId:e,error:t};return l("returning action: %o",n),n};function E(e){return function(t){return t(m(e)),d.site(e).domains().then(function(n){var r=n.domains,i=void 0===r?[]:r;t(f(e)),t(p(e,i))}).catch(function(n){var r=n instanceof Error?n.message:Object(o.translate)("There was a problem fetching site domains. Please try again later or contact support.");t(_(e,r))})}}},"./client/state/sites/domains/selectors.js":function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(s),a=n("./node_modules/i18n-calypso/index.js"),c=n("./client/lib/tree-select/index.js"),u=Object.freeze([]),l=function(e,t){return t&&e.sites.domains.items[t]||u},d=function(e,t){return e.sites.domains.requesting[t]||!1},p=Object(c.a)(function(e,t){return[l(e,t)]},function(e){var t=o()(e,1),n=t[0];return n?n.map(function(e){return i()({},e,{autoRenewalMoment:e.autoRenewalDate?Object(a.moment)(e.autoRenewalDate):null,registrationMoment:e.registrationDate?Object(a.moment)(e.registrationDate):null,expirationMoment:e.expiry?Object(a.moment)(e.expiry):null,transferEndDateMoment:e.transferStartDate?Object(a.moment)(e.transferStartDate).add(7,"days"):null})}):null})},"./client/state/sites/plans/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return f});var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/i18n-calypso/index.js"),a=n.n(o),c=n("./client/state/sites/plans/assembler.js"),u=n("./client/lib/wp/browser.js"),l=i()("calypso:site-plans:actions");function d(e){return{type:"SITE_PLANS_REMOVE",siteId:e}}function p(e){return function(t){return t({type:"SITE_PLANS_FETCH",siteId:e}),new Promise(function(n){u.a.undocumented().getSitePlans(e,function(r,i){if(r){l("Fetching site plans failed: ",r);var o=r.message||a.a.translate("There was a problem fetching site plans. Please try again later or contact support.");t({type:"SITE_PLANS_FETCH_FAILED",siteId:e,error:o})}else t(function(e,t){return{type:"SITE_PLANS_FETCH_COMPLETED",siteId:e,plans:Object(s.map)(t,c.a)}}(e,i));n()})})}}function m(e){return function(t){t(d(e)),t(p(e))}}var f=function(e,t){return{type:"SITE_PLAN_OWNERSHIP_TRANSFER",newOwnerUserId:t,siteId:e}}},"./client/state/sites/plans/assembler.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/moment/moment.js"),i=n.n(r),s=function(e){return e?{autoRenew:Boolean(e.auto_renew),autoRenewDateMoment:e.auto_renew_date?i()(e.auto_renew_date).startOf("day"):null,canStartTrial:Boolean(e.can_start_trial),currentPlan:Boolean(e.current_plan),currencyCode:e.currency_code,discountReason:e.discount_reason,expiry:e.expiry,expiryMoment:e.expiry?i()(e.expiry).startOf("day"):null,formattedDiscount:e.formatted_discount,formattedOriginalPrice:e.formatted_original_price,formattedPrice:e.formatted_price,freeTrial:Boolean(e.free_trial),hasDomainCredit:Boolean(e.has_domain_credit),id:Number(e.id),interval:Number(e.interval),isDomainUpgrade:Boolean(e.is_domain_upgrade),productName:e.product_name,productSlug:e.product_slug,rawDiscount:e.raw_discount,rawPrice:e.raw_price,subscribedDate:e.subscribed_date,subscribedDayMoment:i()(e.subscribed_date).startOf("day"),userFacingExpiry:e.user_facing_expiry,userFacingExpiryMoment:e.user_facing_expiry?i()(e.user_facing_expiry).startOf("day"):null,userIsOwner:Boolean(e.user_is_owner)}:{}}},"./client/state/sites/plans/reducer.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o={data:null,error:null,hasLoadedFromServer:!1,isRequesting:!1};function a(e,t,n){return Object.assign({},e,i()({},t,Object.assign({},o,e[t],n)))}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_PLANS_FETCH":return a(e,t.siteId,{error:null,isRequesting:!0});case"SITE_PLANS_FETCH_COMPLETED":return a(e,t.siteId,{error:null,hasLoadedFromServer:!0,isRequesting:!1,data:t.plans});case"SITE_PLANS_FETCH_FAILED":return a(e,t.siteId,{error:t.error,isRequesting:!1});case"SITE_PLANS_REMOVE":return Object(s.omit)(e,t.siteId);case"SITE_PLANS_TRIAL_CANCEL":return a(e,t.siteId,{isRequesting:!0});case"SITE_PLANS_TRIAL_CANCEL_COMPLETED":return a(e,t.siteId,{error:null,hasLoadedFromServer:!0,isRequesting:!1,data:t.plans});case"SITE_PLANS_TRIAL_CANCEL_FAILED":return a(e,t.siteId,{error:t.error,isRequesting:!1})}return e}},"./client/state/sites/plans/selectors.js":function(e,t,n){"use strict";n.d(t,"d",function(){return _}),n.d(t,"e",function(){return E}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return O}),n.d(t,"f",function(){return y}),n.d(t,"c",function(){return j}),n.d(t,"h",function(){return v}),n.d(t,"l",function(){return S}),n.d(t,"j",function(){return I}),n.d(t,"k",function(){return T}),n.d(t,"g",function(){return C}),n.d(t,"i",function(){return R});var r=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/debug/src/browser.js"),s=n.n(i),o=n("./node_modules/moment/moment.js"),a=n.n(o),c=n("./client/state/sites/plans/reducer.js"),u=n("./client/state/sites/selectors.js"),l=n("./client/state/sites/plans/assembler.js"),d=n("./client/lib/create-selector/index.js"),p=n("./client/lib/plans/index.js"),m=n("./client/lib/plans/constants.js"),f=s()("calypso:state:sites:plans:selectors");function _(e,t){return t?E(e,t.ID):c.a}function E(e,t){return t&&e.sites.plans[t]||c.a}var b=function(e,t){var n=E(e,t);if(n.data){var i=Object(r.find)(n.data,"currentPlan");if(i)return f("current plan: %o",i),i;var s=Object(u.l)(e,t),o=Object(l.a)(s.plan);return f("current plan: %o",o),o}return null},g=Object(d.a)(function(e,t,n){var r=E(e,t);return r&&r.data?r.data.filter(function(e){return e.productSlug===n}).shift():null},function(e,t){return E(e,t)});function h(e,t,n){var i=g(e,t,n);return i?Object(r.get)(i,"rawDiscount",-1)>0:null}function O(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.isMonthly,o=void 0!==s&&s,a=g(e,t,n);if(Object(r.get)(a,"rawPrice",-1)<0||!h(e,t,n))return null;var c=a.rawPrice;return o?Object(p.b)(n,c):c}function y(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.isMonthly,o=void 0!==s&&s,a=g(e,t,n);if(Object(r.get)(a,"rawPrice",-1)<0)return null;var c=a.rawPrice+Object(r.get)(a,"rawDiscount",0);return o?Object(p.b)(n,c):c}function j(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.isMonthly,s=void 0!==i&&i,o=g(e,t,n);return h(e,t,n)?s?Object(p.b)(n,o.rawDiscount):o.rawDiscount:null}function v(e,t){if(!t)return c.a;var n=b(e,t);return Object(r.get)(n,"hasDomainCredit",null)}function S(e,t){var n=E(e,t);return n.isRequesting}function I(e,t){var n=b(e,t),i=Object(r.get)(n,"userFacingExpiryMoment",null);return i<a()().add(30,"days")}function T(e,t){var n=b(e,t);return Object(r.get)(n,"userIsOwner",!1)}function C(e,t){return Object(r.get)(b(e,t),"productSlug",null)}function R(e,t,n){return function(e,t){return Object(r.includes)(Object(r.get)(m.F[e],"getFeatures",function(){return[]})(),t)}(C(e,t),n)}},"./client/state/sites/selectors.js":function(e,t,n){"use strict";n.d(t,"w",function(){return N}),n.d(t,"n",function(){return w}),n.d(t,"l",function(){return U}),n.d(t,"R",function(){return L}),n.d(t,"K",function(){return M}),n.d(t,"J",function(){return x}),n.d(t,"I",function(){return F}),n.d(t,"p",function(){return V}),n.d(t,"y",function(){return G}),n.d(t,"z",function(){return q}),n.d(t,"S",function(){return H}),n.d(t,"c",function(){return W}),n.d(t,"e",function(){return B}),n.d(t,"d",function(){return Q}),n.d(t,"b",function(){return z}),n.d(t,"s",function(){return Y}),n.d(t,"Q",function(){return K}),n.d(t,"P",function(){return J}),n.d(t,"k",function(){return Z}),n.d(t,"a",function(){return X}),n.d(t,"j",function(){return ee}),n.d(t,"o",function(){return te}),n.d(t,"x",function(){return ne}),n.d(t,"t",function(){return re}),n.d(t,"u",function(){return ie}),n.d(t,"G",function(){return se}),n.d(t,"H",function(){return oe}),n.d(t,"q",function(){return ae}),n.d(t,"v",function(){return ce}),n.d(t,"r",function(){return ue}),n.d(t,"F",function(){return le}),n.d(t,"f",function(){return de}),n.d(t,"g",function(){return pe}),n.d(t,"D",function(){return fe}),n.d(t,"E",function(){return _e}),n.d(t,"M",function(){return Ee}),n.d(t,"L",function(){return be}),n.d(t,"N",function(){return ge}),n.d(t,"i",function(){return he}),n.d(t,"T",function(){return Oe}),n.d(t,"m",function(){return ye}),n.d(t,"h",function(){return je}),n.d(t,"C",function(){return ve}),n.d(t,"X",function(){return Se}),n.d(t,"W",function(){return Ie}),n.d(t,"U",function(){return Te}),n.d(t,"V",function(){return Ce}),n.d(t,"O",function(){return Re}),n.d(t,"B",function(){return Ae}),n.d(t,"A",function(){return Ne});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=n("./node_modules/i18n-calypso/index.js"),u=n.n(c),l=n("./node_modules/moment/moment.js"),d=n.n(l),p=n("./client/config/index.js"),m=n("./client/lib/url/index.js"),f=n("./client/lib/create-selector/index.js"),_=n("./client/components/seo/meta-title-editor/mappings.js"),E=n("./client/lib/version-compare/index.js"),b=n("./client/my-sites/customize/panels.js"),g=n("./client/state/selectors/get-site-options.js"),h=n("./client/state/selectors/get-sites-items.js"),O=n("./client/state/selectors/is-site-upgradeable.js"),y=n("./client/state/selectors/get-raw-site.js"),j=n("./client/state/selectors/can-current-user.js"),v=n("./client/state/automated-transfer/constants.js"),S=n("./client/state/selectors/is-site-automated-transfer.js"),I=n("./client/state/selectors/has-site-pending-automated-transfer.js"),T=n("./client/state/automated-transfer/selectors.js"),C=n("./client/state/ui/selectors.js"),R=n("./client/lib/plans/constants.js"),A=n("./client/state/sites/plans/selectors.js"),N=Object(f.a)(function(e,t){var n=Object(y.a)(e,t);return n?Y(e,t,"is_redirect")||k(e,t)?Object(m.m)(Y(e,t,"unmapped_url")):Object(m.l)(n.URL):null},[h.a]),w=Object(f.a)(function(e,t){return Object(a.find)(Object(h.a)(e),function(n){return N(e,n.ID)===t})||null},h.a),P=new WeakMap;function U(e,t){var n=Object(y.a)(e,t)||w(e,t);if(!n)return null;var r=P.get(n);if(r)return r;var i=o()({},n,function(e,t){var n=Object(y.a)(e,t);if(!n)return null;var r={domain:V(e,t),hasConflict:k(e,t),is_customizable:!!Object(j.a)(e,t,"edit_theme_options"),is_previewable:!!H(e,t),options:Object(g.a)(e,t),slug:N(e,t),title:G(e,t)};Y(e,t,"is_mapped_domain")&&!M(e,t)&&(r.wpcom_url=Object(m.m)(Y(e,t,"unmapped_url")));r.hasConflict&&(r.URL=Y(e,t,"unmapped_url"));return r}(e,n.ID),function(e,t){if(!M(e,t))return{};return{hasMinimumJetpackVersion:Oe(e,t),canAutoupdateFiles:me(e,t),canUpdateFiles:pe(e,t),canManage:de(e,t),isMainNetworkSite:be(e,t),isSecondaryNetworkSite:ge(e,t),isSiteUpgradeable:Object(O.a)(e,t)}}(e,n.ID));return P.set(n,i),i}U.clearCache=function(){P=new WeakMap};var D=Object(f.a)(function(e){return Object(a.map)(Object(a.filter)(Object(h.a)(e),function(t){var n=Object(m.m)(t.URL);return!t.jetpack&&Object(a.some)(Object(h.a)(e),function(e){return e.jetpack&&n===Object(m.m)(e.URL)})}),"ID")},h.a);function k(e,t){return Object(a.includes)(D(e),t)}function L(e,t){return Object(a.get)(U(e,t),"single_user_site",null)}function M(e,t){var n=Object(y.a)(e,t);return n?n.jetpack:null}function x(e,t,n){var r=Y(e,t,"active_modules");return r?Object(a.includes)(r,n):null}function F(e,t,n){var r=M(e,t);if(!r)return null;var i=Y(e,t,"jetpack_version");return i?Object(E.a)(i,n,">="):null}function V(e,t){if(Y(e,t,"is_redirect")||k(e,t))return N(e,t);var n=Object(y.a)(e,t);return n?Object(m.m)(n.URL):null}function G(e,t){var n=Object(y.a)(e,t);return n?n.name?n.name.trim():V(e,t):null}function q(e,t){if(Y(e,t,"is_redirect")||k(e,t))return N(e,t);var n=Object(y.a)(e,t);return n?n.URL:null}function H(e,t){if(!p.a.isEnabled("preview-layout"))return!1;var n=Object(y.a)(e,t);if(!n)return null;if(n.is_vip)return!1;var r=Y(e,t,"unmapped_url");return!!r&&Object(m.f)(r)}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=Object(C.e)(e));var n=Object(j.a)(e,t,"manage_options");if(!n)return!1;var r=se(e,t);return!r||Object(A.k)(e,t)}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=Object(C.e)(e));var n=Object(j.a)(e,t,"manage_options"),r=!!Object(S.a)(e,t),i=Object(I.a)(e,t),s=Object(T.b)(e,t),o=i&&s!==v.b.ERROR;return n&&r||p.a.isEnabled("signup/atomic-store-flow")&&o}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=Object(C.e)(e));var n=U(e,t),r=Object(j.a)(e,t,"manage_options");return n&&n.options.wordads&&r}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=Object(C.e)(e));var n=U(e,t);return n&&Object(A.i)(e,t,R.C)}function Y(e,t,n){return Object(a.get)(Object(g.a)(e,t),n,null)}function K(e){return!!e.sites.requestingAll}function J(e,t){return!!e.sites.requesting[t]}var Z=Object(a.flowRight)(_.a,Object(a.partialRight)(a.get,"options.advanced_seo_title_formats",{})),$=Object(a.flowRight)(Z,y.a),X=function(e,t,n){var r=n.site,i=n.post,s=void 0===i?{}:i,o=n.tag,c=void 0===o?"":o,u=n.date,l=void 0===u?"":u,d=function(t,n){return Object(a.get)(e,t,[]).reduce(function(e,t){return e+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"string"===e.type?e.value:Object(a.get)(t,e.type,"")}(t,n)},"")};switch(t){case"frontPage":return d("frontPage",{siteName:r.name,tagline:r.description})||r.name;case"posts":return d("posts",{siteName:r.name,tagline:r.description,postTitle:Object(a.get)(s,"title","")})||Object(a.get)(s,"title","");case"pages":return d("pages",{siteName:r.name,tagline:r.description,pageTitle:Object(a.get)(s,"title","")});case"groups":return d("groups",{siteName:r.name,tagline:r.description,groupTitle:c});case"archives":return d("archives",{siteName:r.name,tagline:r.description,date:l});default:return s.title||r.name}},ee=function(e,t,n){if(!Object(a.has)(n,"site.ID"))return"";var r=$(e,n.site.ID);return X(r,t,n)};function te(e,t){var n=Object(m.l)(t);return w(e,n)}function ne(e,t){var n=Object(y.a)(e,t);if(!n||n.jetpack)return null;var r=Object(a.split)(Y(e,t,"theme_slug"),"/",2),s=i()(r,2),o=s[0],c=s[1];if(!Object(a.includes)(["pub","premium"],o))return null;var u=N(e,t);return"premium"===o?"/theme/"+c+"/setup/"+u:"/theme/"+c+"/"+u}function re(e,t){var n=Object(y.a)(e,t);return n?Object(a.get)(n.plan,"expired",!1)?n.jetpack?{product_id:2002,product_slug:"jetpack_free",product_name_short:"Free",free_trial:!1,expired:!1}:{product_id:1,product_slug:"free_plan",product_name_short:"Free",free_trial:!1,expired:!1}:n.plan:null}function ie(e,t){return Object(a.get)(re(e,t),"product_slug")}function se(e,t){var n=re(e,t);return n?1!==n.product_id&&2002!==n.product_id:null}function oe(e,t,n){if(void 0===n)return null;var r=re(e,t);return r?r.product_id===n:null}function ae(e,t){return Y(e,t,"page_on_front")}function ce(e,t){return Y(e,t,"page_for_posts")}function ue(e,t){return Y(e,t,"show_on_front")}function le(e,t){return!!ae(e,t)}function de(e,t){var n=Y(e,t,"jetpack_version");if(!n)return null;if(Object(E.a)(n,"3.4",">=")){var r=x(e,t,"manage");return null===r||r}return!0}function pe(e,t){if(!M(e,t))return null;if(!Oe(e,t))return!1;var n=Y(e,t,"is_multi_network");if(n)return!1;if(ge(e,t))return!1;var r=Y(e,t,"file_mod_disabled");return!r||!Object(a.includes)(r,"disallow_file_mods")&&!Object(a.includes)(r,"has_no_file_system_write_access")}function me(e,t){if(!M(e,t))return null;if(!pe(e,t))return!1;var n=Y(e,t,"file_mod_disabled");return!n||!Object(a.includes)(n,"automatic_updater_disabled")}function fe(e,t){if(!M(e,t))return null;var n=Y(e,t,"jetpack_version");return Object(E.a)(n,"3.7-beta")>=0}function _e(e,t){if(!M(e,t))return null;var n=Y(e,t,"jetpack_version");return Object(E.a)(n,"4.7")>=0}function Ee(e,t){var n=Object(y.a)(e,t);return n&&M(e,t)?!0===n.is_multisite:null}function be(e,t){var n=Object(y.a)(e,t);if(!n||!M(e,t))return null;if(!n.is_multisite)return!1;var r=Y(e,t,"unmapped_url"),i=Y(e,t,"main_network_site");return!(!r||!i)&&Object(m.m)(r)===Object(m.m)(i)}function ge(e,t){var n=Object(y.a)(e,t);if(!n||!M(e,t))return null;if(!n.is_multisite)return!1;var r=Y(e,t,"unmapped_url"),i=Y(e,t,"main_network_site");return!(!r||!i)&&Object(m.m)(r)!==Object(m.m)(i)}function he(e,t){if(!M(e,t))return null;var n=Y(e,t,"jetpack_version"),r=Y(e,t,"admin_url"),i=Object(E.a)(n,"3.4",">=")?"manage":"json-api";return r+"admin.php?page=jetpack&configure="+i}function Oe(e,t){if(!M(e,t))return null;var n=Y(e,t,"jetpack_version");if(!n)return null;var r=Object(p.a)("jetpack_min_version");return Object(E.a)(n,r)>=0}function ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=Y(e,t,"admin_url");return r?r+n.replace(/^\//,""):null}function je(e,t,n){if(!M(e,t)){var r=N(e,t);return[""].concat(Object(a.compact)(["customize",n,r])).join("/")}var i,s=ye(e,t,"customize.php");return s?("undefined"!=typeof window&&(i=window.location.href),Object(m.a)(o()({return:i},Object(b.a)(n)),s)):null}var ve=function(e,t){var n=Object(y.a)(e,t);if(!n)return null;var r=N(e,t);return n.name===u.a.translate("Site Title")||Object(a.startsWith)(r,n.name)},Se=function(e,t){return F(e,t,"4.5.0")},Ie=function(e,t){return F(e,t,"5.4-beta3")},Te=function(e,t){return F(e,t,"5.4-beta3")},Ce=function(e,t){return F(e,t,"5.6-beta2")};function Re(e,t){var n=Y(e,t,"created_at");return!!n&&d()().diff(n,"minutes")<30}function Ae(e){return!!e.sites.hasAllSitesList}function Ne(e,t){return Object(a.get)(Object(y.a)(e,t),"updates",null)}},"./client/state/stats/lists/selectors.js":function(e,t,n){"use strict";n.d(t,"f",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return _}),n.d(t,"a",function(){return E});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/i18n-calypso/index.js"),a=n.n(o),c=n("./client/lib/tree-select/index.js"),u=n("./client/state/stats/lists/utils.js"),l=n("./client/state/sites/selectors.js");function d(e,t,n,r){var i=Object(u.c)(r);return!!Object(s.get)(e.stats.lists.requests,[t,n,i,"requesting"])}function p(e,t,n,r){var i=Object(u.c)(r);return"error"===Object(s.get)(e.stats.lists.requests,[t,n,i,"status"])}function m(e,t,n,r){var i=Object(u.c)(r);return Object(s.get)(e.stats.lists.items,[t,n,i],null)}var f=Object(c.a)(function(e,t,n){return[m(e,t,"statsStreak",n)]},function(e,t,n){var r=i()(e,1),o=r[0],c=n.gmtOffset||0,u={};return o&&o.data&&!Object(s.isArray)(o.data)&&Object.keys(o.data).forEach(function(e){var t=a.a.moment.unix(e).locale("en"),n=t.utcOffset(c).format("YYYY-MM-DD");void 0===u[n]&&(u[n]=0),u[n]+=o.data[e]}),u},{getCacheKey:function(e,t){return[e,Object(u.c)(t)].join()}}),_=Object(c.a)(function(e,t,n,r){return[m(e,t,n,r),Object(l.l)(e,t)]},function(e,t,n,r){var s=i()(e,2),o=s[0],a=s[1],c=u.e[n];return"function"!=typeof c?o:c(o,r,t,a)},{getCacheKey:function(e,t,n){return[e,t,Object(u.c)(n)].join()}});function E(e,t,n,r){var i=_(e,t,n,r);return i&&Object(s.isArray)(i)?Object(s.flatten)(Object(s.map)(i,function(e){return Object(u.a)(e)})):[]}},"./client/state/stats/lists/utils.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),c=n.n(a),u=n("./node_modules/lodash/lodash.js"),l=n("./node_modules/i18n-calypso/index.js"),d={twitter:{label:"Twitter",icon:"https://secure.gravatar.com/blavatar/7905d1c4e12c54933a44d19fcd5f9356?s=48"},facebook:{label:"Facebook",icon:"https://secure.gravatar.com/blavatar/2343ec78a04c6ea9d80806345d31fd78?s=48"},tumblr:{label:"Tumblr",icon:"https://secure.gravatar.com/blavatar/84314f01e87cb656ba5f382d22d85134?s=48"},google_plus:{label:"Google+",icon:"https://secure.gravatar.com/blavatar/4a4788c1dfc396b1f86355b274cc26b3?s=48"},linkedin:{label:"LinkedIn",icon:"https://secure.gravatar.com/blavatar/f54db463750940e0e7f7630fe327845e?s=48"},path:{label:"Path",icon:"https://secure.gravatar.com/blavatar/3a03c8ce5bf1271fb3760bb6e79b02c1?s=48"}};function p(e,t){var n=t.toString();switch(e){case"week":return 8===n.length&&"-W"===n.substr(4,2)?"YYYY-[W]WW":"YYYY-MM-DD";case"month":return 7===n.length&&"-"===n.substr(4,1)?"YYYY-MM":"YYYY-MM-DD";case"year":return 4===n.length?"YYYY":"YYYY-MM-DD";case"day":default:return"YYYY-MM-DD"}}function m(e,t){var n=p(e,t),r=Object(l.moment)(t,n).locale("en"),i=r.clone().startOf(e),s=r.clone().endOf(e);return"week"===e&&("0"===r.format("d")?(i.subtract(6,"d"),s.subtract(6,"d")):(i.add(1,"d"),s.add(1,"d"))),{startOf:i.format("YYYY-MM-DD"),endOf:s.format("YYYY-MM-DD")}}function f(e){if(!e||!e.date||!e.unit&&!e.period)return!0;var t=m(e.period||e.unit,e.date),n=Object(l.moment)();return n>=Object(l.moment)(t.startOf)&&n<Object(l.moment)(t.endOf).add(1,"day")}function _(e){if(!e)return null;var t=e.split("?"),n=c()(t,1),r=n[0];return r+"?d=mm"}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||!e.label||!e.value)return[];var n=t?t+" > "+e.label:e.label,r=n.replace(/\"/,'""'),i=[['"'+r+'"',e.value]];if(e.children){var s=Object(u.map)(e.children,function(e){return E(e,n)});i=Object(u.concat)(i,Object(u.flatten)(s))}return i}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.stringify(Object(u.sortBy)(Object(u.toPairs)(e),function(e){return e[0]}))}function g(e,t,n){var r=l.moment.isMoment(t)&&t.isValid(),i=l.moment.isMoment(n)&&n.isValid();if(r&&i&&e){var s,a=t.toDate().getDay(),c="day"===e&&(6===a||0===a),u="label"+(e.charAt(0).toUpperCase()+e.slice(1)),d={day:Object(l.translate)("MMM D",{context:"momentjs format string (day)",comment:"This specifies a day for the stats x-axis label."}),week:Object(l.translate)("MMM D",{context:"momentjs format string (week)",comment:"This specifies a week for the stats x-axis label."}),month:"MMM",year:"YYYY"};return s={},o()(s,u,n.format(d[e])),o()(s,"classNames",c?["is-weekend"]:[]),s}return{}}function h(e,t){switch(e){case"week":var n=t.split("-W");return Object(l.moment)().isoWeekYear(n[0]).isoWeek(n[1]).endOf("isoWeek");case"month":return Object(l.moment)(t,"YYYY-MM").endOf("month");case"year":return Object(l.moment)(t,"YYYY").endOf("year");case"day":default:return Object(l.moment)(t,"YYYY-MM-DD")}}n.d(t,"b",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"a",function(){return E}),n.d(t,"c",function(){return b}),n.d(t,"e",function(){return O});var O={stats:function(e){return e&&e.stats?Object(u.mapKeys)(e.stats,function(e,t){return Object(u.camelCase)(t)}):null},statsInsights:function(e){if(!e||!Object(u.isNumber)(e.highest_day_of_week))return{};var t=e.highest_hour,n=e.highest_day_percent,r=e.highest_day_of_week,i=e.highest_hour_percent,s=e.hourly_views,o=e.years,a=r+1;return a>6&&(a=0),{day:Object(l.moment)().day(a).format("dddd"),percent:Math.round(n),hour:Object(l.moment)().hour(t).startOf("hour").format("LT"),hourPercent:Math.round(i),hourlyViews:s,years:o}},statsTopPosts:function(e,t,n,r){if(!e||!t.period||!t.date)return[];var i=m(t.period,t.date),s=i.startOf,o=i.endOf,a=t.summarize?["summary","postviews"]:["days",s,"postviews"],c=Object(u.get)(e,a,[]);return Object(u.map)(c,function(e){var t=r?"/stats/post/"+e.id+"/"+r.slug:null,n=!1;if(e.date){var i=Object(l.moment)(e.date);(i.isAfter(s,"day")||i.isSame(s,"day"))&&(i.isBefore(o,"day")||i.isSame(o,"day"))&&(n=!0)}return{label:e.title,value:e.views,page:t,actions:[{type:"link",data:e.href}],labelIcon:null,children:null,className:n?"published":null}})},statsCountryViews:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!t.period||!t.date)return null;var n=m(t.period,t.date),r=n.startOf,i=Object(u.get)(e,["country-info"],{}),s=t.summarize?["summary","views"]:["days",r,"views"],o=Object(u.filter)(Object(u.get)(e,s,[]),function(e){return i[e.country_code]});return Object(u.map)(o,function(e){var t=i[e.country_code],n="/calypso/images/flags/"+e.country_code.toLowerCase()+".svg";return{label:t.country_full.replace(//,"'"),countryCode:e.country_code,value:e.views,region:t.map_region,backgroundImage:n}})},statsPublicize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.services?e.services.map(function(e){var t=d[e.service],n=t.label,r=t.icon;return{label:n,icon:r,value:e.followers}}):[]},statsVideoPlays:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0);if(!e||!t.period||!t.date)return[];var r=m(t.period,t.date),i=r.startOf,s=Object(u.get)(e,["days",i,"plays"],[]);return s.map(function(e){var r=n?"/stats/"+t.period+"/videodetails/"+n.slug+"?post="+e.post_id:null;return{label:e.title,page:r,value:e.plays,actions:[{type:"link",data:e.url}]}})},statsFollowers:function(e){if(!e)return null;var t=e.total_wpcom,n=e.total_email,r=Object(u.get)(e,["subscribers"],[]),i=r.map(function(e){return{label:e.label,iconClassName:"avatar-user",icon:_(e.avatar),link:e.url,value:{type:"relative-date",value:e.date_subscribed},actions:[{type:"follow",data:!!e.follow_data&&e.follow_data.params}]}});return{total_wpcom:t,total_email:n,subscribers:i}},statsCommentFollowers:function(e){if(!e)return null;var t=e.page||0,n=e.pages||0,r=e.total||0,i=[];return e.posts&&(i=e.posts.map(function(e){return 0===e.id?{label:"All Posts",value:e.followers}:{label:e.title,link:e.url,labelIcon:"external",value:e.followers}})),{page:t,pages:n,total:r,posts:i}},statsComments:function(e,t,n,r){if(!e)return null;var i=r?r.options.admin_url:null,s=[];e.authors&&(s=e.authors.map(function(e){return{label:e.name,value:e.comments,iconClassName:"avatar-user",icon:_(e.gravatar),link:i+"edit-comments.php"+e.link,className:"module-content-list-item-large",actions:[{type:"follow",data:!!e.follow_data&&e.follow_data.params}]}}));var o=[];return e.posts&&(o=e.posts.map(function(e){return{label:e.name,value:e.comments,page:r?"/stats/post/"+e.id+"/"+r.slug:null,actions:[{type:"link",data:e.link}]}})),{authors:s,posts:o}},statsVideo:function(e){if(!e)return null;var t=[];e.data&&(t=e.data.map(function(e){return{period:e[0],value:e[1]}}).slice(Math.max(e.data.length-10,1)));var n=[];return e.pages&&(n=e.pages.map(function(e){return{label:e,link:e}})),{pages:n,data:t}},statsTopAuthors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0);if(!e||!t.period||!t.date)return[];var r=m(t.period,t.date),i=r.startOf,s=Object(u.get)(e,["days",i,"authors"],[]);return s.map(function(e){var t={label:e.name,iconClassName:"avatar-user",icon:_(e.avatar),children:null,value:e.views,className:"module-content-list-item-large"};return e.posts&&e.posts.length>0&&(t.children=e.posts.map(function(e){return{label:e.title,value:e.views,page:n?"/stats/post/"+e.id+"/"+n.slug:null,actions:[{type:"link",data:e.url}],children:null}})),t})},statsTags:function(e){if(!e||!e.tags)return[];var t=function(e){return"category"===e?"folder":e};return e.tags.map(function(e){var n,r=e.tags.length>1,i=e.tags.map(function(e){return{label:e.name,labelIcon:t(e.type),link:r?null:e.link}});return r&&(n=e.tags.map(function(e){return{label:e.name,labelIcon:t(e.type),value:null,children:null,link:e.link}})),{label:i,link:i.length>1?null:i[0].link,value:e.views,children:n}})},statsClicks:function(e,t){if(!e||!t.period||!t.date)return[];var n=m(t.period,t.date),r=n.startOf,i=t.summarize?["summary","clicks"]:["days",r,"clicks"],s=Object(u.get)(e,i,[]);return s.map(function(e){var t=e.children&&e.children.length>0,n={label:e.name,value:e.views,children:null,link:e.url,icon:e.icon,labelIcon:t?null:"external"};return e.children&&(n.children=e.children.map(function(e){return{label:e.name,value:e.views,children:null,link:e.url,labelIcon:"external"}})),n})},statsReferrers:function(e,t,n){if(!e||!t.period||!t.date)return[];var r=m(t.period,t.date),s=r.startOf,o=t.summarize?["summary","groups"]:["days",s,"groups"],a=Object(u.get)(e,o,[]);return a.map(function(e){var t=[];return(e.url&&-1!==e.url.indexOf(e.name)||!e.url&&e.name===e.group&&-1!==e.name.indexOf("."))&&(t=[{type:"spam",data:{siteID:n,domain:e.name}}]),i()({},function e(t){var n;t.children&&t.children.length>0&&(n=t.children.map(e));var r={label:t.name,value:t.views,link:t.url,labelIcon:n?null:"external",children:n};return t.icon&&(r.icon=t.icon),r}(i()({},e,{children:e.results,views:e.total})),{actions:t,actionMenu:t.length})})},statsVisits:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&e.data?e.data.map(function(n){var r=t.reduce(function(e,t){return e[t]=null,e},{});if(n.forEach(function(t,n){"period"===e.fields[n]&&(t=t.replace(/W/g,"-")),r[e.fields[n]]=t}),r.period){var i=Object(l.moment)(r.period,"YYYY-MM-DD").locale("en"),s=Object(l.moment)(r.period,"YYYY-MM-DD");Object.assign(r,g(e.unit,i,s))}return r}):[]}(e,["visits","likes","visitors","comments","posts"])},statsOrders:function(e){return{data:function(e){return e&&e.data?e.data.map(function(t){var n={};if(t.forEach(function(t,r){n[e.fields[r]]=t}),n.period){var r=h(e.unit,n.period).locale("en"),i=h(e.unit,n.period);Object.assign(n,g(e.unit,r,i))}return n.period=h(e.unit,n.period).format("YYYY-MM-DD"),n}):[]}(e),deltas:function(e){return e&&e.deltas&&e.delta_fields&&0!==Object.keys(e.deltas).length?e.deltas.map(function(t){var n=Object.keys(t).filter(function(e){return"period"!==e}),r={period:h(e.unit,t.period).format("YYYY-MM-DD")};return n.forEach(function(n){r[n]=t[n].reduce(function(t,n,r){return t[e.delta_fields[r]]=n,t},{})}),r}):[]}(e)}},statsStoreReferrers:function(e){return function(e){if(!(e&&e.data&&e.fields&&Array.isArray(e.data)))return[];var t=e.fields;return e.data.map(function(n){var r=h(e.unit,n.date).locale("en"),s=h(e.unit,n.date),o=s.format("YYYY-MM-DD");return i()({date:o,data:n.data.map(function(e){var n={};return e.forEach(function(e,r){var i=t[r];n[i]=e}),n})},g(e.unit,r,s))})}(e)},statsTopSellers:function(e){return e&&e.data?e.data:[]},statsTopCategories:function(e){return e&&e.data?e.data:[]},statsTopCoupons:function(e){return e&&e.data?e.data:[]},statsTopEarners:function(e){return e&&e.data?e.data:[]},statsSearchTerms:function(e,t){if(!e||!t.period||!t.date)return[];var n=m(t.period,t.date),r=n.startOf,i=t.summarize?["summary"]:["days",r],s=Object(u.get)(e,i.concat(["search_terms"]),[]),o=Object(u.get)(e,i.concat(["encrypted_search_terms"]),!1),a=s.map(function(e){return{label:e.term,className:"user-selectable",value:e.views}});return o&&a.push({label:Object(l.translate)("Unknown Search Terms"),value:o,link:"http://en.support.wordpress.com/stats/#search-engine-terms",labelIcon:"external"}),a},statsPodcastDownloads:function(e,t,n,r){if(!e||!t.period||!t.date)return[];var i=m(t.period,t.date),s=i.startOf,o=Object(u.get)(e,["days",s,"downloads"],[]);return o.map(function(e){var n=r?"/stats/"+t.period+"/podcastdownloads/"+r.slug+"?post="+e.post_id:null;return{label:e.title,page:n,value:e.downloads,actions:[{type:"link",data:e.url}]}})}}},"./client/state/terms/utils.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i={context:"display",http_envelope:!1,pretty:!1,number:100,offset:0,page:1,order:"DESC",order_by:"name",search:""};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){return Object(r.omitBy)(e,function(e,t){return i[t]===e})}(e);return JSON.stringify(t).toLocaleLowerCase()}function o(e){return s(Object(r.omit)(e,"page"))}n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o})},"./client/state/themes/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={search:"",tier:"",filter:"",number:20,offset:0,page:1}},"./client/state/themes/utils.js":function(e,t,n){"use strict";n.d(t,"l",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"i",function(){return m}),n.d(t,"j",function(){return f}),n.d(t,"k",function(){return _}),n.d(t,"e",function(){return E}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return h}),n.d(t,"d",function(){return O}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return j});var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=n("./client/state/themes/constants.js"),u=/^(?:(\d+):)?(.*)$/,l=["feature"],d="//wordpress.com/themes/";function p(e){var t=Object(a.get)(e,"stylesheet",!1);return t&&Object(a.startsWith)(t,"premium/")}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.tags?o()({},Object(a.omit)(e,"tags"),{taxonomies:{theme_feature:Object(a.map)(e.tags,function(e){return{slug:e}})}}):e}function f(e){var t={description_long:"descriptionLong",support_documentation:"supportDocumentation",download_uri:"download"};return Object(a.mapKeys)(e,function(e,n){return Object(a.get)(t,n,n)})}function _(e){var t={slug:"id",preview_url:"demo_uri",screenshot_url:"screenshot",download_link:"download"},n=Object(a.mapKeys)(Object(a.omit)(e,["sections","author"]),function(e,n){return Object(a.get)(t,n,n)}),r=Object(a.get)(e,["sections","description"]);r&&(n.description=r);var i=Object(a.get)(e,["author","display_name"]);return i&&(n.author=i),n.tags?o()({},Object(a.omit)(n,"tags"),{taxonomies:{theme_feature:Object(a.map)(n.tags,function(e,t){return{name:e,slug:t}})}}):n}function E(e){var t=Object(a.split)(e,"/",2),n=i()(t,2),r=n[1];return r||e}function b(e){return Object(a.omitBy)(e,function(e,t){return c.a[t]===e})}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=b(e),r=JSON.stringify(n);return t?[t,r].join(":"):r}function h(e){var t,n,r=e.match(u);if(r){t=Number(r[1])||void 0;try{n=JSON.parse(r[2])}catch(e){}}return{siteId:t,query:n}}function O(e,t){return g(Object(a.omit)(e,"page"),t)}function y(e){return Object(a.includes)(e.theme_uri,"wordpress.com")}function j(e,t){var n=o()({},c.a,e);return Object(a.every)(n,function(e,n){switch(n){case"search":if(!e)return!0;var r=e.toLowerCase(),i=Object(a.some)(l,function(e){return t.taxonomies&&Object(a.some)(t.taxonomies["theme_"+e],function(e){var t=e.name;return t&&Object(a.includes)(t.toLowerCase(),r)})});return i||t.id&&Object(a.includes)(t.id.toLowerCase(),r)||t.name&&Object(a.includes)(t.name.toLowerCase(),r)||t.author&&Object(a.includes)(t.author.toLowerCase(),r)||t.descriptionLong&&Object(a.includes)(t.descriptionLong.toLowerCase(),r);case"filter":if(!e)return!0;var s=e.split(",");return Object(a.every)(s,function(e){return Object(a.some)(t.taxonomies,function(t){return Object(a.some)(t,{slug:e})})})}return!0})}},"./client/state/timezones/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=function(){return{type:"TIMEZONES_REQUEST"}},o=function(e){return i()({type:"TIMEZONES_RECEIVE"},e)}},"./client/state/ui/action-log/selectors.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return c});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/create-selector/index.js");function s(e){return e.ui.actionLog}var o=Object(i.a)(function(e){return s(e).filter(function(e){return"ROUTE_SET"===e.type})},function(e){return[e.ui.actionLog]}),a=Object(i.a)(function(e){return Object(r.findLast)(s(e),function(e){return"ROUTE_SET"===e.type})},function(e){return[e.ui.actionLog]}),c=Object(i.a)(function(e){return Object(r.last)(e.ui.actionLog)||!1},function(e){return[e.ui.actionLog]})},"./client/state/ui/actions.js":function(e,t,n){"use strict";function r(e){return{type:"SELECTED_SITE_SET",siteId:e}}function i(){return{type:"SELECTED_SITE_SET",siteId:null}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"ROUTE_SET",path:e,query:t}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type="SECTION_SET",e&&(t.section=e),t.hasSidebar=!1!==t.hasSidebar,t}function a(e){return{type:"PREVIEW_IS_SHOWING",isShowing:e}}n.d(t,"g",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"i",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"h",function(){return d});var c=function(){return{type:"NOTIFICATIONS_PANEL_TOGGLE"}},u=function(e){return{type:"NAVIGATE",path:e}},l=function(){return{type:"MASTERBAR_TOGGLE_VISIBILITY",isVisible:!1}},d=function(){return{type:"MASTERBAR_TOGGLE_VISIBILITY",isVisible:!0}}},"./client/state/ui/comments/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("./node_modules/lodash/lodash.js"),i=function(e){var t=e.order,n=void 0===t?"DESC":t,i=e.search,s=e.status,o=void 0===s?"all":s,a=n.toUpperCase(),c=Object(r.includes)(["ASC","DESC"],a)?a:"DESC",u=i?"&s="+i:"";return o+"?order="+c+u}},"./client/state/ui/editor/actions.js":function(e,t,n){"use strict";n.d(t,"n",function(){return h}),n.d(t,"m",function(){return O}),n.d(t,"o",function(){return y}),n.d(t,"j",function(){return j}),n.d(t,"l",function(){return v}),n.d(t,"k",function(){return S}),n.d(t,"b",function(){return I}),n.d(t,"a",function(){return T}),n.d(t,"c",function(){return C}),n.d(t,"g",function(){return R}),n.d(t,"d",function(){return A}),n.d(t,"f",function(){return N}),n.d(t,"i",function(){return w}),n.d(t,"e",function(){return P}),n.d(t,"h",function(){return U});var r,i=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),s=n.n(i),o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(o),c=n("./node_modules/lodash/lodash.js"),u=n("./client/lib/wp/browser.js"),l=n("./client/lib/version-compare/index.js"),d=n("./client/state/ui/media-modal/constants.js"),p=n("./client/state/ui/media-modal/actions.js"),m=n("./client/state/analytics/actions.js"),f=n("./client/state/preferences/actions.js"),_=n("./client/state/preferences/selectors.js"),E=n("./client/state/ui/selectors.js"),b=n("./client/state/posts/actions.js"),g=(r={},a()(r,d.a.LIST,"view_list"),a()(r,d.a.DETAIL,"view_detail"),a()(r,d.a.GALLERY,"view_gallery"),a()(r,d.a.IMAGE_EDITOR,"view_edit"),a()(r,d.a.VIDEO_EDITOR,"view_edit"),r);function h(e,t){return function(n){n(N({isLoading:!0})),n({type:"EDITOR_START",siteId:e,postId:t})}}function O(e,t){return function(n){var r=Object(c.defaults)(t,{status:"draft",type:"post",content:"",title:""});n(N({isLoading:!0})),n({type:"EDITOR_START",siteId:e,postId:null}),n(Object(b.e)(e,null,r)),n(N())}}function y(e,t){return function(n){n(N()),n({type:"EDITOR_STOP",siteId:e,postId:t})}}function j(e){return{type:"EDITOR_PASTE_EVENT",source:e}}function v(e){var t=Object(p.b)(e),n=g[e];return n?Object(m.k)(Object(m.a)("editor_media_actions",n),t):t}function S(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r){var i=Object(_.b)(r(),"editorConfirmationDisabledSites");n(t?Object(f.b)("editorConfirmationDisabledSites",Object(c.filter)(i,function(t){return e!==t})):Object(f.b)("editorConfirmationDisabledSites",s()(i).concat([e]))),n(Object(m.i)(t?"calypso_publish_confirmation_preference_enable":"calypso_publish_confirmation_preference_disable")),n(Object(m.a)("calypso_publish_confirmation",t?"enabled":"disabled"))}}var I=function(){return{type:"EDITOR_AUTOSAVE_RESET"}},T=function(e){return function(t,n){var r=Object(E.d)(n());if(!e.ID||!r||r.jetpack&&Object(l.a)(r.options.jetpack_version,"3.7.0-dev","<"))return Promise.reject(new Error("NO_AUTOSAVE"));t({type:"EDITOR_AUTOSAVE"});var i=u.a.undocumented().site(e.site_ID).postAutosave(e.ID,{content:e.content,title:e.title,excerpt:e.excerpt});return i.then(function(e){return t(function(e){return{type:"EDITOR_AUTOSAVE_SUCCESS",autosave:e}}(e))}).catch(function(e){return t(function(e){return{type:"EDITOR_AUTOSAVE_FAILURE",error:e}}(e))}),i}};function C(e){return{type:"EDITOR_EDIT_RAW_CONTENT",content:e}}function R(){return{type:"EDITOR_RESET_RAW_CONTENT"}}function A(e){return{type:"EDITOR_INIT_RAW_CONTENT",content:e}}function N(e){return{type:"EDITOR_RESET",isLoading:Object(c.get)(e,"isLoading",!1),loadingError:Object(c.get)(e,"loadingError",null)}}function w(e){return N({loadingError:e})}function P(){return{type:"EDITOR_LOADING_ERROR_RESET"}}var U=function(e,t,n){return{type:"EDITOR_SAVE",siteId:e,postId:t,saveMarker:n}}},"./client/state/ui/editor/image-editor/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return o});var r=n("./node_modules/lodash/lodash.js"),i={FREE:"FREE",ORIGINAL:"ORIGINAL",ASPECT_1X1:"ASPECT_1X1",ASPECT_16X9:"ASPECT_16X9",ASPECT_4X3:"ASPECT_4X3",ASPECT_3X2:"ASPECT_3X2"},s={WIDTH:50,HEIGHT:50},o=Object(r.values)(i)},"./client/state/ui/editor/image-editor/reducer.js":function(e,t,n){"use strict";n.d(t,"b",function(){return m});var r,i=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),s=n.n(i),o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(o),c=n("./client/state/utils.js"),u=n("./client/state/ui/editor/image-editor/constants.js"),l={degrees:0,scaleX:1,scaleY:1},d={src:"",fileName:"default",mimeType:"image/png",title:"default"},p={topBound:0,leftBound:0,bottomBound:100,rightBound:100},m={topRatio:0,leftRatio:0,widthRatio:1,heightRatio:1};var f=Object(c.c)(null,(r={},a()(r,"IMAGE_EDITOR_IMAGE_HAS_LOADED",function(e,t){var n=t.width,r=t.height;return{width:n,height:r}}),a()(r,"IMAGE_EDITOR_STATE_RESET_ALL",function(){return null}),r));t.a=Object(c.b)({hasChanges:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_EDITOR_SET_ASPECT_RATIO":case"IMAGE_EDITOR_CROP":case"IMAGE_EDITOR_ROTATE_COUNTERCLOCKWISE":case"IMAGE_EDITOR_FLIP":return!0;case"IMAGE_EDITOR_STATE_RESET":case"IMAGE_EDITOR_STATE_RESET_ALL":return!1;case"IMAGE_EDITOR_SET_DEFAULT_ASPECT_RATIO":case"IMAGE_EDITOR_COMPUTED_CROP":return e}return e},fileInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_EDITOR_SET_FILE_INFO":var n=t.src,r=t.fileName,i=t.mimeType,o=t.title;return s()({},e,{src:n,fileName:r,mimeType:i,title:o});case"IMAGE_EDITOR_STATE_RESET_ALL":return s()({},e,d)}return e},transform:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_EDITOR_ROTATE_COUNTERCLOCKWISE":return Object.assign({},e,{degrees:(e.degrees-90)%360});case"IMAGE_EDITOR_FLIP":return Object.assign({},e,{scaleX:-e.scaleX});case"IMAGE_EDITOR_STATE_RESET":case"IMAGE_EDITOR_STATE_RESET_ALL":return Object.assign({},l)}return e},cropBounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_EDITOR_SET_CROP_BOUNDS":return Object.assign({},e,{topBound:t.topBound,leftBound:t.leftBound,bottomBound:t.bottomBound,rightBound:t.rightBound})}return e},crop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_EDITOR_CROP":case"IMAGE_EDITOR_COMPUTED_CROP":return Object.assign({},e,{topRatio:t.topRatio,leftRatio:t.leftRatio,widthRatio:t.widthRatio,heightRatio:t.heightRatio});case"IMAGE_EDITOR_ROTATE_COUNTERCLOCKWISE":return{topRatio:1-e.widthRatio-e.leftRatio,leftRatio:e.topRatio,widthRatio:e.heightRatio,heightRatio:e.widthRatio};case"IMAGE_EDITOR_FLIP":return Object.assign({},e,{leftRatio:1-e.widthRatio-e.leftRatio});case"IMAGE_EDITOR_STATE_RESET":case"IMAGE_EDITOR_STATE_RESET_ALL":return Object.assign({},m)}return e},aspectRatio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.a.FREE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_EDITOR_SET_ASPECT_RATIO":case"IMAGE_EDITOR_SET_DEFAULT_ASPECT_RATIO":return t.ratio;case"IMAGE_EDITOR_STATE_RESET":case"IMAGE_EDITOR_STATE_RESET_ALL":var n=t.additionalData,r=void 0===n?{}:n,i=r.aspectRatio;return i&&u.a[i]?i:u.a.FREE}return e},originalAspectRatio:f,imageIsLoading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_EDITOR_IMAGE_HAS_LOADED":return!1;case"IMAGE_EDITOR_STATE_RESET_ALL":return!0}return e}})},"./client/state/ui/editor/last-draft/actions.js":function(e,t,n){"use strict";function r(e,t){return{type:"EDITOR_LAST_DRAFT_SET",siteId:e,postId:t}}function i(){return r(null,null)}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i})},"./client/state/ui/editor/selectors.js":function(e,t,n){"use strict";n.d(t,"f",function(){return l}),n.d(t,"m",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return f}),n.d(t,"j",function(){return _}),n.d(t,"n",function(){return E}),n.d(t,"g",function(){return b}),n.d(t,"k",function(){return g}),n.d(t,"l",function(){return h}),n.d(t,"h",function(){return O}),n.d(t,"b",function(){return y}),n.d(t,"i",function(){return j}),n.d(t,"c",function(){return v});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/ui/selectors.js"),s=n("./client/state/sites/selectors.js"),o=n("./client/state/posts/selectors.js"),a=n("./client/state/preferences/selectors.js"),c=n("./client/state/selectors/can-current-user.js"),u=n("./client/state/posts/utils.js");function l(e){return e.ui.editor.postId}function d(e){return!l(e)}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"post",i=m(e,t,r);return i+"?copy="+n}function m(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";switch(r){case"post":n="/post";break;case"page":n="/page";break;default:n="/edit/"+r}var i=Object(s.w)(e,t);return n+=i?"/"+i:"/"+t,n}function f(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"post";if(!t)return"/post";var s=Object(o.a)(e,t,n),a=Object(r.get)(s,"type",i),c=m(e,t,a);return n&&(c+="/"+n),c}function _(e,t){return-1===Object(a.b)(e,"editorConfirmationDisabledSites").indexOf(t)}function E(e,t){var n=e.ui.editor.saveBlockers;return t?Object(r.includes)(n,t):!!n.length}function b(e){var t=Object(i.e)(e),n=l(e),r=Object(s.l)(e,t),a=Object(o.l)(e,t,n);return Object(u.l)(r,a,e.ui.editor.autosavePreviewUrl)}function g(e){return e.ui.editor.isAutosaving}function h(e){return e.ui.editor.isLoading}function O(e){var t=Object(i.e)(e),n=l(e),r=Object(o.l)(e,t,n),s=Object(o.a)(e,t,n),a=Object(c.a)(e,t,"publish_posts");return t&&s?Object(u.z)(r)&&!Object(u.s)(r)&&!Object(u.v)(s)||r&&"future"===r.status&&Object(u.v)(s)?"update":Object(u.v)(s)?"schedule":a?"publish":r&&"pending"===r.status?"update":"requestReview":null}function y(e){return e.ui.editor.rawContent.initial}function j(e){return e.ui.editor.rawContent.current}function v(e){return e.ui.editor.loadingError}},"./client/state/ui/editor/video-editor/actions.js":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o});var r=function(e,t){return{type:"VIDEO_EDITOR_UPDATE_POSTER",videoId:e,params:t}},i=function(e){return{type:"VIDEO_EDITOR_SET_POSTER_URL",posterUrl:e}},s=function(){return{type:"VIDEO_EDITOR_SHOW_ERROR"}},o=function(e){return{type:"VIDEO_EDITOR_SHOW_UPLOAD_PROGRESS",percentage:e}}},"./client/state/ui/first-view/selectors.js":function(e,t,n){"use strict";var r=n("./node_modules/moment/moment.js"),i=n.n(r),s=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/create-selector/index.js"),a=[{name:"stats",paths:["/stats"],enabled:!0,startDate:"2016-07-26"}],c=n("./client/state/ui/action-log/selectors.js"),u=n("./client/state/preferences/selectors.js"),l=n("./client/state/ui/selectors.js"),d=n("./client/state/selectors/get-initial-query-arguments.js"),p=n("./client/state/current-user/selectors.js"),m=n("./client/state/ui/guided-tours/selectors/find-ongoing-tour.js");n.d(t,"b",function(){return _}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return h});var f=Object(s.memoize)(function(e){return Object(s.find)(a,function(t){return Object(s.some)(t.paths,function(t){return Object(s.startsWith)(e,t)})})||!1}),_=Object(o.a)(function(e){var t=Object(s.findLast)(Object(c.a)(e),{type:"ROUTE_SET"});if(!t)return!1;var n=t.path?t.path:"";return f(n)},c.a);function E(e,t){if(!Object(u.e)(e))return!1;var n=Object(s.findLast)(Object(u.b)(e,"firstViewHistory"),{view:t.name}),r=!!n&&!!n.disabled;return!r&&(function(e,t){var n=Object(d.a)(e);return n.firstView===t.name}(e,t)||t.enabled&&function(e,t){var n=Object(p.e)(e);return!t.startDate||!!n&&i.a.utc(n).isAfter(i.a.utc(t.startDate))}(e,t))}function b(e,t){var n=Object(s.takeRightWhile)(Object(c.a)(e),function(t){return"ROUTE_SET"!==t.type||"ROUTE_SET"===t.type&&function(e,t){var n=Object(l.a)(e);return Object(s.some)(n.paths,function(e){return Object(s.startsWith)(t.path,e)})}(e,t)});return Object(s.some)(n,function(e){return"FIRST_VIEW_HIDE"===e.type&&e.view===t.name})}function g(e){var t=_(e);return!Object(m.a)(e)&&t&&E(e,t)&&!b(e,t)&&!Object(l.h)(e)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=Object(s.findLast)(Object(c.a)(e),{type:"ROUTE_SET"});return n?(t-n.timestamp)/1e3:-1}(e,t);return-1===n?"unknown":n<2?"under2":n<5?"2-5":n<10?"5-10":n<20?"10-20":n<60?"20-60":"60plus"}},"./client/state/ui/guided-tours/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l});var r=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=n.n(r),s=n("./client/state/preferences/actions.js"),o=n("./client/state/preferences/selectors.js");function a(e){var t=e.tour,n=e.stepName,r=e.finished,a={type:"GUIDED_TOUR_UPDATE",shouldShow:!1,shouldReallyShow:!1,tour:t,stepName:n,finished:r};return function(e,n){e(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(s.b)("guided-tours-history",i()(Object(o.b)(e(),"guided-tours-history")).concat([{timestamp:Date.now(),tourName:t,finished:n}]))}(n,t,r)),e(a)}}function c(e){var t=e.tour,n=e.stepName;return{type:"GUIDED_TOUR_UPDATE",tour:t,stepName:n}}function u(e){return c({tour:e,stepName:"init"})}function l(){return Object(s.b)("guided-tours-history",[])}},"./client/state/ui/guided-tours/contexts.js":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"j",function(){return _}),n.d(t,"f",function(){return E}),n.d(t,"g",function(){return b}),n.d(t,"i",function(){return g}),n.d(t,"h",function(){return h}),n.d(t,"b",function(){return O}),n.d(t,"c",function(){return y});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/components/tinymce/plugins/wpcom-track-paste/sources.js"),s=n("./client/config/index.js"),o=(n("./client/lib/abtest/index.js"),n("./client/lib/media/store.js")),a=n("./client/state/ui/selectors.js"),c=n("./client/state/ui/action-log/selectors.js"),u=n("./client/state/current-user/selectors.js"),l=(n("./client/state/selectors/can-current-user.js"),n("./client/state/sites/selectors.js"),o.a.getAll),d=6048e5,p=function(e){return function(t){return Object(a.c)(t)===e}},m=function(e){return function(){return s.a.isEnabled(e)}},f=function(e){var t=Object(u.b)(e),n=t&&Date.parse(t.date);return!!n&&Date.now()-n},_=function(e){return function(t){var n=f(t);return!1!==n&&n<=e}},E=function(e){return _(d)(e)},b=function(e){return!E(e)},g=function(e){return Object(r.get)(Object(a.d)(e),"is_previewable",!1)},h=function(e){return Object(a.d)(e)&&Object(a.d)(e).is_customizable},O=function(e){var t=Object(a.e)(e);if(!t)return!1;var n=l(t);return n&&n.length&&n.length>0},y=function(e){var t=Object(c.b)(e)||!1;return t&&"EDITOR_PASTE_EVENT"===t.type&&t.source===i.a}},"./client/state/ui/guided-tours/selectors/find-ongoing-tour.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/ui/action-log/selectors.js");t.a=function(e){var t=Object(r.findLast)(Object(i.a)(e),{type:"GUIDED_TOUR_UPDATE"});return t&&void 0===t.shouldShow&&t.tour}},"./client/state/ui/guided-tours/selectors/index.js":function(e,t,n){"use strict";n.d(t,"b",function(){return O}),n.d(t,"a",function(){return P});var r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),o=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=n("./node_modules/debug/src/browser.js"),u=n.n(c),l=n("./client/state/ui/selectors.js"),d=n("./client/state/selectors/get-current-query-arguments.js"),p=n("./client/state/selectors/get-initial-query-arguments.js"),m=n("./client/state/ui/action-log/selectors.js"),f=n("./client/state/preferences/selectors.js"),_=n("./client/state/ui/first-view/selectors.js"),E=n("./client/layout/guided-tours/config.js"),b=n("./client/lib/create-selector/index.js"),g=n("./client/state/ui/guided-tours/selectors/find-ongoing-tour.js"),h=["signup","upgrades","checkout-thank-you"],O=function(e){return Object(f.b)(e,"guided-tours-history")},y=u()("calypso:guided-tours"),j=Object(a.flatMap)(E.a.meta,function(e,t){return(n=e.path,Array.isArray(n)?n:[n]).map(function(n){return{tour:t,when:e.when,path:n}});var n}),v=Object(b.a)(function(e){return Object(a.uniq)(Object(m.a)(e).filter(function(e){var t=e.type;return"ROUTE_SET"===t}).reduceRight(function(e,t){var n=t.path,r=j.filter(function(e){var t=e.path;return Object(a.startsWith)(n,t)}).map(function(e){return e.tour});return r?o()(e).concat(o()(r)):e},[]))},m.a),S=Object(b.a)(function(e){return Object(a.uniq)(Object(a.map)(O(e),"tourName"))},O),I=Object(b.a)(function(e){var t=Object(p.a)(e),n=Object(d.a)(e),r=["tour","_timestamp"],i=n&&n.tour?Object(a.pick)(n,r):Object(a.pick)(t,r),s=i.tour,o=i._timestamp;if(s&&Object(a.find)(j,{tour:s}))return{tour:s,_timestamp:o}},[p.a,d.a]),T=Object(b.a)(function(e,t){var n=t.tour,r=t._timestamp;return O(e).some(function(e){return e.tourName===n&&e.timestamp>r})},[p.a,O]),C=Object(b.a)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=Object(a.findLast)(Object(m.a)(e),{type:"GUIDED_TOUR_UPDATE",shouldShow:!1});return n&&t-n.timestamp<6e4},m.a),R=function(e){return function(e){return Object(a.includes)(h,Object(l.c)(e))}(e)},A=function(e){return function(e){return C(e)||Object(_.c)(e)}(e)},N=Object(b.a)(function(e){if(!R(e))return Object(g.a)(e)||!A(e)&&(function(e){var t=I(e);if(t&&!T(e,t))return t.tour}(e)||function(e){if(Object(f.e)(e)){var t=Object(a.uniq)(o()(v(e))),n=Object(a.uniq)(o()(S(e))),r=Object(a.difference)(t,n);return Object(a.find)(r,function(t){var n=Object(a.find)(j,{tour:t}),r=n.when,i=void 0===r?Object(a.constant)(!0):r;return i(e)})}y("No fresh user preferences, bailing.")}(e))||void 0},[m.a,O]),w=function(e){return Object(a.get)(e,"ui.guidedTour",!1)},P=Object(b.a)(function(e){var t=w(e),n=N(e),r=!!n;return y("tours: reached",v(e),"seen",S(e),"found",n),n?i()({},t,{tour:n,shouldShow:r}):i()({},t,{shouldShow:!1})},[w,m.a,f.e])},"./client/state/ui/language/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n("./client/lib/i18n-utils/switch-locale.js"),i=n("./node_modules/i18n-calypso/index.js"),s=n.n(i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(r.a)(t||e),{type:"LOCALE_SET",localeSlug:e,localeVariant:t}},a=function(e){s.a.setLocale(e);var t=e[""],n=t.localeSlug,r=t.localeVariant,i=void 0===r?null:r;return{type:"LOCALE_SET",localeSlug:n,localeVariant:i}}},"./client/state/ui/layout-focus/actions.js":function(e,t,n){"use strict";function r(e){return{type:"LAYOUT_FOCUS_SET",area:e}}function i(e){return{type:"LAYOUT_NEXT_FOCUS_SET",area:e}}function s(){return{type:"LAYOUT_NEXT_FOCUS_ACTIVATE"}}n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return s})},"./client/state/ui/layout-focus/selectors.js":function(e,t,n){"use strict";function r(e){return e.ui.layoutFocus.current}n.d(t,"a",function(){return r})},"./client/state/ui/media-modal/actions.js":function(e,t,n){"use strict";function r(e){return{type:"MEDIA_MODAL_VIEW_SET",view:e}}function i(){return r(null)}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i})},"./client/state/ui/media-modal/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={LIST:"LIST",DETAIL:"DETAIL",GALLERY:"GALLERY",IMAGE_EDITOR:"IMAGE_EDITOR",VIDEO_EDITOR:"VIDEO_EDITOR"}},"./client/state/ui/oauth2-clients/selectors.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash/lodash.js");function i(e){return Object(r.get)(e,"ui.oauth2Clients.currentClientId")}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return o});var s=function(e){var t=i(e);return t?function(e,t){return Object(r.get)(e,"oauth2Clients["+t+"]",null)}(e,t):null},o=function(e){return!!i(e)}},"./client/state/ui/preview/actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return o});var r=n("./client/state/ui/layout-focus/actions.js");function i(e){return{type:"PREVIEW_URL_SET",url:e}}function s(e){return{type:"PREVIEW_SITE_SET",siteId:e}}function o(){return function(e){e({type:"PREVIEW_URL_CLEAR"}),e(Object(r.b)("content"))}}},"./client/state/ui/selectors.js":function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"j",function(){return f});var r=n("./node_modules/lodash/lodash.js"),i=n("./client/state/sites/selectors.js");function s(e){var t=o(e);return t?Object(i.l)(e,t):null}function o(e){return e.ui.selectedSiteId}function a(e){var t=o(e);return t?Object(i.w)(e,t):null}function c(e){return e.ui.section||!1}function u(e){return Object(r.get)(c(e),"name",null)}function l(e){return Object(r.get)(c(e),"group",null)}function d(e){return Object(r.includes)(["sites","editor"],l(e))}function p(e){return e.ui.isLoading}function m(e){var t=e.ui.hasSidebar;return!1!==t&&Object(r.get)(c(e),"secondary",!0)}function f(e){return e.ui.masterbarVisibility}},"./client/state/user-devices/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=function(){return{type:"USER_DEVICES_REQUEST"}},i=function(e){return{type:"USER_DEVICES_ADD",devices:e}}},"./client/state/user-settings/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r=n("./node_modules/debug/src/browser.js"),i=n.n(r),s=(n("./node_modules/lodash/lodash.js"),n("./client/state/selectors/get-user-settings.js"),i()("calypso:user:settings"),function(){return{type:"USER_SETTINGS_REQUEST"}}),o=function(e){return{type:"USER_SETTINGS_UPDATE",settingValues:e}},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"USER_SETTINGS_UNSAVED_CLEAR",settingNames:e}}},"./client/state/users/actions.js":function(e,t,n){"use strict";function r(e){return{type:"USER_RECEIVE",user:e}}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var i=function(e,t){return{type:"USERS_REQUEST",ids:t,siteId:e}}},"./client/state/users/selectors.js":function(e,t,n){"use strict";function r(e,t){return e.users.items[t]}n.d(t,"a",function(){return r})},"./client/state/utils.js":function(e,t,n){"use strict";n.d(t,"e",function(){return y}),n.d(t,"d",function(){return j}),n.d(t,"f",function(){return v}),n.d(t,"g",function(){return T}),n.d(t,"c",function(){return R}),n.d(t,"b",function(){return A}),n.d(t,"a",function(){return N});var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=n.n(s),a=n("./node_modules/@babel/runtime/helpers/typeof.js"),c=n.n(a),u=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteralLoose.js"),l=n.n(u),d=n("./node_modules/is-my-json-valid/index.js"),p=n.n(d),m=n("./node_modules/lodash/lodash.js"),f=n("./node_modules/redux/es/redux.js"),_=n("./node_modules/lru/index.js"),E=n.n(_);n("./client/lib/warn/index.js");function b(){var e=l()(["keyedReducer"]);return b=function(){return e},e}function g(){var e=l()([" must be a function but I detected a ",""]);return g=function(){return e},e}function h(){var e=l()(["keyedReducer"]);return h=function(){return e},e}function O(){var e=l()([" must be a string but I detected a ",""]);return O=function(){return e},e}var y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["SERIALIZE","DESERIALIZE"];if("string"!=typeof e)throw new TypeError("Key name passed into "(h())(O(),"undefined"==typeof keyName?"undefined":c()(keyName)));if(!e.length)throw new TypeError("Key name passed into `keyedReducer` must have a non-zero length but I detected an empty string");if("function"!=typeof t)throw new TypeError("Reducer passed into "(b())(g(),c()(t)));var r=t(void 0,{type:"@@calypso/INIT"});return function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(n&&Object(m.includes)(n,a.type))return Object(m.omitBy)(Object(m.mapValues)(s,function(e){return t(e,a)}),function(e){return void 0===e||Object(m.isEqual)(e,r)});var c=Object(m.get)(a,e,void 0);if(null===c||void 0===c)return s;var u=s[c],l=t(u,a);return l===u?s:void 0===l||Object(m.isEqual)(l,r)?s.hasOwnProperty(c)?Object(m.omit)(s,c):s:o()({},s,i()({},c,l))}};function j(e,t){return"function"!=typeof e?Object(m.merge)({},e,t):function(n,r){return e(function(e){return n(j(e,t))},r)}}var v=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(n,i){var s=e.apply(void 0,r);if(Array.isArray(t)||(t=[t]),"function"==typeof s){return s(function(e){return n(t.reduce(function(e,t){return t(e,i)},e))},i)}return n(t.reduce(function(e,t){return t(e,i)},s))}}};function S(e){return e(void 0,{type:"@@calypso/INIT"})}function I(e,t,n){var r=t(void 0,{type:"SERIALIZE"});return!!Object(m.isEqual)(n,r)||function(e,t,n){var r=p()(t,{greedy:!1,verbose:!1}),i=r(e);return i}(n,e)}var T=function(e,t){var n=function(n,r){if("DESERIALIZE"===r.type){if(void 0===n)return S(t);if(!I(e,t,n))return S(t)}return t(n,r)};return n.hasCustomPersistence=!0,n},C=function(e){var t=function(t,n){switch(n.type){case"SERIALIZE":return;case"DESERIALIZE":return S(e);default:return e(t,n)}};return t.hasCustomPersistence=!0,t};function R(e,t,n){var r=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0,i=r.type;return t.hasOwnProperty(i)?t[i](n,r):n};return n?T(n,r):t.SERIALIZE||t.DESERIALIZE?(r.hasCustomPersistence=!0,r):C(r)}function A(e){var t=Object(m.mapValues)(e,function(e){return e.hasCustomPersistence?e:e.schema?T(e.schema,e):C(e)}),n=Object(f.c)(t),r=function(e,r){if("SERIALIZE"===r.type){if(void 0===e)return;return Object(m.reduce)(t,function(t,n,i){var s=n(e[i],r);return void 0!==s&&(t||(t={}),t[i]=s),t},void 0)}return n(e,r)};return r.hasCustomPersistence=!0,r}var N=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return e.join("")},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{max:100,maxAge:7200},o=new E.a(s);return function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return function(s){t(s).apply(void 0,a);var c=i(a),u=o.get(c),l=u?Promise.resolve(u):e.apply(void 0,a);return l.then(function(e){return o.set(c,e),n(s)(e)},r(s))}}}},"./client/state/wordads/earnings/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(e){return{type:"WORDADS_EARNINGS_REQUEST",siteId:e}},i=function(e,t){return{type:"WORDADS_EARNINGS_RECEIVE",siteId:e,earnings:t}}},"./client/state/wordads/status/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var r=n("./node_modules/lodash/lodash.js"),i=function(e){return{type:"WORDADS_STATUS_REQUEST",siteId:e}},s=function(e,t){return{type:"WORDADS_STATUS_RECEIVE",siteId:e,status:Object(r.pick)(t,["approved","unsafe","active"])}}},"./client/state/wordads/status/schema.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=[!1,"mature","private","spam","other"],i={type:"object",patternProperties:{"^\\d+$":{type:"object",properties:{ID:{type:"integer"},name:{type:"string"},URL:{type:"string"},approved:{type:"boolean"},active:{type:"boolean"},unsafe:{enum:r}}}},additionalProperties:!1}},"./client/utils.js":function(e,t,n){"use strict";function r(e){return"/"===e?e:new RegExp("^"+e+"(/.*)?$")}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var i=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise(function(t,r){e.apply(void 0,n.concat([function(e,n){e?r(e):t(n)}]))})}}},"./client/wordpress-com.js":function(e,t){var n=[{name:"sites",paths:["/sites"],module:"my-sites",group:"sites",secondary:!0},{name:"customize",paths:["/customize"],module:"my-sites/customize",group:"sites",secondary:!0},{name:"me",paths:["/me"],module:"me",group:"me",secondary:!0},{name:"account",paths:["/me/account"],module:"me/account",group:"me",secondary:!0},{name:"account-close",paths:["/me/account/close"],module:"me/account-close",group:"me",secondary:!0},{name:"security",paths:["/me/security"],module:"me/security",group:"me",secondary:!0},{name:"privacy",paths:["/me/privacy"],module:"me/privacy",group:"me",secondary:!0},{name:"purchases",paths:["/me/purchases","/purchases","/me/billing","/payment-methods/add-credit-card"],module:"me/purchases",group:"me",secondary:!0,enableLoggedOut:!0},{name:"notification-settings",paths:["/me/notifications"],module:"me/notification-settings",group:"me",secondary:!0},{name:"concierge",paths:["/me/concierge"],module:"me/concierge",group:"me",secondary:!1},{name:"media",paths:["/media"],module:"my-sites/media",group:"sites",secondary:!0,css:"media"},{name:"people",paths:["/people"],module:"my-sites/people",secondary:!0,group:"sites"},{name:"plugins",paths:["/plugins"],module:"my-sites/plugins",secondary:!0,group:"sites"},{name:"posts-pages",paths:["/pages"],module:"my-sites/pages",secondary:!0,group:"sites"},{name:"posts-pages",paths:["/posts"],module:"my-sites/posts",secondary:!0,group:"sites"},{name:"settings-writing",paths:["/settings/writing","/settings/taxonomies","/settings/podcasting"],module:"my-sites/site-settings/settings-writing",secondary:!0,group:"sites",css:"site-settings"},{name:"settings-discussion",paths:["/settings/discussion"],module:"my-sites/site-settings/settings-discussion",secondary:!0,group:"sites",css:"site-settings"},{name:"settings-traffic",paths:["/settings/traffic","/settings/seo","/settings/analytics"],module:"my-sites/site-settings/settings-traffic",secondary:!0,group:"sites",css:"site-settings"},{name:"settings-security",paths:["/settings/security"],module:"my-sites/site-settings/settings-security",secondary:!0,group:"sites",css:"site-settings"},{name:"settings",paths:["/settings"],module:"my-sites/site-settings",secondary:!0,group:"sites",css:"site-settings"},{name:"sharing",paths:["/sharing"],module:"my-sites/sharing",secondary:!0,group:"sites"},{name:"jetpack-connect",paths:["/jetpack"],module:"jetpack-connect",secondary:!1,enableLoggedOut:!0},{name:"jetpack-onboarding",paths:["/jetpack/start"],module:"jetpack-onboarding",secondary:!1,enableLoggedOut:!0},{name:"signup",paths:["/start"],module:"signup",secondary:!1,enableLoggedOut:!0,isomorphic:!0,css:"signup"},{name:"stats",paths:["/stats"],module:"my-sites/stats",secondary:!0,group:"sites",enableLoggedOut:!0},{name:"checklist",paths:["/checklist"],module:"my-sites/checklist",secondary:!0,group:"checklist"},{name:"google-my-business",paths:["/google-my-business"],module:"my-sites/google-my-business",enableLoggedOut:!0,secondary:!0,group:"sites",css:"google-my-business"},{name:"themes",paths:["/themes","/design"],module:"my-sites/themes",enableLoggedOut:!0,secondary:!0,group:"sites",isomorphic:!0,title:"Themes"},{name:"theme",paths:["/theme"],module:"my-sites/theme",enableLoggedOut:!0,secondary:!1,group:"sites",isomorphic:!0,title:"Themes"},{name:"domains",paths:["/domains"],module:"my-sites/domains",secondary:!0,group:"sites"},{name:"checkout",paths:["/checkout"],module:"my-sites/checkout",secondary:!0,group:"sites",enableLoggedOut:!0},{name:"plans",paths:["/plans"],module:"my-sites/plans",secondary:!0,group:"sites"},{name:"accept-invite",paths:["/accept-invite"],module:"my-sites/invites",enableLoggedOut:!0},{name:"ads",paths:["/ads"],module:"my-sites/ads",secondary:!0,group:"sites"},{name:"mailing-lists",paths:["/mailing-lists/unsubscribe"],module:"mailing-lists",enableLoggedOut:!0},{name:"feature-upsell",paths:["/feature"],module:"my-sites/feature-upsell",group:"sites",secondary:!0,css:"feature-upsell"}];n.push({name:"post-editor",paths:["/post","/page","/edit"],module:"post-editor",group:"editor",secondary:!0,css:"post-editor"}),n.push({name:"account-recovery",paths:["/account-recovery"],module:"account-recovery",secondary:!1,enableLoggedOut:!0}),n.push({name:"reader",paths:["/","/read"],module:"reader",secondary:!0,group:"reader"}),n.push({name:"reader",paths:["/read/feeds/[^\\/]+","/read/blogs/[^\\/]+","/read/a8c"],module:"reader",secondary:!0,group:"reader",enableLoggedOut:!0}),n.push({name:"reader",paths:["/read/feeds/[^\\/]+/posts/[^\\/]+","/read/blogs/[^\\/]+/posts/[^\\/]+"],module:"reader/full-post",secondary:!1,group:"reader",css:"reader-full-post",enableLoggedOut:!0}),n.push({name:"reader",paths:["/discover"],module:"reader/discover",secondary:!0,group:"reader",enableLoggedOut:!0}),n.push({name:"reader",paths:["/following"],module:"reader/following",secondary:!0,group:"reader",enableLoggedOut:!0}),n.push({name:"reader",paths:["/tags","/tag"],module:"reader/tag-stream",secondary:!0,group:"reader",enableLoggedOut:!0}),n.push({name:"reader",paths:["/activities"],module:"reader/liked-stream",secondary:!0,group:"reader",enableLoggedOut:!0}),n.push({name:"reader",paths:["/read/search","/recommendations"],module:"reader/search",secondary:!0,group:"reader",enableLoggedOut:!0}),n.push({name:"reader",paths:["/read/list"],module:"reader/list",secondary:!0,group:"reader",enableLoggedOut:!0}),n.push({name:"reader",paths:["/read/conversations"],module:"reader/conversations",secondary:!0,group:"reader",enableLoggedOut:!0}),n.push({name:"help",paths:["/help"],module:"me/help",secondary:!0,enableLoggedOut:!0,group:"me"}),n.push({name:"login",paths:["/log-in"],module:"login",enableLoggedOut:!0,secondary:!1,isomorphic:!0,css:"login"}),n.push({name:"auth",paths:["/oauth-login","/authorize","/api/oauth/token"],module:"auth",secondary:!1,enableLoggedOut:!0}),n.push({name:"posts-custom",paths:["/types"],module:"my-sites/types",secondary:!0,group:"sites"}),n.push({name:"happychat",paths:["/me/chat"],module:"me/happychat",group:"me",secondary:!0}),n.push({name:"comments",paths:["/comments","/comment"],module:"my-sites/comments",group:"sites",secondary:!0,css:"comments"}),n.push({name:"preview",paths:["/view"],module:"my-sites/preview",group:"sites",secondary:!0}),n.push({name:"domain-connect-authorize",paths:["/domain-connect"],module:"my-sites/domains/domain-management/domain-connect",enableLoggedOut:!0,secondary:!1,isomorphic:!1}),n.push({name:"gutenberg-editor",paths:["/gutenberg"],module:"gutenberg/editor",group:"editor",css:"gutenberg-editor",secondary:!0}),e.exports=n},"./node_modules/moment/locale sync recursive ^\\.\\/.*$":function(e,t,n){var r={"./af":"./node_modules/moment/locale/af.js","./af.js":"./node_modules/moment/locale/af.js","./ar":"./node_modules/moment/locale/ar.js","./ar-dz":"./node_modules/moment/locale/ar-dz.js","./ar-dz.js":"./node_modules/moment/locale/ar-dz.js","./ar-kw":"./node_modules/moment/locale/ar-kw.js","./ar-kw.js":"./node_modules/moment/locale/ar-kw.js","./ar-ly":"./node_modules/moment/locale/ar-ly.js","./ar-ly.js":"./node_modules/moment/locale/ar-ly.js","./ar-ma":"./node_modules/moment/locale/ar-ma.js","./ar-ma.js":"./node_modules/moment/locale/ar-ma.js","./ar-sa":"./node_modules/moment/locale/ar-sa.js","./ar-sa.js":"./node_modules/moment/locale/ar-sa.js","./ar-tn":"./node_modules/moment/locale/ar-tn.js","./ar-tn.js":"./node_modules/moment/locale/ar-tn.js","./ar.js":"./node_modules/moment/locale/ar.js","./az":"./node_modules/moment/locale/az.js","./az.js":"./node_modules/moment/locale/az.js","./be":"./node_modules/moment/locale/be.js","./be.js":"./node_modules/moment/locale/be.js","./bg":"./node_modules/moment/locale/bg.js","./bg.js":"./node_modules/moment/locale/bg.js","./bm":"./node_modules/moment/locale/bm.js","./bm.js":"./node_modules/moment/locale/bm.js","./bn":"./node_modules/moment/locale/bn.js","./bn.js":"./node_modules/moment/locale/bn.js","./bo":"./node_modules/moment/locale/bo.js","./bo.js":"./node_modules/moment/locale/bo.js","./br":"./node_modules/moment/locale/br.js","./br.js":"./node_modules/moment/locale/br.js","./bs":"./node_modules/moment/locale/bs.js","./bs.js":"./node_modules/moment/locale/bs.js","./ca":"./node_modules/moment/locale/ca.js","./ca.js":"./node_modules/moment/locale/ca.js","./cs":"./node_modules/moment/locale/cs.js","./cs.js":"./node_modules/moment/locale/cs.js","./cv":"./node_modules/moment/locale/cv.js","./cv.js":"./node_modules/moment/locale/cv.js","./cy":"./node_modules/moment/locale/cy.js","./cy.js":"./node_modules/moment/locale/cy.js","./da":"./node_modules/moment/locale/da.js","./da.js":"./node_modules/moment/locale/da.js","./de":"./node_modules/moment/locale/de.js","./de-at":"./node_modules/moment/locale/de-at.js","./de-at.js":"./node_modules/moment/locale/de-at.js","./de-ch":"./node_modules/moment/locale/de-ch.js","./de-ch.js":"./node_modules/moment/locale/de-ch.js","./de.js":"./node_modules/moment/locale/de.js","./dv":"./node_modules/moment/locale/dv.js","./dv.js":"./node_modules/moment/locale/dv.js","./el":"./node_modules/moment/locale/el.js","./el.js":"./node_modules/moment/locale/el.js","./en-au":"./node_modules/moment/locale/en-au.js","./en-au.js":"./node_modules/moment/locale/en-au.js","./en-ca":"./node_modules/moment/locale/en-ca.js","./en-ca.js":"./node_modules/moment/locale/en-ca.js","./en-gb":"./node_modules/moment/locale/en-gb.js","./en-gb.js":"./node_modules/moment/locale/en-gb.js","./en-ie":"./node_modules/moment/locale/en-ie.js","./en-ie.js":"./node_modules/moment/locale/en-ie.js","./en-il":"./node_modules/moment/locale/en-il.js","./en-il.js":"./node_modules/moment/locale/en-il.js","./en-nz":"./node_modules/moment/locale/en-nz.js","./en-nz.js":"./node_modules/moment/locale/en-nz.js","./eo":"./node_modules/moment/locale/eo.js","./eo.js":"./node_modules/moment/locale/eo.js","./es":"./node_modules/moment/locale/es.js","./es-do":"./node_modules/moment/locale/es-do.js","./es-do.js":"./node_modules/moment/locale/es-do.js","./es-us":"./node_modules/moment/locale/es-us.js","./es-us.js":"./node_modules/moment/locale/es-us.js","./es.js":"./node_modules/moment/locale/es.js","./et":"./node_modules/moment/locale/et.js","./et.js":"./node_modules/moment/locale/et.js","./eu":"./node_modules/moment/locale/eu.js","./eu.js":"./node_modules/moment/locale/eu.js","./fa":"./node_modules/moment/locale/fa.js","./fa.js":"./node_modules/moment/locale/fa.js","./fi":"./node_modules/moment/locale/fi.js","./fi.js":"./node_modules/moment/locale/fi.js","./fo":"./node_modules/moment/locale/fo.js","./fo.js":"./node_modules/moment/locale/fo.js","./fr":"./node_modules/moment/locale/fr.js","./fr-ca":"./node_modules/moment/locale/fr-ca.js","./fr-ca.js":"./node_modules/moment/locale/fr-ca.js","./fr-ch":"./node_modules/moment/locale/fr-ch.js","./fr-ch.js":"./node_modules/moment/locale/fr-ch.js","./fr.js":"./node_modules/moment/locale/fr.js","./fy":"./node_modules/moment/locale/fy.js","./fy.js":"./node_modules/moment/locale/fy.js","./gd":"./node_modules/moment/locale/gd.js","./gd.js":"./node_modules/moment/locale/gd.js","./gl":"./node_modules/moment/locale/gl.js","./gl.js":"./node_modules/moment/locale/gl.js","./gom-latn":"./node_modules/moment/locale/gom-latn.js","./gom-latn.js":"./node_modules/moment/locale/gom-latn.js","./gu":"./node_modules/moment/locale/gu.js","./gu.js":"./node_modules/moment/locale/gu.js","./he":"./node_modules/moment/locale/he.js","./he.js":"./node_modules/moment/locale/he.js","./hi":"./node_modules/moment/locale/hi.js","./hi.js":"./node_modules/moment/locale/hi.js","./hr":"./node_modules/moment/locale/hr.js","./hr.js":"./node_modules/moment/locale/hr.js","./hu":"./node_modules/moment/locale/hu.js","./hu.js":"./node_modules/moment/locale/hu.js","./hy-am":"./node_modules/moment/locale/hy-am.js","./hy-am.js":"./node_modules/moment/locale/hy-am.js","./id":"./node_modules/moment/locale/id.js","./id.js":"./node_modules/moment/locale/id.js","./is":"./node_modules/moment/locale/is.js","./is.js":"./node_modules/moment/locale/is.js","./it":"./node_modules/moment/locale/it.js","./it.js":"./node_modules/moment/locale/it.js","./ja":"./node_modules/moment/locale/ja.js","./ja.js":"./node_modules/moment/locale/ja.js","./jv":"./node_modules/moment/locale/jv.js","./jv.js":"./node_modules/moment/locale/jv.js","./ka":"./node_modules/moment/locale/ka.js","./ka.js":"./node_modules/moment/locale/ka.js","./kk":"./node_modules/moment/locale/kk.js","./kk.js":"./node_modules/moment/locale/kk.js","./km":"./node_modules/moment/locale/km.js","./km.js":"./node_modules/moment/locale/km.js","./kn":"./node_modules/moment/locale/kn.js","./kn.js":"./node_modules/moment/locale/kn.js","./ko":"./node_modules/moment/locale/ko.js","./ko.js":"./node_modules/moment/locale/ko.js","./ky":"./node_modules/moment/locale/ky.js","./ky.js":"./node_modules/moment/locale/ky.js","./lb":"./node_modules/moment/locale/lb.js","./lb.js":"./node_modules/moment/locale/lb.js","./lo":"./node_modules/moment/locale/lo.js","./lo.js":"./node_modules/moment/locale/lo.js","./lt":"./node_modules/moment/locale/lt.js","./lt.js":"./node_modules/moment/locale/lt.js","./lv":"./node_modules/moment/locale/lv.js","./lv.js":"./node_modules/moment/locale/lv.js","./me":"./node_modules/moment/locale/me.js","./me.js":"./node_modules/moment/locale/me.js","./mi":"./node_modules/moment/locale/mi.js","./mi.js":"./node_modules/moment/locale/mi.js","./mk":"./node_modules/moment/locale/mk.js","./mk.js":"./node_modules/moment/locale/mk.js","./ml":"./node_modules/moment/locale/ml.js","./ml.js":"./node_modules/moment/locale/ml.js","./mn":"./node_modules/moment/locale/mn.js","./mn.js":"./node_modules/moment/locale/mn.js","./mr":"./node_modules/moment/locale/mr.js","./mr.js":"./node_modules/moment/locale/mr.js","./ms":"./node_modules/moment/locale/ms.js","./ms-my":"./node_modules/moment/locale/ms-my.js","./ms-my.js":"./node_modules/moment/locale/ms-my.js","./ms.js":"./node_modules/moment/locale/ms.js","./mt":"./node_modules/moment/locale/mt.js","./mt.js":"./node_modules/moment/locale/mt.js","./my":"./node_modules/moment/locale/my.js","./my.js":"./node_modules/moment/locale/my.js","./nb":"./node_modules/moment/locale/nb.js","./nb.js":"./node_modules/moment/locale/nb.js","./ne":"./node_modules/moment/locale/ne.js","./ne.js":"./node_modules/moment/locale/ne.js","./nl":"./node_modules/moment/locale/nl.js","./nl-be":"./node_modules/moment/locale/nl-be.js","./nl-be.js":"./node_modules/moment/locale/nl-be.js","./nl.js":"./node_modules/moment/locale/nl.js","./nn":"./node_modules/moment/locale/nn.js","./nn.js":"./node_modules/moment/locale/nn.js","./pa-in":"./node_modules/moment/locale/pa-in.js","./pa-in.js":"./node_modules/moment/locale/pa-in.js","./pl":"./node_modules/moment/locale/pl.js","./pl.js":"./node_modules/moment/locale/pl.js","./pt":"./node_modules/moment/locale/pt.js","./pt-br":"./node_modules/moment/locale/pt-br.js","./pt-br.js":"./node_modules/moment/locale/pt-br.js","./pt.js":"./node_modules/moment/locale/pt.js","./ro":"./node_modules/moment/locale/ro.js","./ro.js":"./node_modules/moment/locale/ro.js","./ru":"./node_modules/moment/locale/ru.js","./ru.js":"./node_modules/moment/locale/ru.js","./sd":"./node_modules/moment/locale/sd.js","./sd.js":"./node_modules/moment/locale/sd.js","./se":"./node_modules/moment/locale/se.js","./se.js":"./node_modules/moment/locale/se.js","./si":"./node_modules/moment/locale/si.js","./si.js":"./node_modules/moment/locale/si.js","./sk":"./node_modules/moment/locale/sk.js","./sk.js":"./node_modules/moment/locale/sk.js","./sl":"./node_modules/moment/locale/sl.js","./sl.js":"./node_modules/moment/locale/sl.js","./sq":"./node_modules/moment/locale/sq.js","./sq.js":"./node_modules/moment/locale/sq.js","./sr":"./node_modules/moment/locale/sr.js","./sr-cyrl":"./node_modules/moment/locale/sr-cyrl.js","./sr-cyrl.js":"./node_modules/moment/locale/sr-cyrl.js","./sr.js":"./node_modules/moment/locale/sr.js","./ss":"./node_modules/moment/locale/ss.js","./ss.js":"./node_modules/moment/locale/ss.js","./sv":"./node_modules/moment/locale/sv.js","./sv.js":"./node_modules/moment/locale/sv.js","./sw":"./node_modules/moment/locale/sw.js","./sw.js":"./node_modules/moment/locale/sw.js","./ta":"./node_modules/moment/locale/ta.js","./ta.js":"./node_modules/moment/locale/ta.js","./te":"./node_modules/moment/locale/te.js","./te.js":"./node_modules/moment/locale/te.js","./tet":"./node_modules/moment/locale/tet.js","./tet.js":"./node_modules/moment/locale/tet.js","./tg":"./node_modules/moment/locale/tg.js","./tg.js":"./node_modules/moment/locale/tg.js","./th":"./node_modules/moment/locale/th.js","./th.js":"./node_modules/moment/locale/th.js","./tl-ph":"./node_modules/moment/locale/tl-ph.js","./tl-ph.js":"./node_modules/moment/locale/tl-ph.js","./tlh":"./node_modules/moment/locale/tlh.js","./tlh.js":"./node_modules/moment/locale/tlh.js","./tr":"./node_modules/moment/locale/tr.js","./tr.js":"./node_modules/moment/locale/tr.js","./tzl":"./node_modules/moment/locale/tzl.js","./tzl.js":"./node_modules/moment/locale/tzl.js","./tzm":"./node_modules/moment/locale/tzm.js","./tzm-latn":"./node_modules/moment/locale/tzm-latn.js","./tzm-latn.js":"./node_modules/moment/locale/tzm-latn.js","./tzm.js":"./node_modules/moment/locale/tzm.js","./ug-cn":"./node_modules/moment/locale/ug-cn.js","./ug-cn.js":"./node_modules/moment/locale/ug-cn.js","./uk":"./node_modules/moment/locale/uk.js","./uk.js":"./node_modules/moment/locale/uk.js","./ur":"./node_modules/moment/locale/ur.js","./ur.js":"./node_modules/moment/locale/ur.js","./uz":"./node_modules/moment/locale/uz.js","./uz-latn":"./node_modules/moment/locale/uz-latn.js","./uz-latn.js":"./node_modules/moment/locale/uz-latn.js","./uz.js":"./node_modules/moment/locale/uz.js","./vi":"./node_modules/moment/locale/vi.js","./vi.js":"./node_modules/moment/locale/vi.js","./x-pseudo":"./node_modules/moment/locale/x-pseudo.js","./x-pseudo.js":"./node_modules/moment/locale/x-pseudo.js","./yo":"./node_modules/moment/locale/yo.js","./yo.js":"./node_modules/moment/locale/yo.js","./zh-cn":"./node_modules/moment/locale/zh-cn.js","./zh-cn.js":"./node_modules/moment/locale/zh-cn.js","./zh-hk":"./node_modules/moment/locale/zh-hk.js","./zh-hk.js":"./node_modules/moment/locale/zh-hk.js","./zh-tw":"./node_modules/moment/locale/zh-tw.js","./zh-tw.js":"./node_modules/moment/locale/zh-tw.js"};function i(e){var t=s(e);return n(t)}function s(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id="./node_modules/moment/locale sync recursive ^\\.\\/.*$"},0:function(e,t,n){e.exports=n("./client/boot/app.js")},electron:function(e,t){e.exports=electron},jquery:function(e,t){e.exports=jquery}},[[0,0,142]]]);