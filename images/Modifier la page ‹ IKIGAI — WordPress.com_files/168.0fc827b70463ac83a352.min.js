(window.webpackJsonp=window.webpackJsonp||[]).push([[168],{"./node_modules/fbjs/lib/hyphenate.js":function(e,t,n){"use strict";var o=/([A-Z])/g;e.exports=function(e){return e.replace(o,"-$1").toLowerCase()}},"./node_modules/fbjs/lib/hyphenateStyleName.js":function(e,t,n){"use strict";var o=n("./node_modules/fbjs/lib/hyphenate.js"),s=/^ms-/;e.exports=function(e){return o(e).replace(s,"-ms-")}},"./node_modules/fbjs/lib/memoizeStringOnly.js":function(e,t,n){"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},"./node_modules/notifications-panel/src/Notifications.jsx":function(e,t,n){"use strict";var o,s,i,r,a=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),l=n.n(a),c=n("./node_modules/@babel/runtime/helpers/createClass.js"),u=n.n(c),p=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),d=n.n(p),h=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),m=n.n(h),f=n("./node_modules/@babel/runtime/helpers/inherits.js"),g=n.n(f),v=n("./node_modules/prop-types/index.js"),y=n.n(v),b=n("./node_modules/react/index.js"),w=n.n(b),_=n("./node_modules/react-redux/es/index.js"),E=n("./node_modules/lodash/lodash.js"),N=n("./node_modules/redux/es/redux.js"),k=function(e,t){return Object(E.isArray)(e)?e.concat(t):void 0},S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>1?E.mergeWith.apply(void 0,[Object.create(null)].concat(t,[k])):t[0]},x=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),L=n.n(x),T=function(e){return e.notes},O=function(e,t){return function(e,t){var n=e.noteReads;if(n.hasOwnProperty(t.id))return n[t.id];try{var o=localStorage.getItem("note_read_status_"+t.id);if(null!==o&&"1"===o)return!0}catch(e){}return!!t.read}(T(e),t)},I=function(){return o},C=function(e){return o=e},A=function(e,t,n){return I().req.get({path:"/notifications/"+e,apiVersion:"1.1"},t,n)},j=function(e,t){return I().req.get({path:"/notifications/",apiVersion:"1.1"},e,t)},M=function(e){return I().req.post({path:"/notifications/seen"},null,{time:e})},D=function(e){return I().pinghub.connect("/wpcom/me/newest-note-data",e)},R=n("./node_modules/@babel/runtime/helpers/typeof.js"),V=n.n(R),F=function(e,t){var n="";if(void 0!==e){if("object"===V()(e))for(var o in e)"string"==typeof e[o]&&(n+="&x_"+encodeURIComponent(o)+"="+encodeURIComponent(e[o]));else"string"==typeof e&&"string"==typeof t&&(n="&x_"+encodeURIComponent(e)+"="+encodeURIComponent(t));n.length&&((new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv"+n+"&baba="+Math.random())}},z=function(e){try{localStorage.removeItem("note_read_status_"+e)}catch(e){}},P=function(e,t){var n=t.notes?t.notes.map(function(e){var t=e.id;return t}):t.noteIds;n.forEach(z)},H=(s={},L()(s,"NOTES_ADD",[P]),L()(s,"NOTES_REMOVE",[P]),L()(s,"SELECT_NOTE",[function(e,t){var n=e.getState,o=t.noteId,s=n(),i=function(e,t){return function(e,t){return e.allNotes[t]}(T(e),t)}(s,o);if(i&&!O(s,i)){try{localStorage.setItem("note_read_status_"+o,"1")}catch(e){}F("notes-read-type",i.type),function(e,t,n){I().req.post({path:"/notifications/read"},null,{counts:L()({},e,t?9999:-1)},n)}(o,!0,function(e,t){if(e||!t.success)try{return localStorage.removeItem("note_read_status_"+o)}catch(e){}try{localStorage.setItem("note_read_status_"+o,"1")}catch(e){}})}}]),s),U=S(H),B=function(e){return function(t){return{type:e,noteId:t}}},q=B("READ_NOTE"),K=B("SPAM_NOTE"),W=B("TRASH_NOTE"),G={addNotes:function(e){return{type:"NOTES_ADD",notes:e}},approveNote:function(e,t){return{type:"APPROVE_NOTE",noteId:e,isApproved:t}},likeNote:function(e,t){return{type:"LIKE_NOTE",noteId:e,isLiked:t}},readNote:q,removeNotes:function(e){return{type:"NOTES_REMOVE",noteIds:e}},resetLocalApproval:function(e){return{type:"RESET_LOCAL_APPROVAL",noteId:e}},resetLocalLike:function(e){return{type:"RESET_LOCAL_LIKE",noteId:e}},spamNote:K,trashNote:W},$={fetchSuggestions:function(e){return{type:"SUGGESTIONS_FETCH",siteId:e}},storeSuggestions:function(e,t){return{type:"SUGGESTIONS_STORE",siteId:e,suggestions:t}}},Y=function(e){return{type:"SELECT_NOTE",noteId:e}},J=function(e,t,n,o){return{type:"EDIT_COMMENT",siteId:e,postId:t,commentId:n,href:o}},Q={closePanel:function(){return{type:"CLOSE_PANEL"}},loadNotes:function(){return{type:"NOTES_LOADING"}},loadedNotes:function(){return{type:"NOTES_LOADED"}},selectNote:Y,setLayout:function(e){return{type:"SET_LAYOUT",layout:e}},undoAction:function(e){return{type:"UNDO_ACTION",noteId:e}},unselectNote:function(){return Y(null)},viewSettings:function(){return{type:"VIEW_SETTINGS"}},setFilter:function(e){return{type:"SET_FILTER",filterName:e}},editComment:J},Z={notes:G,suggestions:$,ui:Q},X={},ee={},te=function(e,t){var n=e.dispatch,o=t.noteId,s=X;s.hasOwnProperty(o)&&clearTimeout(s[o]),s[o]=setTimeout(function(){return n(Z.notes.resetLocalApproval(o))},1e4)},ne=function(e,t){var n=e.dispatch,o=t.noteId,s=ee;s.hasOwnProperty(o)&&clearTimeout(s[o]),s[o]=setTimeout(function(){return n(Z.notes.resetLocalLike(o))},1e4)},oe=(i={},L()(i,"APPROVE_NOTE",[te,ne]),L()(i,"LIKE_NOTE",[ne]),L()(i,"SPAM_NOTE",[te,ne]),L()(i,"TRASH_NOTE",[te,ne]),i),se=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),ie=n.n(se),re=function(e){return e.suggestions},ae=!1,le=L()({},"SUGGESTIONS_FETCH",[function(e,t){var n,o,s=e.dispatch,i=e.getState,r=t.siteId;ae||function(e,t){return function(e,t){return e.bySite.hasOwnProperty(t)}(re(e),t)}(i(),r)||(ae=!0,n={site_id:r},o=function(e,t){if(ae=!1,!e){var n=t.suggestions.map(function(e){return ie()({},e,{name:e.name||e.user_login+" "+e.display_name})});s(Z.suggestions.storeSuggestions(r,n))}},I().req.get({path:"/users/suggest",apiVersion:"1"},n,o))}]),ce=[],ue=function(e){var t=e.id;return t},pe=function(e){var t=e.timestamp;return Date.parse(t)},de=function(e){return t=T(e),n=t.allNotes,r===n?ce:(r=n,ce=Object(E.sortBy)(Object(E.values)(n),[pe,ue]).reverse(),ce);var t,n},he=function(e,t){return function(e,t){return!0===e.hiddenNoteIds[t]}(T(e),t)},me=n("./node_modules/react-dom/index.js"),fe=n.n(me),ge=n("./node_modules/i18n-calypso/index.js"),ve=n.n(ge),ye=n("./node_modules/@babel/runtime/helpers/extends.js"),be=n.n(ye),we=n("./node_modules/classnames/index.js"),_e=n.n(we),Ee=function(e){function t(){return l()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.size,o=void 0===n?24:n,s="gridicons-"+this.props.icon,i={className:_e()("gridicon",s),height:o,width:o,onClick:t};switch(s){default:return w.a.createElement("svg",{height:o,width:o});case"gridicons-checkmark":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),w.a.createElement("path",{d:"M9 19.414l-6.707-6.707 1.414-1.414L9 16.586 20.293 5.293l1.414 1.414"}));case"gridicons-spam":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),w.a.createElement("path",{d:"M17 2H7L2 7v10l5 5h10l5-5V7l-5-5zm-4 15h-2v-2h2v2zm0-4h-2l-.5-6h3l-.5 6z"}));case"gridicons-star":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),w.a.createElement("path",{d:"M12 2l2.582 6.953L22 9.257l-5.822 4.602L18.18 21 12 16.89 5.82 21l2.002-7.14L2 9.256l7.418-.304"}));case"gridicons-star-outline":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Star Outline"),w.a.createElement("g",null,w.a.createElement("path",{d:"M12 6.308l1.176 3.167.347.936.997.042 3.374.14-2.647 2.09-.784.62.27.963.91 3.25-2.813-1.872-.83-.553-.83.552-2.814 1.87.91-3.248.27-.962-.783-.62-2.648-2.092 3.374-.14.996-.04.347-.936L12 6.308M12 2L9.418 8.953 2 9.257l5.822 4.602L5.82 21 12 16.89 18.18 21l-2.002-7.14L22 9.256l-7.418-.305L12 2z"})));case"gridicons-trash":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),w.a.createElement("path",{d:"M6.187 8h11.625l-.695 11.125C17.05 20.18 16.177 21 15.12 21H8.88c-1.057 0-1.93-.82-1.997-1.875L6.187 8zM19 5v2H5V5h3V4c0-1.105.895-2 2-2h4c1.105 0 2 .895 2 2v1h3zm-9 0h4V4h-4v1z"}));case"gridicons-reader-follow":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Reader Follow"),w.a.createElement("g",null,w.a.createElement("path",{d:"M23 16v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3zM20 2v9h-4v3h-3v4H4c-1.1 0-2-.9-2-2V2h18zM8 13v-1H4v1h4zm3-3H4v1h7v-1zm0-2H4v1h7V8zm7-4H4v2h14V4z"})));case"gridicons-reader-following":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Reader Following"),w.a.createElement("g",null,w.a.createElement("path",{d:"M23 13.482L15.508 21 12 17.4l1.412-1.388 2.106 2.188 6.094-6.094L23 13.482zm-7.455 1.862L20 10.89V2H2v14c0 1.1.9 2 2 2h4.538l4.913-4.832 2.095 2.176zM8 13H4v-1h4v1zm3-2H4v-1h7v1zm0-2H4V8h7v1zm7-3H4V4h14v2z"})));case"gridicons-mention":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Mention"),w.a.createElement("g",null,w.a.createElement("path",{d:"M12 2a10 10 0 0 0 0 20v-2a8 8 0 1 1 8-8v.5a1.5 1.5 0 0 1-3 0V7h-2v1a5 5 0 1 0 1 7 3.5 3.5 0 0 0 6-2.46V12A10 10 0 0 0 12 2zm0 13a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"})));case"gridicons-comment":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Comment"),w.a.createElement("g",null,w.a.createElement("path",{d:"M3 6v9c0 1.105.895 2 2 2h9v5l5.325-3.804c1.05-.75 1.675-1.963 1.675-3.254V6c0-1.105-.895-2-2-2H5c-1.105 0-2 .895-2 2z"})));case"gridicons-add":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Add"),w.a.createElement("g",null,w.a.createElement("path",{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"})));case"gridicons-info":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Info"),w.a.createElement("g",null,w.a.createElement("path",{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})));case"gridicons-lock":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Lock"),w.a.createElement("g",null,w.a.createElement("path",{d:"M18 8h-1V7c0-2.757-2.243-5-5-5S7 4.243 7 7v1H6c-1.105 0-2 .895-2 2v10c0 1.105.895 2 2 2h12c1.105 0 2-.895 2-2V10c0-1.105-.895-2-2-2zM9 7c0-1.654 1.346-3 3-3s3 1.346 3 3v1H9V7zm4 8.723V18h-2v-2.277c-.595-.346-1-.984-1-1.723 0-1.105.895-2 2-2s2 .895 2 2c0 .738-.405 1.376-1 1.723z"})));case"gridicons-stats-alt":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Stats Alt"),w.a.createElement("g",null,w.a.createElement("path",{d:"M21 21H3v-2h18v2zM8 10H4v7h4v-7zm6-7h-4v14h4V3zm6 3h-4v11h4V6z"})));case"gridicons-reblog":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Reblog"),w.a.createElement("g",null,w.a.createElement("path",{d:"M22.086 9.914L20 7.828V18c0 1.105-.895 2-2 2h-7v-2h7V7.828l-2.086 2.086L14.5 8.5 19 4l4.5 4.5-1.414 1.414zM6 16.172V6h7V4H6c-1.105 0-2 .895-2 2v10.172l-2.086-2.086L.5 15.5 5 20l4.5-4.5-1.414-1.414L6 16.172z"})));case"gridicons-trophy":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Trophy"),w.a.createElement("g",null,w.a.createElement("path",{d:"M18 5.062V3H6v2.062H2V8c0 2.525 1.89 4.598 4.324 4.932.7 2.058 2.485 3.61 4.676 3.978V18c0 1.105-.895 2-2 2H8v2h8v-2h-1c-1.105 0-2-.895-2-2v-1.09c2.19-.368 3.976-1.92 4.676-3.978C20.11 12.598 22 10.525 22 8V5.062h-4zM4 8v-.938h2v3.766C4.836 10.416 4 9.304 4 8zm16 0c0 1.304-.836 2.416-2 2.83V7.06h2V8z"})));case"gridicons-notice":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Notice"),w.a.createElement("g",null,w.a.createElement("path",{d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm1 15h-2v-2h2v2zm0-4h-2l-.5-6h3l-.5 6z"})));case"gridicons-time":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Time"),w.a.createElement("g",null,w.a.createElement("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm3.8 13.4L13 11.667V7h-2v5.333l3.2 4.266 1.6-1.2z"})));case"gridicons-reply":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Reply"),w.a.createElement("g",null,w.a.createElement("path",{d:"M9 16h7.2l-2.6 2.6L15 20l5-5-5-5-1.4 1.4 2.6 2.6H9c-2.2 0-4-1.8-4-4s1.8-4 4-4h2V4H9c-3.3 0-6 2.7-6 6s2.7 6 6 6z"})));case"gridicons-arrow-up":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Arrow Up"),w.a.createElement("g",null,w.a.createElement("path",{d:"M13 20V7.83l5.59 5.59L20 12l-8-8-8 8 1.41 1.41L11 7.83V20h2z"})));case"gridicons-arrow-down":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Arrow Down"),w.a.createElement("g",null,w.a.createElement("path",{d:"M11 4v12.17l-5.59-5.59L4 12l8 8 8-8-1.41-1.41L13 16.17V4h-2z"})));case"gridicons-arrow-left":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Arrow Left"),w.a.createElement("g",null,w.a.createElement("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})));case"gridicons-cross":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Cross"),w.a.createElement("g",null,w.a.createElement("path",{d:"M18.36 19.78L12 13.41l-6.36 6.37-1.42-1.42L10.59 12 4.22 5.64l1.42-1.42L12 10.59l6.36-6.36 1.41 1.41L13.41 12l6.36 6.36z"})));case"gridicons-cog":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Cog"),w.a.createElement("g",null,w.a.createElement("path",{d:"M20,12c0-0.568-0.061-1.122-0.174-1.656l1.834-1.612l-2-3.464l-2.322,0.786c-0.819-0.736-1.787-1.308-2.859-1.657L14,2h-4 L9.521,4.396c-1.072,0.349-2.04,0.921-2.859,1.657L4.34,5.268l-2,3.464l1.834,1.612C4.061,10.878,4,11.432,4,12 s0.061,1.122,0.174,1.656L2.34,15.268l2,3.464l2.322-0.786c0.819,0.736,1.787,1.308,2.859,1.657L10,22h4l0.479-2.396 c1.072-0.349,2.039-0.921,2.859-1.657l2.322,0.786l2-3.464l-1.834-1.612C19.939,13.122,20,12.568,20,12z M12,16 c-2.209,0-4-1.791-4-4c0-2.209,1.791-4,4-4c2.209,0,4,1.791,4,4C16,14.209,14.209,16,12,16z"})));case"gridicons-cart":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("title",null,"Cart"),w.a.createElement("g",null,w.a.createElement("path",{d:"M9 20c0 1.1-.9 2-2 2s-1.99-.9-1.99-2S5.9 18 7 18s2 .9 2 2zm8-2c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm.396-5c.937 0 1.75-.65 1.952-1.566L21 5H7V4c0-1.105-.895-2-2-2H3v2h2v11c0 1.105.895 2 2 2h12c0-1.105-.895-2-2-2H7v-2h10.396z"})));case"gridicons-pencil":return w.a.createElement("svg",be()({},i,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),w.a.createElement("g",null,w.a.createElement("path",{d:"M13,6l5,5l-9.507,9.507c-0.686-0.686-0.689-1.794-0.012-2.485l-0.003-0.003c-0.691,0.677-1.799,0.674-2.485-0.012 c-0.677-0.677-0.686-1.762-0.036-2.455l-0.008-0.008c-0.693,0.649-1.779,0.64-2.455-0.036L13,6z M20.586,5.586l-2.172-2.172 c-0.781-0.781-2.047-0.781-2.828,0L14,5l5,5l1.586-1.586C21.367,7.633,21.367,6.367,20.586,5.586z M3,18v3h3 C6,19.343,4.657,18,3,18z"})))}}}]),t}(w.a.Component);Ee.displayName="Gridicons",Ee.propTypes={icon:y.a.string.isRequired,size:y.a.number,onClick:y.a.func};var Ne=function(e){var t=e.global,n=e.isEnabled,o=e.translate,s=e.unselectNote,i=o("Back",{context:"go back (like the back button in a browser)"});return n?w.a.createElement("button",{className:"wpnc__back",onClick:function(e,t){return function(n){n.stopPropagation(),n.preventDefault(),e.input.lastInputWasKeyboard=!1,t()}}(t,s)},w.a.createElement(Ee,{icon:"arrow-left",size:18}),i):w.a.createElement("button",{className:"wpnc__back disabled",disabled:"disabled"},w.a.createElement(Ee,{icon:"arrow-left",size:18}),i)};Ne.propTypes={isEnabled:y.a.bool.isRequired};var ke={unselectNote:Z.ui.unselectNote},Se=Object(_.b)(null,ke)(Object(ge.localize)(Ne)),xe=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(s))),n.navigate=function(e){e.stopPropagation(),e.preventDefault(),n.props.navigate()},n}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.iconName,o=e.isEnabled;return w.a.createElement("button",{className:_e()(t,{disabled:!o}),disabled:!o,onClick:o?this.navigate:E.noop},w.a.createElement(Ee,{icon:n,size:18}))}}]),t}(b.Component);xe.propTypes={iconName:y.a.string.isRequired,className:y.a.string,isEnabled:y.a.bool.isRequired,navigate:y.a.func.isRequired};var Le=xe,Te=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),Oe=n.n(Te),Ie=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Ce=n.n(Ie),Ae=function(e){return e.ui},je=function(e){return t=Ae(e),t.filterName;var t},Me=function(e){return t=Ae(e),t.isPanelOpen;var t},De=function(e){return t=Ae(e),t.selectedNoteId;var t},Re=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(s))),n.handleClick=function(){return F("notes-empty-message",n.props.name+"_clicked")},n}return g()(t,e),u()(t,[{key:"componentWillMount",value:function(){this.props.showing&&F("notes-empty-message",this.props.name+"_shown")}},{key:"componentDidUpdate",value:function(){this.props.showing&&F("notes-empty-message",this.props.name+"_shown")}},{key:"render",value:function(){var e=this.props,t=e.emptyMessage,n=e.link,o=e.linkMessage;return w.a.createElement("div",{className:"wpnc__empty-notes-container",style:{height:this.props.height-38+"px"}},n&&o&&w.a.createElement("div",{className:"wpnc__empty-notes"},w.a.createElement("h2",null,t),w.a.createElement("p",null,w.a.createElement("a",{href:n,target:"_blank",onClick:this.handleClick},o))),!n&&o&&w.a.createElement("div",{className:"wpnc__empty-notes"},w.a.createElement("h2",null,t),w.a.createElement("p",null,o)),!n&&!o&&w.a.createElement("div",{className:"wpnc__empty-notes"},w.a.createElement("h2",null,t)))}}]),t}(b.Component),Ve=Re,Fe={all:function(){return{name:"all",index:0,label:ve.a.translate("All",{comment:"Notifications filter: all of a users' notifications"}),emptyMessage:ve.a.translate("No notifications yet.",{comment:"Notifications all filter: no notifications"}),emptyLinkMessage:ve.a.translate("Get active! Comment on posts from blogs you follow.",{comment:"Notifications all filter: no notifications"}),emptyLink:"https://wordpress.com/read/",filter:function(){return!0}}},unread:function(){return{name:"unread",index:1,label:ve.a.translate("Unread",{comment:"Notifications filter: unread notifications"}),emptyMessage:ve.a.translate("You're all caught up!",{comment:"Notifications unread filter: no notifications"}),emptyLinkMessage:ve.a.translate("Reignite the conversation: write a new post.",{comment:"Notifications unread filter: no notifications"}),emptyLink:"https://wordpress.com/post/",filter:function(e){return!O(Do.getState(),e)}}},comments:function(){return{name:"comments",index:2,label:ve.a.translate("Comments",{comment:"Notifications filter: comment notifications"}),emptyMessage:ve.a.translate("No new comments yet!",{comment:"Notifications comments filter: no notifications"}),emptyLinkMessage:ve.a.translate("Join a conversation: search for blogs that share your interests in the Reader.",{comment:"Notifications comments filter: no notifications"}),emptyLink:"https://wordpress.com/read/search/",filter:function(e){var t=e.type;return"comment"===t}}},follows:function(){return{name:"follows",index:3,label:ve.a.translate("Follows",{comment:"Notifications filter: notifications about users following your blogs"}),emptyMessage:ve.a.translate("No new followers to report yet.",{comment:"Notifications follows filter: no notifications"}),emptyLinkMessage:ve.a.translate("Get noticed: comment on posts you've read.",{comment:"Notifications follows filter: no notifications"}),emptyLink:"https://wordpress.com/activities/likes/",filter:function(e){var t=e.type;return"follow"===t}}},likes:function(){return{name:"likes",index:4,label:ve.a.translate("Likes",{comment:"Notifications filter: notifications about users liking your posts or comments"}),emptyMessage:ve.a.translate("No new likes to show yet.",{comment:"Notifications likes filter: no Notifications"}),emptyLinkMessage:ve.a.translate("Get noticed: comment on posts you've read.",{comment:"Notifications likes filter: no Notifications"}),emptyLink:"https://wordpress.com/activities/likes/",filter:function(e){var t=e.type;return"comment_like"===t||"like"===t}}}},ze=Fe,Pe=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(s))),n.selectFilter=function(e){e&&(e.stopPropagation(),e.preventDefault());var t=e.target.dataset.filterName;n.props.controller.selectFilter(t)},n}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props.filterName,n=Object.keys(ze).map(function(e){return ze[e]()}).sort(function(e,t){return e.index-t.index});return w.a.createElement("div",{className:"wpnc__filter"},w.a.createElement("ul",{className:"wpnc__filter__segmented-control"},n.map(function(n){var o=n.label,s=n.name;return w.a.createElement("li",{key:s,"data-filter-name":s,className:_e()("wpnc__filter__segmented-control-item",{selected:s===t}),onClick:e.selectFilter},o)})))}}]),t}(b.Component),He=Object(_.b)(function(e){return{filterName:je(e)}})(Object(ge.localize)(Pe)),Ue={viewSettings:Z.ui.viewSettings},Be=Object(_.b)(null,Ue)(function(e){var t=e.isFirst,n=e.title,o=e.viewSettings;return w.a.createElement("li",{className:"wpnc__time-group-wrap"},w.a.createElement("div",{className:"wpnc__time-group-title"},w.a.createElement(Ee,{icon:"time",size:18}),n,t&&w.a.createElement(Ee,{icon:"cog",size:18,onClick:o})))});function qe(e){return e.filter(function(e){return e.hasOwnProperty("actions")}).slice(-1)[0]||{}}function Ke(e){return qe(e.body).actions}function We(e,t){return e.meta&&e.meta.ids&&e.meta.ids[t]?e.meta.ids[t]:null}var Ge=function(e,t){return function(e,t){var n=e.noteApprovals;if(n.hasOwnProperty(t.id))return n[t.id];var o=Ke(t);return o&&!0===o["approve-comment"]}(T(e),t)},$e=function(e){return Object(E.get)({"":"mention","":"comment","":"add","":"info","":"lock","":"stats-alt","":"reblog","":"star","":"trophy","":"reply","":"warning","":"checkmark","":"cart"},e,"info")},Ye={PENDING:"PENDING",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED"},Je=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(s))),n.state={status:Ye.PENDING},n.createLoader=function(e){var t=(e||n.props).src;n.destroyLoader(),n.image=new Image,n.image.src=t,n.image.onload=n.onLoadComplete,n.image.onerror=n.onLoadComplete,n.setState({status:Ye.LOADING})},n.destroyLoader=function(){n.image&&(n.image.onload=E.noop,n.image.onerror=E.noop,delete n.image)},n.onLoadComplete=function(e){n.destroyLoader(),n.setState({status:"load"===e.type?Ye.LOADED:Ye.FAILED})},n}return g()(t,e),u()(t,[{key:"componentWillMount",value:function(){this.createLoader()}},{key:"componentWillReceiveProps",value:function(e){e.src!==this.props.src&&this.createLoader(e)}},{key:"componentWillUnmount",value:function(){this.destroyLoader()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.placeholder,o=e.src,s=this.state.status;return w.a.createElement("div",{className:"image-preloader"},s===Ye.LOADING&&n,s===Ye.LOADED&&w.a.createElement("img",{src:o}),s===Ye.FAILED&&t)}}]),t}(b.Component);Je.propTypes={src:y.a.string.isRequired,placeholder:y.a.element.isRequired,children:y.a.node};var Qe=Je,Ze=n("./node_modules/react-dom/server.browser.js"),Xe=n.n(Ze);function et(e,t,n,o,s){var i,r=null,a=[],l=n.type;switch(void 0!==n.type&&(i={b:"strong",i:"em",noticon:"gridicon"},n.type in i&&(l=i[n.type]),a.push("wpnc__"+l)),l){case"badge":n.hasOwnProperty("width")||(n.width=256),n.hasOwnProperty("height")||(n.height=256);case"image":r=document.createElement("img"),r.setAttribute("src",n.url),n.hasOwnProperty("width")&&r.setAttribute("width",n.width),n.hasOwnProperty("height")&&r.setAttribute("height",n.height),e.trim().length>0&&r.setAttribute("alt",e);break;case"blockquote":case"code":case"strong":case"em":case"list":switch(l){case"list":l="span"}r=document.createElement(l),tt(e,t,o,r,s);break;case"gridicon":r=document.createElement("span"),r.innerHTML=Xe.a.renderToStaticMarkup(w.a.createElement(Ee,{icon:$e(n.value),size:18}));break;case"button":a.push("is-primary");default:s.links&&n.url?(r=document.createElement("a"),r.setAttribute("href",n.url),"stat"==l?r.setAttribute("target","_parent"):r.setAttribute("target","_blank"),"post"===n.type&&(r.setAttribute("data-post-id",n.id),r.setAttribute("data-site-id",n.site_id),r.setAttribute("data-link-type","post"),r.setAttribute("target","_self")),tt(e,t,o,r,s)):(r=document.createElement("span"),e.length>0&&tt(e,t,o,r,s))}return a.length>0&&(r.className=a.join(" ")),r}function tt(e,t,n,o,s){var i,r,a,l,c,u,p,d,h,m=null,f=null;for(i=0;i<t.length;i++)if(0==t[i].index.length)null==m&&(m=i);else{for(a in null!=m&&(f=i,o.appendChild(document.createTextNode(e.substring(m,f))),m=null,f=null),r=null,t[i].index)(null===r||t[i].index[a].len>t[i].index[r].len)&&(r=a);for(c=t[i].index[r].id,u=n[c],p=i+t[i].index[r].len-1,d=e.substring(i,i+t[i].index[r].len),h=t.slice(i,1+i+t[i].index[r].len),l=0;l<h.length;l++)h[l].index.splice(r,1);o.appendChild(et(d,h,u,n,s)),i=p}null!=m&&o.appendChild(document.createTextNode(e.substring(m,e.length))),o.normalize()}function nt(e){var t,n=-1,o=0;if(e.length<1)return null;for(t=0;t<e.length;t++)null!==e[t]&&(-1===n||e[t].indices[1]-e[t].indices[0]>o)&&(n=t,o=e[t].indices[1]-e[t].indices[0]);return n}function ot(e,t){var n=new Array;return t=t||{},t.links=void 0===t.links||t.links,n=n.concat(e.ranges||[]),n=n.concat(e.media||[]),function(e,t,n){var o,s,i,r,a=document.createDocumentFragment(),l=JSON.parse(JSON.stringify(t)),c=[];for(o=0;o<=e.length;o++)c[o]={index:[]};for(o=0;o<l.length;o++){if(s=nt(l),0==t[s].indices[1]&&0==t[s].indices[1])a.appendChild(et("",[],t[s],t,n));else for(r=t[s].indices[1]-t[s].indices[0],i=t[s].indices[0];i<=t[s].indices[1];i++)c[i].index.push({id:s,len:r});l[s]=null}return tt(e,c,t,a,n),a}(e.text,n,t)}function st(e,t){var n=document.createElement("div");return n.appendChild(ot(e,t)),n.innerHTML}n("./node_modules/debug/src/browser.js")("notifications:summary-in-list");var it=n("./node_modules/notifications-panel/src/helpers/stats.js"),rt=it.recordTracksEvent,at=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(s))),n.handleClick=function(e){e.stopPropagation(),e.preventDefault(),e.metaKey||e.shiftKey?window.open(n.props.note.url,"_blank"):n.props.currentNote==n.props.note.id?n.props.unselectNote():(rt("calypso_notification_note_open",{note_type:n.props.note.type}),n.props.selectNote(n.props.note.id))},n}return g()(t,e),u()(t,[{key:"render",value:function(){var e=st(this.props.note.subject[0],{links:!1}),t=null;return 1<this.props.note.subject.length&&(t=w.a.createElement("div",{className:"wpnc__excerpt"},this.props.note.subject[1].text)),w.a.createElement("div",{className:"wpnc__summary",onClick:this.handleClick},w.a.createElement("div",{className:"wpnc__note-icon"},w.a.createElement(Qe,{src:this.props.note.icon,placeholder:w.a.createElement("img",{src:"https://www.gravatar.com/avatar/ad516503a11cd5ca435acc9bb6523536?s=128"})}),w.a.createElement("span",{className:"wpnc__gridicon"},w.a.createElement(Ee,{icon:$e(this.props.note.noticon),size:16}))),w.a.createElement("div",{className:"wpnc__text-summary"},w.a.createElement("div",{className:"wpnc__subject",dangerouslySetInnerHTML:{__html:e}}),t))}}]),t}(w.a.Component),lt=Object(_.b)(null,function(e){return{selectNote:Object(E.flowRight)(e,Z.ui.selectNote),unselectNote:Object(E.flowRight)(e,Z.ui.unselectNote)}},null,{pure:!1})(at),ct=function(e){return e.split("\n").reduce(function(e,t){var n=e.out,o=e.inFence,s=e.inList;if(/^(```|“`)[a-z1-9]*\s*$/i.test(t))return o?{out:n+"</code></pre>",inFence:!1,inList:s}:{out:n+"<pre><code>",inFence:!0,inList:s};if(o)return{out:n+t+"\n",inFence:o,inList:s};var i=/^[\w\s-_]+:/.test(t)?"<strong>"+t.split(":")[0]+":</strong>"+t.replace(/^[^:]+:/,""):t,r=i.replace(/`([^`]+)`/,"<code>$1</code>");return/^\s*[*\-\u2012-\u2015\u2022]\s/.test(r)?{out:n+(s?"":'<ul class="wpnc__body-list">')+"<li>"+r.replace(/^\s*[*\-\u2012-\u2015\u2022]\s/,"")+"</li>",inFence:o,inList:!0}:/^\s*x\s/i.test(r)?{out:n+(s?"":'<ul class="wpnc__body-todo">')+'<li class="wpnc__todo-done">'+r.replace(/^\s*x\s/i,"")+"</li>",inFence:o,inList:!0}:/^\s*o\s/i.test(r)?{out:n+(s?"":'<ul class="wpnc__body-todo">')+'<li class="wpnc__todo-not-done">'+r.replace(/^\s*o\s/i,"")+"</li>",inFence:o,inList:!0}:{out:n+(s?"</ul>":"")+"<div>"+r+"</div>",inFence:o,inList:!1}},{out:"",inFence:!1,inList:!1}).out};function ut(e){return e.split("\n\n").map(function(e,t){var n="block-text-"+t+"-"+e.length+"-"+e.slice(0,3)+"-"+e.slice(-3),o=ct(e);return w.a.createElement("div",{key:n,dangerouslySetInnerHTML:{__html:o}})})}function pt(e,t){return void 0===t&&(t="wpnc__paragraph"),e.split("\n\n").map(function(e,n){var o="block-text-"+n+"-"+e.length+"-"+e.slice(0,3)+"-"+e.slice(-3),s=ct(e);return w.a.createElement("div",{className:t,key:o,dangerouslySetInnerHTML:{__html:s}})})}function dt(e,t){var n=function(e,t){return e&&e.length?e.map(function(e){var n="text",o=null;return void 0!==e.type&&(n=e.type),t&&t.meta&&t.meta.ids&&t.meta.ids.reply_comment&&e.ranges&&e.ranges.length>1&&e.ranges[1].id==t.meta.ids.reply_comment&&(n="reply",o=e.ranges[1].id),void 0===e.meta||void 0===e.meta.ids||Object.keys(e.meta.ids).length<1?{type:n,id:o}:(void 0!==e.meta.ids.comment?(n="comment",o=e.meta.ids.comment):void 0!==e.meta.ids.post?(n="post",o=e.meta.ids.post):void 0!==e.meta.ids.user&&(n="user",o=e.meta.ids.user),{type:n,id:o})}):[]}(e,t);return e.map(function(e,t){return{block:e,signature:n[t]}})}var ht=/^(?:http(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|blog|[a-z]{2}))|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/i,mt=function(e,t){var n,o=Object(E.get)(e,"meta.ids",{}),s=o.site,i=o.comment,r=o.post,a=Object(E.get)(t,"meta.ids",{}),l=a.site,c=t?l:s;if(t?n="site":i?n="comment":r&&(n="post"),"site"===n&&!c)return{};switch(n){case"site":case"post":case"comment":return Object(E.pickBy)({"data-link-type":n,"data-site-id":c,"data-post-id":r,"data-comment-id":i});default:return{}}},ft=function(e){var t=e.note,n=e.snippet,o=e.url;return w.a.createElement("a",be()({href:o},mt(t),{target:"_blank"}),w.a.createElement("span",{className:"wpnc__excerpt"},n.text))},gt=function(e){function t(){return l()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=this.props.user.media[0],t=w.a.createElement("img",{src:e.url,height:e.height,width:e.width}),n=this.props.user.ranges[0].url,o=this.props.note,s=function(e,t){return n?w.a.createElement("a",{className:e,href:n,target:"_blank"},t):w.a.createElement("a",{className:e+" disabled",disabled:"disabled"},t)};if(this.props.user.ranges.length>1){var i={};return i.ranges=this.props.user.ranges,i.text=this.props.user.text,w.a.createElement("div",{className:"wpnc__user wpnc__header"},w.a.createElement("img",{src:e.url}),w.a.createElement("div",{className:"wpnc__user__usertitle",dangerouslySetInnerHTML:{__html:st(i)}}),w.a.createElement(ft,{note:o,snippet:this.props.snippet,url:this.props.url}))}return w.a.createElement("div",{className:"wpnc__user wpnc__header"},s("wpnc__user__site",t),w.a.createElement("div",null,w.a.createElement("span",{className:"wpnc__user__username"},s("wpnc__user__home",this.props.user.text))),w.a.createElement(ft,{note:o,snippet:this.props.snippet,url:this.props.url}))}}]),t}(w.a.Component),vt=w.a.createFactory(function(e){function t(){return l()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=w.a.createElement("div",{className:"wpnc__subject",dangerouslySetInnerHTML:{__html:st(this.props.subject)}});return w.a.createElement("div",{className:"wpnc__summary"},e,w.a.createElement(ft,{note:this.props.note,snippet:this.props.snippet,url:this.props.url}))}}]),t}(w.a.Component)),yt=function(e){function t(){return l()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e,t;return this.props.note.header&&0!==this.props.note.header.length?this.props.note.header.length>1?"user"===this.props.note.header[0].ranges[0].type?(e=this.props.note.url,"comment"===this.props.note.type&&this.props.note.meta.ids.parent_comment&&(t=document.createElement("a"),t.href=this.props.note.url,t.hash="#comment-"+this.props.note.meta.ids.parent_comment,e=t.href),w.a.createElement(gt,{note:this.props.note,snippet:this.props.note.header[1],url:e,user:this.props.note.header[0]})):w.a.createElement(vt,{note:this.props.note,snippet:this.props.note.header[1],subject:this.props.note.header[0],url:this.props.note.url}):w.a.createElement(vt,{note:this.props.note,snippet:"",subject:this.props.note.header[0],url:this.props.note.url}):w.a.createElement("span",null)}}]),t}(w.a.Component),bt=yt,wt=n("./node_modules/create-react-class/index.js"),_t=n.n(wt),Et=function(e){var t=e.block,n=e.meta;return w.a.createElement("div",{className:_e()("wpnc__comment",{"comment-other":n.ids.comment!==t.meta.ids.comment,"comment-self":n.ids.comment===t.meta.ids.comment})},pt(st(t)))},Nt=function(e,t){return function(e,t){var n=e.noteLikes;if(n.hasOwnProperty(t.id))return n[t.id];var o=Ke(t),s=t.meta.ids.comment?"like-comment":"like-post";return o[s]}(T(e),t)},kt=n("./node_modules/events/events.js"),St=n.n(kt),xt=Object.freeze({DISABLE_KEYBOARD_SHORTCUTS:"notes-disable-keyboard-shortcuts",ENABLE_KEYBOARD_SHORTCUTS:"notes-enable-keyboard-shortcuts",SET_GLOBAL_DATA:"notes-set-global-data"}),Lt=function(e,t){var n;switch(t.type){case xt.DISABLE_KEYBOARD_SHORTCUTS:case xt.ENABLE_KEYBOARD_SHORTCUTS:var o=t.type===xt.ENABLE_KEYBOARD_SHORTCUTS;e.global.keyboardShortcutsAreEnabled=o,n=ie()({},e,{input:ie()({},e.input,{shortcutsAreEnabled:o})});break;default:n=e}return n},Tt=new St.a.EventEmitter,Ot=ie()({},{input:{shortcutsAreEnabled:!0}});var It={dispatch:function(e){var t=Ot;Ot=function(e,t){var n;switch(t.type){case xt.SET_GLOBAL_DATA:n=ie()({},e,{global:t.data});break;default:n=e}return n=Lt(n,t),n}(Ot,e),t!==Ot&&Tt.emit("change")},get:function(e){return e?Ot[e]:Ot}},Ct=n("./node_modules/notifications-panel/src/helpers/stats.js"),At=Ct.recordTracksEvent;function jt(e){F("notes-click-action",e)}function Mt(e){var t=It.get("global").client;return function(){return t.getNote(e)}}var Dt=65,Rt=69,Vt=76,Ft=83,zt=84,Pt=function(e){return e.altKey||e.ctrlKey||e.metaKey},Ht=function(){return It.get().input.shortcutsAreEnabled},Ut=function(e,t){e.preventDefault(),e.stopPropagation(),t()},Bt=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(s))),n.handleKeyDown=function(e){n.props.shortcuts&&Ht()&&n.props.shortcuts.filter(function(t){return t.hotkey===e.keyCode}).filter(function(t){return(t.withModifiers||!1)===Pt(e)}).forEach(function(t){return Ut(e,t.action)})},n}return g()(t,e),u()(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function(){return this.props.children}}]),t}(b.Component);Bt.propTypes={shortcuts:y.a.arrayOf(y.a.shape({action:y.a.func.isRequired,hotkey:y.a.number.isRequired,withModifiers:y.a.bool}))};var qt=Bt,Kt=function(e){var t=e.isActive,n=e.hotkey,o=e.icon,s=e.onToggle,i=e.text,r=e.title;return w.a.createElement(qt,{shortcuts:n?[{hotkey:n,action:s}]:null},w.a.createElement("button",{className:_e()("wpnc__action-link",{"active-action":t,"inactive-action":!t}),title:r,onClick:s},w.a.createElement(Ee,{icon:o,size:24}),w.a.createElement("p",null,i)))};Kt.propTypes={isActive:y.a.bool.isRequired,hotkey:y.a.number,icon:y.a.string,onToggle:y.a.func.isRequired,text:y.a.string.isRequired,title:y.a.string.isRequired};var Wt=Kt,Gt=function(e){var t=e.isApproved,n=e.note,o=e.translate;return w.a.createElement(Wt,{icon:"checkmark",isActive:t,hotkey:Dt,onToggle:function(){return function(e,t,n,o,s){var i=I().site(t).comment(n);Do.dispatch(Z.notes.approveNote(e,o)),jt(o?"unapprove-comment":"approve-comment"),At("calypso_notification_note_"+(o?"approve":"unapprove"),{note_type:s}),i.update({status:o?"approved":"unapproved"},Mt(e))}(n.id,We(n,"site"),We(n,"comment"),!t,n.type)},text:t?o("Approved",{context:"verb: past-tense"}):o("Approve",{context:"verb: imperative"}),title:o(t?"Unapprove comment":"Approve comment",{context:"verb: imperative"})})};Gt.propTypes={isApproved:y.a.bool.isRequired,note:y.a.object.isRequired,translate:y.a.func.isRequired};var $t=Object(ge.localize)(Gt),Yt=function(e){var t=e.editComment,n=e.note,o=e.translate,s=Object(E.get)(n,"meta.ids",{}),i=s.site,r=s.post,a=s.comment;return w.a.createElement(Wt,{icon:"pencil",isActive:!1,hotkey:Rt,onToggle:function(){return t(i,r,a,function(e){return qe(e.body).edit_comment_link}(n))},text:o("Edit",{context:"verb: imperative"}),title:o("Edit comment",{context:"verb: imperative"})})};Yt.propTypes={editComment:y.a.func.isRequired,note:y.a.object.isRequired,translate:y.a.func.isRequired};var Jt=Object(_.b)(null,{editComment:J})(Object(ge.localize)(Yt)),Qt=function(e){var t=e.commentId,n=e.isLiked,o=e.note,s=e.translate;return w.a.createElement(Wt,{icon:"star",isActive:n,hotkey:Vt,onToggle:function(){return function(e,t,n,o,s){var i=o?"comment":"post",r="comment"===i?I().site(t).comment(o):I().site(t).post(n);return Do.dispatch(Z.notes.likeNote(e,s)),jt((s?"unlike":"like")+"-"+i),At("calypso_notification_note_"+(s?"like":"unlike"),{note_type:i}),s?r.like().add(Mt(e)):r.like().del(Mt(e))}(o.id,We(o,"site"),We(o,"post"),We(o,"comment"),!n)},text:n?s("Liked",{context:"verb: past-tense"}):s("Like",{context:"verb: imperative"}),title:n?s(t?"Remove like from comment":"Remove like from post"):s(t?"Like comment":"Like post",{context:"verb: imperative"})})};Qt.propTypes={commentId:y.a.number,isLiked:y.a.bool.isRequired,note:y.a.object.isRequired,translate:y.a.func.isRequired};var Zt=Object(ge.localize)(Qt),Xt=function(){It.dispatch({type:xt.DISABLE_KEYBOARD_SHORTCUTS})},en=function(){It.dispatch({type:xt.ENABLE_KEYBOARD_SHORTCUTS})},tn=function(e){function t(){return l()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=_e()("wpnc__spinner",this.props.className),t={width:this.props.size,height:this.props.size,fontSize:this.props.size};return w.a.createElement("div",{className:e},w.a.createElement("div",{className:"wpnc__spinner__outer",style:t},w.a.createElement("div",{className:"wpnc__spinner__inner"})))}}]),t}(b.PureComponent);tn.propTypes={className:y.a.string,size:y.a.number},tn.defaultProps={size:20};var nn=function(e,t,n){var o=t.toLowerCase(),s=function(e,t){var n={};return n.username="(^"+t+")(\\w*)\\s*",n.fullname="(^.*?)(\\b"+t+")(.*)",new RegExp(n[e],"ig")}(n,t),i=s.exec(e);return i?i.slice(1).reduce(function(e,t){var n=Ce()(e,2),s=n[0],i=n[1],r=!i&&o===t.toLowerCase(),a=r?"strong":"text";return[Oe()(s).concat([{type:a,text:t}]),r]},[[],!1])[0]:[{type:"text",text:e}]},on=function(e){function t(){return l()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=nn(this.props.username,this.props.suggestionsQuery,"username");e.unshift({type:"text",text:"@"});var t=nn(this.props.fullName,this.props.suggestionsQuery,"fullname");return w.a.createElement("li",{ref:this.props.getElement,key:this.props.username,className:this.props.selected?"cur":"",onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter},w.a.createElement("img",{src:this.props.avatarUrl}),w.a.createElement("span",{className:"wpnc__username"},e.map(function(e,t){var n=e.type,o=e.text;return"strong"===n?w.a.createElement("strong",{key:t},o):w.a.createElement("span",{key:t},o)})),w.a.createElement("small",null,t.map(function(e,t){var n=e.type,o=e.text;return"strong"===n?w.a.createElement("strong",{key:t},o):w.a.createElement("span",{key:t},o)})))}}]),t}(w.a.Component),sn=on,rn=(n("./node_modules/debug/src/browser.js")("notifications:note"),/(?:^|\s)@([^\s]*)$/i),an=function(e){this.state.suggestionsVisible&&(e.stopPropagation(),e.preventDefault())},ln={componentWillUnmount:function(){window.removeEventListener("keydown",this.handleSuggestionsKeyDown,!1),window.removeEventListener("keyup",this.handleSuggestionsKeyUp,!1),window.removeEventListener("blur",this.handleSuggestionBlur,!0)},componentDidMount:function(){window.addEventListener("keydown",this.handleSuggestionsKeyDown,!1),window.addEventListener("keyup",this.handleSuggestionsKeyUp,!1),window.addEventListener("blur",this.handleSuggestionBlur,!0),this.props.fetchSuggestions(this.props.note.meta.ids.site)},componentDidUpdate:function(){if(this.suggestionsMixin_suggestionList){var e=this.suggestionsMixin_suggestionList;this.suggestionListMarginTop||(this.suggestionListMarginTop=window.getComputedStyle(e)["margin-top"]);var t=this.replyInput,n=t.getBoundingClientRect();this.suggestionsAbove=e.offsetHeight>window.innerHeight-n.top&&e.offsetHeight<n.top,this.suggestionsAbove&&(e.style.top="-"+(e.offsetHeight+n.height+parseInt(this.suggestionListMarginTop))+"px",e.style.marginTop="0")}},getCaretPosition:function(e){return e.selectionStart},setCaretPosition:function(e,t){e.focus(),setTimeout(function(){return e.setSelectionRange(t,t)},0)},getQueryText:function(e){if(!e.value)return null;var t=e.value.slice(0,this.getCaretPosition(e)),n=rn.exec(t);if(!n)return null;var o=Ce()(n,2),s=o[1];return Object(E.escapeRegExp)(s)},insertSuggestion:function(e,t){if(t){var n=this.getCaretPosition(e),o=this.state.value.slice(0,Math.max(n-this.state.suggestionsQuery.length,0)),s=this.state.value.slice(n);this.setState({value:o+t.user_login+" "+s,suggestionsVisible:!1}),this.setCaretPosition(e,o.length+t.user_login.length+1)}},handleSuggestionsKeyDown:function(e){var t;if(this.state.suggestionsVisible&&0!==this.props.suggestions.length)if(13!==e.keyCode){if(38===e.keyCode||40===e.keyCode){an.call(this,e);var n=this.state.suggestions,o=function(e){var t=this;if(!this.state.selectedSuggestionId)return 0;var n=Object(E.findIndex)(e,function(e){var n=e.ID;return n===t.state.selectedSuggestionId});return n>-1?n:null}.call(this,n);if(null!==o){var s=(t={},L()(t,38,-1),L()(t,40,1),t)[e.keyCode];this.setState({selectedSuggestionId:n[(o+s+n.length)%n.length].ID},this.ensureSelectedSuggestionVisibility)}}}else an.call(this,e)},handleSuggestionsKeyUp:function(e){var t=e.keyCode,n=e.target;if(13===t){if(!this.state.suggestionsVisible||0===this.props.suggestions.length)return;return this.insertSuggestion(n,function(){var e=this;return!this.state.selectedSuggestionId&&this.props.suggestions.length>0?this.props.suggestions[0]:Object(E.find)(this.props.suggestions,function(t){var n=t.ID;return n===e.state.selectedSuggestionId})||null}.call(this)),this.setState({suggestionsVisible:!1})}if(27===t||32===t)return this.setState({suggestionsVisible:!1});if(38!==t&&40!==t){var o=this.getQueryText(n),s=function(e){return new RegExp("^"+e+"| "+e,"i")}(o),i=this.props.suggestions.filter(function(e){var t=e.name;return s.test(t)}).slice(0,10);this.setState({suggestionsQuery:o,suggestionsVisible:"string"==typeof o,selectedSuggestionId:i.length>0?i[0].ID:null,suggestions:i})}},handleSuggestionClick:function(e){this.insertSuggestion(this.replyInput,e)},handleSuggestionBlur:function(){!this.suggestionsCancelBlur&&this.isMounted()&&this.setState({suggestionsVisible:!1})},ensureSelectedSuggestionVisibility:function(){if(!this.suggestionsAbove&&this.suggestionsMixin_suggestionNodes){var e=this.suggestionsMixin_suggestionNodes[this.state.selectedSuggestionId];if(e){var t=function e(t){var n=t.offsetTop;return t.offsetParent?n+e(t.offsetParent):n}(e)+e.offsetHeight;t>window.innerHeight&&e.scrollIntoView()}}},renderSuggestions:function(){var e=this,t=this.state,n=t.suggestions,o=t.suggestionsVisible,s=t.selectedSuggestionId;if(o&&n.length)return w.a.createElement("div",{className:"wpnc__suggestions",ref:function(t){return e.suggestionsMixin_suggestionList=t},onMouseEnter:function(){return e.suggestionsCancelBlur=!0},onMouseLeave:function(){return e.suggestionsCancelBlur=!1}},w.a.createElement("ul",null,n.map(function(t){return w.a.createElement(sn,{key:"user-suggestion-"+t.ID,getElement:function(n){return e.suggestionsMixin_suggestionNodes=ie()({},e.suggestionsMixin_suggestionNodes,L()({},t.ID,n))},onClick:e.handleSuggestionClick.bind(e,t),onMouseEnter:function(e){this.setState({selectedSuggestionId:e.ID})}.bind(e,t),avatarUrl:t.image_URL,username:t.user_login,fullName:t.display_name,selected:t.ID===s,suggestionsQuery:e.state.suggestionsQuery})})))}},cn=ln,un=n("./node_modules/debug/src/browser.js")("notifications:note");function pn(e){var t;try{return t=localStorage.getItem(e),JSON.parse(t)}catch(n){if(n instanceof SyntaxError)return t;un("couldnt get localStorage item for: %s",e)}return null}function dn(e){try{localStorage.removeItem(e)}catch(t){un("couldnt remove item from localStorage for: %s",e)}}var hn={localStorage:{getItem:pn,setItem:function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(t){un("couldnt set localStorage item for: %s",e)}},removeItem:dn}},mn=function(){var e=[];try{for(var t=0;t<localStorage.length;t++){var n=localStorage.key(t);if("reply_"==localStorage.key(t).substring(0,6)){var o=pn(n);o&&Date.now()-o[1]>=864e5&&e.push(n)}}}catch(e){un("couldnt cleanup cache")}e.forEach(function(e){dn(e)})},fn={cleanup:mn,LocalStorageMixin:hn},gn=n("./node_modules/debug/src/browser.js")("notifications:reply"),vn=n("./node_modules/notifications-panel/src/helpers/stats.js"),yn=vn.recordTracksEvent,bn=_t()({displayName:"CommentReplyInput",mixins:[fn.LocalStorageMixin,cn],statics:{stopEvent:function(e){e.stopPropagation(),e.preventDefault()}},getInitialState:function(){return this.savedReplyKey="reply_"+this.props.note.id,{value:function(){var e=this.localStorage.getItem(this.savedReplyKey);return e?e[0]:""}.apply(this),hasClicked:!1,isSubmitting:!1,rowCount:1,retryCount:0}},componentDidMount:function(){window.addEventListener("keydown",this.handleKeyDown,!1),window.addEventListener("keydown",this.handleCtrlEnter,!1)},componentWillUnmount:function(){window.removeEventListener("keydown",this.handleKeyDown,!1),window.removeEventListener("keydown",this.handleCtrlEnter,!1),en()},handleKeyDown:function(e){this.props.global.keyboardShortcutsAreEnabled&&(this.props.global.input.modifierKeyIsActive(e)||82==e.keyCode&&(this.replyInput.focus(),bn.stopEvent(e)))},handleCtrlEnter:function(e){this.state.isSubmitting||!e.ctrlKey&&!e.metaKey||10!=e.keyCode&&13!=e.keyCode||(bn.stopEvent(e),this.handleSubmit())},handleSendEnter:function(e){this.state.isSubmitting||13==e.keyCode&&(bn.stopEvent(e),this.handleSubmit())},handleChange:function(e){var t=this.replyInput;Xt(),this.setState({value:e.target.value,rowCount:Math.min(4,Math.ceil(t.scrollHeight*this.state.rowCount/t.clientHeight))}),this.savedReplyKey&&this.localStorage.setItem(this.savedReplyKey,[e.target.value,Date.now()])},handleClick:function(e){Xt(),this.state.hasClicked||this.setState({hasClicked:!0})},handleFocus:function(){Xt()},handleBlur:function(){en(),""==this.state.value.replace(/^\s+|\s+$/g,"")&&this.setState({value:"",hasClicked:!1,rowCount:1})},handleSubmit:function(e){var t,n,o,s=this,i=this,r=this.props.translate("Reply posted!"),a=this.props.translate("View your comment.");e&&e.preventDefault(),""!=this.state.value&&(this.props.global.toggleNavigation(!1),this.setState({isSubmitting:!0}),0==this.state.retryCount&&(F("notes-click-action","replyto-comment"),yn("calypso_notification_note_reply",{note_type:this.props.note.type})),this.props.note.meta.ids.comment?(t=I().site(this.props.note.meta.ids.site).comment(this.props.note.meta.ids.comment),n=t.reply):(t=I().site(this.props.note.meta.ids.site).post(this.props.note.meta.ids.post).comment(),n=t.add),n.call(t,this.state.value,function(e,t){if(e){var n=s.props.translate("Duplicate comment; you've already said that!"),l=s.props.translate("Reply Failed: Please, try again.");"CommentDuplicateError"===e.name?(s.setState({isSubmitting:!1,retryCount:0}),s.replyInput.focus(),s.props.global.updateStatusBar(n,["fail"],6e3),s.props.unselectNote()):i.state.retryCount<3?(i.setState({retryCount:i.state.retryCount+1}),window.setTimeout(function(){i.handleSubmit()},2e3*i.state.retryCount)):(i.setState({isSubmitting:!1,retryCount:0}),i.props.global.updateStatusBar(l,["fail"],6e3),en(),i.props.global.toggleNavigation(!0),gn("Failed to submit comment reply: %s",e.message))}else i.props.note.meta.ids.comment&&(i.props.approveNote(i.props.note.id,!0),i.props.global.client.getNote(i.props.note.id)),i.replyInput.blur(),o=t.URL&&ht.test(t.URL)?function(){var e=[].slice.apply(arguments),t=e.shift();return t.replace(/{(\d+)}/g,function(t,n){return void 0!==e[n]?e[n]:t})}('{0} <a target="_blank" href="{1}">{2}</a>',r,t.URL,a):r,i.props.global.updateStatusBar(o,["success"],12e3),en(),i.props.global.toggleNavigation(!0),i.setState({value:"",isSubmitting:!1,hasClicked:!1,rowCount:1,retryCount:0}),i.localStorage.removeItem(i.savedReplyKey),i.props.selectNote(i.props.note.id)}))},storeReplyInput:function(e){this.replyInput=e},render:function(){var e=this.state.value,t="",n=this.props.translate("Send",{context:"verb: imperative"});if(this.state.isSubmitting)t=w.a.createElement(tn,{className:"wpnc__spinner"});else if(e.length){var o=this.props.translate("Submit reply",{context:"verb: imperative"});t=w.a.createElement("button",{title:o,className:"active",onClick:this.handleSubmit,onKeyDown:this.handleSendEnter},n)}else{o=this.props.translate("Write your response in order to submit");t=w.a.createElement("button",{title:o,className:"inactive"},n)}return w.a.createElement("div",{className:"wpnc__reply-box"},w.a.createElement("textarea",{ref:this.storeReplyInput,rows:this.state.rowCount,value:e,placeholder:this.props.defaultValue,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange}),t,this.renderSuggestions())}}),wn={approveNote:Z.notes.approveNote,fetchSuggestions:Z.suggestions.fetchSuggestions,selectNote:Z.ui.selectNote,unselectNote:Z.ui.unselectNote},_n=Object(_.b)(function(e,t){var n=t.note;return{suggestions:function(e,t){return function(e,t){return e.bySite[t]||[]}(re(e),t)}(e,n.meta.ids.site)}},wn,null,{pure:!1})(Object(ge.localize)(bn)),En=function(e){var t=e.note,n=e.translate;return w.a.createElement(Wt,{icon:"spam",isActive:!1,hotkey:Ft,onToggle:function(){return function(e){var t=It.get("global");jt("spam-comment"),At("calypso_notification_note_spam",{note_type:e.type}),Do.dispatch(Z.notes.spamNote(e.id)),t.updateUndoBar("spam",e)}(t)},text:n("Spam",{context:"verb: Mark as Spam"}),title:n("Mark comment as spam",{context:"verb: imperative"})})};En.propTypes={note:y.a.object.isRequired,translate:y.a.func.isRequired};var Nn=Object(ge.localize)(En),kn=function(e){var t=e.note,n=e.translate;return w.a.createElement(Wt,{icon:"trash",isActive:!1,hotkey:zt,onToggle:function(){return function(e){var t=It.get("global");jt("trash-comment"),At("calypso_notification_note_trash",{note_type:e.type}),Do.dispatch(Z.notes.trashNote(e.id)),t.updateUndoBar("trash",e)}(t)},text:n("Trash",{context:"verb: imperative"}),title:n("Trash comment",{context:"verb: imperative"})})};kn.propTypes={note:y.a.object.isRequired,translate:y.a.func.isRequired};var Sn=Object(ge.localize)(kn),xn=function(e,t){var n,o;return"user"===e.subject[0].ranges[0].type?(n=e.subject[0].ranges[0].indices,o=e.subject[0].text.substring(n[0],n[1])):o="user"===e.body[0].type?e.body[0].text:null,o?t("Reply to %(username)s...",{args:{username:o}}):"post"===function(e){return null===We(e,"comment")?"post":"comment"}(e)?t("Reply to post..."):t("Reply to comment...")},Ln=function(e){var t=e.global,n=e.isApproved,o=e.isLiked,s=e.note,i=e.translate,r=Ke(s),a=function(e){return[].concat(e).some(function(e){return r.hasOwnProperty(e)})};return w.a.createElement("div",{className:"wpnc__note-actions"},w.a.createElement("div",{className:"wpnc__note-actions__buttons"},a("approve-comment")&&w.a.createElement($t,{note:s,isApproved:n}),a("spam-comment")&&w.a.createElement(Nn,{note:s}),a("trash-comment")&&w.a.createElement(Sn,{note:s}),a(["like-post","like-comment"])&&w.a.createElement(Zt,{note:s,isLiked:o}),a("edit-comment")&&w.a.createElement(Jt,{note:s})),!!r["replyto-comment"]&&w.a.createElement(_n,{note:s,defaultValue:xn(s,i),global:t}))};Ln.propTypes={global:y.a.object.isRequired,isApproved:y.a.bool.isRequired,isLiked:y.a.bool.isRequired,note:y.a.object.isRequired,translate:y.a.func.isRequired};var Tn=Object(_.b)(function(e,t){var n=t.note;return{isApproved:Ge(e,n),isLiked:Nt(e,n)}})(Object(ge.localize)(Ln)),On=function(e){var t,n=e.blocks;return w.a.createElement("div",{className:"wpnc__preface"},(t=n,t.map(st).map(ut)))},In=function(e){var t=e.block;return w.a.createElement("div",{className:"wpnc__post"},pt(st(t)))},Cn=_t()({displayName:"FollowLink",propTypes:{site:y.a.number,isFollowing:y.a.bool},followStatTypes:{comment:"note_commented_post",comment_like:"note_liked_comment",like:"note_liked_post",follow:"note_followed",reblog:"note_reblog_post"},getInitialState:function(){return{isFollowing:this.props.isFollowing}},toggleFollowStatus:function(e){var t=this.state.isFollowing,n=I().site(this.props.site).follow(),o=this,s=function(e,t){if(e)throw e;o.isMounted()&&o.setState({isFollowing:t.is_following})};if(t)n.del(s),F("notes-click-action","unfollow");else{n.add(s);var i={"notes-click-action":"follow"};i.follow_source=this.followStatTypes[this.props.noteType],F(i)}this.setState({isFollowing:!t})},render:function(){var e,t;return this.state.isFollowing?(e="reader-following",t=this.props.translate("Following",{context:"you are following"})):(e="reader-follow",t=this.props.translate("Follow",{context:"verb: imperative"})),w.a.createElement("button",{className:"follow-link",onClick:this.toggleFollowStatus},w.a.createElement(Ee,{icon:e,size:18}),t)}}),An=Object(ge.localize)(Cn);function jn(e){var t=document.createElement("a");return t.href=e,(t.hostname+t.pathname).replace(/\/$/,"")}var Mn=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(s))),n.getTimeString=function(e){var t,o,s=Date.parse(e);return isNaN(s)?"":(t=n.props.moment(e),Date.now()-s>432e6?(o=t.format("ll"),o.length>15&&(o=t.format("l"))):o=t.fromNow(!0),o)},n}return g()(t,e),u()(t,[{key:"render",value:function(){var e,t,n,o=this.props.block.media[0],s="",i="";if(this.props.block.meta&&(this.props.block.meta.links&&(s=this.props.block.meta.links.home||""),this.props.block.meta.titles&&(i=this.props.block.meta.titles.home||"")),!i&&s&&(i=jn(s)),"comment"===this.props.note.type?(!this.props.isApproved&&s&&(i=jn(s)),e=w.a.createElement("span",{className:"wpnc__user__timeIndicator"},w.a.createElement("a",be()({href:this.props.note.url,target:"_blank"},mt(this.props.note)),this.getTimeString(this.props.note.timestamp)),w.a.createElement("span",{className:"wpnc__user__bullet"}))):e="",i){var r=""!=e?"wpnc__user__meta wpnc__user__bulleted":"wpnc__user__meta";t=w.a.createElement("p",{className:r},w.a.createElement("span",{className:"wpnc__user__ago"},e),w.a.createElement("a",be()({className:"wpnc__user__site",href:s,target:"_blank"},mt(this.props.note,this.props.block)),i))}else t=w.a.createElement("div",{className:"wpnc__user__meta"},w.a.createElement("span",{className:"wpnc__user__ago"},e));return this.props.block.actions&&"undefined"!=this.props.block.meta.ids.site&&(n=w.a.createElement(An,{site:this.props.block.meta.ids.site,isFollowing:this.props.block.actions.follow,noteType:this.props.note.type})),s?w.a.createElement("div",{className:"wpnc__user"},w.a.createElement("a",{className:"wpnc__user__site",href:s,target:"_blank"},w.a.createElement("img",{src:o.url,height:o.height,width:o.width})),w.a.createElement("span",{className:"wpnc__user__username"},w.a.createElement("a",{className:"wpnc__user__home",href:s,target:"_blank"},this.props.block.text)),t,n):w.a.createElement("div",{className:"wpnc__user"},w.a.createElement("img",{src:o.url,height:o.height,width:o.width}),w.a.createElement("span",{className:"wpnc__user__username"},this.props.block.text),t,n)}}]),t}(w.a.Component),Dn=Object(_.b)(function(e,t){var n=t.note;return{isApproved:Ge(e,n)}})(Object(ge.localize)(Mn)),Rn=function(e){function t(){return l()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"render",value:function(){var e=pt(st(this.props.block),"");return w.a.createElement("div",{className:"wpnc__reply"},e)}}]),t}(w.a.Component),Vn=_t()({displayName:"NoteBody",getInitialState:function(){return{reply:null}},componentDidMount:function(){F("notes-click-type",this.props.note.type)},replyLoaded:function(e,t){!e&&this.isMounted()&&this.setState({reply:t})},componentWillMount:function(){var e,t=this.props.note;t.meta&&t.meta.ids.reply_comment&&(e=t.body.filter(function(e){return e.ranges&&e.ranges.length>1&&e.ranges[1].id==t.meta.ids.reply_comment}).length>0,e||I().site(this.props.note.meta.ids.site).comment(this.props.note.meta.ids.reply_comment).get(this.replyLoaded))},render:function(){var e,t,n,o=dt(this.props.note.body,this.props.note),s="",i="",r=null;for(n=0;n<o.length;n++)if("text"!==o[n].signature.type){t=n;break}t&&(i=w.a.createElement(On,{blocks:this.props.note.body.slice(0,n)}),o=o.slice(n));var a=[];for(n=0;n<o.length;n++){var l=o[n],c="block-"+this.props.note.id+"-"+n;switch(l.block.actions&&"user"!==l.signature.type&&(s=w.a.createElement(Tn,{note:this.props.note,block:l.block,global:this.props.global})),l.signature.type){case"user":a.push(w.a.createElement(Dn,{key:c,block:l.block,noteType:this.props.note.type,note:this.props.note,timestamp:this.props.note.timestamp,url:this.props.note.url}));break;case"comment":a.push(w.a.createElement(Et,{key:c,block:l.block,meta:this.props.note.meta}));break;case"post":a.push(w.a.createElement(In,{key:c,block:l.block,meta:this.props.note.meta}));break;case"reply":r=w.a.createElement(Rn,{key:c,block:l.block});break;default:a.push(pt(st(l.block)))}}return this.state.reply&&this.state.reply.URL&&(e=this.props.note.meta.ids.comment?this.props.translate("You {{a}}replied{{/a}} to this comment.",{components:{a:w.a.createElement("a",{href:this.state.reply.URL,target:"_blank"})}}):this.props.translate("You {{a}}replied{{/a}} to this post.",{components:{a:w.a.createElement("a",{href:this.state.reply.URL,target:"_blank"})}}),r=w.a.createElement("div",{className:"wpnc__reply"},w.a.createElement("span",{className:"wpnc__gridicon"},""),e)),w.a.createElement("div",{className:"wpnc__body"},i,w.a.createElement("div",{className:"wpnc__body-content"},a),r,s)}}),Fn=Object(ge.localize)(Vn),zn=Object(_.b)(function(e,t){var n=t.note;return{isApproved:Ge(e,n),isRead:O(e,n)}})(function(e){var t=e.currentNote,n=e.detailView,o=e.global,s=e.isApproved,i=e.isRead,r=e.note,a=e.selectedNote,l=!1,c=!1;if("comment"===r.type){var u=r.body,p=Ke(r);u.length>1&&p&&(u[1]&&u[1].nest_level&&u[1].nest_level>0&&(l=!0),"approve-comment"in p&&!s&&(c=!0))}var d,h=_e()("wpnc__note","wpnc__"+r.type,{"comment-reply":l,read:i,unread:!i,wpnc__badge:(d=r.body,d.some(function(e){var t=e.media;return t&&t.some(function(e){var t=e.type;return"badge"===t})})),"wpnc__comment-unapproved":c,wpnc__current:n,"wpnc__selected-note":parseInt(a,10)===parseInt(r.id,10)});return w.a.createElement("li",{id:"note-"+r.id,className:h},n&&r.header&&r.header.length>0&&w.a.createElement(bt,{key:"note-summary-single-"+r.id,note:r}),!n&&w.a.createElement(lt,{currentNote:t,key:"note-summary-list"+r.id,note:r,global:o}),n&&w.a.createElement(Fn,{key:"note-body-"+r.id,note:r,global:o}))}),Pn=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(s))),n.state={isVisible:!1,timeoutHandle:null},n.disappear=function(){n.setState({isVisible:!1,timeoutHandle:null}),n.props.statusReset()},n}return g()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(e){if(""!=e.statusMessage&&e.statusMessage!=this.props.statusMessage){var t=this,n=window.setTimeout(function(){t.disappear()},e.statusTimeout?e.statusTimeout:this.props.statusTimeout);this.setState({isVisible:!0,timeoutHandle:n})}}},{key:"render",value:function(){var e=this.state.isVisible?{display:"flex"}:{display:"none"},t=["wpnc__status-bar"];return void 0!==this.props.statusClasses&&this.props.statusClasses.length>0&&t.push.apply(t,this.props.statusClasses),w.a.createElement("div",{className:t.join(" "),style:e},w.a.createElement("span",null),w.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.statusMessage}}),w.a.createElement("button",{className:"wpnc__close-link",onClick:this.disappear},w.a.createElement(Ee,{icon:"cross",size:18})))}}]),t}(w.a.Component);Pn.defaultProps={statusTimeout:4e3};var Hn=Pn,Un=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),Bn=n.n(Un),qn=n("./node_modules/notifications-panel/src/helpers/stats.js"),Kn=qn.recordTracksEvent,Wn=85,Gn=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(s))),n.state={undoTimer:null,undoTimeout:4500,isVisible:!0},n.handleKeyDown=function(e){n.props.global.keyboardShortcutsAreEnabled&&(n.props.global.input.modifierKeyIsActive(e)||null===n.state.undoTimer||n.props.selectedNoteId||Wn!==e.keyCode||n.cancelAction(e))},n.startUndoSequence=function(){var e=setTimeout(n.executor,n.state.undoTimeout);n.instance&&n.setState({undoTimer:e})},n.executor=function(){var e={spam:n.spamComment,trash:n.deleteComment};n.props.action in e?e[n.props.action]():n.props.global.resetUndoBar()},n.spamComment=function(){var e=I().site(n.props.note.meta.ids.site).comment(n.props.note.meta.ids.comment),t=Bn()(Bn()(n)),o=function(e,t){if(e)throw e;t.status};e.get(function(t,n){if(t)throw t;n.status="spam",e.update(n,o)}),n.props.removeNotes([n.props.note.id]),t.finishExecution()},n.deleteComment=function(){I().site(n.props.note.meta.ids.site).comment(n.props.note.meta.ids.comment).del(function(e){if(e)throw e}),n.instance&&n.setState({isVisible:!1}),n.props.removeNotes([n.props.note.id]),n.finishExecution()},n.actImmediately=function(e){e&&e.preventDefault&&e.preventDefault(),clearTimeout(n.state.undoTimer),n.instance&&n.setState({isVisible:!1}),n.executor()},n.cancelAction=function(e){switch(e&&(e.preventDefault(),e.stopPropagation()),n.props.undoAction(n.props.note.id),clearTimeout(n.state.undoTimer),n.props.action){case"spam":F("notes-click-action","unspam-comment"),Kn("calypso_notification_note_unspam",{note_type:n.props.note.type});break;case"trash":F("notes-click-action","untrash-comment"),Kn("calypso_notification_note_untrash",{note_type:n.props.note.type})}n.finishExecution(),n.props.selectNote(n.props.note.id)},n.finishExecution=function(){n.instance&&n.setState({undoTimer:null}),n.props.global.resetUndoBar()},n.storeInstance=function(e){n.instance=e},n}return g()(t,e),u()(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown,!1),this.props.storeImmediateActor&&this.props.storeImmediateActor(this.actImmediately),this.props.storeStartSequence&&this.props.storeStartSequence(this.startUndoSequence)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentDidUpdate",value:function(e){null!==this.props.action&&""!==this.props.action&&null===this.state.undoTimer&&e.action!==this.props.action&&this.startUndoSequence()}},{key:"render",value:function(){var e={spam:this.props.translate("Comment marked as spam"),trash:this.props.translate("Comment trashed")},t=this.props.translate("Undo",{context:"verb: imperative"}),n=e[this.props.action],o=this.state.isVisible?{display:"block"}:{display:"none"};return w.a.createElement("div",{ref:this.storeInstance,className:"wpnc__summary wpnc__undo-item",style:o},w.a.createElement("p",null,w.a.createElement("button",{className:"wpnc__undo-link",onClick:this.cancelAction},t),w.a.createElement("span",{className:"wpnc__undo-message"},n),w.a.createElement("button",{className:"wpnc__close-link",onClick:this.actImmediately},w.a.createElement(Ee,{icon:"cross",size:24}))))}}]),t}(w.a.Component),$n={removeNotes:Z.notes.removeNotes,selectNote:Z.ui.selectNote,undoAction:Z.ui.undoAction},Yn=Object(_.b)(function(e){return{selectedNoteId:De(e)}},$n,null,{pure:!1})(Object(ge.localize)(Gn)),Jn=(n("./node_modules/debug/src/browser.js")("notifications:list"),38),Qn=function(e){try{return fe.a.findDOMNode(e)}catch(e){return}},Zn=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(s))),n.state={undoAction:null,undoNote:null,scrollY:0,scrolling:!1,statusMessage:""},n.onScroll=function(){if(!n.isScrolling){n.isScrolling=!0,requestAnimationFrame(function(){return n.isScrolling=!1});var e=fe.a.findDOMNode(n.scrollableContainer);n.state.scrolling&&n.state.scrollY===e.scrollTop||n.setState({scrolling:!0,scrollY:e.scrollTop}),clearTimeout(n.scrollTimeout),n.scrollTimeout=setTimeout(n.onScrollEnd,n.props.scrollTimeout)}},n.onScrollEnd=function(){n.setState({scrolling:!1})},n.updateStatusBar=function(e,t,o){n.setState({statusClasses:t,statusMessage:e,statusTimeout:o})},n.resetStatusBar=function(){n.setState({statusClasses:[],statusMessage:""})},n.updateUndoBar=function(e,t){n.setState({undoAction:e,undoNote:t},function(){n.startUndoSequence&&n.startUndoSequence()})},n.resetUndoBar=function(){n.setState({undoAction:null,undoNote:null})},n.ensureSelectedNoteVisibility=function(){var e,t=null,o=n.props.selectedNote,s=Qn((n.notes||{})[o]),i=null;if(null!==o&&s){i=n.noteList,e=i.offsetTop+Jn;var r=i.parentNode.scrollTop;s.offsetTop-r<=e?t=s.offsetTop-e:r+n.props.height<=s.offsetTop+e&&(t=s.offsetTop+s.offsetHeight-n.props.height)}else t=n.state.scrollY+1;null!==t&&i&&(i.parentNode.scrollTop=t)},n.storeNote=function(e){e&&(n.notes=ie()({},n.notes,L()({},e.props["data-note-id"],e)))},n.storeNoteList=function(e){n.noteList=e},n.storeScrollableContainer=function(e){n.scrollableContainer=e},n.storeUndoActImmediately=function(e){n.undoActImmediately=e},n.storeUndoBar=function(e){n.undoBar=e},n.storeUndoStartSequence=function(e){n.startUndoSequence=e},n}return g()(t,e),u()(t,[{key:"componentWillMount",value:function(){this.props.global.updateStatusBar=this.updateStatusBar,this.props.global.resetStatusBar=this.resetStatusBar,this.props.global.updateUndoBar=this.updateUndoBar,this.props.global.resetUndoBar=this.resetUndoBar,"function"==typeof this.props.storeVisibilityUpdater&&this.props.storeVisibilityUpdater(this.ensureSelectedNoteVisibility)}},{key:"componentDidMount",value:function(){fe.a.findDOMNode(this.scrollableContainer).addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){fe.a.findDOMNode(this.scrollableContainer).removeEventListener("scroll",this.onScroll)}},{key:"componentWillReceiveProps",value:function(e){this.props.isPanelOpen&&!e.isPanelOpen&&this.setState({lastSelectedIndex:0,scrollY:0})}},{key:"componentDidUpdate",value:function(e){if(this.noteList&&!this.props.isLoading){var t=fe.a.findDOMNode(this.scrollableContainer);t.clientHeight>0&&t.scrollTop+t.clientHeight>=this.noteList.clientHeight-300&&this.props.client.loadMore()}e.selectedNoteId!==this.props.selectedNoteId&&this.ensureSelectedNoteVisibility()}},{key:"render",value:function(){var e=this,t=[this.props.translate("Today",{comment:"heading for a list of notifications from today"}),this.props.translate("Yesterday",{comment:"heading for a list of notifications from yesterday"}),this.props.translate("Older than 2 days",{comment:"heading for a list of notifications that are more than 2 days old"}),this.props.translate("Older than a week",{comment:"heading for a list of notifications that are more than a week old"}),this.props.translate("Older than a month",{comment:"heading for a list of notifications that are more than a month old"})],n=(new Date).setHours(0,0,0,0),o=[1/0,n,new Date(n-864e5),new Date(n-5184e5),new Date(n-2592e6),-1/0],s=Object(E.zip)(o.slice(0,-1),o.slice(1)),i=function(t){return e.state.undoNote&&t.id==e.state.undoNote.id?w.a.createElement(Yn,{ref:e.storeUndoBar,storeImmediateActor:e.storeUndoActImmediately,storeStartSequence:e.storeUndoStartSequence,key:"undo-"+e.state.undoAction+"-"+t.id,action:e.state.undoAction,note:e.state.undoNote,global:e.props.global}):e.props.isNoteHidden(t.id)?void 0:w.a.createElement(zn,{note:t,ref:e.storeNote,key:"note-"+t.id,"data-note-id":t.id,detailView:!1,client:e.props.client,global:e.props.global,currentNote:e.props.selectedNoteId,selectedNote:e.props.selectedNote})},r=Object(E.groupBy)(this.props.notes,function(e){var t=e.timestamp,n=new Date(t);return Object(E.findIndex)(s,function(e){var t=Ce()(e,2),o=t[0],s=t[1];return s<n&&n<=o})}),a=Object(E.reduce)(r,function(e,n,o){var s=Ce()(e,2),r=s[0],a=s[1],l=t[o],c=w.a.createElement(Be,{key:l,title:l,isFirst:a});return[Oe()(r).concat([c],Oe()(n.map(i))),!1]},[[],!0]),l=Ce()(a,1),c=l[0],u=0===c.length,p=ze[this.props.filterName](),d={opacity:0};this.props.isLoading?(d.opacity=1,u&&(d.height=this.props.height-Jn+"px")):!this.props.initialLoad&&u&&p.emptyMessage?c=w.a.createElement(Ve,{emptyMessage:p.emptyMessage,height:this.props.height,linkMessage:p.emptyLinkMessage,link:p.emptyLink,name:p.name,showing:this.props.isPanelOpen}):!this.props.selectedNoteId&&c.length>0&&90*c.length>this.props.height&&c.push(w.a.createElement("div",{key:"done-message",className:"wpnc__done-message"},this.props.translate("The End",{comment:"message when end of notifications list reached"})));var h=_e()("wpnc__note-list",{"disable-sticky":!!window.chrome||!!window.electron,"is-note-open":!!this.props.selectedNoteId}),m=_e()("wpnc__list-view",{wpnc__current:!!this.props.selectedNoteId,"is-empty-list":u});return w.a.createElement("div",{className:h},w.a.createElement(He,{controller:this.props.filterController}),w.a.createElement("div",{ref:this.storeScrollableContainer,className:m},w.a.createElement("ol",{ref:this.storeNoteList,className:"wpnc__notes"},w.a.createElement(Hn,{statusClasses:this.state.statusClasses,statusMessage:this.state.statusMessage,statusTimeout:this.state.statusTimeout,statusReset:this.resetStatusBar}),c,this.props.isLoading&&w.a.createElement("div",{style:d,className:"wpnc__loading-indicator"},w.a.createElement(tn,null)))))}}]),t}(w.a.Component);Zn.defaultProps={scrollTimeout:200};var Xn={selectNote:Z.ui.selectNote},eo=Object(_.b)(function(e){return{isLoading:function(e){return t=Ae(e),t.isLoading;var t}(e),isNoteHidden:function(t){return he(e,t)},isPanelOpen:Me(e),selectedNoteId:De(e),filterName:je(e)}},Xn,null,{pure:!1})(Object(ge.localize)(Zn)),to=function(e){var t=e.error;return w.a.createElement("div",{className:"error"},t)},no=function(e,t){return function(e,t){return Object(E.includes)(e.filteredNoteReads,t)}(T(e),t)};n("./node_modules/debug/src/browser.js")("notifications:filterbarcontroller");function oo(e){if(!(this instanceof oo))return new oo(e);this.refreshFunction=e}oo.prototype.selectFilter=function(e){-1!==Object.keys(ze).indexOf(e)&&(Do.dispatch(Z.ui.setFilter(e)),this.refreshFunction&&this.refreshFunction(),F("notes-filter-select",e))},oo.prototype.getFilteredNotes=function(e){var t=Do.getState(),n=je(t),o=ze[n];if(!e||!o)return[];return e.filter(function(e){return Object(E.some)(["unread"===n&&no(t,e.id),o().filter(e)])})};var so,io=oo,ro=function(e){var t=e.target;if("A"!==t.tagName&&"A"!==t.parentNode.tagName)return!0;var n="A"===t.tagName?t:t.parentNode,o=n.dataset,s=void 0===o?{}:o,i=n.href,r=s.linkType,a=s.postId,l=s.siteId,c=s.commentId;return!r||(!(!e.ctrlKey&&!e.metaKey)||(e.stopPropagation(),e.preventDefault(),"post"===r?Do.dispatch(function(e,t,n){return{type:"OPEN_POST",siteId:e,postId:t,href:n}}(l,a,i)):"comment"===r?Do.dispatch(function(e){var t=e.siteId,n=e.postId,o=e.href,s=e.commentId;return{type:"OPEN_COMMENT",siteId:t,postId:n,href:o,commentId:s}}({siteId:l,postId:a,href:i,commentId:c})):"site"===r?Do.dispatch(function(e){var t=e.siteId,n=e.href;return{type:"OPEN_SITE",siteId:t,href:n}}({siteId:l,href:i})):Do.dispatch(function(e){return{type:"OPEN_LINK",href:e}}(i)),!1))},ao=13,lo=27,co=37,uo=38,po=39,ho=40,mo=65,fo=67,go=70,vo=74,yo=75,bo=76,wo=78,_o=85,Eo=function(e){function t(){var e,n;l()(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(s))),n.state={lastSelectedIndex:0,navigationEnabled:!0,previousDetailScrollTop:0,previouslySelectedNoteId:null,selectedNote:null},n.navigateByDirection=function(e){var t=n.filterController.getFilteredNotes(n.props.notes);if(n.props.global.keyboardShortcutsAreEnabled)if(t.length<1)n.setState({selectedNote:null,lastSelectedIndex:0});else{if(null===n.state.selectedNote)return n.setState({selectedNote:t[0].id,lastSelectedIndex:0},n.noteListVisibilityUpdater);var o=e>0?1:-1,s=function(e){return void 0!==t[e]&&!n.props.isNoteHidden(t[e].id)},i=Object(E.findIndex)(t,Object(E.matchesProperty)("id",n.state.selectedNote));if(-1===i)for(var r=0,a=n.state.lastSelectedIndex;0<=a&&a<t.length;a=i+r){if(s(a)){i=a;break}r=-r+(r>0)}if(!(i+o<0||i+o>=t.length)){var l;for(l=i+o;l>=0&&l<t.length&&!s(l);l+=o);if(!s(l))for(l=i-o;l>=0&&l<t.length&&!s(l);l-=o);if(s(l))return n.props.selectedNoteId?n.props.selectNote(t[l].id):void n.setState({selectedNote:t[l].id,lastSelectedIndex:l},n.noteListVisibilityUpdater)}}},n.navigateToNextNote=function(){n.navigateByDirection(1)},n.navigateToPrevNote=function(){n.navigateByDirection(-1)},n.toggleNavigation=function(e){return"boolean"==typeof e&&n.setState({navigationEnabled:e})},n.redraw=function(){n.isRefreshing||(n.isRefreshing=!0,requestAnimationFrame(function(){return n.isRefreshing=!1}),n.noteList&&(n.height=fe.a.findDOMNode(n.noteList).clientHeight),n.forceUpdate())},n.modifierKeyIsActive=function(e){return e.altKey||e.ctrlKey||e.metaKey},n.handleKeyDown=function(e){if(n.props.isShowing){var t=function(){e.stopPropagation(),e.preventDefault()};if(n.props.isPanelOpen){if(lo===e.keyCode)return n.props.closePanel(),void t();if(n.props.global.keyboardShortcutsAreEnabled&&!n.props.global.input.modifierKeyIsActive(e)){var o=function(){return n.props.global.input.lastInputWasKeyboard=!0};switch(e.keyCode){case po:o(),n.props.unselectNote();break;case ao:case co:n.props.selectedNoteId||null===n.state.selectedNote?n.props.selectedNoteId&&n.props.unselectNote():(o(),n.props.selectNote(n.state.selectedNote));break;case ho:case vo:t(),o(),n.navigateToNextNote();break;case uo:case yo:t(),o(),n.navigateToPrevNote();break;case wo:n.props.closePanel(),t();break;case mo:n.props.selectedNoteId||n.filterController.selectFilter("all");break;case _o:n.props.selectedNoteId||n.noteList&&n.noteList.state.undoNote||n.filterController.selectFilter("unread");break;case fo:n.props.selectedNoteId||n.filterController.selectFilter("comments");break;case go:n.props.selectedNoteId||n.filterController.selectFilter("follows");break;case bo:n.props.selectedNoteId||n.filterController.selectFilter("likes")}}}}},n.refreshNotesToDisplay=function(e){var t=n.filterController.getFilteredNotes(e);n.state.selectedNote&&null===Object(E.find)(t,Object(E.matchesProperty)("id",n.state.selectedNoteId))&&n.props.unselectNote(),n.setState({notes:t})},n.storeNoteList=function(e){n.noteList=e},n.storeNoteListVisibilityUpdater=function(e){n.noteListVisibilityUpdater=e},n.storeDetailViewRef=function(e){n.detailView=e},n}return g()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e,t;this.filterController=io(this.refreshNotesToDisplay),this.props.global.client=this.props.client,this.props.global.toggleNavigation=this.toggleNavigation,void 0===this.props.global.navigation&&(this.props.global.navigation={},this.props.global.keyboardShortcutsAreEnabled=!0,this.props.global.input={modifierKeyIsActive:this.modifierKeyIsActive,lastInputWasKeyboard:!1}),this.props.locale&&"en"!==this.props.locale&&(e=this.props.locale,t=new XMLHttpRequest,t.open("GET","https://widgets.wp.com/languages/notifications/"+e+".json",!0),t.onload=function(e){var n=e.target;if(200===n.status)try{ve.a.setLocale(JSON.parse(t.response))}catch(e){}},t.send()),window.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.redraw),this.noteList&&(this.height=fe.a.findDOMNode(this.noteList).clientHeight)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.selectedNoteId&&this.setState({previousDetailScrollTop:this.detailView?this.detailView.scrollTop:0,previouslySelectedNoteId:this.props.selectedNoteId}),e.state!==this.props.state&&this.setState(e.state),e.selectedNoteId){var t=Object(E.findIndex)(e.notes,Object(E.matchesProperty)("id",e.selectedNoteId));this.setState({index:t>=0?t:null,lastSelectedIndex:null===t?0:t,selectedNote:e.selectedNoteId,navigationEnabled:!0})}}},{key:"componentWillUpdate",value:function(e){var t=e.selectedNoteId,n=this.props.selectedNoteId,o=fe.a.findDOMNode(this.noteList);t&&null===n&&(this.noteListTop=o.scrollTop),!this.height&&e.isShowing&&(this.height=o.clientHeight),null===t&&n&&(o.scrollTop=this.noteListTop),e.selectedNoteId&&(Object(E.find)(e.notes,Object(E.matchesProperty)("id",e.selectedNoteId))||this.props.unselectNote())}},{key:"componentDidUpdate",value:function(){if(this.detailView){var e=this.state,t=e.previousDetailScrollTop,n=e.previouslySelectedNoteId,o=e.selectedNote;this.detailView.scrollTop=o===n?t:0}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.redraw)}},{key:"render",value:function(){var e=Object(E.find)(this.props.notes,Object(E.matchesProperty)("id",this.props.selectedNoteId)),t=this.filterController.getFilteredNotes(this.props.notes);return w.a.createElement("div",{onClick:ro},this.props.error&&w.a.createElement(to,{error:this.props.error}),!this.props.error&&w.a.createElement(eo,{ref:this.storeNoteList,storeVisibilityUpdater:this.storeNoteListVisibilityUpdater,client:this.props.client,filterController:this.filterController,global:this.props.global,height:this.height,initialLoad:null===this.props.notes,notes:t,selectedNote:this.state.selectedNote}),w.a.createElement("div",{className:e?"wpnc__single-view wpnc__current":"wpnc__single-view"},this.props.selectedNoteId&&e&&w.a.createElement("header",null,w.a.createElement("h1",null,e.title),w.a.createElement("nav",null,w.a.createElement(Se,{isEnabled:this.state.navigationEnabled,global:this.props.global}),w.a.createElement("div",null,w.a.createElement(Le,{iconName:"arrow-up",className:"wpnc__prev",isEnabled:t[0]&&t[0].id!=this.props.selectedNoteId||!1,navigate:this.navigateToPrevNote}),w.a.createElement(Le,{iconName:"arrow-down",className:"wpnc__next",isEnabled:t[0]&&t[t.length-1].id!=this.props.selectedNoteId||!1,navigate:this.navigateToNextNote})))),e&&w.a.createElement("ol",{ref:this.storeDetailViewRef},w.a.createElement(zn,{key:"note-"+e.id,client:this.props.client,currentNote:this.props.selectedNoteId,detailView:!0,global:this.props.global,note:e,selectedNote:this.state.selectedNote}))))}}]),t}(w.a.Component),No={closePanel:Z.ui.closePanel,selectNote:Z.ui.selectNote,unselectNote:Z.ui.unselectNote},ko=Object(_.b)(function(e){return{isNoteHidden:function(t){return he(e,t)},isPanelOpen:Me(e),notes:de(e),selectedNoteId:De(e)}},No)(Eo),So=function(e,t){var n=e.dispatch,o=e.getState,s=t.noteId,i=o(),r=function(e,t){if(0===t.length)return null;var n=Object(E.findIndex)(t,e);if(-1===n)return null;var o=n+1;return o>=t.length?null:t[o].id}(s,de(i).filter(function(e){var t=e.id;return!he(i,t)}));r&&window.innerWidth>=800?n(Z.ui.selectNote(r)):n(Z.ui.unselectNote())},xo=(so={},L()(so,"SELECT_NOTE",[function(e,t){var n=e.dispatch,o=t.noteId;return n(Z.ui.setLayout(o?"widescreen":"narrow"))}]),L()(so,"SPAM_NOTE",[So]),L()(so,"TRASH_NOTE",[So]),so),Lo=S(U,oe,le,xo),To=Object(N.c)({allNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.notes,s=t.noteIds;return"NOTES_ADD"===n?ie()({},e,Object(E.keyBy)(o,"id")):"NOTES_REMOVE"===n?Object(E.omit)(e,s):e},hiddenNoteIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.noteId;return"TRASH_NOTE"===n||"SPAM_NOTE"===n?ie()({},e,L()({},o,!0)):"UNDO_ACTION"===n?Object(E.omit)(e,[o]):e},noteApprovals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.noteId,s=t.isApproved;return"APPROVE_NOTE"===n?ie()({},e,L()({},o,s)):"RESET_LOCAL_APPROVAL"===n?Object(E.omit)(e,[o]):e},noteLikes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.noteId,s=t.isLiked;return"LIKE_NOTE"===n?ie()({},e,L()({},o,s)):"RESET_LOCAL_LIKE"===n?Object(E.omit)(e,[o]):e},noteReads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.noteId;return"READ_NOTE"!==n&&"SELECT_NOTE"!==n||!o?e:ie()({},e,L()({},o,!0))},filteredNoteReads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.noteId;return"SELECT_NOTE"===n?Oe()(e).concat([o]):"SET_FILTER"===n?[]:e}}),Oo=Object(N.c)({bySite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.siteId,s=t.suggestions;return"SUGGESTIONS_STORE"===n?ie()({},e,L()({},o,s)):e}}),Io=Object(N.c)({isLoading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;return"NOTES_LOADING"===n||"NOTES_LOADED"!==n&&e},isPanelOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.isShowing;return"SET_IS_SHOWING"===n?o:e},selectedNoteId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.noteId;return"SELECT_NOTE"===n?o:"SET_FILTER"===n?null:e},filterName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.filterName;return"SET_FILTER"===n?o:e}}),Co=Object(N.c)({notes:To,suggestions:Oo,ui:Io}),Ao=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||N.d,jo=function(e){return Ao(Object(N.a)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=S(t,Lo),function(t){return function(n){return function(o){var s=e[o.type];return s?(s.forEach(function(e){return e(t,o)}),n(o)):n(o)}}}}(e)))(N.e)},Mo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.customEnhancer,n=e.customMiddleware,o=void 0===n?{}:n,s=jo(o),i=t?t(s):s;return Do=i(Co,Co(void 0,{type:"@@INIT"})),Do},Do=Mo(),Ro=n("./node_modules/debug/src/browser.js")("notifications:rest-client"),Vo={max_refresh_ms:18e4,refresh_ms:3e4,initial_limit:10,increment_limit:10,max_limit:100};function Fo(){this.noteList=[],this.gettingNotes=!1,this.timeout=!1,this.isVisible=!1,this.isShowing=!1,this.lastSeenTime=0,this.hasNewNoteData=!1,this.noteRequestLimit=Vo.initial_limit,this.retries=0,this.subscribeTry=0,this.subscribeTries=3,this.subscribing=!1,this.subscribed=!1,this.firstRender=!0,this.inbox=[],window.addEventListener("storage",function(e){if(!e)return;if("notesLastMarkedSeen"===e.key){try{var t=Number(e.newValue);Ko.call(this,t,!0)&&Do.dispatch({type:"APP_RENDER_NOTES",newNoteCount:0})}catch(e){}return}if("note_read_status_"===e.key.substring(0,17)){var n=parseInt(e.key.slice(17),10);return Do.dispatch(Z.notes.readNote(n))}}.bind(this)),this.main(this)}function zo(){if(!this.subscribed&&!this.subscribing){if(this.subscribeTry<this.subscribeTries)Ro("main: trying to subscribe"),this.subscribing=!0,D(function(e,t){var n=Object(E.get)(t,"response.type");if(this.subscribing=!1,e||!n||"error"===n)Ro("pinghubCallback: error","err =",e),this.subscribed=!1;else if("open"===n)Ro("pinghubCallback: connected",t.response),this.subscribeTry=0,this.subscribed=!0;else if("close"===n)Ro("pinghubCallback: disconnected",t.response),this.subscribeTry=0,this.subscribed=!1;else{if("message"!==n)throw Ro("pinghubCallback: unknown event.response.type",t.response),new Error("notifications:rest-client:pinghubCallback unknown event.response.type: "+n);var o=!0;try{o=JSON.parse(Object(E.get)(t,"response.data"))}catch(e){}this.inbox.push(o),Ro("pinghubCallback: received message",t.response,"this.inbox =",this.inbox),this.main()}this.reschedule()}.bind(this));else if(this.subscribeTry===this.subscribeTries){Ro("main: polling until next subscribe attempt","sub_retry_ms =",12e4),setTimeout(function(){this.subscribeTry=0}.bind(this),12e4)}this.subscribeTry++}var e=de(Do.getState());if(e.length&&this.subscribed&&!this.inbox.length)return Ro("main: subscribed, no new messages; sleeping");if(this.reschedule(),!this.isVisible)return Ro("main: not visible. sleeping.");if(1===this.inbox.length&&this.inbox[0].action&&"push"===this.inbox[0].action){var t=this.inbox[0].note_id;Ro("main: have one push message with note_id, calling getNote(%d)",t,this.inbox),this.inbox=[],this.getNote(t)}else this.inbox.length?(Ro("main: have messages, calling getNotes",this.inbox),this.inbox=[],this.getNotes()):e.length?(Ro("main: polling, have notes in local cache, calling getNotesList"),this.getNotesList()):(Ro("main: no notes in local cache, calling getNotes"),this.getNotes())}function Po(){var e=this,t=de(Do.getState());if(t.length&&!this.gettingNotes){this.gettingNotes=!0;var n={fields:"id,note_hash",number:this.noteRequestLimit};j(n,function(t,n){if(Ro("getNotesList callback:",t,n),e.gettingNotes=!1,t){e.retries=e.retries+1;var o=Math.min(Vo.refresh_ms*(e.retries+1),Vo.max_refresh_ms);return Ro("getNotesList error, using backoff_ms=%d",o),e.reschedule(o)}e.retries=0;var s=n.notes.map(Object(E.property)("id")),i=e.noteList.map(Object(E.property)("id")),r=Object(E.difference)(i,s);e.hasNewNoteData=Object(E.difference)(s,i).length;var a=e.hasNewNoteData||Object(E.difference)(n.notes.map(Object(E.property)("note_hash")),e.noteList.map(Object(E.property)("note_hash"))).length>0;return r.length&&Do.dispatch(Z.notes.removeNotes(r)),e.noteList=n.notes,e.updateLastSeenTime(Number(n.last_seen_time)),fn.cleanup(),a?e.getNotes():Ho.call(e)})}}function Ho(){var e=this,t=de(Do.getState()),n=t.map(Object(E.property)("timestamp")).map(function(e){return Date.parse(e)/1e3}),o=n.filter(function(t){return t>e.lastSeenTime}).length;this.firstRender||0!==this.lastSeenTime||(o=0);var s=Object(E.get)(t.slice(-1)[0],"type",null);Do.dispatch({type:"APP_RENDER_NOTES",newNoteCount:o,latestType:s}),this.hasNewNoteData=!1,this.firstRender=!1}var Uo=/^(note_read_status|reply)_(\d+)/,Bo=function(e){try{localStorage.removeItem(e)}catch(e){}},qo=function(){try{return Object(E.range)(localStorage.length).map(function(e){return localStorage.key(e)})}catch(e){return[]}};function Ko(e,t){var n=!1,o=0;if(e>11234736e5&&(e/=1e3),Ro("updateLastSeenTime 0",{proposedTime:e,fromStorage:t,lastSeenTime:this.lastSeenTime}),t)return!(e<=this.lastSeenTime)&&(this.lastSeenTime=e,!0);var s=de(Do.getState());if(s.length&&(o=Date.parse(s[0].timestamp)/1e3),Ro("updateLastSeenTime 1",{proposedTime:e,showing:this.showing,visible:this.visible,lastSeenTime:this.lastSeenTime,mostRecentNoteTime:o}),this.isShowing&&this.isVisible&&o>e&&(e=o,n=!0),Ro("updateLastSeenTime 2",{proposedTime:e,fromNote:n,oldNews:e<=this.lastSeenTime}),e<=this.lastSeenTime)return!1;this.lastSeenTime=e;try{localStorage.setItem("notesLastMarkedSeen",this.lastSeenTime)}catch(e){}return n&&(Ro("updateLastSeenTime 3",this.lastSeenTime),M(this.lastSeenTime)),!0}Fo.prototype.main=zo,Fo.prototype.reschedule=function(e){e||(e=Vo.refresh_ms),this.timeout&&(clearTimeout(this.timeout),this.timeout=!1),this.subscribed?Ro("reschedule","subscribed; not polling"):(Ro("reschedule","refresh_ms =",e),this.timeout=setTimeout(zo.bind(this),e))},Fo.prototype.getNote=function(e){var t=this;0===this.noteList.length&&this.getNotes(),A(e,{fields:"id,type,unread,body,subject,timestamp,meta,note_hash"},function(e,n){e||(Do.dispatch(Z.notes.addNotes(n.notes)),Ho.call(t))})},Fo.prototype.getNotes=function(){var e=this;if(!this.gettingNotes){this.gettingNotes=!0;var t={fields:"id,type,unread,body,subject,timestamp,meta,note_hash",number:this.noteRequestLimit},n=de(Do.getState());(!n.length||this.noteRequestLimit>n.length)&&Do.dispatch(Z.ui.loadNotes()),j(t,function(n,o){if(e.gettingNotes=!1,n){e.retries=e.retries+1;var s=Math.min(Vo.refresh_ms*(e.retries+1),Vo.max_refresh_ms);return Ro("getNotes error, using backoff_ms=%d",s),e.noteList=[],void e.reschedule(s)}Do.dispatch(Z.ui.loadedNotes());var i=de(Do.getState()).map(Object(E.property)("id")),r=o.notes.map(Object(E.property)("id")),a=Object(E.difference)(i,r);a.length&&Do.dispatch(Z.notes.removeNotes(a)),Do.dispatch(Z.notes.addNotes(o.notes)),e.noteList=o.notes.map(function(e){return Object(E.pick)(e,["id","note_hash"])}),e.updateLastSeenTime(Number(o.last_seen_time)),t.number===Vo.max_limit&&function(){var e=de(Do.getState()),t=e.map(Object(E.property)("id"));qo().map(function(e){return Uo.exec(e)}).filter(function(e){return e&&!t.includes(e[1])}).forEach(Bo)}.call(e),e.retries=0,Ho.call(e)})}},Fo.prototype.getNotesList=Po,Fo.prototype.updateLastSeenTime=Ko,Fo.prototype.loadMore=function(){var e=de(Do.getState());!e.length||this.noteRequestLimit>e.length||this.noteRequestLimit>=Vo.max_limit||(this.noteRequestLimit=this.noteRequestLimit+Vo.increment_limit,this.noteRequestLimit>Vo.max_limit&&(this.noteRequestLimit=Vo.max_limit),this.getNotes())},Fo.prototype.refreshNotes=function(){this.subscribed||Po.call(this)},Fo.prototype.setVisibility=function(e){var t=e.isShowing,n=e.isVisible;this.isShowing===t&&this.isVisible===n||(this.isShowing=t,this.isVisible=n,n&&t&&(this.updateLastSeenTime(0),this.main()))};var Wo,Go=Fo;n.d(t,"b",function(){return Jo});var $o,Yo={};$o=Yo,It.dispatch({type:xt.SET_GLOBAL_DATA,data:$o}),fn.cleanup();var Jo=function(){return Wo&&Wo.refreshNotes.call(Wo)},Qo=function(e){function t(){return l()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.customEnhancer,n=e.customMiddleware,o=e.isShowing,s=e.isVisible,i=e.receiveMessage,r=e.wpcom;Mo({customEnhancer:t,customMiddleware:S(n,{APP_REFRESH_NOTES:[function(e,t){Wo&&("boolean"==typeof t.isVisible&&Wo.setVisibility.call(Wo,{isShowing:o,isVisible:t.isVisible}),Wo.refreshNotes.call(Wo,t.isVisible))}]})}),C(r),Wo=new Go,Wo.global=Yo,Wo.sendMessage=i,Do.dispatch({type:"SET_IS_SHOWING",isShowing:o}),Wo.setVisibility({isShowing:o,isVisible:s})}},{key:"componentDidMount",value:function(){Do.dispatch({type:"APP_IS_READY"})}},{key:"componentWillReceiveProps",value:function(e){var t=e.isShowing,n=e.isVisible,o=e.wpcom;o!==this.props.wpcom&&C(o),this.props.isShowing&&!t&&Do.dispatch(Z.ui.unselectNote()),t!==this.props.isShowing&&Do.dispatch({type:"SET_IS_SHOWING",isShowing:t}),t===this.props.isShowing&&n===this.props.isVisible||Wo.setVisibility({isShowing:t,isVisible:n})}},{key:"render",value:function(){return w.a.createElement(_.a,{store:Do},w.a.createElement(ko,{client:Wo,data:Yo,global:Yo,isShowing:this.props.isShowing,locale:this.props.locale}))}}]),t}(b.PureComponent);Qo.propTypes={customEnhancer:y.a.func,customMiddleware:y.a.object,isShowing:y.a.bool,isVisible:y.a.bool,locale:y.a.string,receiveMessage:y.a.func,wpcom:y.a.object.isRequired},Qo.defaultProps={customEnhancer:function(e){return e},customMiddleware:{},isShowing:!1,isVisible:!1,locale:"en",receiveMessage:E.noop};t.a=Qo},"./node_modules/notifications-panel/src/helpers/stats.js":function(e,t,n){"use strict";function o(e,t){window._tkq=window._tkq||[],window._tkq.push(["recordEvent",e,t])}n.r(t),n.d(t,"recordTracksEvent",function(){return o})},"./node_modules/react-dom/cjs/react-dom-server.browser.production.min.js":function(e,t,n){"use strict";
/** @license React v16.4.1
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=n("./node_modules/fbjs/lib/invariant.js"),s=n("./node_modules/object-assign/index.js"),i=n("./node_modules/react/index.js"),r=n("./node_modules/fbjs/lib/emptyFunction.js"),a=n("./node_modules/fbjs/lib/emptyObject.js"),l=n("./node_modules/fbjs/lib/hyphenateStyleName.js"),c=n("./node_modules/fbjs/lib/memoizeStringOnly.js");function u(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=0;s<t;s++)n+="&args[]="+encodeURIComponent(arguments[s+1]);o(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var p="function"==typeof Symbol&&Symbol.for,d=p?Symbol.for("react.portal"):60106,h=p?Symbol.for("react.fragment"):60107,m=p?Symbol.for("react.strict_mode"):60108,f=p?Symbol.for("react.profiler"):60114,g=p?Symbol.for("react.provider"):60109,v=p?Symbol.for("react.context"):60110,y=p?Symbol.for("react.async_mode"):60111,b=p?Symbol.for("react.forward_ref"):60112,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function N(e){return!!E.hasOwnProperty(e)||!_.hasOwnProperty(e)&&(w.test(e)?E[e]=!0:(_[e]=!0,!1))}function k(e,t,n,o){if(null===t||void 0===t||function(e,t,n,o){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!o&&(null!==n?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),"data-"!==e&&"aria-"!==e));default:return!1}}(e,t,n,o))return!0;if(o)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function S(e,t,n,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new S(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new S(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new S(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){x[e]=new S(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new S(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new S(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){x[e]=new S(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){x[e]=new S(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){x[e]=new S(e,5,!1,e.toLowerCase(),null)});var L=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L,T);x[t]=new S(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L,T);x[t]=new S(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L,T);x[t]=new S(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),x.tabIndex=new S("tabIndex",1,!1,"tabindex",null);var O=/["'&<>]/;function I(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=O.exec(e);if(t){var n,o="",s=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==n&&(o+=e.substring(s,n)),s=n+1,o+=t}e=s!==n?o+e.substring(s,n):o}return e}var C={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function A(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var j={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},M=s({menuitem:!0},j),D={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R=["Webkit","ms","Moz","O"];Object.keys(D).forEach(function(e){R.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),D[t]=D[e]})});var V=i.Children.toArray,F=r.thatReturns("");r.thatReturns("");var z={listing:!0,pre:!0,textarea:!0};function P(e){return"string"==typeof e?e:"function"==typeof e?e.displayName||e.name:null}var H=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,U={},B=c(function(e){return l(e)});var q={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function K(e,t){void 0===e&&u("152",P(t)||"Component")}function W(e,t){function n(n,o){var i=function(e,t){if(e=e.contextTypes){var n,o={};for(n in e)o[n]=t[n];t=o}else t=a;return t}(o,t),r=[],l=!1,c={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===r)return null},enqueueReplaceState:function(e,t){l=!0,r=[t]},enqueueSetState:function(e,t){if(null===r)return null;r.push(t)}},p=void 0;if(o.prototype&&o.prototype.isReactComponent){if(p=new o(n.props,i,c),"function"==typeof o.getDerivedStateFromProps){var d=o.getDerivedStateFromProps.call(null,n.props,p.state);null!=d&&(p.state=s({},p.state,d))}}else if(p=o(n.props,i,c),null==p||null==p.render)return e=p,void K(e,o);if(p.props=n.props,p.context=i,p.updater=c,c=p.state,void 0===c&&(p.state=c=null),"function"==typeof p.UNSAFE_componentWillMount||"function"==typeof p.componentWillMount)if("function"==typeof p.componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&p.componentWillMount(),"function"==typeof p.UNSAFE_componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&p.UNSAFE_componentWillMount(),r.length){c=r;var h=l;if(r=null,l=!1,h&&1===c.length)p.state=c[0];else{d=h?c[0]:p.state;var m=!0;for(h=h?1:0;h<c.length;h++){var f=c[h];f="function"==typeof f?f.call(p,d,n.props,i):f,null!=f&&(m?(m=!1,d=s({},d,f)):s(d,f))}p.state=d}}else r=null;if(e=p.render(),K(e,o),n=void 0,"function"==typeof p.getChildContext&&(i=o.childContextTypes,"object"==typeof i))for(var g in n=p.getChildContext(),n)g in i||u("108",P(o)||"Unknown",g);n&&(t=s({},t,n))}for(;i.isValidElement(e);){var o=e,r=o.type;if("function"!=typeof r)break;n(o,r)}return{child:e,context:t}}var G=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");i.isValidElement(t)?t.type!==h?t=[t]:(t=t.props.children,t=i.isValidElement(t)?[t]:V(t)):t=V(t),this.stack=[{type:null,domNamespace:C.html,children:t,childIndex:0,context:a,footer:""}],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}return e.prototype.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,o=n._currentValue;this.contextStack[t]=n,this.contextValueStack[t]=o,n._currentValue=e.props.value},e.prototype.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t._currentValue=n},e.prototype.read=function(e){if(this.exhausted)return null;for(var t="";t.length<e;){if(0===this.stack.length){this.exhausted=!0;break}var n=this.stack[this.stack.length-1];if(n.childIndex>=n.children.length){var o=n.footer;t+=o,""!==o&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===n.type?this.currentSelectValue=null:null!=n.type&&null!=n.type.type&&n.type.type.$$typeof===g&&this.popProvider(n.type)}else o=n.children[n.childIndex++],t+=this.render(o,n.context,n.domNamespace)}return t},e.prototype.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return n=""+e,""===n?"":this.makeStaticMarkup?I(n):this.previousWasTextNode?"\x3c!-- --\x3e"+I(n):(this.previousWasTextNode=!0,I(n));if(t=W(e,t),e=t.child,t=t.context,null===e||!1===e)return"";if(!i.isValidElement(e)){if(null!=e&&null!=e.$$typeof){var o=e.$$typeof;o===d&&u("257"),u("258",o.toString())}return e=V(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}if(o=e.type,"string"==typeof o)return this.renderDOM(e,t,n);switch(o){case m:case y:case f:case h:return e=V(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}if("object"==typeof o&&null!==o)switch(o.$$typeof){case b:return e=V(o.render(e.props,e.ref)),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case g:return o=V(e.props.children),n={type:e,domNamespace:n,children:o,childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case v:return o=V(e.props.children(e.type._currentValue)),this.stack.push({type:e,domNamespace:n,children:o,childIndex:0,context:t,footer:""}),""}u("130",null==o?o:typeof o,"")},e.prototype.renderDOM=function(e,t,n){var o=e.type.toLowerCase();n===C.html&&A(o),U.hasOwnProperty(o)||(H.test(o)||u("65",o),U[o]=!0);var r=e.props;if("input"===o)r=s({type:void 0},r,{defaultChecked:void 0,defaultValue:void 0,value:null!=r.value?r.value:r.defaultValue,checked:null!=r.checked?r.checked:r.defaultChecked});else if("textarea"===o){var a=r.value;if(null==a){a=r.defaultValue;var l=r.children;null!=l&&(null!=a&&u("92"),Array.isArray(l)&&(1>=l.length||u("93"),l=l[0]),a=""+l),null==a&&(a="")}r=s({},r,{value:void 0,children:""+a})}else if("select"===o)this.currentSelectValue=null!=r.value?r.value:r.defaultValue,r=s({},r,{value:void 0});else if("option"===o){l=this.currentSelectValue;var c=function(e){var t="";return i.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}(r.children);if(null!=l){var p=null!=r.value?r.value+"":c;if(a=!1,Array.isArray(l)){for(var d=0;d<l.length;d++)if(""+l[d]===p){a=!0;break}}else a=""+l===p;r=s({selected:void 0,children:void 0},r,{selected:a,children:c})}}for(y in(a=r)&&(M[o]&&(null!=a.children||null!=a.dangerouslySetInnerHTML)&&u("137",o,F()),null!=a.dangerouslySetInnerHTML&&(null!=a.children&&u("60"),"object"==typeof a.dangerouslySetInnerHTML&&"__html"in a.dangerouslySetInnerHTML||u("61")),null!=a.style&&"object"!=typeof a.style&&u("62",F())),a=r,l=this.makeStaticMarkup,c=1===this.stack.length,p="<"+e.type,a)if(a.hasOwnProperty(y)){var h=a[y];if(null!=h){if("style"===y){d=void 0;var m="",f="";for(d in h)if(h.hasOwnProperty(d)){var g=0===d.indexOf("--"),v=h[d];null!=v&&(m+=f+B(d)+":",f=d,g=null==v||"boolean"==typeof v||""===v?"":g||"number"!=typeof v||0===v||D.hasOwnProperty(f)&&D[f]?(""+v).trim():v+"px",m+=g,f=";")}h=m||null}d=null;e:if(g=o,v=a,-1===g.indexOf("-"))g="string"==typeof v.is;else switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":g=!1;break e;default:g=!0}g?q.hasOwnProperty(y)||(d=y,d=N(d)&&null!=h?d+'="'+I(h)+'"':""):(g=y,d=h,h=x.hasOwnProperty(g)?x[g]:null,(v="style"!==g)&&(v=null!==h?0===h.type:2<g.length&&("o"===g[0]||"O"===g[0])&&("n"===g[1]||"N"===g[1])),v||k(g,d,h,!1)?d="":null!==h?(g=h.attributeName,h=h.type,d=3===h||4===h&&!0===d?g+'=""':g+'="'+I(d)+'"'):d=g+'="'+I(d)+'"'),d&&(p+=" "+d)}}l||c&&(p+=' data-reactroot=""');var y=p;a="",j.hasOwnProperty(o)?y+="/>":(y+=">",a="</"+e.type+">");e:{if(l=r.dangerouslySetInnerHTML,null!=l){if(null!=l.__html){l=l.__html;break e}}else if(l=r.children,"string"==typeof l||"number"==typeof l){l=I(l);break e}l=null}return null!=l?(r=[],z[o]&&"\n"===l.charAt(0)&&(y+="\n"),y+=l):r=V(r.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?A(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:o,children:r,childIndex:0,context:t,footer:a}),this.previousWasTextNode=!1,y},e}(),$={renderToString:function(e){return new G(e,!1).read(1/0)},renderToStaticMarkup:function(e){return new G(e,!0).read(1/0)},renderToNodeStream:function(){u("207")},renderToStaticNodeStream:function(){u("208")},version:"16.4.1"},Y={default:$},J=Y&&$||Y;e.exports=J.default?J.default:J},"./node_modules/react-dom/server.browser.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react-dom/cjs/react-dom-server.browser.production.min.js")}}]);